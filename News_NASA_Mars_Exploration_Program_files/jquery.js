!function(r,e,u,d){"use strict";var c=u(r),a=u(e),s=u("html"),M=u.fancybox=function(){M.open.apply(this,arguments)},p=M.isTouch=e.createTouch!==d||r.ontouchstart!==d,A=function(e){return e&&e.hasOwnProperty&&e instanceof u},g=function(e){return e&&"string"===u.type(e)},R=function(e){return g(e)&&0<e.indexOf("%")},P=function(e,t){var i=parseFloat(e,10)||0;return t&&R(e)&&(i=M.getViewport()[t]/100*i),Math.ceil(i)},j=function(e,t){return P(e,t)+"px"},l=Date.now||function(){return+new Date},h=function(e){var i=g(e)?u(e):e;if(i&&i.length){i.removeClass("fancybox-wrap").stop(!0).trigger("onReset").hide().unbind();try{i.find("iframe").unbind().attr("src",p?"":"//about:blank"),setTimeout(function(){var e,t;(i.empty().remove(),!M.lock||M.coming||M.current)||(u(".fancybox-margin").removeClass("fancybox-margin"),e=c.scrollTop(),t=c.scrollLeft(),s.removeClass("fancybox-lock"),M.lock.remove(),M.lock=null,c.scrollTop(e).scrollLeft(t))},150)}catch(t){}}};u.extend(M,{version:"3.0.0",defaults:{theme:"default",padding:15,margin:[30,55,30,55],loop:!0,arrows:!0,closeBtn:!0,expander:!p,caption:{type:"outside"},overlay:{closeClick:!0,speedIn:0,speedOut:250,showEarly:!0,css:{}},helpers:{},width:800,height:450,minWidth:100,minHeight:100,maxWidth:99999,maxHeight:99999,aspectRatio:!1,fitToView:!0,autoHeight:!0,autoWidth:!0,autoResize:!0,autoCenter:!p,topRatio:.5,leftRatio:.5,openEffect:"elastic",openSpeed:350,openEasing:"easeOutQuad",closeEffect:"elastic",closeSpeed:350,closeEasing:"easeOutQuad",nextEffect:"elastic",nextSpeed:350,nextEasing:"easeOutQuad",prevEffect:"elastic",prevSpeed:350,prevEasing:"easeOutQuad",autoPlay:!1,playSpeed:3e3,onCancel:u.noop,beforeLoad:u.noop,afterLoad:u.noop,beforeShow:u.noop,afterShow:u.noop,beforeClose:u.noop,afterClose:u.noop,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-inner"></div></div>',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency="true"></iframe>',error:'<p class="fancybox-error">{{ERROR}}</p>',closeBtn:'<a title="{{CLOSE}}" class="fancybox-close" href="javascript:;"></a>',next:'<a title="{{NEXT}}" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="{{PREV}}" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},locale:"en",locales:{en:{CLOSE:"Close",NEXT:"Next",PREV:"Previous",ERROR:"The requested content cannot be loaded. <br/> Please try again later.",EXPAND:"Display actual size",SHRINK:"Fit to the viewport",PLAY_START:"Start slideshow",PLAY_STOP:"Pause slideshow"},de:{CLOSE:"Schliessen",NEXT:"Vorw\xe4rts",PREV:"Zur\xfcck",ERROR:"Die angeforderten Daten konnten nicht geladen werden. <br/> Bitte versuchen Sie es sp\xe4ter nochmal.",EXPAND:"",SHRINK:"",PLAY_START:"",PLAY_STOP:""}},index:0,content:null,href:null,wrapCSS:"",modal:!1,locked:!0,preload:3,mouseWheel:!0,scrolling:"auto",scrollOutside:!0},current:null,coming:null,group:[],index:0,isActive:!1,isOpen:!1,isOpened:!1,isMaximized:!1,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,helpers:{},open:function(e,t){e&&!1!==M.close(!0)&&(u.isPlainObject(t)||(t={}),M.opts=u.extend(!0,{},M.defaults,t),M.populate(e),M.group.length&&M._start(M.opts.index))},populate:function(l){var c=[];u.isArray(l)||(l=[l]),u.each(l,function(e,t){var i,n,o,a,r,s=u.extend(!0,{},M.opts);if(u.isPlainObject(t))i=t;else if(g(t))i={href:t};else{if(!(A(t)||"object"===u.type(t)&&t.nodeType))return;n=u(t),(i=u(n).get(0)).href||(i={href:t}),i=u.extend({href:n.data("fancybox-href")||n.attr("href")||i.href,title:n.data("fancybox-title")||n.attr("title")||i.title,type:n.data("fancybox-type"),element:n},n.data("fancybox-options"))}i.type||!i.content&&!i.href||(i.type=i.content?"html":M.guessType(n,i.href)),"image"!==(o=i.type||M.opts.type)&&"swf"!==o||(s.autoWidth=s.autoHeight=!1,s.scrolling="visible"),"image"===o&&(s.aspectRatio=!0),"iframe"===o&&(s.autoWidth=!1,s.scrolling=p?"scroll":"visible"),l.length<2&&(s.margin=30),a=(i=u.extend(!0,{},s,i)).margin,r=i.padding,"number"===u.type(a)&&(i.margin=[a,a,a,a]),"number"===u.type(r)&&(i.padding=[r,r,r,r]),i.modal&&u.extend(!0,i,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,overlay:{closeClick:!1}}),i.autoSize!==d&&(i.autoWidth=i.autoHeight=!!i.autoSize),"auto"===i.width&&(i.autoWidth=!0),"auto"===i.height&&(i.autoHeight=!0),c.push(i)}),M.group=M.group.concat(c)},cancel:function(){var e=M.coming;e&&!1!==M.trigger("onCancel")&&(M.hideLoading(),M.ajaxLoad&&M.ajaxLoad.abort(),M.imgPreload&&(M.imgPreload.onload=M.imgPreload.onerror=null),e.wrap&&h(e.wrap),M.ajaxLoad=M.imgPreload=M.coming=null,M.current||M._afterZoomOut(e))},close:function(e){e&&"object"===u.type(e)&&e.preventDefault(),M.cancel(),M.isActive&&!M.coming&&!1!==M.trigger("beforeClose")&&(M.unbind(),M.isClosing=!0,M.lock&&M.lock.css("overflow","hidden"),M.isOpen&&!0!==e?(M.isOpen=M.isOpened=!1,M.transitions.close()):M._afterZoomOut())},prev:function(e){var t=M.current;t&&M.jumpto(t.index-1,g(e)?e:t.direction.prev)},next:function(e){var t=M.current;t&&M.jumpto(t.index+1,g(e)?e:t.direction.next)},jumpto:function(e,t){var i=M.current;M.coming&&M.coming.index===e||(M.cancel(),i.index==e?t=null:t||(t=i.direction[e>i.index?"next":"prev"]),M.direction=t,M._start(e))}}),u.extend(M,{guessType:function(e,t){var i=e&&e.prop("class")?e.prop("class").match(/fancybox\.(\w+)/):0,n=!1;return i?i[1]:(g(t)?t.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)?n="image":t.match(/\.(swf)((\?|#).*)?$/i)?n="swf":"#"===t.charAt(0)&&(n="inline"):g(e)&&(n="html"),n)},trigger:function(o,e){var t,a=e||M.coming||M.current;if(a){if(u.isFunction(a[o])&&(t=a[o].apply(a,Array.prototype.slice.call(arguments,1))),!1===t||"afterClose"===o&&M.isActive)return!1;a.helpers&&u.each(a.helpers,function(e,t){var i,n=M.helpers[e];t&&n&&u.isFunction(n[o])&&(i=u.extend(!0,{},n.defaults,t),n.opts=i,n[o](i,a))}),u.event.trigger(o)}},reposition:function(e,t){var i,n=t||M.current,o=n&&n.wrap;M.isOpen&&o&&(i=M._getPosition(n),!1===e||e&&"scroll"===e.type?o.stop(!0).animate(i,200).css("overflow","visible"):o.css(i))},update:function(e){var t,i=e&&e.type,n=(l(),M.current);if(n&&M.isOpen){if("scroll"===i){if(M.wrap.outerHeight(!0)>M.getViewport().h)return;return M.didUpdate&&clearTimeout(M.didUpdate),void(M.didUpdate=setTimeout(function(){M.reposition(e),M.didUpdate=null},50))}M.lock&&M.lock.css("overflow","hidden"),M._setDimension(),M.reposition(e),M.lock&&M.lock.css("overflow","auto"),"float"===n.caption.type&&(t=M.getViewport().w-(M.wrap.outerWidth(!0)-M.inner.width()),n.caption.wrap.css("width",t).css("marginLeft",-1*(.5*t-.5*M.inner.width()))),n.expander&&(n.canShrink?u(".fancybox-expand").show().attr("title",n.locales[n.locale].SHRINK):n.canExpand?u(".fancybox-expand").show().attr("title",n.locales[n.locale].EXPAND):u(".fancybox-expand").hide()),M.trigger("onUpdate")}},toggle:function(e){M.current&&M.isOpen&&(M.current.fitToView="boolean"===u.type(e)?e:!M.current.fitToView,M.update(!0))},hideLoading:function(){u("#fancybox-loading").remove()},showLoading:function(){var e,t;M.hideLoading(),e=u('<div id="fancybox-loading"></div>').click(M.cancel).appendTo("body"),M.defaults.fixed||(t=M.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){return M.lock?{x:M.lock.scrollLeft(),y:M.lock.scrollTop(),w:M.lock[0].clientWidth,h:M.lock[0].clientHeight}:{x:c.scrollLeft(),y:c.scrollTop(),w:p&&r.innerWidth?r.innerWidth:c.width(),h:p&&r.innerHeight?r.innerHeight:c.height()}},unbind:function(){A(M.wrap)&&M.wrap.unbind(".fb"),A(M.inner)&&M.inner.unbind(".fb"),a.unbind(".fb"),c.unbind(".fb")},rebind:function(){var t,o=M.current;M.unbind(),o&&M.isOpen&&(c.bind("orientationchange.fb"+(p?"":" resize.fb")+(o.autoCenter&&!o.locked?" scroll.fb":""),M.update),(t=o.keys)&&a.bind("keydown.fb",function(i){var n=i.which||i.keyCode,e=i.target||i.srcElement;if(27===n&&M.coming)return!1;i.ctrlKey||i.altKey||i.shiftKey||i.metaKey||e&&(e.type||u(e).is("[contenteditable]"))||u.each(t,function(e,t){return t[n]!==d?(i.preventDefault(),1<o.group.length&&M[e](t[n]),!1):-1<u.inArray(n,t)?(i.preventDefault(),"play"===e?M.slideshow.toggle():M[e](),!1):void 0})}),M.lastScroll=l(),o.mouseWheel&&1<M.group.length&&M.wrap.bind("DOMMouseScroll.fb mousewheel.fb MozMousePixelScroll.fb",function(e){var t=e.originalEvent,i=t.target||0,n=t.wheelDelta||t.detail||0,o=t.wheelDeltaX||0,a=t.wheelDeltaY||0,r=l();i&&i.style&&(!i.style.overflow||"hidden"!==i.style.overflow)&&(i.clientWidth&&i.scrollWidth>i.clientWidth||i.clientHeight&&i.scrollHeight>i.clientHeight)||0===n||M.current&&M.current.canShrink||(t.stopPropagation(),M.lastScroll&&r-M.lastScroll<80?M.lastScroll=r:(M.lastScroll=r,t.axis&&(t.axis===t.HORIZONTAL_AXIS?o=-1*n:t.axis===t.VERTICAL_AXIS&&(a=-1*n)),0===o?0<a?M.prev("down"):M.next("up"):0<o?M.prev("right"):M.next("left")))}),M.touch.init())},rebuild:function(){var e=M.current;e.wrap.find(".fancybox-nav, .fancybox-close, .fancybox-expand").remove(),e.arrows&&1<M.group.length&&((e.loop||0<e.index)&&u(M._translate(e.tpl.prev)).appendTo(M.inner).bind("click.fb",M.prev),(e.loop||e.index<M.group.length-1)&&u(M._translate(e.tpl.next)).appendTo(M.inner).bind("click.fb",M.next)),e.closeBtn&&u(M._translate(e.tpl.closeBtn)).appendTo(M.wrap).bind("click.fb",M.close),e.expander&&"image"===e.type&&(u('<a title="Expand image" class="fancybox-expand" href="javascript:;"></a>').appendTo(M.inner).bind("click.fb",M.toggle),!e.canShrink&&e.canExpand)},_start:function(e){var t,i;if(M.opts.loop&&(e<0&&(e=M.group.length+e%M.group.length),e%=M.group.length),!(t=M.group[e]))return!1;(t=u.extend(!0,{},M.opts,t)).group=M.group,t.index=e,M.coming=t,!1!==M.trigger("beforeLoad")?(M.isActive=!0,M._build(),a.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(a.unbind(".loading"),e.preventDefault(),M.cancel())}),t.overlay&&t.overlay.showEarly&&M.overlay.open(t.overlay),"image"===(i=t.type)?M._loadImage():"ajax"===i?M._loadAjax():"iframe"===i?M._loadIframe():"inline"===i?M._loadInline():"html"===i||"swf"===i?M._afterLoad():M._error()):M.coming=null},_build:function(){var e,t,i,n=M.coming,o=n.caption.type;n.wrap=e=u('<div class="fancybox-wrap"></div>').appendTo(n.parent||"body").addClass("fancybox-"+n.theme),n.inner=u('<div class="fancybox-inner"></div>').appendTo(e),n["outside"===o||"float"===o?"inner":"wrap"].addClass("fancybox-skin fancybox-"+n.theme+"-skin"),n.locked&&n.overlay&&M.defaults.fixed&&(M.lock||(M.lock=u('<div id="fancybox-lock"></div>').appendTo(e.parent())),M.lock.unbind().append(e),n.overlay.closeClick&&M.lock.click(function(e){u(e.target).is(M.lock)&&M.close()}),(a.height()>c.height()||"scroll"===s.css("overflow-y"))&&(u("*:visible").filter(function(){return"fixed"===u(this).css("position")&&!u(this).hasClass("fancybox-overlay")&&"fancybox-lock"!==u(this).attr("id")}).addClass("fancybox-margin"),s.addClass("fancybox-margin")),t=c.scrollTop(),i=c.scrollLeft(),s.addClass("fancybox-lock"),c.scrollTop(t).scrollLeft(i)),M.trigger("onReady")},_error:function(e){M.coming&&(u.extend(M.coming,{type:"html",autoWidth:!0,autoHeight:!0,closeBtn:!0,minWidth:0,minHeight:0,padding:[15,15,15,15],scrolling:"visible",hasError:e,content:M._translate(M.coming.tpl.error)}),M._afterLoad())},_loadImage:function(){var e=M.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,u.extend(M.coming,{width:this.width,height:this.height,content:u(this).addClass("fancybox-image")}),M._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,M._error("image")},e.src=M.coming.href,(!0!==e.complete||e.width<1)&&M.showLoading()},_loadAjax:function(){var e,i,n=M.coming,t=n.href;t=(e=t.split(/\s+/,2)).shift(),i=e.shift(),M.showLoading(),M.ajaxLoad=u.ajax(u.extend({},n.ajax,{url:n.href,error:function(e,t){M.coming&&"abort"!==t?M._error("ajax",e):M.hideLoading()},success:function(e,t){"success"===t&&(i&&(e=u("<div>").html(e).find(i)),n.content=e,M._afterLoad())}}))},_loadIframe:function(){var e,t=M.coming;t.content=e=u(t.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",p?"auto":t.iframe.scrolling),t.iframe.preload&&(M.showLoading(),M._setDimension(t),t.wrap.addClass("fancybox-tmp"),e.one("load.fb",function(){t.iframe.preload&&(u(this).data("ready",1),u(this).bind("load.fb",M.update),M._afterLoad())})),e.attr("src",t.href).appendTo(t.inner),t.iframe.preload?1!==e.data("ready")&&M.showLoading():M._afterLoad()},_loadInline:function(){var e=M.coming,t=e.href;e.content=u(g(t)?t.replace(/.*(?=#[^\s]+$)/,""):t),e.content.length?M._afterLoad():M._error()},_preloadImages:function(){var e,t,i=M.group,n=M.current,o=i.length,a=n.preload?Math.min(n.preload,o-1):0;for(t=1;t<=a;t+=1)(e=i[(n.index+t)%o])&&"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e=M.coming,t=M.current;if(a.unbind(".loading"),!e||!1===M.isActive||!1===M.trigger("afterLoad",e,t))return M.hideLoading(),e&&e.wrap&&h(e.wrap),t||M._afterZoomOut(e),void(M.coming=null);u.extend(M,{wrap:e.wrap.addClass("fancybox-type-"+e.type+" fancybox-"+(p?"mobile":"desktop")+" fancybox-"+e.theme+"-"+(p?"mobile":"desktop")+" "+e.wrapCSS),inner:e.inner,current:e,previous:t}),M._prepare(),M.trigger("beforeShow",e,t),M.isOpen=!1,M.coming=null,M._setDimension(),M.hideLoading(),e.overlay&&!M.overlay.el&&M.overlay.open(e.overlay),M.transitions.open()},_prepare:function(){var i,e=M.current,n=e.content||"",o=e.wrap,a=e.inner,r=e.margin,s=e.padding,t=e.href,l=e.type,c=(e.scrolling,e.caption),d=e.title,p=c.type,h="fancybox-placeholder",f="fancybox-display";"iframe"!==l&&A(n)&&n.length&&(n.data(h)||n.data(f,n.css("display")).data(h,u('<div class="'+h+'"></div>').insertAfter(n).hide()),n=n.show().detach(),e.wrap.bind("onReset",function(){u(this).find(n).length&&n.css("display",n.data(f)).replaceAll(n.data(h)).data(h,!1).data(f,!1)})),"swf"===l&&(n='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+t+'"></param>',i="",u.each(e.swf,function(e,t){n+='<param name="'+e+'" value="'+t+'"></param>',i+=" "+e+'="'+t+'"'}),n+='<embed src="'+t+'" type="application/x-shockwave-flash" width="100%" height="100%"'+i+"></embed></object>"),A(n)&&n.parent().is(e.inner)||(e.inner.append(n),e.content=e.inner.children(":last")),u.each(["Top","Right","Bottom","Left"],function(e,t){r[e]&&o.css("margin"+t,j(r[e])),s[e]&&("Bottom"===t&&"outside"===p||o.css("padding"+t,j(s[e])),"outside"!==p&&"float"!==p||(a.css("border"+t+"Width",j(s[e])),"Top"!==t&&"Left"!==t||a.css("margin"+t,j(-1*s[e]))))}),u.isFunction(d)&&(d=d.call(e.element,e)),g(d)&&""!==u.trim(d)&&(e.caption.wrap=u('<div class="fancybox-title fancybox-title-'+p+'-wrap">'+d+"</div>").appendTo(e["over"===p?"inner":"wrap"]),"float"===p&&e.caption.wrap.width(M.getViewport().w-(M.wrap.outerWidth(!0)-M.inner.width())).wrapInner("<div></div>"))},_setDimension:function(e){var t,i,n,o,a,r,s,l,c,d,p,h,f,u,g,m=M.getViewport(),y=e||M.current,w=y.wrap,x=y.inner,v=y.width,b=y.height,_=y.minWidth,k=y.minHeight,T=y.maxWidth,C=y.maxHeight,O=y.margin,L=y.scrollOutside?y.scrollbarWidth:0,W=(O=y.margin,y.padding),E=y.scrolling,S=1;if(t=(E=E.split(","))[0],i=E[1]||t,y.inner.css("overflow-x","yes"===t?"scroll":"no"===t?"hidden":t).css("overflow-y","yes"===i?"scroll":"no"===i?"hidden":i),o=O[1]+O[3]+W[1]+W[3],n=O[0]+O[2]+W[0]+W[2],_=P(R(_)?P(_,"w")-o:_),T=P(R(T)?P(T,"w")-o:T),k=P(R(k)?P(k,"h")-n:k),C=P(R(C)?P(C,"h")-n:C),a=P(R(v)?P(v,"w")-o:v),r=P(R(b)?P(b,"h")-n:b),y.fitToView&&(T=Math.min(T,P("100%","w")-o),C=Math.min(C,P("100%","h")-n)),d=m.w,p=m.h,"iframe"===y.type){if(l=y.content,w.removeClass("fancybox-tmp"),(y.autoWidth||y.autoHeight)&&l&&1===l.data("ready"))try{l[0].contentWindow&&l[0].contentWindow.document.location&&(c=l.contents().find("body"),x.addClass("fancybox-tmp"),x.width(screen.width-o).height(99999),L&&c.css("overflow-x","hidden"),y.autoWidth&&(a=c.outerWidth(!0)),y.autoHeight&&(r=c.outerHeight(!0)),x.removeClass("fancybox-tmp"))}catch(H){}}else(y.autoWidth||y.autoHeight)&&"image"!==y.type&&"swf"!==y.type&&(x.addClass("fancybox-tmp"),y.autoWidth?x.width("auto"):x.width(T),y.autoHeight?x.height("auto"):x.height(C),y.autoWidth&&(a=x[0].scrollWidth||x.width()),y.autoHeight&&(r=x[0].scrollHeight||x.height()),x.removeClass("fancybox-tmp"));if(s=(v=a)/(b=r),!y.autoResize)return w.css({width:j(v),height:"auto"}),void x.css({width:j(v),height:j(b)});if(y.aspectRatio?(T<v&&(b=(v=T)/s),C<b&&(v=(b=C)*s),v<_&&(b=(v=_)/s),b<k&&(v=(b=k)*s)):(v=Math.max(_,Math.min(v,T)),y.autoHeight&&"iframe"!==y.type&&(x.width(v),r=b=x[0].scrollHeight),b=Math.max(k,Math.min(b,C))),w.css({width:j(v),height:"auto"}),x.css({width:j(v),height:j(b)}),h=P(w.outerWidth(!0)),f=P(w.outerHeight(!0)),y.fitToView)if(y.aspectRatio)for(;(d<h||p<f)&&_<v&&k<b&&!(30<S++);)b=Math.max(k,Math.min(C,b-10)),(v=P(b*s))<_&&(b=P((v=_)/s)),T<v&&(b=P((v=T)/s)),w.css({width:j(v)}),x.css({width:j(v),height:j(b)}),h=P(w.outerWidth(!0)),f=P(w.outerHeight(!0));else v=Math.max(_,Math.min(v,v-(h-d))),b=Math.max(k,Math.min(b,b-(f-p)));L&&"auto"===t&&(b<x[0].scrollHeight||A(y.content)&&y.content[0]&&b<y.content[0].offsetHeight)&&v+o+L<T&&(v+=L),w.css({width:v}),x.css({width:j(v),height:j(b)}),h=P(w.outerWidth(!0)),f=P(w.outerHeight(!0)),u=(d<h||p<f)&&_<v&&k<b,g=(h<d||f<p)&&(y.aspectRatio?v<T&&b<C&&v<a&&b<r:(v<T||b<C)&&(v<a||b<r)),y.canShrink=u,y.canExpand=g,!l&&y.autoHeight&&k<b&&b<C&&!g&&x.height("auto")},_getPosition:function(e){var t=e||M.current,i=t.wrap,n=M.getViewport(),o=n.y,a=n.x;return{top:j(Math.max(o,o+(n.h-i.outerHeight(!0))*t.topRatio)),left:j(Math.max(a,a+(n.w-i.outerWidth(!0))*t.leftRatio)),width:j(i.width()),height:j(i.height())}},_afterZoomIn:function(){var e=M.current;e&&(M.lock&&M.lock.css("overflow","auto"),M.isOpen=M.isOpened=!0,M.rebuild(),M.rebind(),e.caption&&e.caption.wrap&&e.caption.wrap.show().css({visibility:"visible",opacity:0,left:0}).animate({opacity:1},"fast"),M.update(),M.wrap.css("overflow","visible").addClass("fancybox-open").focus(),M[M.wrap.hasClass("fancybox-skin")?"wrap":"inner"].addClass("fancybox-"+e.theme+"-skin-open"),e.caption&&e.caption.wrap&&e.caption.wrap.show().css("left",0).animate({opacity:1},"fast"),0<e.margin[2]&&u('<div class="fancybox-spacer"></div>').css("height",j(e.margin[2]-2)).appendTo(M.wrap),M.trigger("afterShow"),M._preloadImages(),e.autoPlay&&!M.slideshow.isActive&&M.slideshow.start())},_afterZoomOut:function(e){var t=function(){h(".fancybox-wrap")};M.hideLoading(),(e=e||M.current)&&e.wrap&&e.wrap.hide(),u.extend(M,{group:[],opts:{},coming:null,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,inner:null}),M.trigger("afterClose",e),M.coming||M.current||(e.overlay?M.overlay.close(e.overlay,t):t())},_translate:function(e){var t=M.coming||M.current,n=t.locales[t.locale];return e.replace(/\{\{(\w+)\}\}/g,function(e,t){var i=n[t];return i===d?e:i})}}),M.transitions={_getOrig:function(e){var t=e||M.current,i=t.wrap,n=t.element,o=t.orig,a=M.getViewport(),r={},s=50,l=50;return!o&&n&&n.is(":visible")&&((o=n.find("img:first:visible")).length||(o=n)),!o&&t.group[0].element&&(o=t.group[0].element.find("img:visible:first")),A(o)&&o.is(":visible")?(r=o.offset(),o.is("img")&&(s=o.outerWidth(),l=o.outerHeight()),M.lock&&(r.top-=c.scrollTop(),r.left-=c.scrollLeft())):(r.top=a.y+(a.h-l)*t.topRatio,r.left=a.x+(a.w-s)*t.leftRatio),r={top:j(r.top-.5*(i.outerHeight(!0)-i.height())),left:j(r.left-.5*(i.outerWidth(!0)-i.width())),width:j(s),height:j(l)}},_getCenter:function(e){var t=e||M.current,i=t.wrap,n=M.getViewport(),o=n.y,a=n.x;return{top:j(Math.max(o,o+(n.h-i.outerHeight(!0))*t.topRatio)),left:j(Math.max(a,a+(n.w-i.outerWidth(!0))*t.leftRatio)),width:j(i.width()),height:j(i.height())}},_prepare:function(e,t){var i=e||M.current,n=i.wrap,o=i.inner;n.height(n.height()),o.css({width:100*o.width()/n.width()+"%",height:Math.floor(100*o.height()/n.height()*100)/100+"%"}),!0===t&&n.find(".fancybox-title, .fancybox-spacer, .fancybox-close, .fancybox-nav").remove(),o.css("overflow","hidden")},fade:function(e,t){var i=this._getCenter(e),n={opacity:0};return"open"===t||"changeIn"===t?[u.extend(i,n),{opacity:1}]:[{},n]},drop:function(e,t){var i=u.extend(this._getCenter(e),{opacity:1}),n=u.extend({},i,{opacity:0,top:j(Math.max(M.getViewport().y-e.margin[0],P(i.top)-200))});return"open"===t||"changeIn"===t?[n,i]:[{},n]},elastic:function(e,t){var i,n,o,a=e.wrap,r=e.margin,s=M.getViewport(),l=M.direction,c=this._getCenter(e),d=u.extend({},c),p=u.extend({},c);return"open"===t?d=this._getOrig(e):"close"===t?(d={},p=this._getOrig(e)):l&&(i="up"===l||"down"===l?"top":"left",n="up"===l||"left"===l?200:-200,"changeIn"===t?(o=P(d[i])+n,o="left"===l?Math.min(o,s.x+s.w-r[3]-a.outerWidth()-1):"right"===l?Math.max(o,s.x-r[1]):"up"===l?Math.min(o,s.y+s.h-r[0]-a.outerHeight()-1):Math.max(o,s.y-r[2]),d[i]=o):(o=P(a.css(i))-n,d={},o="left"===l?Math.max(o,s.x-r[3]):"right"===l?Math.min(o,s.x+s.w-r[1]-a.outerWidth()-1):"up"===l?Math.max(o,s.y-r[0]):Math.min(o,s.y+s.h-r[2]-a.outerHeight()-1),p[i]=o)),"open"===t||"changeIn"===t?(d.opacity=0,p.opacity=1):p.opacity=0,[d,p]},open:function(){var e,t,i,n,o,a=M.current,r=M.previous;M.direction;r&&r.wrap.stop(!0).removeClass("fancybox-opened"),M.isOpened?(e=a.nextEffect,i=a.nextSpeed,n=a.nextEasing,o="changeIn"):(e=a.openEffect,i=a.openSpeed,n=a.openEasing,o="open"),"none"===e?M._afterZoomIn():(t=this[e](a,o),"elastic"===e&&this._prepare(a),a.wrap.css(t[0]),a.wrap.animate(t[1],i,n,M._afterZoomIn)),r&&(M.isOpened&&"none"!==r.prevEffect?(r.wrap.stop(!0).removeClass("fancybox-opened"),t=this[r.prevEffect](r,"changeOut"),this._prepare(r,!0),r.wrap.animate(t[1],r.prevSpeed,r.prevEasing,function(){h(r.wrap)})):h(u(".fancybox-wrap").not(a.wrap)))},close:function(){var e,t=M.current,i=t.wrap.stop(!0).removeClass("fancybox-opened"),n=t.closeEffect;if("none"===n)return M._afterZoomOut();this._prepare(t,!0),e=this[n](t,"close"),i.addClass("fancybox-animating").animate(e[1],t.closeSpeed,t.closeEasing,M._afterZoomOut)}},M.slideshow={_clear:function(){this._timer&&clearTimeout(this._timer)},_set:function(){this._clear(),M.current&&this.isActive&&(this._timer=setTimeout(M.next,this._speed))},_timer:null,_speed:null,isActive:!1,start:function(e){var t=M.current;t&&(t.loop||t.index<t.group.length-1)&&(this.stop(),this.isActive=!0,this._speed=e||t.playSpeed,a.bind({"beforeLoad.player":u.proxy(this._clear,this),"onUpdate.player":u.proxy(this._set,this),"onCancel.player beforeClose.player":u.proxy(this.stop,this)}),this._set(),M.trigger("onPlayStart"))},stop:function(){this._clear(),a.unbind(".player"),this.isActive=!1,this._timer=this._speed=null,M.trigger("onPlayEnd")},toggle:function(){this.isActive?this.stop():this.start.apply(this,arguments)}},M.overlay={el:null,theme:"",open:function(e){var t,i,n=this,o=this.el,a=M.defaults.fixed;e=u.extend({},M.defaults.overlay,e),o?o.stop(!0).removeAttr("style").unbind(".overlay"):o=u('<div class="fancybox-overlay'+(a?" fancybox-overlay-fixed":"")+'"></div>').appendTo(e.parent||"body"),e.closeClick&&o.bind("click.overlay",function(){return M.lastTouch&&l()-M.lastTouch<300||(M.isActive?M.close():n.close()),!1}),(i=e.theme||(M.coming?M.coming.theme:"default"))!==this.theme&&o.removeClass("fancybox-"+this.theme+"-overlay"),this.theme=i,o.addClass("fancybox-"+i+"-overlay").css(e.css),t=o.css("opacity"),!this.el&&t<1&&e.speedIn&&o.css({opacity:0,filter:"alpha(opacity=0)"}).fadeTo(e.speedIn,t),this.el=o,a||(c.bind("resize.overlay",u.proxy(this.update,this)),this.update())},close:function(e,t){e=u.extend({},M.defaults.overlay,e),this.el&&this.el.stop(!0).fadeOut(e.speedOut,function(){c.unbind("resize.overlay"),u(".fancybox-overlay").remove(),M.overlay.el=null,u.isFunction(t)&&t()})},update:function(){this.el.css({width:"100%",height:"100%"}),this.el.width(a.width()).height(a.height())}},M.touch={startX:0,wrapX:0,dx:0,isMoving:!1,_start:function(e){M.current;var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=l();if(M.isOpen&&!M.wrap.is(":animated")&&(u(e.target).is(M.inner)||u(e.target).parent().is(M.inner))){if(M.lastTouch&&i-M.lastTouch<300)return e.preventDefault(),M.lastTouch=i,this._cancel(!0),M.toggle(),!1;M.lastTouch=i,M.wrap&&M.wrap.outerWidth()>M.getViewport().w||(e.preventDefault(),t&&M.wrap&&M.wrap.outerWidth()<M.getViewport().w&&(this.startX=t.pageX,this.wrapX=M.wrap.position().left,this.isMoving=!0,M.inner.bind("touchmove.fb",u.proxy(this._move,this)).one("touchend.fb touchcancel.fb",u.proxy(this._cancel,this))))}},_move:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e,i=this.startX-t.pageX;this.isMoving&&M.isOpen&&(this.dx=i,M.current.wrap.outerWidth(!0)<=c.width()&&(50<=Math.abs(i)?(e.preventDefault(),this.last=0,this._cancel(!0),0<i?M.next("left"):M.prev("right")):3<Math.abs(i)&&(e.preventDefault(),this.last=0,M.wrap.css("left",this.wrapX-i))))},_clear:function(){this.startX=this.wrapX=this.dx=0,this.isMoving=!1},_cancel:function(){M.inner&&M.inner.unbind("touchmove.fb"),M.isOpen&&3<Math.abs(this.dx)&&M.reposition(!1),this._clear()},init:function(){M.inner&&M.touch&&(this._cancel(!0),M.inner.bind("touchstart.fb",u.proxy(this._start,this)))}},u.easing.easeOutQuad||(u.easing.easeOutQuad=function(e,t,i,n,o){return-n*(t/=o)*(t-2)+i}),a.ready(function(){var e,t,i,n,o,a;u.scrollbarWidth===d&&(u.scrollbarWidth=function(){var e=u('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),i=t.innerWidth()-t.height(99).innerWidth();return e.remove(),i}),u.support.fixedPosition===d&&(u.support.fixedPosition=(o=u('<div style="position:fixed;top:20px;padding:0;margin:0;border:0;"></div>').appendTo("body"),a="fixed"===o.css("position")&&(18<o[0].offsetTop&&o[0].offsetTop<22||15===o[0].offsetTop),o.remove(),a)),u.extend(M.defaults,{scrollbarWidth:u.scrollbarWidth(),fixed:u.support.fixedPosition,parent:u("body")}),i=c.scrollTop(),n=c.scrollLeft(),e=u(r).width(),s.addClass("fancybox-lock-test"),t=u(r).width(),s.removeClass("fancybox-lock-test"),c.scrollTop(i).scrollLeft(n),M.lockMargin=t-e,u("<style type='text/css'>.fancybox-margin{margin-right:"+M.lockMargin+"px;}</style>").appendTo("head"),0<u("script[src*='jquery.fancybox.js']").length&&u("script[src*='jquery.fancybox.js']").attr("src").match(/autorun/)&&u("a[href$='.jpg'],a[href$='.png'],a[href$='.gif'],.fancybox").attr("data-fancybox-group","gallery").fancybox()}),u.fn.fancybox=function(r){var s=this,l=!!this.length&&this.selector,c=l&&l.indexOf("()")<0&&!(r&&!1===r.live),e=function(e){var t=c?u(l):s,i=u(this).blur(),n=r.groupAttr||"data-fancybox-group",o=i.attr(n),a=this.rel;!o&&a&&"nofollow"!==a&&(n="rel",o=a),o&&(i=t.filter("["+n+'="'+o+'"]'),r.index=i.index(this)),i.length&&(e.preventDefault(),M.open(i.get(),r))};return r=r||{},c?a.undelegate(l,"click.fb-start").delegate(l+":not('.fancybox-close,.fancybox-nav,.fancybox-wrap')","click.fb-start",e):s.unbind("click.fb-start").bind("click.fb-start",e),this}}(window,document,jQuery);
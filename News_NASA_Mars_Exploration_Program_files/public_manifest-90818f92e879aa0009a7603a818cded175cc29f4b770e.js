function OpenSeadragon(e){return new OpenSeadragon.Viewer(e)}function titleize(e){var t=e.split(/\W/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")}function singularize(e){return/s$/.test(e)?e.replace(/s$/,""):e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function debounce(i,n){var s=null;return function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout(function(){i.apply(e,t)},n)}}function loadJS(e){var t=window.document.getElementsByTagName("script")[0],i=window.document.createElement("script");i.src=e,i.async=!0,t.parentNode.insertBefore(i,t)}function debounce(i,n){var s=null;return function(){var e=this,t=arguments;clearTimeout(s),s=setTimeout(function(){i.apply(e,t)},n)}}function singularize(e){return/s$/.test(e)?e.substring(0,e.length-1):e}function titleize(e){var t=e.split(/\W/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")}function MarkerClusterer(e,t,i){this.extend(MarkerClusterer,google.maps.OverlayView),this.map_=e,this.markers_=[],this.clusters_=[],this.sizes=[53,56,66,78,90],this.styles_=[],this.ready_=!1;var n=i||{};this.gridSize_=n.gridSize||60,this.minClusterSize_=n.minimumClusterSize||2,this.maxZoom_=n.maxZoom||null,this.styles_=n.styles||[],this.imagePath_=n.imagePath||this.MARKER_CLUSTER_IMAGE_PATH_,this.imageExtension_=n.imageExtension||this.MARKER_CLUSTER_IMAGE_EXTENSION_,this.zoomOnClick_=!0,n.zoomOnClick!=undefined&&(this.zoomOnClick_=n.zoomOnClick),this.averageCenter_=!1,n.averageCenter!=undefined&&(this.averageCenter_=n.averageCenter),this.setupStyles_(),this.setMap(e),this.prevZoom_=this.map_.getZoom();var s=this;google.maps.event.addListener(this.map_,"zoom_changed",function(){var e=s.map_.getZoom(),t=s.map_.minZoom||0,i=Math.min(s.map_.maxZoom||100,s.map_.mapTypes[s.map_.getMapTypeId()].maxZoom);e=Math.min(Math.max(e,t),i),s.prevZoom_!=e&&(s.prevZoom_=e,s.resetViewport())}),google.maps.event.addListener(this.map_,"idle",function(){s.redraw()}),t&&(t.length||Object.keys(t).length)&&this.addMarkers(t,!1)}function Cluster(e){this.markerClusterer_=e,this.map_=e.getMap(),this.gridSize_=e.getGridSize(),this.minClusterSize_=e.getMinClusterSize(),this.averageCenter_=e.isAverageCenter(),this.center_=null,this.markers_=[],this.bounds_=null,this.clusterIcon_=new ClusterIcon(this,e.getStyles(),e.getGridSize())}function ClusterIcon(e,t,i){e.getMarkerClusterer().extend(ClusterIcon,google.maps.OverlayView),this.styles_=t,this.padding_=i||0,this.cluster_=e,this.center_=null,this.map_=e.getMap(),this.div_=null,this.sums_=null,this.visible_=!1,this.setMap(this.map_)}!function(f,S){function a(e){var t=e.length,i=Ee.type(e);return!Ee.isWindow(e)&&(!(1!==e.nodeType||!t)||("array"===i||"function"!==i&&(0===t||"number"==typeof t&&0<t&&t-1 in e)))}function e(e){var i=Se[e]={};return Ee.each(e.match(ue)||[],function(e,t){i[t]=!0}),i}function n(e,t,i,n){if(Ee.acceptData(e)){var s,o,r=Ee.expando,a=e.nodeType,l=a?Ee.cache:e,c=a?e[r]:e[r]&&r;if(c&&l[c]&&(n||l[c].data)||i!==S||"string"!=typeof t)return c||(c=a?e[r]=ee.pop()||Ee.guid++:r),l[c]||(l[c]=a?{}:{toJSON:Ee.noop}),("object"==typeof t||"function"==typeof t)&&(n?l[c]=Ee.extend(l[c],t):l[c].data=Ee.extend(l[c].data,t)),o=l[c],n||(o.data||(o.data={}),o=o.data),i!==S&&(o[Ee.camelCase(t)]=i),"string"==typeof t?null==(s=o[t])&&(s=o[Ee.camelCase(t)]):s=o,s}}function i(e,t,i){if(Ee.acceptData(e)){var n,s,o=e.nodeType,r=o?Ee.cache:e,a=o?e[Ee.expando]:Ee.expando;if(r[a]){if(t&&(n=i?r[a]:r[a].data)){Ee.isArray(t)?t=t.concat(Ee.map(t,Ee.camelCase)):t in n?t=[t]:t=(t=Ee.camelCase(t))in n?[t]:t.split(" "),s=t.length;for(;s--;)delete n[t[s]];if(i?!c(n):!Ee.isEmptyObject(n))return}(i||(delete r[a].data,c(r[a])))&&(o?Ee.cleanData([e],!0):Ee.support.deleteExpando||r!=r.window?delete r[a]:r[a]=null)}}}function l(e,t,i){if(i===S&&1===e.nodeType){var n="data-"+t.replace(ke,"-$1").toLowerCase();if("string"==typeof(i=e.getAttribute(n))){try{i="true"===i||"false"!==i&&("null"===i?null:+i+""===i?+i:Te.test(i)?Ee.parseJSON(i):i)}catch(G){}Ee.data(e,t,i)}else i=S}return i}function c(e){var t;for(t in e)if(("data"!==t||!Ee.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function s(){return!0}function Ce(){return!1}function t(){try{return X.activeElement}catch(f){}}function o(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}function r(e,i,n){if(Ee.isFunction(i))return Ee.grep(e,function(e,t){return!!i.call(e,t,e)!==n});if(i.nodeType)return Ee.grep(e,function(e){return e===i!==n});if("string"==typeof i){if(Be.test(i))return Ee.filter(i,e,n);i=Ee.filter(i,e)}return Ee.grep(e,function(e){return 0<=Ee.inArray(e,i)!==n})}function m(e){var t=qe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function u(e,t){return Ee.nodeName(e,"table")&&Ee.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==Ee.find.attr(e,"type"))+"/"+e.type,e}function v(e){var t=st.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function y(e,t){for(var i,n=0;null!=(i=e[n]);n++)Ee._data(i,"globalEval",!t||Ee._data(t[n],"globalEval"))}function h(e,t){if(1===t.nodeType&&Ee.hasData(e)){var i,n,s,o=Ee._data(e),r=Ee._data(t,o),a=o.events;if(a)for(i in delete r.handle,r.events={},a)for(n=0,s=a[i].length;n<s;n++)Ee.event.add(t,i,a[i][n]);r.data&&(r.data=Ee.extend({},r.data))}}function d(e,t){var i,n,s;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!Ee.support.noCloneEvent&&t[Ee.expando]){for(n in(s=Ee._data(t)).events)Ee.removeEvent(t,n,s.handle);t.removeAttribute(Ee.expando)}"script"===i&&t.text!==e.text?(g(t).text=e.text,v(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),Ee.support.html5Clone&&e.innerHTML&&!Ee.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function _(e,t){var i,n,s=0,o=typeof e.getElementsByTagName!==Y?e.getElementsByTagName(t||"*"):typeof e.querySelectorAll!==Y?e.querySelectorAll(t||"*"):S;if(!o)for(o=[],i=e.childNodes||e;null!=(n=i[s]);s++)!t||Ee.nodeName(n,t)?o.push(n):Ee.merge(o,_(n,t));return t===S||t&&Ee.nodeName(e,t)?Ee.merge([e],o):o}function w(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function p(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,s=St.length;s--;)if((t=St[s]+i)in e)return t;return n}function b(e,t){return e=t||e,"none"===Ee.css(e,"display")||!Ee.contains(e.ownerDocument,e)}function x(e,t){for(var i,n,s,o=[],r=0,a=e.length;r<a;r++)(n=e[r]).style&&(o[r]=Ee._data(n,"olddisplay"),i=n.style.display,t?(o[r]||"none"!==i||(n.style.display=""),""===n.style.display&&b(n)&&(o[r]=Ee._data(n,"olddisplay",k(n.nodeName)))):o[r]||(s=b(n),(i&&"none"!==i||!s)&&Ee._data(n,"olddisplay",s?i:Ee.css(n,"display"))));for(r=0;r<a;r++)(n=e[r]).style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?o[r]||"":"none"));return e}function C(e,t,i){var n=gt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function E(e,t,i,n,s){for(var o=i===(n?"border":"content")?4:"width"===t?1:0,r=0;o<4;o+=2)"margin"===i&&(r+=Ee.css(e,i+xt[o],!0,s)),n?("content"===i&&(r-=Ee.css(e,"padding"+xt[o],!0,s)),"margin"!==i&&(r-=Ee.css(e,"border"+xt[o]+"Width",!0,s))):(r+=Ee.css(e,"padding"+xt[o],!0,s),"padding"!==i&&(r+=Ee.css(e,"border"+xt[o]+"Width",!0,s)));return r}function T(e,t,i){var n=!0,s="width"===t?e.offsetWidth:e.offsetHeight,o=ct(e),r=Ee.support.boxSizing&&"border-box"===Ee.css(e,"boxSizing",!1,o);if(s<=0||null==s){if(((s=ut(e,t,o))<0||null==s)&&(s=e.style[t]),vt.test(s))return s;n=r&&(Ee.support.boxSizingReliable||s===e.style[t]),s=parseFloat(s)||0}return s+E(e,t,i||(r?"border":"content"),n,o)+"px"}function k(e){var t=X,i=_t[e];return i||("none"!==(i=R(e,t))&&i||((t=((lt=(lt||Ee("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement))[0].contentWindow||lt[0].contentDocument).document).write("<!doctype html><html><body>"),t.close(),i=R(e,t),lt.detach()),_t[e]=i),i}function R(e,t){var i=Ee(t.createElement(e)).appendTo(t.body),n=Ee.css(i[0],"display");return i.remove(),n}function M(i,e,n,s){var t;if(Ee.isArray(e))Ee.each(e,function(e,t){n||Et.test(i)?s(i,t):M(i+"["+("object"==typeof t?e:"")+"]",t,n,s)});else if(n||"object"!==Ee.type(e))s(i,e);else for(t in e)M(i+"["+t+"]",e[t],n,s)}function P(o){return function(e,t){"string"!=typeof e&&(t=e,e="*");var i,n=0,s=e.toLowerCase().match(ue)||[];if(Ee.isFunction(t))for(;i=s[n++];)"+"===i[0]?(i=i.slice(1)||"*",(o[i]=o[i]||[]).unshift(t)):(o[i]=o[i]||[]).push(t)}}function N(t,s,o,r){function a(e){var n;return l[e]=!0,Ee.each(t[e]||[],function(e,t){var i=t(s,o,r);return"string"!=typeof i||c||l[i]?c?!(n=i):S:(s.dataTypes.unshift(i),a(i),!1)}),n}var l={},c=t===Bt;return a(s.dataTypes[0])||!l["*"]&&a("*")}function D(e,t){var i,n,s=Ee.ajaxSettings.flatOptions||{};for(n in t)t[n]!==S&&((s[n]?e:i||(i={}))[n]=t[n]);return i&&Ee.extend(!0,e,i),e}function I(e,t,i){for(var n,s,o,r,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),s===S&&(s=e.mimeType||t.getResponseHeader("Content-Type"));if(s)for(r in a)if(a[r]&&a[r].test(s)){l.unshift(r);break}if(l[0]in i)o=l[0];else{for(r in i){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}n||(n=r)}o=o||n}return o?(o!==l[0]&&l.unshift(o),i[o]):S}function O(e,t,i,n){var s,o,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(o=u.shift();o;)if(e.responseFields[o]&&(i[e.responseFields[o]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(r=c[l+" "+o]||c["* "+o]))for(s in c)if((a=s.split(" "))[1]===o&&(r=c[l+" "+a[0]]||c["* "+a[0]])){!0===r?r=c[s]:!0!==c[s]&&(o=a[0],u.unshift(a[1]));break}if(!0!==r)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(ee){return{state:"parsererror",error:r?ee:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}function L(){try{return new f.XMLHttpRequest}catch(S){}}function A(){try{return new f.ActiveXObject("Microsoft.XMLHTTP")}catch(S){}}function H(){return setTimeout(function(){Zt=S}),Zt=Ee.now()}function F(e,t,i){for(var n,s=(ii[t]||[]).concat(ii["*"]),o=0,r=s.length;o<r;o++)if(n=s[o].call(i,t,e))return n}function j(o,e,t){var i,r,n=0,s=ti.length,a=Ee.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var e=Zt||H(),t=Math.max(0,c.startTime+c.duration-e),i=1-(t/c.duration||0),n=0,s=c.tweens.length;n<s;n++)c.tweens[n].run(i);return a.notifyWith(o,[c,i,t]),i<1&&s?t:(a.resolveWith(o,[c]),!1)},c=a.promise({elem:o,props:Ee.extend({},e),opts:Ee.extend(!0,{specialEasing:{}},t),originalProperties:e,originalOptions:t,startTime:Zt||H(),duration:t.duration,tweens:[],createTween:function(e,t){var i=Ee.Tween(o,c.opts,e,t,c.opts.specialEasing[e]||c.opts.easing);return c.tweens.push(i),i},stop:function(e){var t=0,i=e?c.tweens.length:0;if(r)return this;for(r=!0;t<i;t++)c.tweens[t].run(1);return e?a.resolveWith(o,[c,e]):a.rejectWith(o,[c,e]),this}}),u=c.props;for(z(u,c.opts.specialEasing);n<s;n++)if(i=ti[n].call(c,o,u,c.opts))return i;return Ee.map(u,F,c),Ee.isFunction(c.opts.start)&&c.opts.start.call(o,c),Ee.fx.timer(Ee.extend(l,{elem:o,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function z(e,t){var i,n,s,o,r;for(i in e)if(s=t[n=Ee.camelCase(i)],o=e[i],Ee.isArray(o)&&(s=o[1],o=e[i]=o[0]),i!==n&&(e[n]=o,delete e[i]),(r=Ee.cssHooks[n])&&"expand"in r)for(i in o=r.expand(o),delete e[n],o)i in e||(e[i]=o[i],t[i]=s);else t[n]=s}function $(t,e,i){var n,s,o,r,a,l,c=this,u={},h=t.style,d=t.nodeType&&b(t),p=Ee._data(t,"fxshow");for(n in i.queue||(null==(a=Ee._queueHooks(t,"fx")).unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,Ee.queue(t,"fx").length||a.empty.fire()})})),1===t.nodeType&&("height"in e||"width"in e)&&(i.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===Ee.css(t,"display")&&"none"===Ee.css(t,"float")&&(Ee.support.inlineBlockNeedsLayout&&"inline"!==k(t.nodeName)?h.zoom=1:h.display="inline-block")),i.overflow&&(h.overflow="hidden",Ee.support.shrinkWrapBlocks||c.always(function(){h.overflow=i.overflow[0],h.overflowX=i.overflow[1],h.overflowY=i.overflow[2]})),e)if(s=e[n],Qt.exec(s)){if(delete e[n],o=o||"toggle"===s,s===(d?"hide":"show"))continue;u[n]=p&&p[n]||Ee.style(t,n)}if(!Ee.isEmptyObject(u))for(n in p?"hidden"in p&&(d=p.hidden):p=Ee._data(t,"fxshow",{}),o&&(p.hidden=!d),d?Ee(t).show():c.done(function(){Ee(t).hide()}),c.done(function(){var e;for(e in Ee._removeData(t,"fxshow"),u)Ee.style(t,e,u[e])}),u)r=F(d?p[n]:0,n,c),n in p||(p[n]=r.start,d&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}function B(e,t,i,n,s){return new B.prototype.init(e,t,i,n,s)}function W(e,t){var i,n={height:e},s=0;for(t=t?1:0;s<4;s+=2-t)n["margin"+(i=xt[s])]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function U(e){return Ee.isWindow(e)?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}var V,q,Y=typeof S,G=f.location,X=f.document,Z=X.documentElement,K=f.jQuery,Q=f.$,J={},ee=[],te="1.10.2",ie=ee.concat,ne=ee.push,se=ee.slice,oe=ee.indexOf,re=J.toString,ae=J.hasOwnProperty,le=te.trim,Ee=function(e,t){return new Ee.fn.init(e,t,q)},ce=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ue=/\S+/g,he=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,de=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,pe=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,fe=/^[\],:{}\s]*$/,me=/(?:^|:|,)(?:\s*\[)+/g,ge=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ve=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ye=/^-ms-/,_e=/-([\da-z])/gi,we=function(e,t){return t.toUpperCase()},be=function(e){(X.addEventListener||"load"===e.type||"complete"===X.readyState)&&(xe(),Ee.ready())},xe=function(){X.addEventListener?(X.removeEventListener("DOMContentLoaded",be,!1),f.removeEventListener("load",be,!1)):(X.detachEvent("onreadystatechange",be),f.detachEvent("onload",be))};Ee.fn=Ee.prototype={jquery:te,constructor:Ee,init:function(e,t,i){var n,s;if(!e)return this;if("string"!=typeof e)return e.nodeType?(this.context=this[0]=e,this.length=1,this):Ee.isFunction(e)?i.ready(e):(e.selector!==S&&(this.selector=e.selector,this.context=e.context),Ee.makeArray(e,this));if(!(n="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&3<=e.length?[null,e,null]:de.exec(e))||!n[1]&&t)return!t||t.jquery?(t||i).find(e):this.constructor(t).find(e);if(n[1]){if(t=t instanceof Ee?t[0]:t,Ee.merge(this,Ee.parseHTML(n[1],t&&t.nodeType?t.ownerDocument||t:X,!0)),pe.test(n[1])&&Ee.isPlainObject(t))for(n in t)Ee.isFunction(this[n])?this[n](t[n]):this.attr(n,t[n]);return this}if((s=X.getElementById(n[2]))&&s.parentNode){if(s.id!==n[2])return i.find(e);this.length=1,this[0]=s}return this.context=X,this.selector=e,this},selector:"",length:0,toArray:function(){return se.call(this)},get:function(e){return null==e?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e){var t=Ee.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return Ee.each(this,e,t)},ready:function(e){return Ee.ready.promise().done(e),this},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(e<0?t:0);return this.pushStack(0<=i&&i<t?[this[i]]:[])},map:function(i){return this.pushStack(Ee.map(this,function(e,t){return i.call(e,t,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:ne,sort:[].sort,splice:[].splice},Ee.fn.init.prototype=Ee.fn,Ee.extend=Ee.fn.extend=function(e,t){var i,n,s,o,r,a,l=e||{},c=1,u=arguments.length,h=!1;for("boolean"==typeof l&&(h=l,l=t||{},c=2),"object"==typeof l||Ee.isFunction(l)||(l={}),u===c&&(l=this,--c);c<u;c++)if(null!=(r=arguments[c]))for(o in r)i=l[o],l!==(s=r[o])&&(h&&s&&(Ee.isPlainObject(s)||(n=Ee.isArray(s)))?(n?(n=!1,a=i&&Ee.isArray(i)?i:[]):a=i&&Ee.isPlainObject(i)?i:{},l[o]=Ee.extend(h,a,s)):s!==S&&(l[o]=s));return l},Ee.extend({expando:"jQuery"+(te+Math.random()).replace(/\D/g,""),noConflict:function(e){return f.$===Ee&&(f.$=Q),e&&f.jQuery===Ee&&(f.jQuery=K),Ee},isReady:!1,readyWait:1,holdReady:function(e){e?Ee.readyWait++:Ee.ready(!0)},ready:function(e){if(!0===e?!--Ee.readyWait:!Ee.isReady){if(!X.body)return setTimeout(Ee.ready);(Ee.isReady=!0)!==e&&0<--Ee.readyWait||(V.resolveWith(X,[Ee]),Ee.fn.trigger&&Ee(X).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Ee.type(e)},isArray:Array.isArray||function(e){return"array"===Ee.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?J[re.call(e)]||"object":typeof e},isPlainObject:function(e){var t;if(!e||"object"!==Ee.type(e)||e.nodeType||Ee.isWindow(e))return!1;try{if(e.constructor&&!ae.call(e,"constructor")&&!ae.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(q){return!1}if(Ee.support.ownLast)for(t in e)return ae.call(e,t);for(t in e);return t===S||ae.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||X;var n=pe.exec(e),s=!i&&[];return n?[t.createElement(n[1])]:(n=Ee.buildFragment([e],t,s),s&&Ee(s).remove(),Ee.merge([],n.childNodes))},parseJSON:function(e){return f.JSON&&f.JSON.parse?f.JSON.parse(e):null===e?e:"string"==typeof e&&((e=Ee.trim(e))&&fe.test(e.replace(ge,"@").replace(ve,"]").replace(me,"")))?Function("return "+e)():(Ee.error("Invalid JSON: "+e),S)},parseXML:function(e){var t;if(!e||"string"!=typeof e)return null;try{f.DOMParser?t=(new DOMParser).parseFromString(e,"text/xml"):((t=new ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(G){t=S}return t&&t.documentElement&&!t.getElementsByTagName("parsererror").length||Ee.error("Invalid XML: "+e),t},noop:function(){},globalEval:function(e){e&&Ee.trim(e)&&(f.execScript||function(e){f.eval.call(f,e)})(e)},camelCase:function(e){return e.replace(ye,"ms-").replace(_e,we)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,i){var n=0,s=e.length,o=a(e);if(i){if(o)for(;n<s&&!1!==t.apply(e[n],i);n++);else for(n in e)if(!1===t.apply(e[n],i))break}else if(o)for(;n<s&&!1!==t.call(e[n],n,e[n]);n++);else for(n in e)if(!1===t.call(e[n],n,e[n]))break;return e},trim:le&&!le.call("\ufeff\xa0")?function(e){return null==e?"":le.call(e)}:function(e){return null==e?"":(e+"").replace(he,"")},makeArray:function(e,t){var i=t||[];return null!=e&&(a(Object(e))?Ee.merge(i,"string"==typeof e?[e]:e):ne.call(i,e)),i},inArray:function(e,t,i){var n;if(t){if(oe)return oe.call(t,e,i);for(n=t.length,i=i?i<0?Math.max(0,n+i):i:0;i<n;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,t){var i=t.length,n=e.length,s=0;if("number"==typeof i)for(;s<i;s++)e[n++]=t[s];else for(;t[s]!==S;)e[n++]=t[s++];return e.length=n,e},grep:function(e,t,i){var n=[],s=0,o=e.length;for(i=!!i;s<o;s++)i!==!!t(e[s],s)&&n.push(e[s]);return n},map:function(e,t,i){var n,s=0,o=e.length,r=[];if(a(e))for(;s<o;s++)null!=(n=t(e[s],s,i))&&(r[r.length]=n);else for(s in e)null!=(n=t(e[s],s,i))&&(r[r.length]=n);return ie.apply([],r)},guid:1,proxy:function(e,t){var i,n,s;return"string"==typeof t&&(s=e[t],t=e,e=s),Ee.isFunction(e)?(i=se.call(arguments,2),(n=function(){return e.apply(t||this,i.concat(se.call(arguments)))}).guid=e.guid=e.guid||Ee.guid++,n):S},access:function(e,t,i,n,s,o,r){var a=0,l=e.length,c=null==i;if("object"===Ee.type(i))for(a in s=!0,i)Ee.access(e,t,a,i[a],!0,o,r);else if(n!==S&&(s=!0,Ee.isFunction(n)||(r=!0),c&&(r?(t.call(e,n),t=null):(c=t,t=function(e,t,i){return c.call(Ee(e),i)})),t))for(;a<l;a++)t(e[a],i,r?n:n.call(e[a],a,t(e[a],i)));return s?e:c?t.call(e):l?t(e[0],i):o},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var s,o,r={};for(o in t)r[o]=e.style[o],e.style[o]=t[o];for(o in s=i.apply(e,n||[]),t)e.style[o]=r[o];return s}}),Ee.ready.promise=function(e){if(!V)if(V=Ee.Deferred(),"complete"===X.readyState)setTimeout(Ee.ready);else if(X.addEventListener)X.addEventListener("DOMContentLoaded",be,!1),f.addEventListener("load",be,!1);else{X.attachEvent("onreadystatechange",be),f.attachEvent("onload",be);var t=!1;try{t=null==f.frameElement&&X.documentElement}catch(Y){}t&&t.doScroll&&function G(){if(!Ee.isReady){try{t.doScroll("left")}catch(f){return setTimeout(G,50)}xe(),Ee.ready()}}()}return V.promise(e)},Ee.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){J["[object "+t+"]"]=t.toLowerCase()}),q=Ee(X),function(i,s){function b(e,t,i,n){var s,o,r,a,l,c,u,h,d,p;if((t?t.ownerDocument||t:z)!==D&&N(t),i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=(t=t||D).nodeType)&&9!==a)return[];if(O&&!n){if(s=ye.exec(e))if(r=s[1]){if(9===a){if(!(o=t.getElementById(r))||!o.parentNode)return i;if(o.id===r)return i.push(o),i}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(r))&&F(t,o)&&o.id===r)return i.push(o),i}else{if(s[2])return ee.apply(i,t.getElementsByTagName(e)),i;if((r=s[3])&&S.getElementsByClassName&&t.getElementsByClassName)return ee.apply(i,t.getElementsByClassName(r)),i}if(S.qsa&&(!L||!L.test(e))){if(h=u=j,d=t,p=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=f(e),(u=t.getAttribute("id"))?h=u.replace(be,"\\$&"):t.setAttribute("id",h),h="[id='"+h+"'] ",l=c.length;l--;)c[l]=h+m(c[l]);d=de.test(e)&&t.parentNode||t,p=c.join(",")}if(p)try{return ee.apply(i,d.querySelectorAll(p)),i}catch($){}finally{u||t.removeAttribute("id")}}}return v(e.replace(ce,"$1"),t,i,n)}function e(){function i(e,t){return n.push(e+=" ")>E.cacheLength&&delete i[n.shift()],i[e]=t}var n=[];return i}function l(e){return e[j]=!0,e}function n(e){var t=D.createElement("div");try{return!!e(t)}catch(w){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function t(e,t){for(var i=e.split("|"),n=e.length;n--;)E.attrHandle[i[n]]=t}function c(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||X)-(~e.sourceIndex||X);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function o(t){return function(e){return"input"===e.nodeName.toLowerCase()&&e.type===t}}function r(i){return function(e){var t=e.nodeName.toLowerCase();return("input"===t||"button"===t)&&e.type===i}}function a(r){return l(function(o){return o=+o,l(function(e,t){for(var i,n=r([],e.length,o),s=n.length;s--;)e[i=n[s]]&&(e[i]=!(t[i]=e[i]))})})}function u(){}function f(e,t){var i,n,s,o,r,a,l,c=U[e+" "];if(c)return t?0:c.slice(0);for(r=e,a=[],l=E.preFilter;r;){for(o in(!i||(n=ue.exec(r)))&&(n&&(r=r.slice(n[0].length)||r),a.push(s=[])),i=!1,(n=he.exec(r))&&(i=n.shift(),s.push({value:i,type:n[0].replace(ce," ")}),r=r.slice(i.length)),E.filter)!(n=ge[o].exec(r))||l[o]&&!(n=l[o](n))||(i=n.shift(),s.push({value:i,type:o,matches:n}),r=r.slice(i.length));if(!i)break}return t?r.length:r?b.error(e):U(e,a).slice(0)}function m(e){for(var t=0,i=e.length,n="";t<i;t++)n+=e[t].value;return n}function h(a,e,t){var l=e.dir,c=t&&"parentNode"===l,u=B++;return e.first?function(e,t,i){for(;e=e[l];)if(1===e.nodeType||c)return a(e,t,i)}:function(e,t,i){var n,s,o,r=$+" "+u;if(i){for(;e=e[l];)if((1===e.nodeType||c)&&a(e,t,i))return!0}else for(;e=e[l];)if(1===e.nodeType||c)if((s=(o=e[j]||(e[j]={}))[l])&&s[0]===r){if(!0===(n=s[1])||n===C)return!0===n}else if((s=o[l]=[r])[1]=a(e,t,i)||C,!0===s[1])return!0}}function d(s){return 1<s.length?function(e,t,i){for(var n=s.length;n--;)if(!s[n](e,t,i))return!1;return!0}:s[0]}function x(e,t,i,n,s){for(var o,r=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(!i||i(o,n,s))&&(r.push(o),c&&t.push(a));return r}function y(p,f,m,g,v,e){return g&&!g[j]&&(g=y(g)),v&&!v[j]&&(v=y(v,e)),l(function(e,t,i,n){var s,o,r,a=[],l=[],c=t.length,u=e||_(f||"*",i.nodeType?[i]:i,[]),h=!p||!e&&f?u:x(u,a,p,i,n),d=m?v||(e?p:c||g)?[]:t:h;if(m&&m(h,d,i,n),g)for(s=x(d,l),g(s,[],i,n),o=s.length;o--;)(r=s[o])&&(d[l[o]]=!(h[l[o]]=r));if(e){if(v||p){if(v){for(s=[],o=d.length;o--;)(r=d[o])&&s.push(h[o]=r);v(null,d=[],s,n)}for(o=d.length;o--;)(r=d[o])&&-1<(s=v?ie.call(e,r):a[o])&&(e[s]=!(t[s]=r))}}else d=x(d===t?d.splice(c,d.length):d),v?v(null,t,d,n):ee.apply(t,d)})}function p(e){for(var n,t,i,s=e.length,o=E.relative[e[0].type],r=o||E.relative[" "],a=o?1:0,l=h(function(e){return e===n},r,!0),c=h(function(e){return-1<ie.call(n,e)},r,!0),u=[function(e,t,i){return!o&&(i||t!==M)||((n=t).nodeType?l(e,t,i):c(e,t,i))}];a<s;a++)if(t=E.relative[e[a].type])u=[h(d(u),t)];else{if((t=E.filter[e[a].type].apply(null,e[a].matches))[j]){for(i=++a;i<s&&!E.relative[e[i].type];i++);return y(1<a&&d(u),1<a&&m(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ce,"$1"),t,a<i&&p(e.slice(a,i)),i<s&&p(e=e.slice(i)),i<s&&m(e))}u.push(t)}return d(u)}function g(g,v){var y=0,_=0<v.length,w=0<g.length,e=function(e,t,i,n,s){var o,r,a,l=[],c=0,u="0",h=e&&[],d=null!=s,p=M,f=e||w&&E.find.TAG("*",s&&t.parentNode||t),m=$+=null==p?1:Math.random()||.1;for(d&&(M=t!==D&&t,C=y);null!=(o=f[u]);u++){if(w&&o){for(r=0;a=g[r++];)if(a(o,t,i)){n.push(o);break}d&&($=m,C=++y)}_&&((o=!a&&o)&&c--,e&&h.push(o))}if(c+=u,_&&u!==c){for(r=0;a=v[r++];)a(h,l,t,i);if(e){if(0<c)for(;u--;)h[u]||l[u]||(l[u]=Q.call(n));l=x(l)}ee.apply(n,l),d&&!e&&0<l.length&&1<c+v.length&&b.uniqueSort(n)}return d&&($=m,M=p),h};return _?l(e):e}function _(e,t,i){for(var n=0,s=t.length;n<s;n++)b(e,t[n],i);return i}function v(e,t,i,n){var s,o,r,a,l,c=f(e);if(!n&&1===c.length){if(2<(o=c[0]=c[0].slice(0)).length&&"ID"===(r=o[0]).type&&S.getById&&9===t.nodeType&&O&&E.relative[o[1].type]){if(!(t=(E.find.ID(r.matches[0].replace(xe,Se),t)||[])[0]))return i;e=e.slice(o.shift().value.length)}for(s=ge.needsContext.test(e)?0:o.length;s--&&(r=o[s],!E.relative[a=r.type]);)if((l=E.find[a])&&(n=l(r.matches[0].replace(xe,Se),de.test(o[0].type)&&t.parentNode||t))){if(o.splice(s,1),!(e=n.length&&m(o)))return ee.apply(i,n),i;break}}return R(e,c)(n,t,!O,i,de.test(e)),i}var w,S,C,E,T,k,R,M,P,N,D,I,O,L,A,H,F,j="sizzle"+-new Date,z=i.document,$=0,B=0,W=e(),U=e(),V=e(),q=!1,Y=function(e,t){return e===t&&(q=!0),0},G=typeof s,X=1<<31,Z={}.hasOwnProperty,K=[],Q=K.pop,J=K.push,ee=K.push,te=K.slice,ie=K.indexOf||function(e){for(var t=0,i=this.length;t<i;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",se="[\\x20\\t\\r\\n\\f]",oe="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=oe.replace("w","w#"),ae="\\["+se+"*("+oe+")"+se+"*(?:([*^$|!~]?=)"+se+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+re+")|)|)"+se+"*\\]",le=":("+oe+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ae.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+se+"+|((?:^|[^\\\\])(?:\\\\.)*)"+se+"+$","g"),ue=RegExp("^"+se+"*,"+se+"*"),he=RegExp("^"+se+"*([>+~]|"+se+")"+se+"*"),de=RegExp(se+"*[+~]"),pe=RegExp("="+se+"*([^\\]'\"]*)"+se+"*\\]","g"),fe=RegExp(le),me=RegExp("^"+re+"$"),ge={ID:RegExp("^#("+oe+")"),CLASS:RegExp("^\\.("+oe+")"),TAG:RegExp("^("+oe.replace("w","w*")+")"),ATTR:RegExp("^"+ae),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+se+"*(even|odd|(([+-]|)(\\d*)n|)"+se+"*(?:([+-]|)"+se+"*(\\d+)|))"+se+"*\\)|)","i"),bool:RegExp("^(?:"+ne+")$","i"),needsContext:RegExp("^"+se+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+se+"*((?:-\\d)?\\d*)"+se+"*\\)|)(?=[^-]|$)","i")},ve=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_e=/^(?:input|select|textarea|button)$/i,we=/^h\d$/i,be=/'|\\/g,xe=RegExp("\\\\([\\da-f]{1,6}"+se+"?|("+se+")|.)","ig"),Se=function(e,t,i){var n="0x"+t-65536;return n!=n||i?t:n<0?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{ee.apply(K=te.call(z.childNodes),z.childNodes),K[z.childNodes.length].nodeType}catch(Ce){ee={apply:K.length?function(e,t){J.apply(e,te.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}for(w in k=b.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},S=b.support={},N=b.setDocument=function(e){var l=e?e.ownerDocument||e:z,t=l.defaultView;return l!==D&&9===l.nodeType&&l.documentElement?(I=(D=l).documentElement,O=!k(l),t&&t.attachEvent&&t!==t.top&&t.attachEvent("onbeforeunload",function(){N()}),S.attributes=n(function(e){return e.className="i",!e.getAttribute("className")}),S.getElementsByTagName=n(function(e){return e.appendChild(l.createComment("")),!e.getElementsByTagName("*").length}),S.getElementsByClassName=n(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),S.getById=n(function(e){return I.appendChild(e).id=j,!l.getElementsByName||!l.getElementsByName(j).length}),S.getById?(E.find.ID=function(e,t){if(typeof t.getElementById!==G&&O){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},E.filter.ID=function(e){var t=e.replace(xe,Se);return function(e){return e.getAttribute("id")===t}}):(delete E.find.ID,E.filter.ID=function(e){var i=e.replace(xe,Se);return function(e){var t=typeof e.getAttributeNode!==G&&e.getAttributeNode("id");return t&&t.value===i}}),E.find.TAG=S.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==G?t.getElementsByTagName(e):s}:function(e,t){var i,n=[],s=0,o=t.getElementsByTagName(e);if("*"!==e)return o;for(;i=o[s++];)1===i.nodeType&&n.push(i);return n},E.find.CLASS=S.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==G&&O?t.getElementsByClassName(e):s},A=[],L=[],(S.qsa=ve.test(l.querySelectorAll))&&(n(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||L.push("\\["+se+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||L.push(":checked")}),n(function(e){var t=l.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&L.push("[*^$]="+se+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||L.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),L.push(",.*:")})),(S.matchesSelector=ve.test(H=I.webkitMatchesSelector||I.mozMatchesSelector||I.oMatchesSelector||I.msMatchesSelector))&&n(function(e){S.disconnectedMatch=H.call(e,"div"),H.call(e,"[s!='']:x"),A.push("!=",le)}),L=L.length&&RegExp(L.join("|")),A=A.length&&RegExp(A.join("|")),F=ve.test(I.contains)||I.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},Y=I.compareDocumentPosition?function(e,t){if(e===t)return q=!0,0;var i=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return i?1&i||!S.sortDetached&&t.compareDocumentPosition(e)===i?e===l||F(z,e)?-1:t===l||F(z,t)?1:P?ie.call(P,e)-ie.call(P,t):0:4&i?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var i,n=0,s=e.parentNode,o=t.parentNode,r=[e],a=[t];if(e===t)return q=!0,0;if(!s||!o)return e===l?-1:t===l?1:s?-1:o?1:P?ie.call(P,e)-ie.call(P,t):0;if(s===o)return c(e,t);for(i=e;i=i.parentNode;)r.unshift(i);for(i=t;i=i.parentNode;)a.unshift(i);for(;r[n]===a[n];)n++;return n?c(r[n],a[n]):r[n]===z?-1:a[n]===z?1:0},l):D},b.matches=function(e,t){return b(e,null,null,t)},b.matchesSelector=function(e,t){if((e.ownerDocument||e)!==D&&N(e),t=t.replace(pe,"='$1']"),!(!S.matchesSelector||!O||A&&A.test(t)||L&&L.test(t)))try{var i=H.call(e,t);if(i||S.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(C){}return 0<b(t,D,null,[e]).length},b.contains=function(e,t){return(e.ownerDocument||e)!==D&&N(e),F(e,t)},b.attr=function(e,t){(e.ownerDocument||e)!==D&&N(e);var i=E.attrHandle[t.toLowerCase()],n=i&&Z.call(E.attrHandle,t.toLowerCase())?i(e,t,!O):s;return n===s?S.attributes||!O?e.getAttribute(t):(n=e.getAttributeNode(t))&&n.specified?n.value:null:n},
b.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},b.uniqueSort=function(e){var t,i=[],n=0,s=0;if(q=!S.detectDuplicates,P=!S.sortStable&&e.slice(0),e.sort(Y),q){for(;t=e[s++];)t===e[s]&&(n=i.push(s));for(;n--;)e.splice(i[n],1)}return e},T=b.getText=function(e){var t,i="",n=0,s=e.nodeType;if(s){if(1===s||9===s||11===s){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=T(e)}else if(3===s||4===s)return e.nodeValue}else for(;t=e[n];n++)i+=T(t);return i},(E=b.selectors={cacheLength:50,createPseudo:l,match:ge,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(xe,Se),e[3]=(e[4]||e[5]||"").replace(xe,Se),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||b.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&b.error(e[0]),e},PSEUDO:function(e){var t,i=!e[5]&&e[2];return ge.CHILD.test(e[0])?null:(e[3]&&e[4]!==s?e[2]=e[4]:i&&fe.test(i)&&(t=f(i,!0))&&(t=i.indexOf(")",i.length-t)-i.length)&&(e[0]=e[0].slice(0,t),e[2]=i.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(xe,Se).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=W[e+" "];return t||(t=RegExp("(^|"+se+")"+e+"("+se+"|$)"))&&W(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==G&&e.getAttribute("class")||"")})},ATTR:function(i,n,s){return function(e){var t=b.attr(e,i);return null==t?"!="===n:!n||(t+="","="===n?t===s:"!="===n?t!==s:"^="===n?s&&0===t.indexOf(s):"*="===n?s&&-1<t.indexOf(s):"$="===n?s&&t.slice(-s.length)===s:"~="===n?-1<(" "+t+" ").indexOf(s):"|="===n&&(t===s||t.slice(0,s.length+1)===s+"-"))}},CHILD:function(p,e,t,f,m){var g="nth"!==p.slice(0,3),v="last"!==p.slice(-4),y="of-type"===e;return 1===f&&0===m?function(e){return!!e.parentNode}:function(e,t,i){var n,s,o,r,a,l,c=g!==v?"nextSibling":"previousSibling",u=e.parentNode,h=y&&e.nodeName.toLowerCase(),d=!i&&!y;if(u){if(g){for(;c;){for(o=e;o=o[c];)if(y?o.nodeName.toLowerCase()===h:1===o.nodeType)return!1;l=c="only"===p&&!l&&"nextSibling"}return!0}if(l=[v?u.firstChild:u.lastChild],v&&d){for(a=(n=(s=u[j]||(u[j]={}))[p]||[])[0]===$&&n[1],r=n[0]===$&&n[2],o=a&&u.childNodes[a];o=++a&&o&&o[c]||(r=a=0)||l.pop();)if(1===o.nodeType&&++r&&o===e){s[p]=[$,a,r];break}}else if(d&&(n=(e[j]||(e[j]={}))[p])&&n[0]===$)r=n[1];else for(;(o=++a&&o&&o[c]||(r=a=0)||l.pop())&&((y?o.nodeName.toLowerCase()!==h:1!==o.nodeType)||!++r||(d&&((o[j]||(o[j]={}))[p]=[$,r]),o!==e)););return(r-=m)===f||0==r%f&&0<=r/f}}},PSEUDO:function(e,o){var t,r=E.pseudos[e]||E.setFilters[e.toLowerCase()]||b.error("unsupported pseudo: "+e);return r[j]?r(o):1<r.length?(t=[e,e,"",o],E.setFilters.hasOwnProperty(e.toLowerCase())?l(function(e,t){for(var i,n=r(e,o),s=n.length;s--;)e[i=ie.call(e,n[s])]=!(t[i]=n[s])}):function(e){return r(e,0,t)}):r}},pseudos:{not:l(function(e){var n=[],s=[],a=R(e.replace(ce,"$1"));return a[j]?l(function(e,t,i,n){for(var s,o=a(e,null,n,[]),r=e.length;r--;)(s=o[r])&&(e[r]=!(t[r]=s))}):function(e,t,i){return n[0]=e,a(n,null,i,s),!s.pop()}}),has:l(function(t){return function(e){return 0<b(t,e).length}}),contains:l(function(t){return function(e){return-1<(e.textContent||e.innerText||T(e)).indexOf(t)}}),lang:l(function(i){return me.test(i||"")||b.error("unsupported lang: "+i),i=i.replace(xe,Se).toLowerCase(),function(e){var t;do{if(t=O?e.lang:e.getAttribute("xml:lang")||e.getAttribute("lang"))return(t=t.toLowerCase())===i||0===t.indexOf(i+"-")}while((e=e.parentNode)&&1===e.nodeType);return!1}}),target:function(e){var t=i.location&&i.location.hash;return t&&t.slice(1)===e.id},root:function(e){return e===I},focus:function(e){return e===D.activeElement&&(!D.hasFocus||D.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if("@"<e.nodeName||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!E.pseudos.empty(e)},header:function(e){return we.test(e.nodeName)},input:function(e){return _e.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:a(function(){return[0]}),last:a(function(e,t){return[t-1]}),eq:a(function(e,t,i){return[i<0?i+t:i]}),even:a(function(e,t){for(var i=0;i<t;i+=2)e.push(i);return e}),odd:a(function(e,t){for(var i=1;i<t;i+=2)e.push(i);return e}),lt:a(function(e,t,i){for(var n=i<0?i+t:i;0<=--n;)e.push(n);return e}),gt:a(function(e,t,i){for(var n=i<0?i+t:i;t>++n;)e.push(n);return e})}}).pseudos.nth=E.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})E.pseudos[w]=o(w);for(w in{submit:!0,reset:!0})E.pseudos[w]=r(w);u.prototype=E.filters=E.pseudos,E.setFilters=new u,R=b.compile=function(e,t){var i,n=[],s=[],o=V[e+" "];if(!o){for(t||(t=f(e)),i=t.length;i--;)(o=p(t[i]))[j]?n.push(o):s.push(o);o=V(e,g(s,n))}return o},S.sortStable=j.split("").sort(Y).join("")===j,S.detectDuplicates=q,N(),S.sortDetached=n(function(e){return 1&e.compareDocumentPosition(D.createElement("div"))}),n(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||t("type|href|height|width",function(e,t,i){return i?s:e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),S.attributes&&n(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||t("value",function(e,t,i){return i||"input"!==e.nodeName.toLowerCase()?s:e.defaultValue}),n(function(e){return null==e.getAttribute("disabled")})||t(ne,function(e,t,i){var n;return i?s:(n=e.getAttributeNode(t))&&n.specified?n.value:!0===e[t]?t.toLowerCase():null}),Ee.find=b,Ee.expr=b.selectors,Ee.expr[":"]=Ee.expr.pseudos,Ee.unique=b.uniqueSort,Ee.text=b.getText,Ee.isXMLDoc=b.isXML,Ee.contains=b.contains}(f);var Se={};Ee.Callbacks=function(s){s="string"==typeof s?Se[s]||e(s):Ee.extend({},s);var o,t,i,r,n,a,l=[],c=!s.once&&[],u=function(e){for(t=s.memory&&e,i=!0,n=a||0,a=0,r=l.length,o=!0;l&&n<r;n++)if(!1===l[n].apply(e[0],e[1])&&s.stopOnFalse){t=!1;break}o=!1,l&&(c?c.length&&u(c.shift()):t?l=[]:h.disable())},h={add:function(){if(l){var e=l.length;(function n(e){Ee.each(e,function(e,t){var i=Ee.type(t);"function"===i?s.unique&&h.has(t)||l.push(t):t&&t.length&&"string"!==i&&n(t)})})(arguments),o?r=l.length:t&&(a=e,u(t))}return this},remove:function(){return l&&Ee.each(arguments,function(e,t){for(var i;-1<(i=Ee.inArray(t,l,i));)l.splice(i,1),o&&(i<=r&&r--,i<=n&&n--)}),this},has:function(e){return e?-1<Ee.inArray(e,l):!(!l||!l.length)},empty:function(){return l=[],r=0,this},disable:function(){return l=c=t=S,this},disabled:function(){return!l},lock:function(){return c=S,t||h.disable(),this},locked:function(){return!c},fireWith:function(e,t){return!l||i&&!c||(t=[e,(t=t||[]).slice?t.slice():t],o?c.push(t):u(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!i}};return h},Ee.extend({Deferred:function(e){var r=[["resolve","done",Ee.Callbacks("once memory"),"resolved"],["reject","fail",Ee.Callbacks("once memory"),"rejected"],["notify","progress",Ee.Callbacks("memory")]],s="pending",a={state:function(){return s},always:function(){return l.done(arguments).fail(arguments),this},then:function(){var o=arguments;return Ee.Deferred(function(s){Ee.each(r,function(e,t){var i=t[0],n=Ee.isFunction(o[e])&&o[e];l[t[1]](function(){var e=n&&n.apply(this,arguments);e&&Ee.isFunction(e.promise)?e.promise().done(s.resolve).fail(s.reject).progress(s.notify):s[i+"With"](this===a?s.promise():this,n?[e]:arguments)})}),o=null}).promise()},promise:function(e){return null!=e?Ee.extend(e,a):a}},l={};return a.pipe=a.then,Ee.each(r,function(e,t){var i=t[2],n=t[3];a[t[1]]=i.add,n&&i.add(function(){s=n},r[1^e][2].disable,r[2][2].lock),l[t[0]]=function(){return l[t[0]+"With"](this===l?a:this,arguments),this},l[t[0]+"With"]=i.fireWith}),a.promise(l),e&&e.call(l,l),l},when:function(e){var s,t,i,n=0,o=se.call(arguments),r=o.length,a=1!==r||e&&Ee.isFunction(e.promise)?r:0,l=1===a?e:Ee.Deferred(),c=function(t,i,n){return function(e){i[t]=this,n[t]=1<arguments.length?se.call(arguments):e,n===s?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(1<r)for(s=Array(r),t=Array(r),i=Array(r);n<r;n++)o[n]&&Ee.isFunction(o[n].promise)?o[n].promise().done(c(n,i,o)).fail(l.reject).progress(c(n,t,s)):--a;return a||l.resolveWith(i,o),l.promise()}}),Ee.support=function(o){var e,t,i,n,s,r,a,l,c,u=X.createElement("div");if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",e=u.getElementsByTagName("*")||[],!(t=u.getElementsByTagName("a")[0])||!t.style||!e.length)return o;r=(n=X.createElement("select")).appendChild(X.createElement("option")),i=u.getElementsByTagName("input")[0],t.style.cssText="top:1px;float:left;opacity:.5",o.getSetAttribute="t"!==u.className,o.leadingWhitespace=3===u.firstChild.nodeType,o.tbody=!u.getElementsByTagName("tbody").length,o.htmlSerialize=!!u.getElementsByTagName("link").length,o.style=/top/.test(t.getAttribute("style")),o.hrefNormalized="/a"===t.getAttribute("href"),o.opacity=/^0.5/.test(t.style.opacity),o.cssFloat=!!t.style.cssFloat,o.checkOn=!!i.value,o.optSelected=r.selected,o.enctype=!!X.createElement("form").enctype,o.html5Clone="<:nav></:nav>"!==X.createElement("nav").cloneNode(!0).outerHTML,o.inlineBlockNeedsLayout=!1,o.shrinkWrapBlocks=!1,o.pixelPosition=!1,o.deleteExpando=!0,o.noCloneEvent=!0,o.reliableMarginRight=!0,o.boxSizingReliable=!0,i.checked=!0,o.noCloneChecked=i.cloneNode(!0).checked,n.disabled=!0,o.optDisabled=!r.disabled;try{delete u.test}catch(ne){o.deleteExpando=!1}for(c in(i=X.createElement("input")).setAttribute("value",""),o.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),o.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),(s=X.createDocumentFragment()).appendChild(i),o.appendChecked=i.checked,o.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){o.noCloneEvent=!1}),u.cloneNode(!0).click()),{submit:!0,change:!0,focusin:!0})u.setAttribute(a="on"+c,"t"),o[c+"Bubbles"]=a in f||!1===u.attributes[a].expando;for(c in u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",o.clearCloneStyle="content-box"===u.style.backgroundClip,Ee(o))break;return o.ownLast="0"!==c,Ee(function(){var e,t,i,n="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",s=X.getElementsByTagName("body")[0];s&&((e=X.createElement("div")).style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",s.appendChild(e).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",(i=u.getElementsByTagName("td"))[0].style.cssText="padding:0;margin:0;border:0;display:none",l=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",o.reliableHiddenOffsets=l&&0===i[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",Ee.swap(s,null!=s.style.zoom?{zoom:1}:{},function(){o.boxSizing=4===u.offsetWidth}),f.getComputedStyle&&(o.pixelPosition="1%"!==(f.getComputedStyle(u,null)||{}).top,o.boxSizingReliable="4px"===(f.getComputedStyle(u,null)||{width:"4px"}).width,(t=u.appendChild(X.createElement("div"))).style.cssText=u.style.cssText=n,t.style.marginRight=t.style.width="0",u.style.width="1px",o.reliableMarginRight=!parseFloat((f.getComputedStyle(t,null)||{}).marginRight)),typeof u.style.zoom!==Y&&(u.innerHTML="",u.style.cssText=n+"width:1px;padding:1px;display:inline;zoom:1",o.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",o.shrinkWrapBlocks=3!==u.offsetWidth,o.inlineBlockNeedsLayout&&(s.style.zoom=1)),s.removeChild(e),e=u=i=t=null)}),e=n=s=r=t=i=null,o}({});var Te=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,ke=/([A-Z])/g;Ee.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return!!(e=e.nodeType?Ee.cache[e[Ee.expando]]:e[Ee.expando])&&!c(e)},data:function(e,t,i){return n(e,t,i)},removeData:function(e,t){return i(e,t)},_data:function(e,t,i){return n(e,t,i,!0)},_removeData:function(e,t){return i(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&Ee.noData[e.nodeName.toLowerCase()];return!t||!0!==t&&e.getAttribute("classid")===t}}),Ee.fn.extend({data:function(e,t){var i,n,s=null,o=0,r=this[0];if(e!==S)return"object"==typeof e?this.each(function(){Ee.data(this,e)}):1<arguments.length?this.each(function(){Ee.data(this,e,t)}):r?l(r,e,Ee.data(r,e)):null;if(this.length&&(s=Ee.data(r),1===r.nodeType&&!Ee._data(r,"parsedAttrs"))){for(i=r.attributes;i.length>o;o++)0===(n=i[o].name).indexOf("data-")&&l(r,n=Ee.camelCase(n.slice(5)),s[n]);Ee._data(r,"parsedAttrs",!0)}return s},removeData:function(e){return this.each(function(){Ee.removeData(this,e)})}}),Ee.extend({queue:function(e,t,i){var n;return e?(t=(t||"fx")+"queue",n=Ee._data(e,t),i&&(!n||Ee.isArray(i)?n=Ee._data(e,t,Ee.makeArray(i)):n.push(i)),n||[]):S},dequeue:function(e,t){t=t||"fx";var i=Ee.queue(e,t),n=i.length,s=i.shift(),o=Ee._queueHooks(e,t),r=function(){Ee.dequeue(e,t)};"inprogress"===s&&(s=i.shift(),n--),s&&("fx"===t&&i.unshift("inprogress"),delete o.stop,s.call(e,r,o)),!n&&o&&o.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return Ee._data(e,i)||Ee._data(e,i,{empty:Ee.Callbacks("once memory").add(function(){Ee._removeData(e,t+"queue"),Ee._removeData(e,i)})})}}),Ee.fn.extend({queue:function(t,i){var e=2;return"string"!=typeof t&&(i=t,t="fx",e--),e>arguments.length?Ee.queue(this[0],t):i===S?this:this.each(function(){var e=Ee.queue(this,t,i);Ee._queueHooks(this,t),"fx"===t&&"inprogress"!==e[0]&&Ee.dequeue(this,t)})},dequeue:function(e){return this.each(function(){Ee.dequeue(this,e)})},delay:function(n,e){return n=Ee.fx&&Ee.fx.speeds[n]||n,e=e||"fx",this.queue(e,function(e,t){var i=setTimeout(e,n);t.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var i,n=1,s=Ee.Deferred(),o=this,r=this.length,a=function(){--n||s.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=S),e=e||"fx";r--;)(i=Ee._data(o[r],e+"queueHooks"))&&i.empty&&(n++,i.empty.add(a));return a(),s.promise(t)}});var Re,Me,Pe=/[\t\r\n\f]/g,Ne=/\r/g,De=/^(?:input|select|textarea|button|object)$/i,Ie=/^(?:a|area)$/i,Oe=/^(?:checked|selected)$/i,Le=Ee.support.getSetAttribute,Ae=Ee.support.input;Ee.fn.extend({attr:function(e,t){return Ee.access(this,Ee.attr,e,t,1<arguments.length)},removeAttr:function(e){return this.each(function(){Ee.removeAttr(this,e)})},prop:function(e,t){return Ee.access(this,Ee.prop,e,t,1<arguments.length)},removeProp:function(e){return e=Ee.propFix[e]||e,this.each(function(){try{this[e]=S,delete this[e]}catch(V){}})},addClass:function(t){var e,i,n,s,o,r=0,a=this.length,l="string"==typeof t&&t;if(Ee.isFunction(t))return this.each(function(e){Ee(this).addClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ue)||[];r<a;r++)if(n=1===(i=this[r]).nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):" ")){for(o=0;s=e[o++];)n.indexOf(" "+s+" ")<0&&(n+=s+" ");i.className=Ee.trim(n)}return this},removeClass:function(t){var e,i,n,s,o,r=0,a=this.length,l=0===arguments.length||"string"==typeof t&&t;if(Ee.isFunction(t))return this.each(function(e){Ee(this).removeClass(t.call(this,e,this.className))});if(l)for(e=(t||"").match(ue)||[];r<a;r++)if(n=1===(i=this[r]).nodeType&&(i.className?(" "+i.className+" ").replace(Pe," "):"")){for(o=0;s=e[o++];)for(;0<=n.indexOf(" "+s+" ");)n=n.replace(" "+s+" "," ");i.className=t?Ee.trim(n):""}return this},toggleClass:function(s,t){var o=typeof s;return"boolean"==typeof t&&"string"===o?t?this.addClass(s):this.removeClass(s):Ee.isFunction(s)?this.each(function(e){Ee(this).toggleClass(s.call(this,e,this.className,t),t)}):this.each(function(){if("string"===o)for(var e,t=0,i=Ee(this),n=s.match(ue)||[];e=n[t++];)i.hasClass(e)?i.removeClass(e):i.addClass(e);else(o===Y||"boolean"===o)&&(this.className&&Ee._data(this,"__className__",this.className),this.className=this.className||!1===s?"":Ee._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;i<n;i++)if(1===this[i].nodeType&&0<=(" "+this[i].className+" ").replace(Pe," ").indexOf(t))return!0;return!1},val:function(i){var e,n,s,t=this[0];return arguments.length?(s=Ee.isFunction(i),this.each(function(e){var t;1===this.nodeType&&(null==(t=s?i.call(this,e,Ee(this).val()):i)?t="":"number"==typeof t?t+="":Ee.isArray(t)&&(t=Ee.map(t,function(e){return null==e?"":e+""})),(n=Ee.valHooks[this.type]||Ee.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&n.set(this,t,"value")!==S||(this.value=t))})):t?(n=Ee.valHooks[t.type]||Ee.valHooks[t.nodeName.toLowerCase()])&&"get"in n&&(e=n.get(t,"value"))!==S?e:"string"==typeof(e=t.value)?e.replace(Ne,""):null==e?"":e:void 0}}),Ee.extend({valHooks:{option:{get:function(e){var t=Ee.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,s=e.selectedIndex,o="select-one"===e.type||s<0,r=o?null:[],a=o?s+1:n.length,l=s<0?a:o?s:0;l<a;l++)if(!(!(i=n[l]).selected&&l!==s||(Ee.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&Ee.nodeName(i.parentNode,"optgroup"))){if(t=Ee(i).val(),o)return t;r.push(t)}return r},set:function(e,t){for(var i,n,s=e.options,o=Ee.makeArray(t),r=s.length;r--;)((n=s[r]).selected=0<=Ee.inArray(Ee(n).val(),o))&&(i=!0);return i||(e.selectedIndex=-1),o}}},attr:function(e,t,i){var n,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return typeof e.getAttribute===Y?Ee.prop(e,t,i):(1===o&&Ee.isXMLDoc(e)||(t=t.toLowerCase(),n=Ee.attrHooks[t]||(Ee.expr.match.bool.test(t)?Me:Re)),i===S?n&&"get"in n&&null!==(s=n.get(e,t))?s:null==(s=Ee.find.attr(e,t))?S:s:null!==i?n&&"set"in n&&(s=n.set(e,i,t))!==S?s:(e.setAttribute(t,i+""),i):(Ee.removeAttr(e,t),S))},removeAttr:function(e,t){var i,n,s=0,o=t&&t.match(ue);if(o&&1===e.nodeType)for(;i=o[s++];)n=Ee.propFix[i]||i,Ee.expr.match.bool.test(i)?Ae&&Le||!Oe.test(i)?e[n]=!1:e[Ee.camelCase("default-"+i)]=e[n]=!1:Ee.attr(e,i,""),e.removeAttribute(Le?i:n)},attrHooks:{type:{set:function(e,t){if(!Ee.support.radioValue&&"radio"===t&&Ee.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,t,i){var n,s,o=e.nodeType;if(e&&3!==o&&8!==o&&2!==o)return(1!==o||!Ee.isXMLDoc(e))&&(t=Ee.propFix[t]||t,s=Ee.propHooks[t]),i!==S?s&&"set"in s&&(n=s.set(e,i,t))!==S?n:e[t]=i:s&&"get"in s&&null!==(n=s.get(e,t))?n:e[t]},propHooks:{tabIndex:{get:function(e){var t=Ee.find.attr(e,"tabindex");return t?parseInt(t,10):De.test(e.nodeName)||Ie.test(e.nodeName)&&e.href?0:-1}}}}),Me={set:function(e,t,i){return!1===t?Ee.removeAttr(e,i):Ae&&Le||!Oe.test(i)?e.setAttribute(!Le&&Ee.propFix[i]||i,i):e[Ee.camelCase("default-"+i)]=e[i]=!0,i}},Ee.each(Ee.expr.match.bool.source.match(/\w+/g),function(e,t){var o=Ee.expr.attrHandle[t]||Ee.find.attr;Ee.expr.attrHandle[t]=Ae&&Le||!Oe.test(t)?function(e,t,i){var n=Ee.expr.attrHandle[t],s=i?S:(Ee.expr.attrHandle[t]=S)!=o(e,t,i)?t.toLowerCase():null;return Ee.expr.attrHandle[t]=n,s}:function(e,t,i){return i?S:e[Ee.camelCase("default-"+t)]?t.toLowerCase():null}}),Ae&&Le||(Ee.attrHooks.value={set:function(e,t,i){return Ee.nodeName(e,"input")?(e.defaultValue=t,S):Re&&Re.set(e,t,i)}}),Le||(Re={set:function(e,t,i){var n=e.getAttributeNode(i);return n||e.setAttributeNode(n=e.ownerDocument.createAttribute(i)),n.value=t+="","value"===i||t===e.getAttribute(i)?t:S}},Ee.expr.attrHandle.id=Ee.expr.attrHandle.name=Ee.expr.attrHandle.coords=function(e,t,i){var n;return i?S:(n=e.getAttributeNode(t))&&""!==n.value?n.value:null},Ee.valHooks.button={get:function(e,t){var i=e.getAttributeNode(t);return i&&i.specified?i.value:S},set:Re.set},Ee.attrHooks.contenteditable={set:function(e,t,i){Re.set(e,""!==t&&t,i)}},Ee.each(["width","height"],function(e,i){Ee.attrHooks[i]={set:function(e,t){return""===t?(e.setAttribute(i,"auto"),t):S}}})),Ee.support.hrefNormalized||Ee.each(["href","src"],function(e,t){Ee.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),Ee.support.style||(Ee.attrHooks.style={get:function(e){return e.style.cssText||S},set:function(e,t){return e.style.cssText=t+""}}),Ee.support.optSelected||(Ee.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),Ee.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){Ee.propFix[this.toLowerCase()]=this}),Ee.support.enctype||(Ee.propFix.enctype="encoding"),Ee.each(["radio","checkbox"],function(){Ee.valHooks[this]={set:function(e,t){return Ee.isArray(t)?e.checked=0<=Ee.inArray(Ee(e).val(),t):S}},Ee.support.checkOn||(Ee.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var He=/^(?:input|select|textarea)$/i,Fe=/^key/,je=/^(?:mouse|contextmenu)|click/,ze=/^(?:focusinfocus|focusoutblur)$/,$e=/^([^.]*)(?:\.(.+)|)$/;Ee.event={global:{},add:function(e,t,i,n,s){var o,r,a,l,c,u,h,d,p,f,m,g=Ee._data(e);if(g){for(i.handler&&(i=(l=i).handler,s=l.selector),i.guid||(i.guid=Ee.guid++),(r=g.events)||(r=g.events={}),(u=g.handle)||((u=g.handle=function(e){return typeof Ee===Y||e&&Ee.event.triggered===e.type?S:Ee.event.dispatch.apply(u.elem,arguments)}).elem=e),a=(t=(t||"").match(ue)||[""]).length;a--;)p=m=(o=$e.exec(t[a])||[])[1],f=(o[2]||"").split(".").sort(),p&&(c=Ee.event.special[p]||{},p=(s?c.delegateType:c.bindType)||p,c=Ee.event.special[p]||{},h=Ee.extend({type:p,origType:m,data:n,handler:i,guid:i.guid,selector:s,needsContext:s&&Ee.expr.match.needsContext.test(s),namespace:f.join(".")},l),(d=r[p])||((d=r[p]=[]).delegateCount=0,c.setup&&!1!==c.setup.call(e,n,f,u)||(e.addEventListener?e.addEventListener(p,u,!1):e.attachEvent&&e.attachEvent("on"+p,u))),c.add&&(c.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),s?d.splice(d.delegateCount++,0,h):d.push(h),Ee.event.global[p]=!0);e=null}},remove:function(e,t,i,n,s){var o,r,a,l,c,u,h,d,p,f,m,g=Ee.hasData(e)&&Ee._data(e);if(g&&(u=g.events)){for(c=(t=(t||"").match(ue)||[""]).length;c--;)if(p=m=(a=$e.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=Ee.event.special[p]||{},d=u[p=(n?h.delegateType:h.bindType)||p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=o=d.length;o--;)r=d[o],!s&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(d.splice(o,1),r.selector&&d.delegateCount--,h.remove&&h.remove.call(e,r));l&&!d.length&&(h.teardown&&!1!==h.teardown.call(e,f,g.handle)||Ee.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)Ee.event.remove(e,p+t[c],i,n,!0);Ee.isEmptyObject(u)&&(delete g.handle,Ee._removeData(e,"events"))}},trigger:function(e,t,i,n){var s,o,r,a,l,c,u,h=[i||X],d=ae.call(e,"type")?e.type:e,p=ae.call(e,"namespace")?e.namespace.split("."):[];if(r=c=i=i||X,3!==i.nodeType&&8!==i.nodeType&&!ze.test(d+Ee.event.triggered)&&(0<=d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),o=d.indexOf(":")<0&&"on"+d,(e=e[Ee.expando]?e:new Ee.Event(d,"object"==typeof e&&e)).isTrigger=n?2:3,e.namespace=p.join("."),e.namespace_re=e.namespace?RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=S,e.target||(e.target=i),t=null==t?[e]:Ee.makeArray(t,[e]),l=Ee.event.special[d]||{},n||!l.trigger||!1!==l.trigger.apply(i,t))){if(!n&&!l.noBubble&&!Ee.isWindow(i)){for(a=l.delegateType||d,ze.test(a+d)||(r=r.parentNode);r;r=r.parentNode)h.push(r),c=r;c===(i.ownerDocument||X)&&h.push(c.defaultView||c.parentWindow||f)}for(u=0;(r=h[u++])&&!e.isPropagationStopped();)e.type=1<u?a:l.bindType||d,(s=(Ee._data(r,"events")||{})[e.type]&&Ee._data(r,"handle"))&&s.apply(r,t),(s=o&&r[o])&&Ee.acceptData(r)&&s.apply&&!1===s.apply(r,t)&&e.preventDefault();if(e.type=d,!n&&!e.isDefaultPrevented()&&(!l._default||!1===l._default.apply(h.pop(),t))&&Ee.acceptData(i)&&o&&i[d]&&!Ee.isWindow(i)){(c=i[o])&&(i[o]=null),Ee.event.triggered=d;try{i[d]()}catch(re){}Ee.event.triggered=S,c&&(i[o]=c)}return e.result}},dispatch:function(e){e=Ee.event.fix(e);var t,i,n,s,o,r=[],a=se.call(arguments),l=(Ee._data(this,"events")||{})[e.type]||[],c=Ee.event.special[e.type]||{};if((a[0]=e).delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(r=Ee.event.handlers.call(this,e,l),t=0;(s=r[t++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,o=0;(n=s.handlers[o++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(n.namespace))&&(e.handleObj=n,e.data=n.data,(i=((Ee.event.special[n.origType]||{}).handle||n.handler).apply(s.elem,a))!==S&&!1===(e.result=i)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var i,n,s,o,r=[],a=t.delegateCount,l=e.target;if(a&&l.nodeType&&(!e.button||"click"!==e.type))for(;l!=this;l=l.parentNode||this)if(1===l.nodeType&&(!0!==l.disabled||"click"!==e.type)){for(s=[],o=0;o<a;o++)s[i=(n=t[o]).selector+" "]===S&&(s[i]=n.needsContext?0<=Ee(i,this).index(l):Ee.find(i,this,null,[l]).length),s[i]&&s.push(n);s.length&&r.push({elem:l,handlers:s})}return t.length>a&&r.push({elem:this,handlers:t.slice(a)}),r},fix:function(e){if(e[Ee.expando])return e;var t,i,n,s=e.type,o=e,r=this.fixHooks[s];for(r||(this.fixHooks[s]=r=je.test(s)?this.mouseHooks:Fe.test(s)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new Ee.Event(o),t=n.length;t--;)e[i=n[t]]=o[i];return e.target||(e.target=o.srcElement||X),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,o):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var i,n,s,o=t.button,r=t.fromElement;return null==e.pageX&&null!=t.clientX&&(s=(n=e.target.ownerDocument||X).documentElement,i=n.body,e.pageX=t.clientX+(s&&s.scrollLeft||i&&i.scrollLeft||0)-(s&&s.clientLeft||i&&i.clientLeft||0),e.pageY=t.clientY+(s&&s.scrollTop||i&&i.scrollTop||0)-(s&&s.clientTop||i&&i.clientTop||0)),!e.relatedTarget&&r&&(e.relatedTarget=r===e.target?t.toElement:r),e.which||o===S||(e.which=1&o?1:2&o?3:4&o?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==t()&&this.focus)try{return this.focus(),!1}catch(f){}},delegateType:"focusin"},blur:{trigger:function(){return this===t()&&this.blur?(this.blur(),!1):S},delegateType:"focusout"},click:{trigger:function(){return Ee.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):S},_default:function(e){return Ee.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==S&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var s=Ee.extend(new Ee.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?Ee.event.trigger(s,null,t):Ee.event.dispatch.call(t,s),s.isDefaultPrevented()&&i.preventDefault()}},Ee.removeEvent=X.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===Y&&(e[n]=null),e.detachEvent(n,i))},Ee.Event=function(e,t){return this instanceof Ee.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||!1===e.returnValue||e.getPreventDefault&&e.getPreventDefault()?s:Ce):this.type=e,t&&Ee.extend(this,t),this.timeStamp=e&&e.timeStamp||Ee.now(),this[Ee.expando]=!0,S):new Ee.Event(e,t)},Ee.Event.prototype={isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=s,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=s,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=s,this.stopPropagation()}},Ee.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,o){Ee.event.special[e]={delegateType:o,bindType:o,handle:function(e){var t,i=this,n=e.relatedTarget,s=e.handleObj;return(!n||n!==i&&!Ee.contains(i,n))&&(e.type=s.origType,t=s.handler.apply(this,arguments),e.type=o),t}}}),Ee.support.submitBubbles||(Ee.event.special.submit={setup:function(){return!Ee.nodeName(this,"form")&&(Ee.event.add(this,"click._submit keypress._submit",function(e){var t=e.target,i=Ee.nodeName(t,"input")||Ee.nodeName(t,"button")?t.form:S;i&&!Ee._data(i,"submitBubbles")&&(Ee.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Ee._data(i,"submitBubbles",!0))}),S)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Ee.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return!Ee.nodeName(this,"form")&&(Ee.event.remove(this,"._submit"),S)}}),Ee.support.changeBubbles||(Ee.event.special.change={setup:function(){return He.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Ee.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Ee.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Ee.event.simulate("change",this,e,!0)})),!1):(Ee.event.add(this,"beforeactivate._change",function(e){var t=e.target;He.test(t.nodeName)&&!Ee._data(t,"changeBubbles")&&(Ee.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Ee.event.simulate("change",this.parentNode,e,!0)}),Ee._data(t,"changeBubbles",!0))}),S)},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):S},teardown:function(){return Ee.event.remove(this,"._change"),!He.test(this.nodeName)}}),Ee.support.focusinBubbles||Ee.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){Ee.event.simulate(t,e.target,Ee.event.fix(e),!0)};Ee.event.special[t]={setup:function(){0==i++&&X.addEventListener(e,n,!0)},teardown:function(){0==--i&&X.removeEventListener(e,n,!0)}}}),Ee.fn.extend({on:function(e,t,i,n,s){var o,r;if("object"==typeof e){for(o in"string"!=typeof t&&(i=i||t,t=S),e)this.on(o,t,i,e[o],s);return this}if(null==i&&null==n?(n=t,i=t=S):null==n&&("string"==typeof t?(n=i,i=S):(n=i,i=t,t=S)),!1===n)n=Ce;else if(!n)return this;return 1===s&&(r=n,(n=function(e){return Ee().off(e),r.apply(this,arguments)}).guid=r.guid||(r.guid=Ee.guid++)),this.each(function(){Ee.event.add(this,e,n,i,t)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,t,i){var n,s;if(e&&e.preventDefault&&e.handleObj)return n=e.handleObj,Ee(e.delegateTarget).off(n.namespace?n.origType+"."+n.namespace:n.origType,n.selector,n.handler),this;if("object"!=typeof e)return(!1===t||"function"==typeof t)&&(i=t,t=S),!1===i&&(i=Ce),this.each(function(){Ee.event.remove(this,e,i,t)});for(s in e)this.off(s,t,e[s]);return this},trigger:function(e,t){return this.each(function(){Ee.event.trigger(e,t,this)})},triggerHandler:function(e,t){var i=this[0];return i?Ee.event.trigger(e,t,i,!0):S}});var Be=/^.[^:#\[\.,]*$/,We=/^(?:parents|prev(?:Until|All))/,Ue=Ee.expr.match.needsContext,Ve={children:!0,contents:!0,next:!0,prev:!0};Ee.fn.extend({find:function(e){var t,i=[],n=this,s=n.length;if("string"!=typeof e)return this.pushStack(Ee(e).filter(function(){for(t=0;t<s;t++)if(Ee.contains(n[t],this))return!0}));for(t=0;t<s;t++)Ee.find(e,n[t],i);return(
i=this.pushStack(1<s?Ee.unique(i):i)).selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=Ee(e,this),n=i.length;return this.filter(function(){for(t=0;t<n;t++)if(Ee.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(r(this,e||[],!0))},filter:function(e){return this.pushStack(r(this,e||[],!1))},is:function(e){return!!r(this,"string"==typeof e&&Ue.test(e)?Ee(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,s=this.length,o=[],r=Ue.test(e)||"string"!=typeof e?Ee(e,t||this.context):0;n<s;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(i.nodeType<11&&(r?-1<r.index(i):1===i.nodeType&&Ee.find.matchesSelector(i,e))){i=o.push(i);break}return this.pushStack(1<o.length?Ee.unique(o):o)},index:function(e){return e?"string"==typeof e?Ee.inArray(this[0],Ee(e)):Ee.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?Ee(e,t):Ee.makeArray(e&&e.nodeType?[e]:e),n=Ee.merge(this.get(),i);return this.pushStack(Ee.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Ee.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Ee.dir(e,"parentNode")},parentsUntil:function(e,t,i){return Ee.dir(e,"parentNode",i)},next:function(e){return o(e,"nextSibling")},prev:function(e){return o(e,"previousSibling")},nextAll:function(e){return Ee.dir(e,"nextSibling")},prevAll:function(e){return Ee.dir(e,"previousSibling")},nextUntil:function(e,t,i){return Ee.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return Ee.dir(e,"previousSibling",i)},siblings:function(e){return Ee.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Ee.sibling(e.firstChild)},contents:function(e){return Ee.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Ee.merge([],e.childNodes)}},function(n,s){Ee.fn[n]=function(e,t){var i=Ee.map(this,s,e);return"Until"!==n.slice(-5)&&(t=e),t&&"string"==typeof t&&(i=Ee.filter(t,i)),1<this.length&&(Ve[n]||(i=Ee.unique(i)),We.test(n)&&(i=i.reverse())),this.pushStack(i)}}),Ee.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?Ee.find.matchesSelector(n,e)?[n]:[]:Ee.find.matches(e,Ee.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,t,i){for(var n=[],s=e[t];s&&9!==s.nodeType&&(i===S||1!==s.nodeType||!Ee(s).is(i));)1===s.nodeType&&n.push(s),s=s[t];return n},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var qe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ye=/ jQuery\d+="(?:null|\d+)"/g,Ge=RegExp("<(?:"+qe+")[\\s/>]","i"),Xe=/^\s+/,Ze=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ke=/<([\w:]+)/,Qe=/<tbody/i,Je=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^$|\/(?:java|ecma)script/i,st=/^true\/(.*)/,ot=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:Ee.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},at=m(X).appendChild(X.createElement("div"));rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td,Ee.fn.extend({text:function(e){return Ee.access(this,function(e){return e===S?Ee.text(this):this.empty().append((this[0]&&this[0].ownerDocument||X).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||u(this,e).appendChild(e)})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=u(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?Ee.filter(e,this):this,s=0;null!=(i=n[s]);s++)t||1!==i.nodeType||Ee.cleanData(_(i)),i.parentNode&&(t&&Ee.contains(i.ownerDocument,i)&&y(_(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&Ee.cleanData(_(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&Ee.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return Ee.clone(this,e,t)})},html:function(e){return Ee.access(this,function(e){var t=this[0]||{},i=0,n=this.length;if(e===S)return 1===t.nodeType?t.innerHTML.replace(Ye,""):S;if(!("string"!=typeof e||et.test(e)||!Ee.support.htmlSerialize&&Ge.test(e)||!Ee.support.leadingWhitespace&&Xe.test(e)||rt[(Ke.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ze,"<$1></$2>");try{for(;i<n;i++)1===(t=this[i]||{}).nodeType&&(Ee.cleanData(_(t,!1)),t.innerHTML=e);t=0}catch(G){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var n=Ee.map(this,function(e){return[e.nextSibling,e.parentNode]}),s=0;return this.domManip(arguments,function(e){var t=n[s++],i=n[s++];i&&(t&&t.parentNode!==i&&(t=this.nextSibling),Ee(this).remove(),i.insertBefore(e,t))},!0),s?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(i,n,s){i=ie.apply([],i);var e,t,o,r,a,l,c=0,u=this.length,h=this,d=u-1,p=i[0],f=Ee.isFunction(p);if(f||!(u<=1||"string"!=typeof p||Ee.support.checkClone)&&it.test(p))return this.each(function(e){var t=h.eq(e);f&&(i[0]=p.call(this,e,t.html())),t.domManip(i,n,s)});if(u&&(e=(l=Ee.buildFragment(i,this[0].ownerDocument,!1,!s&&this)).firstChild,1===l.childNodes.length&&(l=e),e)){for(o=(r=Ee.map(_(l,"script"),g)).length;c<u;c++)t=l,c!==d&&(t=Ee.clone(t,!0,!0),o&&Ee.merge(r,_(t,"script"))),n.call(this[c],t,c);if(o)for(a=r[r.length-1].ownerDocument,Ee.map(r,v),c=0;c<o;c++)t=r[c],nt.test(t.type||"")&&!Ee._data(t,"globalEval")&&Ee.contains(a,t)&&(t.src?Ee._evalUrl(t.src):Ee.globalEval((t.text||t.textContent||t.innerHTML||"").replace(ot,"")));l=e=null}return this}}),Ee.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,r){Ee.fn[e]=function(e){for(var t,i=0,n=[],s=Ee(e),o=s.length-1;i<=o;i++)t=i===o?this:this.clone(!0),Ee(s[i])[r](t),ne.apply(n,t.get());return this.pushStack(n)}}),Ee.extend({clone:function(e,t,i){var n,s,o,r,a,l=Ee.contains(e.ownerDocument,e);if(Ee.support.html5Clone||Ee.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?o=e.cloneNode(!0):(at.innerHTML=e.outerHTML,at.removeChild(o=at.firstChild)),!(Ee.support.noCloneEvent&&Ee.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Ee.isXMLDoc(e)))for(n=_(o),a=_(e),r=0;null!=(s=a[r]);++r)n[r]&&d(s,n[r]);if(t)if(i)for(a=a||_(e),n=n||_(o),r=0;null!=(s=a[r]);r++)h(s,n[r]);else h(e,o);return 0<(n=_(o,"script")).length&&y(n,!l&&_(e,"script")),n=a=s=null,o},buildFragment:function(e,t,i,n){for(var s,o,r,a,l,c,u,h=e.length,d=m(t),p=[],f=0;f<h;f++)if((o=e[f])||0===o)if("object"===Ee.type(o))Ee.merge(p,o.nodeType?[o]:o);else if(Je.test(o)){for(a=a||d.appendChild(t.createElement("div")),l=(Ke.exec(o)||["",""])[1].toLowerCase(),u=rt[l]||rt._default,a.innerHTML=u[1]+o.replace(Ze,"<$1></$2>")+u[2],s=u[0];s--;)a=a.lastChild;if(!Ee.support.leadingWhitespace&&Xe.test(o)&&p.push(t.createTextNode(Xe.exec(o)[0])),!Ee.support.tbody)for(s=(o="table"!==l||Qe.test(o)?"<table>"!==u[1]||Qe.test(o)?0:a:a.firstChild)&&o.childNodes.length;s--;)Ee.nodeName(c=o.childNodes[s],"tbody")&&!c.childNodes.length&&o.removeChild(c);for(Ee.merge(p,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=d.lastChild}else p.push(t.createTextNode(o));for(a&&d.removeChild(a),Ee.support.appendChecked||Ee.grep(_(p,"input"),w),f=0;o=p[f++];)if((!n||-1===Ee.inArray(o,n))&&(r=Ee.contains(o.ownerDocument,o),a=_(d.appendChild(o),"script"),r&&y(a),i))for(s=0;o=a[s++];)nt.test(o.type||"")&&i.push(o);return a=null,d},cleanData:function(e,t){for(var i,n,s,o,r=0,a=Ee.expando,l=Ee.cache,c=Ee.support.deleteExpando,u=Ee.event.special;null!=(i=e[r]);r++)if((t||Ee.acceptData(i))&&(o=(s=i[a])&&l[s])){if(o.events)for(n in o.events)u[n]?Ee.event.remove(i,n):Ee.removeEvent(i,n,o.handle);l[s]&&(delete l[s],c?delete i[a]:typeof i.removeAttribute!==Y?i.removeAttribute(a):i[a]=null,ee.push(s))}},_evalUrl:function(e){return Ee.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),Ee.fn.extend({wrapAll:function(t){if(Ee.isFunction(t))return this.each(function(e){Ee(this).wrapAll(t.call(this,e))});if(this[0]){var e=Ee(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(i){return Ee.isFunction(i)?this.each(function(e){Ee(this).wrapInner(i.call(this,e))}):this.each(function(){var e=Ee(this),t=e.contents();t.length?t.wrapAll(i):e.append(i)})},wrap:function(t){var i=Ee.isFunction(t);return this.each(function(e){Ee(this).wrapAll(i?t.call(this,e):t)})},unwrap:function(){return this.parent().each(function(){Ee.nodeName(this,"body")||Ee(this).replaceWith(this.childNodes)}).end()}});var lt,ct,ut,ht=/alpha\([^)]*\)/i,dt=/opacity\s*=\s*([^)]*)/,pt=/^(top|right|bottom|left)$/,ft=/^(none|table(?!-c[ea]).+)/,mt=/^margin/,gt=RegExp("^("+ce+")(.*)$","i"),vt=RegExp("^("+ce+")(?!px)[a-z%]+$","i"),yt=RegExp("^([+-])=("+ce+")","i"),_t={BODY:"block"},wt={position:"absolute",visibility:"hidden",display:"block"},bt={letterSpacing:0,fontWeight:400},xt=["Top","Right","Bottom","Left"],St=["Webkit","O","Moz","ms"];Ee.fn.extend({css:function(e,t){return Ee.access(this,function(e,t,i){var n,s,o={},r=0;if(Ee.isArray(t)){for(s=ct(e),n=t.length;r<n;r++)o[t[r]]=Ee.css(e,t[r],!1,s);return o}return i!==S?Ee.style(e,t,i):Ee.css(e,t)},e,t,1<arguments.length)},show:function(){return x(this,!0)},hide:function(){return x(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){b(this)?Ee(this).show():Ee(this).hide()})}}),Ee.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=ut(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Ee.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,t,i,n){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,o,r,a=Ee.camelCase(t),l=e.style;if(t=Ee.cssProps[a]||(Ee.cssProps[a]=p(l,a)),r=Ee.cssHooks[t]||Ee.cssHooks[a],i===S)return r&&"get"in r&&(s=r.get(e,!1,n))!==S?s:l[t];if("string"===(o=typeof i)&&(s=yt.exec(i))&&(i=(s[1]+1)*s[2]+parseFloat(Ee.css(e,t)),o="number"),!(null==i||"number"===o&&isNaN(i)||("number"!==o||Ee.cssNumber[a]||(i+="px"),Ee.support.clearCloneStyle||""!==i||0!==t.indexOf("background")||(l[t]="inherit"),r&&"set"in r&&(i=r.set(e,i,n))===S)))try{l[t]=i}catch(J){}}},css:function(e,t,i,n){var s,o,r,a=Ee.camelCase(t);return t=Ee.cssProps[a]||(Ee.cssProps[a]=p(e.style,a)),(r=Ee.cssHooks[t]||Ee.cssHooks[a])&&"get"in r&&(o=r.get(e,!0,i)),o===S&&(o=ut(e,t,n)),"normal"===o&&t in bt&&(o=bt[t]),""===i||i?(s=parseFloat(o),!0===i||Ee.isNumeric(s)?s||0:o):o}}),f.getComputedStyle?(ct=function(e){return f.getComputedStyle(e,null)},ut=function(e,t,i){var n,s,o,r=i||ct(e),a=r?r.getPropertyValue(t)||r[t]:S,l=e.style;return r&&(""!==a||Ee.contains(e.ownerDocument,e)||(a=Ee.style(e,t)),vt.test(a)&&mt.test(t)&&(n=l.width,s=l.minWidth,o=l.maxWidth,l.minWidth=l.maxWidth=l.width=a,a=r.width,l.width=n,l.minWidth=s,l.maxWidth=o)),a}):X.documentElement.currentStyle&&(ct=function(e){return e.currentStyle},ut=function(e,t,i){var n,s,o,r=i||ct(e),a=r?r[t]:S,l=e.style;return null==a&&l&&l[t]&&(a=l[t]),vt.test(a)&&!pt.test(t)&&(n=l.left,(o=(s=e.runtimeStyle)&&s.left)&&(s.left=e.currentStyle.left),l.left="fontSize"===t?"1em":a,a=l.pixelLeft+"px",l.left=n,o&&(s.left=o)),""===a?"auto":a}),Ee.each(["height","width"],function(e,s){Ee.cssHooks[s]={get:function(e,t,i){return t?0===e.offsetWidth&&ft.test(Ee.css(e,"display"))?Ee.swap(e,wt,function(){return T(e,s,i)}):T(e,s,i):S},set:function(e,t,i){var n=i&&ct(e);return C(e,t,i?E(e,s,i,Ee.support.boxSizing&&"border-box"===Ee.css(e,"boxSizing",!1,n),n):0)}}}),Ee.support.opacity||(Ee.cssHooks.opacity={get:function(e,t){return dt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,s=Ee.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=n&&n.filter||i.filter||"";((i.zoom=1)<=t||""===t)&&""===Ee.trim(o.replace(ht,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ht.test(o)?o.replace(ht,s):o+" "+s)}}),Ee(function(){Ee.support.reliableMarginRight||(Ee.cssHooks.marginRight={get:function(e,t){return t?Ee.swap(e,{display:"inline-block"},ut,[e,"marginRight"]):S}}),!Ee.support.pixelPosition&&Ee.fn.position&&Ee.each(["top","left"],function(e,i){Ee.cssHooks[i]={get:function(e,t){return t?(t=ut(e,i),vt.test(t)?Ee(e).position()[i]+"px":t):S}}})}),Ee.expr&&Ee.expr.filters&&(Ee.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!Ee.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||Ee.css(e,"display"))},Ee.expr.filters.visible=function(e){return!Ee.expr.filters.hidden(e)}),Ee.each({margin:"",padding:"",border:"Width"},function(s,o){Ee.cssHooks[s+o]={expand:function(e){for(var t=0,i={},n="string"==typeof e?e.split(" "):[e];t<4;t++)i[s+xt[t]+o]=n[t]||n[t-2]||n[0];return i}},mt.test(s)||(Ee.cssHooks[s+o].set=C)});var Ct=/%20/g,Et=/\[\]$/,Tt=/\r?\n/g,kt=/^(?:submit|button|image|reset|file)$/i,Rt=/^(?:input|select|textarea|keygen)/i;Ee.fn.extend({serialize:function(){return Ee.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=Ee.prop(this,"elements");return e?Ee.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!Ee(this).is(":disabled")&&Rt.test(this.nodeName)&&!kt.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var i=Ee(this).val();return null==i?null:Ee.isArray(i)?Ee.map(i,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:i.replace(Tt,"\r\n")}}).get()}}),Ee.param=function(e,t){var i,n=[],s=function(e,t){t=Ee.isFunction(t)?t():null==t?"":t,n[n.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(t===S&&(t=Ee.ajaxSettings&&Ee.ajaxSettings.traditional),Ee.isArray(e)||e.jquery&&!Ee.isPlainObject(e))Ee.each(e,function(){s(this.name,this.value)});else for(i in e)M(i,e[i],t,s);return n.join("&").replace(Ct,"+")},Ee.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,i){Ee.fn[i]=function(e,t){return 0<arguments.length?this.on(i,null,e,t):this.trigger(i)}}),Ee.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var Mt,Pt,Nt=Ee.now(),Dt=/\?/,It=/#.*$/,Ot=/([?&])_=[^&]*/,Lt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,At=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ht=/^(?:GET|HEAD)$/,Ft=/^\/\//,jt=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,zt=Ee.fn.load,$t={},Bt={},Wt="*/".concat("*");try{Pt=G.href}catch(ni){(Pt=X.createElement("a")).href="",Pt=Pt.href}Mt=jt.exec(Pt.toLowerCase())||[],Ee.fn.load=function(e,t,i){if("string"!=typeof e&&zt)return zt.apply(this,arguments);var n,s,o,r=this,a=e.indexOf(" ");return 0<=a&&(n=e.slice(a,e.length),e=e.slice(0,a)),Ee.isFunction(t)?(i=t,t=S):t&&"object"==typeof t&&(o="POST"),0<r.length&&Ee.ajax({url:e,type:o,dataType:"html",data:t}).done(function(e){s=arguments,r.html(n?Ee("<div>").append(Ee.parseHTML(e)).find(n):e)}).complete(i&&function(e,t){r.each(i,s||[e.responseText,t,e])}),this},Ee.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){Ee.fn[t]=function(e){return this.on(t,e)}}),Ee.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Pt,type:"GET",isLocal:At.test(Mt[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":Ee.parseJSON,"text xml":Ee.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,Ee.ajaxSettings),t):D(Ee.ajaxSettings,e)},ajaxPrefilter:P($t),ajaxTransport:P(Bt),ajax:function(e,t){function i(e,t,i,n){var s,o,r,a,l,c=t;2!==b&&(b=2,d&&clearTimeout(d),f=S,h=n||"",x.readyState=0<e?4:0,s=200<=e&&e<300||304===e,i&&(a=I(m,x,i)),a=O(m,a,x,s),s?(m.ifModified&&((l=x.getResponseHeader("Last-Modified"))&&(Ee.lastModified[u]=l),(l=x.getResponseHeader("etag"))&&(Ee.etag[u]=l)),204===e||"HEAD"===m.type?c="nocontent":304===e?c="notmodified":(c=a.state,o=a.data,s=!(r=a.error))):(r=c,(e||!c)&&(c="error",e<0&&(e=0))),x.status=e,x.statusText=(t||c)+"",s?y.resolveWith(g,[o,c,x]):y.rejectWith(g,[x,c,r]),x.statusCode(w),w=S,p&&v.trigger(s?"ajaxSuccess":"ajaxError",[x,m,s?o:r]),_.fireWith(g,[x,c]),p&&(v.trigger("ajaxComplete",[x,m]),--Ee.active||Ee.event.trigger("ajaxStop")))}"object"==typeof e&&(t=e,e=S),t=t||{};var n,s,u,h,d,p,f,o,m=Ee.ajaxSetup({},t),g=m.context||m,v=m.context&&(g.nodeType||g.jquery)?Ee(g):Ee.event,y=Ee.Deferred(),_=Ee.Callbacks("once memory"),w=m.statusCode||{},r={},a={},b=0,l="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===b){if(!o)for(o={};t=Lt.exec(h);)o[t[1].toLowerCase()]=t[2];t=o[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===b?h:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return b||(e=a[i]=a[i]||e,r[e]=t),this},overrideMimeType:function(e){return b||(m.mimeType=e),this},statusCode:function(e){var t;if(e)if(b<2)for(t in e)w[t]=[w[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||l;return f&&f.abort(t),i(0,t),this}};if(y.promise(x).complete=_.add,x.success=x.done,x.error=x.fail,m.url=((e||m.url||Pt)+"").replace(It,"").replace(Ft,Mt[1]+"//"),m.type=t.method||t.type||m.method||m.type,m.dataTypes=Ee.trim(m.dataType||"*").toLowerCase().match(ue)||[""],null==m.crossDomain&&(n=jt.exec(m.url.toLowerCase()),m.crossDomain=!(!n||n[1]===Mt[1]&&n[2]===Mt[2]&&(n[3]||("http:"===n[1]?"80":"443"))===(Mt[3]||("http:"===Mt[1]?"80":"443")))),m.data&&m.processData&&"string"!=typeof m.data&&(m.data=Ee.param(m.data,m.traditional)),N($t,m,t,x),2===b)return x;for(s in(p=m.global)&&0==Ee.active++&&Ee.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!Ht.test(m.type),u=m.url,m.hasContent||(m.data&&(u=m.url+=(Dt.test(u)?"&":"?")+m.data,delete m.data),!1===m.cache&&(m.url=Ot.test(u)?u.replace(Ot,"$1_="+Nt++):u+(Dt.test(u)?"&":"?")+"_="+Nt++)),m.ifModified&&(Ee.lastModified[u]&&x.setRequestHeader("If-Modified-Since",Ee.lastModified[u]),Ee.etag[u]&&x.setRequestHeader("If-None-Match",Ee.etag[u])),(m.data&&m.hasContent&&!1!==m.contentType||t.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+Wt+"; q=0.01":""):m.accepts["*"]),m.headers)x.setRequestHeader(s,m.headers[s]);if(m.beforeSend&&(!1===m.beforeSend.call(g,x,m)||2===b))return x.abort();for(s in l="abort",{success:1,error:1,complete:1})x[s](m[s]);if(f=N(Bt,m,t,x)){x.readyState=1,p&&v.trigger("ajaxSend",[x,m]),m.async&&0<m.timeout&&(d=setTimeout(function(){x.abort("timeout")},m.timeout));try{b=1,f.send(r,i)}catch(de){if(!(b<2))throw de;i(-1,de)}}else i(-1,"No Transport");return x},getJSON:function(e,t,i){return Ee.get(e,t,i,"json")},getScript:function(e,t){return Ee.get(e,S,t,"script")}}),Ee.each(["get","post"],function(e,s){Ee[s]=function(e,t,i,n){return Ee.isFunction(t)&&(n=n||i,i=t,t=S),Ee.ajax({url:e,type:s,dataType:n,data:t,success:i})}}),Ee.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return Ee.globalEval(e),e}}}),Ee.ajaxPrefilter("script",function(e){e.cache===S&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Ee.ajaxTransport("script",function(t){if(t.crossDomain){var n,s=X.head||Ee("head")[0]||X.documentElement;return{send:function(e,i){(n=X.createElement("script")).async=!0,t.scriptCharset&&(n.charset=t.scriptCharset),n.src=t.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},s.insertBefore(n,s.firstChild)},abort:function(){n&&n.onload(S,!0)}}}});var Ut=[],Vt=/(=)\?(?=&|$)|\?\?/;Ee.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||Ee.expando+"_"+Nt++;return this[e]=!0,e}}),Ee.ajaxPrefilter("json jsonp",function(e,t,i){var n,s,o,r=!1!==e.jsonp&&(Vt.test(e.url)?"url":"string"==typeof e.data&&!(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Vt.test(e.data)&&"data");return r||"jsonp"===e.dataTypes[0]?(n=e.jsonpCallback=Ee.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r?e[r]=e[r].replace(Vt,"$1"+n):!1!==e.jsonp&&(e.url+=(Dt.test(e.url)?"&":"?")+e.jsonp+"="+n),e.converters["script json"]=function(){return o||Ee.error(n+" was not called"),o[0]},e.dataTypes[0]="json",s=f[n],f[n]=function(){o=arguments},i.always(function(){f[n]=s,e[n]&&(e.jsonpCallback=t.jsonpCallback,Ut.push(n)),o&&Ee.isFunction(s)&&s(o[0]),o=s=S}),"script"):S});var qt,Yt,Gt=0,Xt=f.ActiveXObject&&function(){var e;for(e in qt)qt[e](S,!0)};Ee.ajaxSettings.xhr=f.ActiveXObject?function(){return!this.isLocal&&L()||A()}:L,Yt=Ee.ajaxSettings.xhr(),Ee.support.cors=!!Yt&&"withCredentials"in Yt,(Yt=Ee.support.ajax=!!Yt)&&Ee.ajaxTransport(function(c){var u;if(!c.crossDomain||Ee.support.cors)return{send:function(e,r){var a,t,l=c.xhr();if(c.username?l.open(c.type,c.url,c.async,c.username,c.password):l.open(c.type,c.url,c.async),c.xhrFields)for(t in c.xhrFields)l[t]=c.xhrFields[t];c.mimeType&&l.overrideMimeType&&l.overrideMimeType(c.mimeType),c.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");try{for(t in e)l.setRequestHeader(t,e[t])}catch(Q){}l.send(c.hasContent&&c.data||null),u=function(e,t){var i,n,s,o;try{if(u&&(t||4===l.readyState))if(u=S,a&&(l.onreadystatechange=Ee.noop,Xt&&delete qt[a]),t)4!==l.readyState&&l.abort();else{o={},i=l.status,n=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(o.text=l.responseText);try{s=l.statusText}catch(te){s=""}i||!c.isLocal||c.crossDomain?1223===i&&(i=204):i=o.text?200:404}}catch(ie){t||r(-1,ie)}o&&r(i,s,o,n)},c.async?4===l.readyState?setTimeout(u):(a=++Gt,Xt&&(qt||(qt={},Ee(f).unload(Xt)),qt[a]=u),l.onreadystatechange=u):u()},abort:function(){u&&u(S,!0)}}});var Zt,Kt,Qt=/^(?:toggle|show|hide)$/,Jt=RegExp("^(?:([+-])=|)("+ce+")([a-z%]*)$","i"),ei=/queueHooks$/,ti=[$],ii={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),s=Jt.exec(t),o=s&&s[3]||(Ee.cssNumber[e]?"":"px"),r=(Ee.cssNumber[e]||"px"!==o&&+n)&&Jt.exec(Ee.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==o)for(o=o||r[3],s=s||[],r=+n||1;r/=a=a||".5",Ee.style(i.elem,e,r+o),a!==(a=i.cur()/n)&&1!==a&&--l;);return s&&(r=i.start=+r||+n||0,i.unit=o,i.end=s[1]?r+(s[1]+1)*s[2]:+s[2]),i}]};Ee.Animation=Ee.extend(j,{tweener:function(e,t){Ee.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,s=e.length;n<s;n++)i=e[n],ii[i]=ii[i]||[],ii[i].unshift(t)},prefilter:function(e,t){t?ti.unshift(e):ti.push(e)}}),(Ee.Tween=B).prototype={constructor:B,init:function(e,t,i,n,s,o){this.elem=e,this.prop=i,this.easing=s||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=o||(Ee.cssNumber[i]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,i=B.propHooks[this.prop];return this.pos=t=this.options.duration?Ee.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Ee.css(e.elem,e.prop,""))&&"auto"!==t?t:0:e.elem[e.prop]},set:function(e){Ee.fx.step[e.prop]?Ee.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Ee.cssProps[e.prop]]||Ee.cssHooks[e.prop])?Ee.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Ee.each(["toggle","show","hide"],function(e,n){var s=Ee.fn[n];Ee.fn[n]=function(e,t,i){return null==e||"boolean"==typeof e?s.apply(this,arguments):this.animate(W(n,!0),e,t,i)}}),Ee.fn.extend({fadeTo:function(e,t,i,n){return this.filter(b).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(t,e,i,n){var s=Ee.isEmptyObject(t),o=Ee.speed(e,i,n),r=function(){var e=j(this,Ee.extend({},t),o);(s||Ee._data(this,"finish"))&&e.stop(!0)};return r.finish=r,s||!1===o.queue?this.each(r):this.queue(o.queue,r)},stop:function(s,e,o){var r=function(e){var t=e.stop;delete e.stop,t(o)};return"string"!=typeof s&&(o=e,e=s,s=S),e&&!1!==s&&this.queue(s||"fx",[]),this.each(function(){var e=!0,t=null!=s&&s+"queueHooks",i=Ee.timers,n=Ee._data(this);if(t)n[t]&&n[t].stop&&r(n[t]);else for(t in n)n[t]&&n[t].stop&&ei.test(t)&&r(n[t]);for(t=i.length;t--;)i[t].elem!==this||null!=s&&i[t].queue!==s||(i[t].anim.stop(o),e=!1,i.splice(t,1));(e||!o)&&Ee.dequeue(this,s)})},finish:function(r){return!1!==r&&(r=r||"fx"),this.each(function(){var e,t=Ee._data(this),i=t[r+"queue"],n=t[r+"queueHooks"],s=Ee.timers,o=i?i.length:0;for(t.finish=!0,Ee.queue(this,r,[]),n&&n.stop&&n.stop.call(this,!0),e=s.length;e--;)s[e].elem===this&&s[e].queue===r&&(s[e].anim.stop(!0),s.splice(e,1));for(e=0;e<o;e++)i[e]&&i[e].finish&&i[e].finish.call(this);delete t.finish})}}),Ee.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,n){Ee.fn[e]=function(e,t,i){return this.animate(n,e,t,i)}}),Ee.speed=function(e,t,i){var n=e&&"object"==typeof e?Ee.extend({},e):{complete:i||!i&&t||Ee.isFunction(e)&&e,duration:e,easing:i&&t||t&&!Ee.isFunction(t)&&t};return n.duration=Ee.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in Ee.fx.speeds?Ee.fx.speeds[n.duration]:Ee.fx.speeds._default,(null==n.queue||!0===n.queue)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){Ee.isFunction(n.old)&&n.old.call(this),n.queue&&Ee.dequeue(this,n.queue)},n},Ee.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Ee.timers=[],Ee.fx=B.prototype.init,Ee.fx.tick=function(){var e,t=Ee.timers,i=0;for(Zt=Ee.now();t.length>i;i++)(e=t[i])()||t[i]!==e||t.splice(i--,1);t.length||Ee.fx.stop(),Zt=S},Ee.fx.timer=function(e){e()&&Ee.timers.push(e)&&Ee.fx.start()},Ee.fx.interval=13,Ee.fx.start=function(){Kt||(Kt=setInterval(Ee.fx.tick,Ee.fx.interval))},Ee.fx.stop=function(){clearInterval(Kt),Kt=null},Ee.fx.speeds={slow:600,fast:200,_default:400},Ee.fx.step={},Ee.expr&&Ee.expr.filters&&(Ee.expr.filters.animated=function(t){return Ee.grep(Ee.timers,function(e){return t===e.elem}).length}),Ee.fn.offset=function(t){if(arguments.length)return t===S?this:this.each(function(e){Ee.offset.setOffset(this,t,e)});var e,i,n={top:0,left:0},s=this[0],o=s&&s.ownerDocument;return o?(e=o.documentElement,Ee.contains(e,s)?(typeof s.getBoundingClientRect!==Y&&(n=s.getBoundingClientRect()),i=U(o),{top:n.top+(i.pageYOffset||e.scrollTop)-(e.clientTop||0),left:n.left+(i.pageXOffset||e.scrollLeft)-(e.clientLeft||0)}):n):void 0},Ee.offset={setOffset:function(e,t,i){var n=Ee.css(e,"position");"static"===n&&(e.style.position="relative");var s,o,r=Ee(e),a=r.offset(),l=Ee.css(e,"top"),c=Ee.css(e,"left"),u={},h={};("absolute"===n||"fixed"===n)&&-1<Ee.inArray("auto",[l,c])?(s=(h=r.position()).top,o=h.left):(s=parseFloat(l)||0,o=parseFloat(c)||0),Ee.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(u.top=t.top-a.top+s),null!=t.left&&(u.left=t.left-a.left+o),"using"in t?t.using.call(e,u):r.css(u)}},Ee.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===Ee.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),Ee.nodeName(e[0],"html")||(i=e.offset()),i.top+=Ee.css(e[0],"borderTopWidth",!0),i.left+=Ee.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-Ee.css(n,"marginTop",!0),left:t.left-i.left-Ee.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Z;e&&!Ee.nodeName(e,"html")&&"static"===Ee.css(e,"position");)e=e.offsetParent;return e||Z})}}),Ee.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,s){var o=/Y/.test(s);Ee.fn[t]=function(e){return Ee.access(this,function(e,t,i){var n=U(e);return i===S?n?s in n?n[s]:n.document.documentElement[t]:e[t]:(n?n.scrollTo(o?Ee(n).scrollLeft():i,o?i:Ee(n).scrollTop()):e[t]=i,S)},t,e,arguments.length,null)}}),Ee.each({Height:"height",Width:"width"},function(o,r){Ee.each({padding:"inner"+o,content:r,"":"outer"+o},function(n,e){Ee.fn[e]=function(e,t){var i=arguments.length&&(n||"boolean"!=typeof e),s=n||(!0===e||!0===t?"margin":"border");return Ee.access(this,function(e,t,i){var n;return Ee.isWindow(e)?e.document.documentElement["client"+o]:9===e.nodeType?(n=e.documentElement,Math.max(e.body["scroll"+o],n["scroll"+o],e.body["offset"+o],n["offset"+o],n["client"+o])):i===S?Ee.css(e,t,s):Ee.style(e,t,i,s)},r,i?e:S,i,null)}})}),Ee.fn.size=function(){return this.length},Ee.fn.andSelf=Ee.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=Ee:(f.jQuery=f.$=Ee,"function"==typeof define&&define.amd&&define("jquery",[],function(){return Ee}))}(window),jQuery.easing.jswing=jQuery.easing.swing,jQuery.extend(jQuery.easing,{def:"easeOutQuad",swing:function(e,t,i,n,s){return jQuery.easing[jQuery.easing.def](e,t,i,n,s)},easeInQuad:function(e,t,i,n,s){return n*(t/=s)*t+i},easeOutQuad:function(e,t,i,n,s){return-n*(t/=s)*(t-2)+i},easeInOutQuad:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t+i:-n/2*(--t*(t-2)-1)+i},easeInCubic:function(e,t,i,n,s){return n*(t/=s)*t*t+i},easeOutCubic:function(e,t,i,n,s){return n*((t=t/s-1)*t*t+1)+i},easeInOutCubic:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t+i:n/2*((t-=2)*t*t+2)+i},easeInQuart:function(e,t,i,n,s){return n*(t/=s)*t*t*t+i},easeOutQuart:function(e,t,i,n,s){return-n*((t=t/s-1)*t*t*t-1)+i},easeInOutQuart:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t+i:-n/2*((t-=2)*t*t*t-2)+i},easeInQuint:function(e,t,i,n,s){return n*(t/=s)*t*t*t*t+i},easeOutQuint:function(e,t,i,n,s){return n*((t=t/s-1)*t*t*t*t+1)+i},easeInOutQuint:function(e,t,i,n,s){return(t/=s/2)<1?n/2*t*t*t*t*t+i:n/2*((t-=2)*t*t*t*t+2)+i},easeInSine:function(e,t,i,n,s){return-n*Math.cos(t/s*(Math.PI/2))+n+i},easeOutSine:function(e,t,i,n,s){return n*Math.sin(t/s*(Math.PI/2))+i},easeInOutSine:function(e,t,i,n,s){return-n/2*(Math.cos(Math.PI*t/s)-1)+i},easeInExpo:function(e,t,i,n,s){return 0==t?i:n*Math.pow(2,10*(t/s-1))+i},easeOutExpo:function(e,t,i,n,s){return t==s?i+n:n*(1-Math.pow(2,-10*t/s))+i},easeInOutExpo:function(e,t,i,n,s){return 0==t?i:t==s?i+n:(t/=s/2)<1?n/2*Math.pow(2,10*(t-1))+i:n/2*(2-Math.pow(2,-10*--t))+i},easeInCirc:function(e,t,i,n,s){return-n*(Math.sqrt(1-(t/=s)*t)-1)+i},easeOutCirc:function(e,t,i,n,s){return n*Math.sqrt(1-(t=t/s-1)*t)+i},easeInOutCirc:function(e,t,i,n,s){return(t/=s/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+i:n/2*(Math.sqrt(1-(t-=2)*t)+1)+i},easeInElastic:function(e,t,i,n,s){var o=1.70158,r=0,a=n;if(0==t)return i;if(1==(
t/=s))return i+n;if(r||(r=.3*s),a<Math.abs(n)){a=n;o=r/4}else o=r/(2*Math.PI)*Math.asin(n/a);return-a*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/r)+i},easeOutElastic:function(e,t,i,n,s){var o=1.70158,r=0,a=n;if(0==t)return i;if(1==(t/=s))return i+n;if(r||(r=.3*s),a<Math.abs(n)){a=n;o=r/4}else o=r/(2*Math.PI)*Math.asin(n/a);return a*Math.pow(2,-10*t)*Math.sin((t*s-o)*(2*Math.PI)/r)+n+i},easeInOutElastic:function(e,t,i,n,s){var o=1.70158,r=0,a=n;if(0==t)return i;if(2==(t/=s/2))return i+n;if(r||(r=s*(.3*1.5)),a<Math.abs(n)){a=n;o=r/4}else o=r/(2*Math.PI)*Math.asin(n/a);return t<1?a*Math.pow(2,10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/r)*-.5+i:a*Math.pow(2,-10*(t-=1))*Math.sin((t*s-o)*(2*Math.PI)/r)*.5+n+i},easeInBack:function(e,t,i,n,s,o){return o==undefined&&(o=1.70158),n*(t/=s)*t*((o+1)*t-o)+i},easeOutBack:function(e,t,i,n,s,o){return o==undefined&&(o=1.70158),n*((t=t/s-1)*t*((o+1)*t+o)+1)+i},easeInOutBack:function(e,t,i,n,s,o){return o==undefined&&(o=1.70158),(t/=s/2)<1?n/2*(t*t*((1+(o*=1.525))*t-o))+i:n/2*((t-=2)*t*((1+(o*=1.525))*t+o)+2)+i},easeInBounce:function(e,t,i,n,s){return n-jQuery.easing.easeOutBounce(e,s-t,0,n,s)+i},easeOutBounce:function(e,t,i,n,s){return(t/=s)<1/2.75?n*(7.5625*t*t)+i:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+i:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+i:n*(7.5625*(t-=2.625/2.75)*t+.984375)+i},easeInOutBounce:function(e,t,i,n,s){return t<s/2?.5*jQuery.easing.easeInBounce(e,2*t,0,n,s)+i:.5*jQuery.easing.easeOutBounce(e,2*t-s,0,n,s)+.5*n+i}}),window.console&&console.log||function(){for(var e=function(){},t=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","markTimeline","table","time","timeEnd","timeStamp","trace","warn"],i=t.length,n=window.console={};i--;)n[t[i]]=e}(),function(a,h,d){function o(e){var t=C.className,i=S._config.classPrefix||"";if(E&&(t=t.baseVal),S._config.enableJSClass){var n=new RegExp("(^|\\s)"+i+"no-js(\\s|$)");t=t.replace(n,"$1"+i+"js$2")}S._config.enableClasses&&(t+=" "+i+e.join(" "+i),E?C.className.baseVal=t:C.className=t)}function p(e){return"function"!=typeof h.createElement?h.createElement(e):E?h.createElementNS.call(h,"http://www.w3.org/2000/svg",e):h.createElement.apply(h,arguments)}function f(e,t){return typeof e===t}function e(){var e,t,i,n,s,o;for(var r in x){if(e=[],(t=x[r]).name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(i=0;i<t.options.aliases.length;i++)e.push(t.options.aliases[i].toLowerCase());for(n=f(t.fn,"function")?t.fn():t.fn,s=0;s<e.length;s++)1===(o=e[s].split(".")).length?S[o[0]]=n:(!S[o[0]]||S[o[0]]instanceof Boolean||(S[o[0]]=new Boolean(S[o[0]])),S[o[0]][o[1]]=n),b.push((n?"":"no-")+o.join("-"))}}function m(){var e=h.body;return e||((e=p(E?"svg":"body")).fake=!0),e}function l(e,t){if("object"==typeof e)for(var i in e)k(e,i)&&l(i,e[i]);else{var n=(e=e.toLowerCase()).split("."),s=S[n[0]];if(2==n.length&&(s=s[n[1]]),void 0!==s)return S;t="function"==typeof t?t():t,1==n.length?S[n[0]]=t:(!S[n[0]]||S[n[0]]instanceof Boolean||(S[n[0]]=new Boolean(S[n[0]])),S[n[0]][n[1]]=t),o([(t&&0!=t?"":"no-")+n.join("-")]),S._trigger(e,t)}return S}function g(e){return e.replace(/([a-z])-([a-z])/g,function(e,t,i){return t+i.toUpperCase()}).replace(/^-/,"")}function s(e,t,i,n){var s,o,r,a,l="modernizr",c=p("div"),u=m();if(parseInt(i,10))for(;i--;)(r=p("div")).id=n?n[i]:l+(i+1),c.appendChild(r);return(s=p("style")).type="text/css",s.id="s"+l,(u.fake?u:c).appendChild(s),u.appendChild(c),s.styleSheet?s.styleSheet.cssText=e:s.appendChild(h.createTextNode(e)),c.id=l,u.fake&&(u.style.background="",u.style.overflow="hidden",a=C.style.overflow,C.style.overflow="hidden",C.appendChild(u)),o=t(c,e),u.fake?(u.parentNode.removeChild(u),C.style.overflow=a,C.offsetHeight):c.parentNode.removeChild(c),!!o}function v(e,t){return!!~(""+e).indexOf(t)}function r(e,t){return function(){return e.apply(t,arguments)}}function c(e,t,i){var n;for(var s in e)if(e[s]in t)return!1===i?e[s]:f(n=t[e[s]],"function")?r(n,i||t):n;return!1}function u(e){return e.replace(/([A-Z])/g,function(e,t){return"-"+t.toLowerCase()}).replace(/^ms-/,"-ms-")}function y(e,t){var i=e.length;if("CSS"in a&&"supports"in a.CSS){for(;i--;)if(a.CSS.supports(u(e[i]),t))return!0;return!1}if("CSSSupportsRule"in a){for(var n=[];i--;)n.push("("+u(e[i])+":"+t+")");return s("@supports ("+(n=n.join(" or "))+") { #modernizr { position: absolute; } }",function(e){return"absolute"==getComputedStyle(e,null).position})}return d}function _(e,t,i,n){function s(){r&&(delete A.style,delete A.modElem)}if(n=!f(n,"undefined")&&n,!f(i,"undefined")){var o=y(e,i);if(!f(o,"undefined"))return o}for(var r,a,l,c,u,h=["modernizr","tspan"];!A.style;)r=!0,A.modElem=p(h.shift()),A.style=A.modElem.style;for(l=e.length,a=0;a<l;a++)if(c=e[a],u=A.style[c],v(c,"-")&&(c=g(c)),A.style[c]!==d){if(n||f(i,"undefined"))return s(),"pfx"!=t||c;try{A.style[c]=i}catch(w){}if(A.style[c]!=u)return s(),"pfx"!=t||c}return s(),!1}function n(e,t,i,n,s){var o=e.charAt(0).toUpperCase()+e.slice(1),r=(e+" "+D.join(o+" ")+o).split(" ");return f(t,"string")||f(t,"undefined")?_(r,t,n,s):c(r=(e+" "+O.join(o+" ")+o).split(" "),t,i)}function w(e,t,i){return n(e,d,d,t,i)}var b=[],x=[],t={_version:"3.0.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var i=this;setTimeout(function(){t(i[e])},0)},addTest:function(e,t,i){x.push({name:e,fn:t,options:i})},addAsyncTest:function(e){x.push({name:null,fn:e})}},S=function(){};S.prototype=t,(S=new S).addTest("cookies",function(){try{h.cookie="cookietest=1";var e=-1!=h.cookie.indexOf("cookietest=");return h.cookie="cookietest=1; expires=Thu, 01-Jan-1970 00:00:01 GMT",e}catch(d){return!1}}),S.addTest("geolocation","geolocation"in navigator),S.addTest("svg",!!h.createElementNS&&!!h.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect),S.addTest("picture","HTMLPictureElement"in a);var C=h.documentElement,E="svg"===C.nodeName.toLowerCase();S.addTest("canvas",function(){var e=p("canvas");return!(!e.getContext||!e.getContext("2d"))}),S.addTest("video",function(){var e=p("video"),t=!1;try{(t=!!e.canPlayType)&&((t=new Boolean(t)).ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),t.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),t.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,""),t.vp9=e.canPlayType('video/webm; codecs="vp9"').replace(/^no$/,""),t.hls=e.canPlayType('application/x-mpegURL; codecs="avc1.42E01E"').replace(/^no$/,""))}catch(d){}return t}),S.addTest("webgl",function(){var e=p("canvas"),t="probablySupportsContext"in e?"probablySupportsContext":"supportsContext";return t in e?e[t]("webgl")||e[t]("experimental-webgl"):"WebGLRenderingContext"in a}),S.addTest("srcdoc","srcdoc"in p("iframe"));var T=t._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):[];t._prefixes=T;var k,i,R="CSS"in a&&"supports"in a.CSS,M="supportsCSS"in a;S.addTest("supports",R||M),i={}.hasOwnProperty,k=f(i,"undefined")||f(i.call,"undefined")?function(e,t){return t in e&&f(e.constructor.prototype[t],"undefined")}:function(e,t){return i.call(e,t)},t._l={},t.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),S.hasOwnProperty(e)&&setTimeout(function(){S._trigger(e,S[e])},0)},t._trigger=function(e,t){if(this._l[e]){var i=this._l[e];setTimeout(function(){var e;for(e=0;e<i.length;e++)(0,i[e])(t)},0),delete this._l[e]}},S._q.push(function(){t.addTest=l}),S.addAsyncTest(function(){var e,t=function(e){e.fake&&e.parentNode&&e.parentNode.removeChild(e)},i=function(e,t){var i=!!e;if(i&&((i=new Boolean(i)).blocked="blocked"===e),l("flash",function(){return i}),t&&r.contains(t)){for(;t.parentNode!==r;)t=t.parentNode;r.removeChild(t)}};try{e="ActiveXObject"in a&&"Pan"in new a.ActiveXObject("ShockwaveFlash.ShockwaveFlash")}catch(g){}if(!("plugins"in navigator&&"Shockwave Flash"in navigator.plugins||e)||E)i(!1);else{var n,s,o=p("embed"),r=m();if(o.type="application/x-shockwave-flash",r.appendChild(o),C.appendChild(r),!("Pan"in o||e))return i("blocked",o),void t(r);n=function(){return C.contains(r)?(C.contains(o)?(s=o.style.cssText,i(""===s||"blocked",o)):i("blocked"),void t(r)):(r=h.body||r,(o=p("embed")).type="application/x-shockwave-flash",r.appendChild(o),setTimeout(n,1e3))},setTimeout(n,10)}});var P=t.testStyles=s;S.addTest("hiddenscroll",function(){return P("#modernizr {width:100px;height:100px;overflow:scroll}",function(e){return e.offsetWidth===e.clientWidth})}),S.addTest("touchevents",function(){var t;if("ontouchstart"in a||a.DocumentTouch&&h instanceof DocumentTouch)t=!0;else{var e=["@media (",T.join("touch-enabled),("),"heartz",")","{#modernizr{top:9px;position:absolute}}"].join("");P(e,function(e){t=9===e.offsetTop})}return t});var N="Moz O ms Webkit",D=t._config.usePrefixes?N.split(" "):[];t._cssomPrefixes=D;var I=function(e){var t,i=T.length,n=a.CSSRule;if(void 0===n)return d;if(!e)return!1;if((t=(e=e.replace(/^@/,"")).replace(/-/g,"_").toUpperCase()+"_RULE")in n)return"@"+e;for(var s=0;s<i;s++){var o=T[s];if(o.toUpperCase()+"_"+t in n)return"@-"+o.toLowerCase()+"-"+e}return!1};t.atRule=I;var O=t._config.usePrefixes?N.toLowerCase().split(" "):[];t._domPrefixes=O;var L={elem:p("modernizr")};S._q.push(function(){delete L.elem});var A={style:L.elem.style};S._q.unshift(function(){delete A.style}),t.testAllProps=n;var H=t.prefixed=function(e,t,i){return 0===e.indexOf("@")?I(e):(-1!=e.indexOf("-")&&(e=g(e)),t?n(e,t,i):n(e,"pfx"))};S.addTest("fullscreen",!(!H("exitFullscreen",h,!1)&&!H("cancelFullScreen",h,!1))),t.testAllProps=w,S.addTest("flexbox",w("flexBasis","1px",!0)),S.addTest("cssanimations",w("animationName","a",!0)),S.addTest("flexboxlegacy",w("boxDirection","reverse",!0)),S.addTest("flexboxtweener",w("flexAlign","end",!0)),S.addTest("csstransforms",function(){return-1===navigator.userAgent.indexOf("Android 2.")&&w("transform","scale(1)",!0)}),S.addTest("csstransforms3d",function(){var e,t=!!w("perspective","1px",!0),i=S._config.usePrefixes;t&&(!i||"webkitPerspective"in C.style)&&(S.supports?e="@supports (perspective: 1px)":(e="@media (transform-3d)",i&&(e+=",(-webkit-transform-3d)")),P(e+="{#modernizr{left:9px;position:absolute;height:5px;margin:0;padding:0;border:0}}",function(e){t=9===e.offsetLeft&&5===e.offsetHeight}));return t}),S.addTest("csstransitions",w("transition","all",!0)),S.addTest("preserve3d",w("transformStyle","preserve-3d")),e(),o(b),delete t.addTest,delete t.addAsyncTest;for(var F=0;F<S._q.length;F++)S._q[F]();a.Modernizr=S}(window,document),function(){function e(e,t){return[].slice.call((t||document).querySelectorAll(e))}if(window.addEventListener){var u=window.StyleFix={link:function(n){try{if("stylesheet"!==n.rel||n.hasAttribute("data-noprefix"))return}catch(i){return}var e,t=n.href||n.getAttribute("data-href"),s=t.replace(/[^\/]+$/,""),o=(/^[a-z]{3,10}:/.exec(s)||[""])[0],r=(/^[a-z]{3,10}:\/\/[^\/]+/.exec(s)||[""])[0],a=/^([^?]*)\??/.exec(t)[1],l=n.parentNode,c=new XMLHttpRequest;c.onreadystatechange=function(){4===c.readyState&&e()},e=function(){var e=c.responseText;if(e&&n.parentNode&&(!c.status||c.status<400||600<c.status)){if(e=u.fix(e,!0,n),s){e=e.replace(/url\(\s*?((?:"|')?)(.+?)\1\s*?\)/gi,function(e,t,i){return/^([a-z]{3,10}:|#)/i.test(i)?e:/^\/\//.test(i)?'url("'+o+i+'")':/^\//.test(i)?'url("'+r+i+'")':/^\?/.test(i)?'url("'+a+i+'")':'url("'+s+i+'")'});var t=s.replace(/([\\\^\$*+[\]?{}.=!:(|)])/g,"\\$1");e=e.replace(RegExp("\\b(behavior:\\s*?url\\('?\"?)"+t,"gi"),"$1")}var i=document.createElement("style");i.textContent=e,i.media=n.media,i.disabled=n.disabled,i.setAttribute("data-href",n.getAttribute("href")),l.insertBefore(i,n),l.removeChild(n),i.media=n.media}};try{c.open("GET",t),c.send(null)}catch(i){"undefined"!=typeof XDomainRequest&&((c=new XDomainRequest).onerror=c.onprogress=function(){},c.onload=e,c.open("GET",t),c.send(null))}n.setAttribute("data-inprogress","")},styleElement:function(e){if(!e.hasAttribute("data-noprefix")){var t=e.disabled;e.textContent=u.fix(e.textContent,!0,e),e.disabled=t}},styleAttribute:function(e){var t=e.getAttribute("style");t=u.fix(t,!1,e),e.setAttribute("style",t)},process:function(){e('link[rel="stylesheet"]:not([data-inprogress])').forEach(StyleFix.link),e("style").forEach(StyleFix.styleElement),e("[style]").forEach(StyleFix.styleAttribute)},register:function(e,t){(u.fixers=u.fixers||[]).splice(t===undefined?u.fixers.length:t,0,e)},fix:function(e,t,i){for(var n=0;n<u.fixers.length;n++)e=u.fixers[n](e,t,i)||e;return e},camelCase:function(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()}).replace("-","")},deCamelCase:function(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}};setTimeout(function(){e('link[rel="stylesheet"]').forEach(StyleFix.link)},10),document.addEventListener("DOMContentLoaded",StyleFix.process,!1)}}(),function(a){function s(e,t,i,n,s){if((e=d[e]).length){var o=RegExp(t+"("+e.join("|")+")"+i,"gi");s=s.replace(o,n)}return s}if(window.StyleFix&&window.getComputedStyle){var d=window.PrefixFree={prefixCSS:function(e,t){var i=d.prefix;if(-1<d.functions.indexOf("linear-gradient")&&(e=e.replace(/(\s|:|,)(repeating-)?linear-gradient\(\s*(-?\d*\.?\d*)deg/gi,function(e,t,i,n){return t+(i||"")+"linear-gradient("+(90-n)+"deg"})),e=s("functions","(\\s|:|,)","\\s*\\(","$1"+i+"$2(",e),e=s("keywords","(\\s|:)","(\\s|;|\\}|$)","$1"+i+"$2$3",e),e=s("properties","(^|\\{|\\s|;)","\\s*:","$1"+i+"$2:",e),d.properties.length){var n=RegExp("\\b("+d.properties.join("|")+")(?!:)","gi");e=s("valueProperties","\\b",":(.+?);",function(e){return e.replace(n,i+"$1")},e)}return t&&(e=s("selectors","","\\b",d.prefixSelector,e),e=s("atrules","@","\\b","@"+i+"$1",e)),e=(e=e.replace(RegExp("-"+i,"g"),"-")).replace(/-\*-(?=[a-z]+)/gi,d.prefix)},property:function(e){return(d.properties.indexOf(e)?d.prefix:"")+e},value:function(e){return e=s("functions","(^|\\s|,)","\\s*\\(","$1"+d.prefix+"$2(",e),e=s("keywords","(^|\\s)","(\\s|$)","$1"+d.prefix+"$2$3",e)},prefixSelector:function(e){return e.replace(/^:{1,2}/,function(e){return e+d.prefix})},prefixProperty:function(e,t){var i=d.prefix+e;return t?StyleFix.camelCase(i):i}};!function(){var s={},o=[],e=getComputedStyle(document.documentElement,null),t=document.createElement("div").style,i=function(e){if("-"===e.charAt(0)){o.push(e);var t=e.split("-"),i=t[1];for(s[i]=++s[i]||1;3<t.length;){t.pop();var n=t.join("-");r(n)&&-1===o.indexOf(n)&&o.push(n)}}},r=function(e){return StyleFix.camelCase(e)in t};if(0<e.length)for(var n=0;n<e.length;n++)i(e[n]);else for(var a in e)i(StyleFix.deCamelCase(a));var l={uses:0};for(var c in s){var u=s[c];l.uses<u&&(l={prefix:c,uses:u})}d.prefix="-"+l.prefix+"-",d.Prefix=StyleFix.camelCase(d.prefix),d.properties=[];for(n=0;n<o.length;n++){if(0===(a=o[n]).indexOf(d.prefix)){var h=a.slice(d.prefix.length);r(h)||d.properties.push(h)}}"Ms"==d.Prefix&&!("transform"in t)&&!("MsTransform"in t)&&"msTransform"in t&&d.properties.push("transform","transform-origin"),d.properties.sort()}(),function(){function e(e,t){return n[t]="",n[t]=e,!!n[t]}var t={"linear-gradient":{property:"backgroundImage",params:"red, teal"},calc:{property:"width",params:"1px + 5%"},element:{property:"backgroundImage",params:"#foo"},"cross-fade":{property:"backgroundImage",params:"url(a.png), url(b.png), 50%"}};t["repeating-linear-gradient"]=t["repeating-radial-gradient"]=t["radial-gradient"]=t["linear-gradient"];var i={initial:"color","zoom-in":"cursor","zoom-out":"cursor",box:"display",flexbox:"display","inline-flexbox":"display",flex:"display","inline-flex":"display",grid:"display","inline-grid":"display","min-content":"width"};d.functions=[],d.keywords=[];var n=document.createElement("div").style;for(var s in t){var o=t[s],r=o.property,a=s+"("+o.params+")";!e(a,r)&&e(d.prefix+a,r)&&d.functions.push(s)}for(var l in i){!e(l,r=i[l])&&e(d.prefix+l,r)&&d.keywords.push(l)}}(),function(){function e(e){return n.textContent=e+"{}",!!n.sheet.cssRules.length}var t={":read-only":null,":read-write":null,":any-link":null,"::selection":null},i={keyframes:"name",viewport:null,document:'regexp(".")'};d.selectors=[],d.atrules=[];var n=a.appendChild(document.createElement("style"));for(var s in t){!e(r=s+(t[s]?"("+t[s]+")":""))&&e(d.prefixSelector(r))&&d.selectors.push(s)}for(var o in i){var r;!e("@"+(r=o+" "+(i[o]||"")))&&e("@"+d.prefix+r)&&d.atrules.push(o)}a.removeChild(n)}(),d.valueProperties=["transition","transition-property"],a.className+=" "+d.prefix,StyleFix.register(d.prefixCSS)}}(document.documentElement),function(e,t){if(e&&t)for(var i=0;i<t.properties.length;i++){var n=t.properties[i],s=StyleFix.camelCase(n),o=t.prefixProperty(n,!0);e.cssProps[s]=o}}(window.jQuery,window.PrefixFree),window.matchMedia=window.matchMedia||function(e){"use strict";var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,s=e.createElement("body"),o=e.createElement("div");return o.id="mq-test-1",o.style.cssText="position:absolute;top:-100em",s.style.background="none",s.appendChild(o),function(e){return o.innerHTML='&shy;<style media="'+e+'"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(s,n),t=42===o.offsetWidth,i.removeChild(s),{matches:t,media:e}}}(document),function(y){"use strict";function e(){N(!0)}var t={};if((y.respond=t).update=function(){},t.mediaQueriesSupported=y.matchMedia&&y.matchMedia("only all").matches,!t.mediaQueriesSupported){var _,w,b,x=y.document,S=x.documentElement,C=[],E=[],T=[],o={},k=30,R=x.getElementsByTagName("head")[0]||S,r=x.getElementsByTagName("base")[0],M=R.getElementsByTagName("link"),a=[],i=function(){for(var e=0;M.length>e;e++){var t=M[e],i=t.href,n=t.media,s=t.rel&&"stylesheet"===t.rel.toLowerCase();i&&s&&!o[i]&&(t.styleSheet&&t.styleSheet.rawCssText?(c(t.styleSheet.rawCssText,i,n),o[i]=!0):(!/^([a-zA-Z:]*\/\/)/.test(i)&&!r||i.replace(RegExp.$1,"").split("/")[0]===y.location.host)&&a.push({href:i,media:n}))}l()},l=function(){if(a.length){var t=a.shift();n(t.href,function(e){c(e,t.href,t.media),o[t.href]=!0,y.setTimeout(function(){l()},0)})}},c=function(e,t,i){var n=e.match(/@media[^\{]+\{([^\{\}]*\{[^\}\{]*\})+/gi),s=n&&n.length||0,o=function(e){return e.replace(/(url\()['"]?([^\/\)'"][^:\)'"]+)['"]?(\))/g,"$1"+t+"$2$3")},r=!s&&i;(t=t.substring(0,t.lastIndexOf("/"))).length&&(t+="/"),r&&(s=1);for(var a=0;a<s;a++){var l,c,u,h;r?(l=i,E.push(o(e))):(l=n[a].match(/@media *([^\{]+)\{([\S\s]+?)$/)&&RegExp.$1,E.push(RegExp.$2&&o(RegExp.$2))),h=(u=l.split(",")).length;for(var d=0;d<h;d++)c=u[d],C.push({media:c.split("(")[0].match(/(only\s+)?([a-zA-Z]+)\s?/)&&RegExp.$2||"all",rules:E.length-1,hasquery:-1<c.indexOf("("),minw:c.match(/\(\s*min\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||""),maxw:c.match(/\(\s*max\-width\s*:\s*(\s*[0-9\.]+)(px|em)\s*\)/)&&parseFloat(RegExp.$1)+(RegExp.$2||"")})}N()},P=function(){var e,t=x.createElement("div"),i=x.body,n=!1;return t.style.cssText="position:absolute;font-size:1em;width:1em",i||((i=n=x.createElement("body")).style.background="none"),i.appendChild(t),S.insertBefore(i,S.firstChild),e=t.offsetWidth,n?S.removeChild(i):i.removeChild(t),b=parseFloat(e)},N=function(e){var t="clientWidth",i=S[t],n="CSS1Compat"===x.compatMode&&i||x.body[t]||i,s={},o=M[M.length-1],r=(new Date).getTime();if(e&&_&&r-_<k)return y.clearTimeout(w),void(w=y.setTimeout(N,k));for(var a in _=r,C)if(C.hasOwnProperty(a)){var l=C[a],c=l.minw,u=l.maxw,h=null===c,d=null===u,p="em";c&&(c=parseFloat(c)*(-1<c.indexOf(p)?b||P():1)),u&&(u=parseFloat(u)*(-1<u.indexOf(p)?b||P():1)),l.hasquery&&(h&&d||!(h||c<=n)||!(d||n<=u))||(s[l.media]||(s[l.media]=[]),s[l.media].push(E[l.rules]))}for(var f in T)T.hasOwnProperty(f)&&T[f]&&T[f].parentNode===R&&R.removeChild(T[f]);for(var m in s)if(s.hasOwnProperty(m)){var g=x.createElement("style"),v=s[m].join("\n");g.type="text/css",g.media=m,R.insertBefore(g,o.nextSibling),g.styleSheet?g.styleSheet.cssText=v:g.appendChild(x.createTextNode(v)),T.push(g)}},n=function(e,t){var i=s();i&&(i.open("GET",e,!0),i.onreadystatechange=function(){4!==i.readyState||200!==i.status&&304!==i.status||t(i.responseText)},4!==i.readyState&&i.send(null))},s=function(){var e=!1;try{e=new y.XMLHttpRequest}catch(x){e=new y.ActiveXObject("Microsoft.XMLHTTP")}return function(){return e}}();i(),t.update=i,y.addEventListener?y.addEventListener("resize",e,!1):y.attachEvent&&y.attachEvent("onresize",e)}}(this),function(s){function i(e){var i=(e||"").split(/ /),n={center:"50%",left:"0%",right:"100%",top:"0%",bottom:"100%"},t=function(e){var t=(n[i[e]]||i[e]||"50%").match(/^([+-]=)?([+-]?\d+(\.\d*)?)(.*)$/);i[e]=[t[1],parseFloat(t[2]),t[4]||"px"]};return 1==i.length&&-1<s.inArray(i[0],["top","bottom"])&&(i[1]=i[0],i[0]="50%"),t(0),t(1),i}function e(e){e.set||t(e),s(e.elem).css("background-position",e.pos*(e.end[0][1]-e.start[0][1])+e.start[0][1]+e.end[0][2]+" "+(e.pos*(e.end[1][1]-e.start[1][1])+e.start[1][1]+e.end[1][2]))}function t(e){e.start=i(s(e.elem).css("backgroundPosition")),e.end=i(e.end);for(var t=0;t<e.end.length;t++)e.end[t][0]&&(e.end[t][1]=e.start[t][1]+("-="==e.end[t][0]?-1:1)*e.end[t][1]);e.set=!0}!!s.Tween?s.Tween.propHooks.backgroundPosition={get:function(e){return i(s(e.elem).css(e.prop))},set:e}:s.fx.step.backgroundPosition=e}(jQuery),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(n){var a,l,i=[],s=n(document),e=navigator.userAgent.toLowerCase(),o=n(window),c=[],r=null,u=/msie/.test(e)&&!/opera/.test(e),h=/opera/.test(e);a=u&&/msie 6./.test(e)&&"object"!=typeof window.XMLHttpRequest,l=u&&/msie 7.0/.test(e),n.modal=function(e,t){return n.modal.impl.init(e,t)},n.modal.close=function(){n.modal.impl.close()},n.modal.focus=function(e){n.modal.impl.focus(e)},n.modal.setContainerDimensions=function(){n.modal.impl.setContainerDimensions()},n.modal.setPosition=function(){n.modal.impl.setPosition()},n.modal.update=function(e,t){n.modal.impl.update(e,t)},n.fn.modal=function(e){return n.modal.impl.init(this,e)},n.modal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,modal:!0,onOpen:null,onShow:null,onClose:null},n.modal.impl={d:{},init:function(e,t){if(this.d.data)return!1;if(r=u&&!n.support.boxModel,this.o=n.extend({},n.modal.defaults,t),this.zIndex=this.o.zIndex,this.occb=!1,"object"==typeof e)e=e instanceof n?e:n(e),this.d.placeholder=!1,0<e.parent().parent().size()&&(e.before(n("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),this.d.placeholder=!0,this.display=e.css("display"),!this.o.persist)&&(this.d.orig=e.clone(!0));else{if("string"!=typeof e&&"number"!=typeof e)return alert("SimpleModal Error: Unsupported data type: "+typeof e),this;e=n("<div></div>").html(e)}return this.create(e),this.open(),n.isFunction(this.o.onShow)&&this.o.onShow.apply(this,[this.d]),this},create:function(e){this.getDimensions(),this.o.modal&&a&&(this.d.iframe=n('<iframe src="javascript:false;"></iframe>').css(n.extend(this.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:c[0],width:c[1],zIndex:this.o.zIndex,top:0,left:0})).appendTo(this.o.appendTo)),this.d.overlay=n("<div></div>").attr("id",this.o.overlayId).addClass("simplemodal-overlay").css(n.extend(this.o.overlayCss,{display:"none",opacity:this.o.opacity/100,height:this.o.modal?i[0]:0,width:this.o.modal?i[1]:0,position:"fixed",left:0,top:0,zIndex:this.o.zIndex+1})).appendTo(this.o.appendTo),this.d.container=n("<div></div>").attr("id",this.o.containerId).addClass("simplemodal-container").css(n.extend({position:this.o.fixed?"fixed":"absolute"},this.o.containerCss,{display:"none",zIndex:this.o.zIndex+2})).append(this.o.close&&this.o.closeHTML?n(this.o.closeHTML).addClass(this.o.closeClass):"").appendTo(this.o.appendTo),this.d.wrap=n("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(this.d.container),this.d.data=e.attr("id",e.attr("id")||this.o.dataId).addClass("simplemodal-data").css(n.extend(this.o.dataCss,{display:"none"})).appendTo("body"),this.setContainerDimensions(),this.d.data.appendTo(this.d.wrap),(a||r)&&this.fixIE()},bindEvents:function(){var t=this;n("."+t.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),t.o.modal&&t.o.close&&t.o.overlayClose&&t.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),t.close()}),s.bind("keydown.simplemodal",function(e){t.o.modal&&9===e.keyCode?t.watchTab(e):t.o.close&&t.o.escClose&&27===e.keyCode&&(e.preventDefault(),t.close())}),o.bind("resize.simplemodal orientationchange.simplemodal",function(){t.getDimensions(),t.o.autoResize?t.setContainerDimensions():t.o.autoPosition&&t.setPosition(),a||r?t.fixIE():t.o.modal&&(t.d.iframe&&t.d.iframe.css({height:c[0],width:c[1]}),t.d.overlay.css({height:i[0],width:i[1]}))})},unbindEvents:function(){n("."+this.o.closeClass).unbind("click.simplemodal"),s.unbind("keydown.simplemodal"),o.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var o=this.o.position;n.each([this.d.iframe||null,this.o.modal?this.d.overlay:null,"fixed"===this.d.container.css("position")?this.d.container:null],function(e,t){if(t){var i,n,s=t[0].style;if(s.position="absolute",e<2)s.removeExpression("height"),s.removeExpression("width"),s.setExpression("height",'document.body.scrollHeight > document.body.clientHeight ? document.body.scrollHeight : document.body.clientHeight + "px"'),s.setExpression("width",'document.body.scrollWidth > document.body.clientWidth ? document.body.scrollWidth : document.body.clientWidth + "px"');else o&&o.constructor===Array?(i=-1===(i=o[0]?"number"==typeof o[0]?o[0].toString():o[0].replace(/px/,""):t.css("top").replace(/px/,"")).indexOf("%")?i+' + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"':parseInt(i.replace(/%/,""))+' * ((document.documentElement.clientHeight || document.body.clientHeight) / 100) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',o[1]&&(n=-1===(n="number"==typeof o[1]?o[1].toString():o[1].replace(/px/,"")).indexOf("%")?n+' + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"':parseInt(n.replace(/%/,""))+' * ((document.documentElement.clientWidth || document.body.clientWidth) / 100) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"')):(i='(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (t = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"',n='(document.documentElement.clientWidth || document.body.clientWidth) / 2 - (this.offsetWidth / 2) + (t = document.documentElement.scrollLeft ? document.documentElement.scrollLeft : document.body.scrollLeft) + "px"'),s.removeExpression("top"),s.removeExpression("left"),s.setExpression("top",i),s.setExpression("left",n)}})},focus:function(e){var t=this,i=(e=e&&-1!==n.inArray(e,["first","last"])?e:"first",n(":input:enabled:visible:"+e,t.d.wrap));setTimeout(function(){0<i.length?i.focus():t.d.wrap.focus()},10)},getDimensions:function(){var e="undefined"==typeof window.innerHeight?o.height():window.innerHeight;i=[s.height(),s.width()],c=[e,o.width()]},getVal:function(e,t){return e?"number"==typeof e?e:"auto"===e?0:0<e.indexOf("%")?parseInt(e.replace(/%/,""))/100*("h"===t?c[0]:c[1]):parseInt(e.replace(/px/,"")):null},update:function(e,t){if(!this.d.data)return!1;this.d.origHeight=this.getVal(e,"h"),this.d.origWidth=this.getVal(t,"w"),this.d.data.hide(),e&&this.d.container.css("height",e),t&&this.d.container.css("width",t),this.setContainerDimensions(),this.d.data.show(),this.o.focus&&this.focus(),this.unbindEvents(),this.bindEvents()},setContainerDimensions:function(){var e=a||l,t=this.d.origHeight?this.d.origHeight:h?this.d.container.height():this.getVal(e?this.d.container[0].currentStyle.height:this.d.container.css("height"),"h"),i=(e=this.d.origWidth?this.d.origWidth:h?this.d.container.width():this.getVal(e?this.d.container[0].currentStyle.width:this.d.container.css("width"),"w"),this.d.data.outerHeight(!0)),n=this.d.data.outerWidth(!0);this.d.origHeight=this.d.origHeight||t,this.d.origWidth=this.d.origWidth||e;var s=this.o.maxHeight?this.getVal(this.o.maxHeight,"h"):null,o=this.o.maxWidth?this.getVal(this.o.maxWidth,"w"):null,r=(s=s&&s<c[0]?s:c[0],o=o&&o<c[1]?o:c[1],this.o.minHeight?this.getVal(this.o.minHeight,"h"):"auto");t=t?this.o.autoResize&&s<t?s:t<r?r:t:i?s<i?s:this.o.minHeight&&"auto"!==r&&i<r?r:i:r,s=this.o.minWidth?this.getVal(this.o.minWidth,"w"):"auto",e=e?this.o.autoResize&&o<e?o:e<s?s:e:n?o<n?o:this.o.minWidth&&"auto"!==s&&n<s?s:n:s;this.d.container.css({height:t,width:e}),this.d.wrap.css({overflow:t<i||e<n?"auto":"visible"}),this.o.autoPosition&&this.setPosition()},setPosition:function(){var e,t;e=c[0]/2-this.d.container.outerHeight(!0)/2,t=c[1]/2-this.d.container.outerWidth(!0)/2;var i="fixed"!==this.d.container.css("position")?o.scrollTop():0;this.o.position&&"[object Array]"===Object.prototype.toString.call(this.o.position)?(e=i+(this.o.position[0]||e),t=this.o.position[1]||t):e=i+e,this.d.container.css({left:t,top:e})},watchTab:function(e){0<n(e.target).parents(".simplemodal-container").length?(this.inputs=n(":input:enabled:visible:first, :input:enabled:visible:last",this.d.data[0]),(!e.shiftKey&&e.target===this.inputs[this.inputs.length-1]||e.shiftKey&&e.target===this.inputs[0]||0===this.inputs.length)&&(e.preventDefault(),this.focus(e.shiftKey?"last":"first"))):(e.preventDefault(),this.focus())},open:function(){this.d.iframe&&this.d.iframe.show(),n.isFunction(this.o.onOpen)?this.o.onOpen.apply(this,[this.d]):(this.d.overlay.show(),this.d.container.show(),this.d.data.show()),this.o.focus&&this.focus(),this.bindEvents()},close:function(){if(!this.d.data)return!1;if(this.unbindEvents(),n.isFunction(this.o.onClose)&&!this.occb)this.occb=!0,this.o.onClose.apply(this,[this.d]);else{if(this.d.placeholder){var e=n("#simplemodal-placeholder");this.o.persist?e.replaceWith(this.d.data.removeClass("simplemodal-data").css("display",this.display)):(this.d.data.hide().remove(),e.replaceWith(this.d.orig))}else this.d.data.hide().remove();this.d.container.hide().remove(),this.d.overlay.hide(),this.d.iframe&&this.d.iframe.hide().remove(),this.d.overlay.remove(),this.d={}}}}}),function(e,t){"function"==typeof define&&define.amd?define(["jquery"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("jquery")):t(e.jQuery)}(this,function(i){"use strict";function o(e,t){return typeof e===t}function s(e,t){return!!~(""+e).indexOf(t)}function r(e,t){for(var i in e){var n=e[i];if(!s(n,"-")&&void 0!==g[n])return"pfx"!=t||n}return!1}function a(e,t,i){for(var n in e){var s=t[e[n]];if(void 0!==s)return!1===i?e[n]:o(s,"function")?s.bind(i||t):s}return!1}function n(e,t,i){var n=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+v.join(n+" ")+n).split(" ");return o(t,"string")||o(t,"undefined")?r(s,t):a(s=(e+" "+y.join(n+" ")+n).split(" "),t,i)}var l,c,u={image:null,imageAttribute:"image",holderClass:"imageHolder",imgClass:"img-holder-img",container:i("body"),windowObject:i(window),speed:.2,coverRatio:.75,holderMinHeight:200,holderMaxHeight:null,extraHeight:0,mediaWidth:1600,mediaHeight:900,parallax:!0,touch:!1},h="imageScroll",d="plugin_"+h,p=function(e,t){return function(){return e.apply(t,arguments)}},e={},f=document.documentElement,m="imageScrollModernizr",g=document.createElement(m).style,t="Webkit Moz O ms",v=t.split(" "),y=t.toLowerCase().split(" "),_={},w=0,b="",x=function(e,t,i,n){var s,o,r,a,l=document.createElement("div"),c=document.body,u=c||document.createElement("body");if(parseInt(i,10))for(;i--;)(r=document.createElement("div")).id=n?n[i]:m+(i+1),l.appendChild(r);return s=["&#173;",'<style id="s',m,'">',e,"</style>"].join(""),l.id=m,(c?l:u).innerHTML+=s,u.appendChild(l),c||(u.style.background="",u.style.overflow="hidden",a=f.style.overflow,f.style.overflow="hidden",f.appendChild(u)),o=t(l,e),c?l.parentNode.removeChild(l):(u.parentNode.removeChild(u),f.style.overflow=a),!!o};return _.csstransforms=function(){return!!n("transform")},_.csstransforms3d=function(){var t=!!n("perspective");return t&&"webkitPerspective"in f.style&&x(
"@media (transform-3d),(-webkit-transform-3d){#imageScrollModernizr{left:9px;position:absolute;height:3px;}}",function(e){t=9===e.offsetLeft&&3===e.offsetHeight}),t},e.prefixed=function(e,t,i){return t?n(e,t,i):n(e,"pfx")},window.requestAnimationFrame=e.prefixed("requestAnimationFrame",window)||function(e){var t=(new Date).getTime(),i=Math.max(0,16-(t-w)),n=window.setTimeout(function(){e(t+i)},i);return w=t+i,n},_.csstransforms3d()?b="csstransforms3d":_.csstransforms()&&(b="csstransforms"),""!==b&&(c=e.prefixed("transform")),l=function(e,t){this.$imageHolder=i(e),this.settings=i.extend({},u,t),this.image=this.$imageHolder.data(this.settings.imageAttribute)||this.settings.image,this.mediaWidth=this.$imageHolder.data("width")||this.settings.mediaWidth,this.mediaHeight=this.$imageHolder.data("height")||this.settings.mediaHeight,this.coverRatio=this.$imageHolder.data("cover-ratio")||this.settings.coverRatio,this.holderMinHeight=this.$imageHolder.data("min-height")||this.settings.holderMinHeight,this.holderMaxHeight=this.$imageHolder.data("max-height")||this.settings.holderMaxHeight,this.extraHeight=this.$imageHolder.data("extra-height")||this.settings.extraHeight,this.ticking=!1,this.refresh=p(this.refresh,this),this._onScroll=p(this._onScroll,this),this._defaults=u,this._name=h,this.init()},i.extend(l.prototype,{constructor:l,init:function(){if(!this.image)throw new Error("You need to provide either a data-img attr or an image option");this.$scrollingElement=i("<img/>",{src:this.image}).addClass(this.settings.imgClass),!0===this.settings.touch?this.$scrollingElement.css({maxWidth:"100%"}).prependTo(this.$imageHolder):!0===this.settings.parallax?(this.$scrollerHolder=i("<div/>",{html:this.$imageHolder.html()}).css({top:0,visibility:"hidden",position:"fixed",overflow:"hidden"}).addClass(this.settings.holderClass).prependTo(this.settings.container),this.$imageHolder.css("visibility","hidden").empty(),this.$scrollingElement.css({position:"absolute",top:0,left:0,visibility:"hidden",maxWidth:"none"}).prependTo(this.$scrollerHolder)):(this.$scrollerHolder=this.$imageHolder.css({overflow:"hidden"}),this.$scrollingElement.css({position:"relative",overflow:"hidden"}).prependTo(this.$imageHolder)),!1===this.settings.touch&&(this._bindEvents(),this.refresh())},_adjustImgHolderHeights:function(){var e,t,i,n,s,o,r,a,l,c=this.settings.windowObject.height(),u=this.settings.windowObject.width()-this.settings.container.offset().left,h=this.coverRatio*c;h=null===this.holderMaxHeight||this.holderMaxHeight>h?Math.floor(h):this.holderMaxHeight,h=this.holderMinHeight<h?Math.floor(h):this.holderMinHeight,h+=this.extraHeight,a=Math.floor(c-(c-h)*this.settings.speed),u<=(o=Math.round(this.mediaWidth*(a/this.mediaHeight)))?r=a:(o=u,r=Math.round(this.mediaHeight*(o/this.mediaWidth))),l=a-h,s=c+h,n=2*c*(1-this.settings.speed)-l,e=-(l/2+(r-a)/2),t=Math.round(-.5*(o-u)),i=e-n/2,this.$scrollingElement.css({height:r,width:o}),this.$imageHolder.height(h),this.$scrollerHolder.css({height:h,width:o}),this.scrollingState={winHeight:c,fromY:i,imgTopPos:e,imgLeftPos:t,imgHolderHeight:h,imgScrollingDistance:n,travelDistance:s,holderDistanceFromTop:this.$imageHolder.offset().top-this.settings.windowObject.scrollTop()}},_bindEvents:function(){this.settings.windowObject.on("resize",this.refresh),!0===this.settings.parallax&&this.settings.windowObject.on("scroll",this._onScroll)},_unBindEvents:function(){this.settings.windowObject.off("resize",this.refresh),!0===this.settings.parallax&&this.settings.windowObject.off("scroll",this._onScroll)},_onScroll:function(){this.scrollingState.holderDistanceFromTop=this.$imageHolder.offset().top-this.settings.windowObject.scrollTop(),this._requestTick()},_requestTick:function(){var e=this;this.ticking||(this.ticking=!0,requestAnimationFrame(function(){e._updatePositions()}))},_updatePositions:function(){if(this.scrollingState.holderDistanceFromTop<=this.scrollingState.winHeight&&this.scrollingState.holderDistanceFromTop>=-this.scrollingState.imgHolderHeight){var e=(this.scrollingState.holderDistanceFromTop+this.scrollingState.imgHolderHeight)/this.scrollingState.travelDistance,t=Math.round(this.scrollingState.fromY+this.scrollingState.imgScrollingDistance*(1-e)),i=this.settings.container.offset().left;this.$scrollerHolder.css(this._getCSSObject({transform:c,left:i,x:Math.ceil(this.scrollingState.imgLeftPos)+(""===b&&0<i?i:0),y:Math.round(this.scrollingState.holderDistanceFromTop),visibility:"visible"})),this.$scrollingElement.css(this._getCSSObject({transform:c,x:0,y:t,visibility:"visible"}))}else this.$scrollerHolder.css({visibility:"hidden"}),this.$scrollingElement.css({visibility:"hidden"});this.ticking=!1},_updateFallbackPositions:function(){this.$scrollerHolder.css({width:"100%"}),this.$scrollingElement.css({top:this.scrollingState.imgTopPos,left:this.scrollingState.imgLeftPos})},_getCSSObject:function(e){return"csstransforms3d"===b?e.transform="translate3d("+e.x+"px, "+e.y+"px, 0)":"csstransforms"===b?e.transform="translate("+e.x+"px, "+e.y+"px)":(e.top=e.y,e.left=e.x),delete e.x,delete e.y,e},enable:function(){!1===this.settings.touch&&(this._bindEvents(),this.refresh())},disable:function(){!1===this.settings.touch&&this._unBindEvents()},refresh:function(){!1===this.settings.touch&&(this._adjustImgHolderHeights(),!0===this.settings.parallax?this._requestTick():this._updateFallbackPositions())},destroy:function(){!1===this.settings.touch&&this._unBindEvents(),!0===this.settings.touch?(this.$imageHolder.removeAttr("style"),this.$scrollingElement.remove()):!0===this.settings.parallax?(this.$scrollerHolder.find("."+this.settings.imgClass).remove(),this.$imageHolder.css({visibility:"visible",height:"auto"}).html(this.$scrollerHolder.html()),this.$scrollerHolder.remove()):(this.$imageHolder.css({overflow:"auto"}).removeAttr("style"),this.$scrollingElement.remove()),this.$imageHolder.removeData()}}),i.fn[h]=function(t){return void 0===t||"object"==typeof t?this.each(function(){i.data(this,d)||i.data(this,d,new l(this,t))}):"string"==typeof t&&"_"!==t[0]&&"init"!==t?this.each(function(){var e=i.data(this,d);e instanceof l&&"function"==typeof e[t]&&e[t].apply(e,Array.prototype.slice.call(arguments,1))}):void 0},i.fn[h].defaults=l.defaults=u,i.fn[h].Plugin=l}),function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"undefined"!=typeof exports?module.exports=e(require("jquery")):e(jQuery)}(function(r){"use strict";var n=window.Slick||{};(n=function(){function e(e,t){var i,n,s=this;if(s.defaults={accessibility:!0,adaptiveHeight:!1,appendArrows:r(e),appendDots:r(e),arrows:!0,asNavFor:null,prevArrow:'<button type="button" data-role="none" class="slick-prev">Previous</button>',nextArrow:'<button type="button" data-role="none" class="slick-next">Next</button>',autoplay:!1,autoplaySpeed:3e3,centerMode:!1,centerPadding:"50px",cssEase:"ease",customPaging:function(e,t){return'<button type="button" data-role="none">'+(t+1)+"</button>"},dots:!1,dotsClass:"slick-dots",draggable:!0,easing:"linear",fade:!1,focusOnSelect:!1,infinite:!0,lazyLoad:"ondemand",onBeforeChange:null,onAfterChange:null,onInit:null,onReInit:null,pauseOnHover:!0,pauseOnDotsHover:!1,responsive:null,rtl:!1,slide:"div",slidesToShow:1,slidesToScroll:1,speed:300,swipe:!0,touchMove:!0,touchThreshold:5,useCSS:!0,vertical:!1,waitForAnimate:!0},s.initials={animating:!1,dragging:!1,autoPlayTimer:null,currentSlide:0,currentLeft:null,direction:1,$dots:null,listWidth:null,listHeight:null,loadIndex:0,$nextArrow:null,$prevArrow:null,slideCount:null,slideWidth:null,$slideTrack:null,$slides:null,sliding:!1,slideOffset:0,swipeLeft:null,$list:null,touchObject:{},transformsEnabled:!1},r.extend(s,s.initials),s.activeBreakpoint=null,s.animType=null,s.animProp=null,s.breakpoints=[],s.breakpointSettings=[],s.cssTransitions=!1,s.paused=!1,s.positionProp=null,s.$slider=r(e),s.$slidesCache=null,s.transformType=null,s.transitionType=null,s.windowWidth=0,s.windowTimer=null,s.options=r.extend({},s.defaults,t),s.originalSettings=s.options,(i=s.options.responsive||null)&&-1<i.length){for(n in i)i.hasOwnProperty(n)&&(s.breakpoints.push(i[n].breakpoint),s.breakpointSettings[i[n].breakpoint]=i[n].settings);s.breakpoints.sort(function(e,t){return t-e})}s.autoPlay=r.proxy(s.autoPlay,s),s.autoPlayClear=r.proxy(s.autoPlayClear,s),s.changeSlide=r.proxy(s.changeSlide,s),s.selectHandler=r.proxy(s.selectHandler,s),s.setPosition=r.proxy(s.setPosition,s),s.swipeHandler=r.proxy(s.swipeHandler,s),s.dragHandler=r.proxy(s.dragHandler,s),s.keyHandler=r.proxy(s.keyHandler,s),s.autoPlayIterator=r.proxy(s.autoPlayIterator,s),s.instanceUid=o++,s.htmlExpr=/^(?:\s*(<[\w\W]+>)[^>]*)$/,s.init()}var o=0;return e}()).prototype.addSlide=function(e,t,i){var n=this;if("boolean"==typeof t)i=t,t=null;else if(t<0||t>=n.slideCount)return!1;n.unload(),"number"==typeof t?0===t&&0===n.$slides.length?r(e).appendTo(n.$slideTrack):i?r(e).insertBefore(n.$slides.eq(t)):r(e).insertAfter(n.$slides.eq(t)):!0===i?r(e).prependTo(n.$slideTrack):r(e).appendTo(n.$slideTrack),n.$slides=n.$slideTrack.children(this.options.slide),n.$slideTrack.children(this.options.slide).detach(),n.$slideTrack.append(n.$slides),n.$slides.each(function(e,t){r(t).attr("index",e)}),n.$slidesCache=n.$slides,n.reinit()},n.prototype.animateSlide=function(e,t){var i={},n=this;if(1===n.options.slidesToShow&&!0===n.options.adaptiveHeight&&!1===n.options.vertical){var s=n.$slides.eq(n.currentSlide).outerHeight(!0);n.$list.animate({height:s},n.options.speed)}!0===n.options.rtl&&!1===n.options.vertical&&(e=-e),!1===n.transformsEnabled?!1===n.options.vertical?n.$slideTrack.animate({left:e},n.options.speed,n.options.easing,t):n.$slideTrack.animate({top:e},n.options.speed,n.options.easing,t):!1===n.cssTransitions?r({animStart:n.currentLeft}).animate({animStart:e},{duration:n.options.speed,easing:n.options.easing,step:function(e){!1===n.options.vertical?i[n.animType]="translate("+e+"px, 0px)":i[n.animType]="translate(0px,"+e+"px)",n.$slideTrack.css(i)},complete:function(){t&&t.call()}}):(n.applyTransition(),i[n.animType]=!1===n.options.vertical?"translate3d("+e+"px, 0px, 0px)":"translate3d(0px,"+e+"px, 0px)",n.$slideTrack.css(i),t&&setTimeout(function(){n.disableTransition(),t.call()},n.options.speed))},n.prototype.applyTransition=function(e){var t=this,i={};i[t.transitionType]=!1===t.options.fade?t.transformType+" "+t.options.speed+"ms "+t.options.cssEase:"opacity "+t.options.speed+"ms "+t.options.cssEase,!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},n.prototype.autoPlay=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer),e.slideCount>e.options.slidesToShow&&!0!==e.paused&&(e.autoPlayTimer=setInterval(e.autoPlayIterator,e.options.autoplaySpeed))},n.prototype.autoPlayClear=function(){var e=this;e.autoPlayTimer&&clearInterval(e.autoPlayTimer)},n.prototype.autoPlayIterator=function(){var e=this,t=null!=e.options.asNavFor?r(e.options.asNavFor).getSlick():null;!1===e.options.infinite?1===e.direction?(e.currentSlide+1===e.slideCount-1&&(e.direction=0),e.slideHandler(e.currentSlide+e.options.slidesToScroll),null!=t&&t.slideHandler(t.currentSlide+t.options.slidesToScroll)):(0==e.currentSlide-1&&(e.direction=1),e.slideHandler(e.currentSlide-e.options.slidesToScroll),null!=t&&t.slideHandler(t.currentSlide-t.options.slidesToScroll)):(e.slideHandler(e.currentSlide+e.options.slidesToScroll),null!=t&&t.slideHandler(t.currentSlide+t.options.slidesToScroll))},n.prototype.buildArrows=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow=r(e.options.prevArrow),e.$nextArrow=r(e.options.nextArrow),e.htmlExpr.test(e.options.prevArrow)&&e.$prevArrow.appendTo(e.options.appendArrows),e.htmlExpr.test(e.options.nextArrow)&&e.$nextArrow.appendTo(e.options.appendArrows),!0!==e.options.infinite&&e.$prevArrow.addClass("slick-disabled"))},n.prototype.buildDots=function(){var e,t,i=this;if(!0===i.options.dots&&i.slideCount>i.options.slidesToShow){for(t='<ul class="'+i.options.dotsClass+'">',e=0;e<=i.getDotCount();e+=1)t+="<li>"+i.options.customPaging.call(this,i,e)+"</li>";t+="</ul>",i.$dots=r(t).appendTo(i.options.appendDots),i.$dots.find("li").first().addClass("slick-active")}},n.prototype.buildOut=function(){var e=this;e.$slides=e.$slider.children(e.options.slide+":not(.slick-cloned)").addClass("slick-slide"),e.slideCount=e.$slides.length,e.$slides.each(function(e,t){r(t).attr("index",e)}),e.$slidesCache=e.$slides,e.$slider.addClass("slick-slider"),e.$slideTrack=0===e.slideCount?r('<div class="slick-track"/>').appendTo(e.$slider):e.$slides.wrapAll('<div class="slick-track"/>').parent(),e.$list=e.$slideTrack.wrap('<div class="slick-list"/>').parent(),e.$slideTrack.css("opacity",0),!0===e.options.centerMode&&(e.options.slidesToScroll=1,0==e.options.slidesToShow%2&&(e.options.slidesToShow=3)),r("img[data-lazy]",e.$slider).not("[src]").addClass("slick-loading"),e.setupInfinite(),e.buildArrows(),e.buildDots(),e.updateDots(),!0===e.options.accessibility&&e.$list.prop("tabIndex",0),e.setSlideClasses("number"==typeof this.currentSlide?this.currentSlide:0),!0===e.options.draggable&&e.$list.addClass("draggable")},n.prototype.checkResponsive=function(){var e,t,i=this;if(i.originalSettings.responsive&&-1<i.originalSettings.responsive.length&&null!==i.originalSettings.responsive){for(e in t=null,i.breakpoints)i.breakpoints.hasOwnProperty(e)&&r(window).width()<i.breakpoints[e]&&(t=i.breakpoints[e]);null!==t?null!==i.activeBreakpoint?t!==i.activeBreakpoint&&(i.activeBreakpoint=t,i.options=r.extend({},i.options,i.breakpointSettings[t]),i.refresh()):(i.activeBreakpoint=t,i.options=r.extend({},i.options,i.breakpointSettings[t]),i.refresh()):null!==i.activeBreakpoint&&(i.activeBreakpoint=null,i.options=r.extend({},i.options,i.originalSettings),i.refresh())}},n.prototype.changeSlide=function(e){var t=this,i=r(e.target),n=null!=t.options.asNavFor?r(t.options.asNavFor).getSlick():null;switch(i.is("a")&&e.preventDefault(),e.data.message){case"previous":t.slideCount>t.options.slidesToShow&&(t.slideHandler(t.currentSlide-t.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide-n.options.slidesToScroll));break;case"next":t.slideCount>t.options.slidesToShow&&(t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=n&&n.slideHandler(n.currentSlide+n.options.slidesToScroll));break;case"index":var s=0===e.data.index?0:e.data.index||r(e.target).parent().index()*t.options.slidesToScroll;t.slideHandler(s),null!=n&&n.slideHandler(s);default:return!1}},n.prototype.destroy=function(){var e=this;e.autoPlayClear(),e.touchObject={},r(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&(e.$prevArrow.remove(),e.$nextArrow.remove()),e.$slides.parent().hasClass("slick-track")&&e.$slides.unwrap().unwrap(),e.$slides.removeClass("slick-slide slick-active slick-visible").css("width",""),e.$slider.removeClass("slick-slider"),e.$slider.removeClass("slick-initialized"),e.$list.off(".slick"),r(window).off(".slick-"+e.instanceUid),r(document).off(".slick-"+e.instanceUid)},n.prototype.disableTransition=function(e){var t=this,i={};i[t.transitionType]="",!1===t.options.fade?t.$slideTrack.css(i):t.$slides.eq(e).css(i)},n.prototype.fadeSlide=function(e,t){var i=this;!1===i.cssTransitions?(i.$slides.eq(e).css({zIndex:1e3}),i.$slides.eq(e).animate({opacity:1},i.options.speed,i.options.easing,t)):(i.applyTransition(e),i.$slides.eq(e).css({opacity:1,zIndex:1e3}),t&&setTimeout(function(){i.disableTransition(e),t.call()},i.options.speed))},n.prototype.filterSlides=function(e){var t=this;null!==e&&(t.unload(),t.$slideTrack.children(this.options.slide).detach(),t.$slidesCache.filter(e).appendTo(t.$slideTrack),t.reinit())},n.prototype.getCurrent=function(){return this.currentSlide},n.prototype.getDotCount=function(){var e,t=this,i=0,n=0,s=0;for(e=!0===t.options.infinite?t.slideCount+t.options.slidesToShow-t.options.slidesToScroll:t.slideCount;i<e;)s++,i=(n+=t.options.slidesToScroll)+t.options.slidesToShow;return s},n.prototype.getLeft=function(e){var t,i=this,n=0;return i.slideOffset=0,t=i.$slides.first().outerHeight(),!0===i.options.infinite?(i.slideCount>i.options.slidesToShow&&(i.slideOffset=-1*i.slideWidth*i.options.slidesToShow,n=-1*t*i.options.slidesToShow),0!=i.slideCount%i.options.slidesToScroll&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=-1*i.slideCount%i.options.slidesToShow*i.slideWidth,n=-1*i.slideCount%i.options.slidesToShow*t)):0!=i.slideCount%i.options.slidesToShow&&e+i.options.slidesToScroll>i.slideCount&&i.slideCount>i.options.slidesToShow&&(i.slideOffset=i.options.slidesToShow*i.slideWidth-i.slideCount%i.options.slidesToShow*i.slideWidth,n=i.slideCount%i.options.slidesToShow*t),!0===i.options.centerMode&&!0===i.options.infinite?i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)-i.slideWidth:!0===i.options.centerMode&&(i.slideOffset+=i.slideWidth*Math.floor(i.options.slidesToShow/2)),!1===i.options.vertical?-1*e*i.slideWidth+i.slideOffset:-1*e*t+n},n.prototype.init=function(){var e=this;r(e.$slider).hasClass("slick-initialized")||(r(e.$slider).addClass("slick-initialized"),e.buildOut(),e.setProps(),e.startLoad(),e.loadSlider(),e.initializeEvents(),e.checkResponsive()),null!==e.options.onInit&&e.options.onInit.call(this,e)},n.prototype.initArrowEvents=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.on("click.slick",{message:"previous"},e.changeSlide),e.$nextArrow.on("click.slick",{message:"next"},e.changeSlide))},n.prototype.initDotEvents=function(){var e=this;!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&r("li",e.$dots).on("click.slick",{message:"index"},e.changeSlide),!0===e.options.dots&&!0===e.options.pauseOnDotsHover&&!0===e.options.autoplay&&r("li",e.$dots).on("mouseenter.slick",e.autoPlayClear).on("mouseleave.slick",e.autoPlay)},n.prototype.initializeEvents=function(){var e=this;e.initArrowEvents(),e.initDotEvents(),e.$list.on("touchstart.slick mousedown.slick",{action:"start"},e.swipeHandler),e.$list.on("touchmove.slick mousemove.slick",{action:"move"},e.swipeHandler),e.$list.on("touchend.slick mouseup.slick",{action:"end"},e.swipeHandler),e.$list.on("touchcancel.slick mouseleave.slick",{action:"end"},e.swipeHandler),!0===e.options.pauseOnHover&&!0===e.options.autoplay&&(e.$list.on("mouseenter.slick",e.autoPlayClear),e.$list.on("mouseleave.slick",e.autoPlay)),!0===e.options.accessibility&&e.$list.on("keydown.slick",e.keyHandler),!0===e.options.focusOnSelect&&r(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),r(window).on("orientationchange.slick.slick-"+e.instanceUid,function(){e.checkResponsive(),e.setPosition()}),r(window).on("resize.slick.slick-"+e.instanceUid,function(){r(window).width()!==e.windowWidth&&(clearTimeout(e.windowDelay),e.windowDelay=window.setTimeout(function(){e.windowWidth=r(window).width(),e.checkResponsive(),e.setPosition()},50))}),r(window).on("load.slick.slick-"+e.instanceUid,e.setPosition),r(document).on("ready.slick.slick-"+e.instanceUid,e.setPosition)},n.prototype.initUI=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.show(),e.$nextArrow.show()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.show(),!0===e.options.autoplay&&e.autoPlay()},n.prototype.keyHandler=function(e){var t=this;37===e.keyCode?t.changeSlide({data:{message:"previous"}}):39===e.keyCode&&t.changeSlide({data:{message:"next"}})},n.prototype.lazyLoad=function(){function e(e){r("img[data-lazy]",e).each(function(){var e=r(this),t=r(this).attr("data-lazy")+"?"+(new Date).getTime();e.load(function(){e.animate({opacity:1},200)}).css({opacity:0}).attr("src",t).removeAttr("data-lazy").removeClass("slick-loading")})}var t,i,n=this;!0===n.options.centerMode?!0===n.options.infinite?i=(t=n.currentSlide+(n.options.slidesToShow/2+1))+n.options.slidesToShow+2:(t=Math.max(0,n.currentSlide-(n.options.slidesToShow/2+1)),i=n.options.slidesToShow/2+1+2+n.currentSlide):(i=(t=n.options.infinite?n.options.slidesToShow+n.currentSlide:n.currentSlide)+n.options.slidesToShow,!0===n.options.fade&&(0<t&&t--,i<=n.slideCount&&i++)),e(n.$slider.find(".slick-slide").slice(t,i)),n.slideCount<=n.options.slidesToShow?e(n.$slider.find(".slick-slide")):n.currentSlide>=n.slideCount-n.options.slidesToShow?e(n.$slider.find(".slick-cloned").slice(0,n.options.slidesToShow)):0===n.currentSlide&&e(n.$slider.find(".slick-cloned").slice(-1*n.options.slidesToShow))},n.prototype.loadSlider=function(){var e=this;e.setPosition(),e.$slideTrack.css({opacity:1}),e.$slider.removeClass("slick-loading"),e.initUI(),"progressive"===e.options.lazyLoad&&e.progressiveLazyLoad()},n.prototype.postSlide=function(e){var t=this;null!==t.options.onAfterChange&&t.options.onAfterChange.call(this,t,e),t.animating=!1,t.setPosition(),!(t.swipeLeft=null)===t.options.autoplay&&!1===t.paused&&t.autoPlay()},n.prototype.progressiveLazyLoad=function(){var e,t=this;0<r("img[data-lazy]").length&&(e=r("img[data-lazy]",t.$slider).first()).attr("src",e.attr("data-lazy")).removeClass("slick-loading").load(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad()}).error(function(){e.removeAttr("data-lazy"),t.progressiveLazyLoad()})},n.prototype.refresh=function(){var e=this,t=e.currentSlide,i=e.slideCount,n=e.options.slidesToShow;e.destroy(),$.extend(e,e.initials),!0!==e.options.infinite&&i-n<t&&(t=i-n),e.currentSlide=t,e.init(),e.updateArrows()},n.prototype.reinit=function(){var e=this;e.$slides=e.$slideTrack.children(e.options.slide).addClass("slick-slide"),e.slideCount=e.$slides.length,e.currentSlide>=e.slideCount&&0!==e.currentSlide&&(e.currentSlide=e.currentSlide-e.options.slidesToScroll),e.setProps(),e.setupInfinite(),e.buildArrows(),e.updateArrows(),e.initArrowEvents(),e.buildDots(),e.updateDots(),e.initDotEvents(),!0===e.options.focusOnSelect&&r(e.options.slide,e.$slideTrack).on("click.slick",e.selectHandler),e.setSlideClasses(0),e.setPosition(),null!==e.options.onReInit&&e.options.onReInit.call(this,e)},n.prototype.removeSlide=function(e,t){var i=this;return"boolean"==typeof e?e=!0===(t=e)?0:i.slideCount-1:e=!0===t?--e:e,!(i.slideCount<1||e<0||e>i.slideCount-1)&&(i.unload(),i.$slideTrack.children(this.options.slide).eq(e).remove(),i.$slides=i.$slideTrack.children(this.options.slide),i.$slideTrack.children(this.options.slide).detach(),i.$slideTrack.append(i.$slides),i.$slidesCache=i.$slides,void i.reinit())},n.prototype.setCSS=function(e){var t,i,n=this,s={};!0===n.options.rtl&&(e=-e),t="left"==n.positionProp?e+"px":"0px",i="top"==n.positionProp?e+"px":"0px",s[n.positionProp]=e,!1===n.transformsEnabled||(!(s={})===n.cssTransitions?s[n.animType]="translate("+t+", "+i+")":s[n.animType]="translate3d("+t+", "+i+", 0px)"),n.$slideTrack.css(s)},n.prototype.setDimensions=function(){var e=this;!1===e.options.vertical?!0===e.options.centerMode&&e.$list.css({padding:"0px "+e.options.centerPadding}):(e.$list.height(e.$slides.first().outerHeight(!0)*e.options.slidesToShow),!0===e.options.centerMode&&e.$list.css({padding:e.options.centerPadding+" 0px"})),e.listWidth=e.$list.width(),e.listHeight=e.$list.height(),!1===e.options.vertical?(e.slideWidth=Math.ceil(e.listWidth/e.options.slidesToShow),e.$slideTrack.width(Math.ceil(e.slideWidth*e.$slideTrack.children(".slick-slide").length))):(e.slideWidth=Math.ceil(e.listWidth),e.$slideTrack.height(Math.ceil(e.$slides.first().outerHeight(!0)*e.$slideTrack.children(".slick-slide").length)));var t=e.$slides.first().outerWidth(!0)-e.$slides.first().width();e.$slideTrack.children(".slick-slide").width(e.slideWidth-t)},n.prototype.setFade=function(){var i,n=this;n.$slides.each(function(e,t){i=-1*n.slideWidth*e,r(t).css({position:"relative",left:i,top:0,zIndex:800,opacity:0})}),n.$slides.eq(n.currentSlide).css({zIndex:900,opacity:1})},n.prototype.setHeight=function(){var e=this;if(1===e.options.slidesToShow&&!0===e.options.adaptiveHeight&&!1===e.options.vertical){var t=e.$slides.eq(e.currentSlide).outerHeight(!0);e.$list.css("height",t)}},n.prototype.setPosition=function(){var e=this;e.setDimensions(),e.setHeight(),!1===e.options.fade?e.setCSS(e.getLeft(e.currentSlide)):e.setFade()},n.prototype.setProps=function(){var e=this,t=document.body.style;e.positionProp=!0===e.options.vertical?"top":"left","top"===e.positionProp?e.$slider.addClass("slick-vertical"):e.$slider.removeClass("slick-vertical"),(void 0!==t.WebkitTransition||void 0!==t.MozTransition||void 0!==t.msTransition)&&!0===e.options.useCSS&&(e.cssTransitions=!0),void 0!==t.OTransform&&(e.animType="OTransform",e.transformType="-o-transform",e.transitionType="OTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.MozTransform&&(e.animType="MozTransform",e.transformType="-moz-transform",e.transitionType="MozTransition",void 0===t.perspectiveProperty&&void 0===t.MozPerspective&&(e.animType=!1)),void 0!==t.webkitTransform&&(e.animType="webkitTransform",e.transformType="-webkit-transform",e.transitionType="webkitTransition",void 0===t.perspectiveProperty&&void 0===t.webkitPerspective&&(e.animType=!1)),void 0!==t.msTransform&&(e.animType="msTransform",e.transformType="-ms-transform",e.transitionType="msTransition",void 0===t.msTransform&&(e.animType=!1)),void 0!==t.transform&&!1!==e.animType&&(e.animType="transform",e.transformType="transform",e.transitionType="transition"),e.transformsEnabled=null!==e.animType&&!1!==e.animType},n.prototype.setSlideClasses=function(e){var t,i,n,s,o=this;o.$slider.find(".slick-slide").removeClass("slick-active").removeClass("slick-center"),i=o.$slider.find(".slick-slide"),!0===o.options.centerMode?(t=Math.floor(o.options.slidesToShow/2),!0===o.options.infinite&&(t<=e&&e<=o.slideCount-1-t?o.$slides.slice(e-t,e+t+1).addClass("slick-active"):(n=o.options.slidesToShow+e,i.slice(n-t+1,n+t+2).addClass("slick-active")),0===e?i.eq(i.length-1-o.options.slidesToShow).addClass("slick-center"):e===o.slideCount-1&&i.eq(o.options.slidesToShow).addClass("slick-center")),o.$slides.eq(e).addClass("slick-center")):0<=e&&e<=o.slideCount-o.options.slidesToShow?o.$slides.slice(e,e+o.options.slidesToShow).addClass("slick-active"):i.length<=o.options.slidesToShow?i.addClass("slick-active"):(s=o.slideCount%o.options.slidesToShow,n=!0===o.options.infinite?o.options.slidesToShow+e:e,o.options.slidesToShow==o.options.slidesToScroll&&o.slideCount-e<o.options.slidesToShow?i.slice(n-(o.options.slidesToShow-s),n+s).addClass("slick-active"):i.slice(n,n+o.options.slidesToShow).addClass("slick-active")),"ondemand"===o.options.lazyLoad&&o.lazyLoad()},n.prototype.setupInfinite=function(){var e,t,i,n=this;if((!0===n.options.fade||!0===n.options.vertical)&&(n.options.centerMode=!1),!0===n.options.infinite&&!1===n.options.fade&&(t=null,n.slideCount>n.options.slidesToShow)){for(i=!0===n.options.centerMode?n.options.slidesToShow+1:n.options.slidesToShow,e=n.slideCount;e>n.slideCount-i;e-=1)t=e-1,r(n.$slides[t]).clone(!0).attr("id","").attr("index",t-n.slideCount).prependTo(n.$slideTrack).addClass("slick-cloned");for(e=0;e<i;e+=1)t=e,r(n.$slides[t]).clone(!0).attr("id","").attr("index",t+n.slideCount).appendTo(n.$slideTrack).addClass("slick-cloned");n.$slideTrack.find(".slick-cloned").find("[id]").each(function(){r(this).attr("id","")})}},n.prototype.selectHandler=function(e){var t=this,i=null!=t.options.asNavFor?r(t.options.asNavFor).getSlick():null,n=parseInt(r(e.target).parents(".slick-slide").attr("index"));if(n||(n=0),!(t.slideCount<=t.options.slidesToShow)&&(t.slideHandler(n),null!=i)){if(i.slideCount<=i.options.slidesToShow)return;i.slideHandler(n)}},n.prototype.slideHandler=function(e){var t,i,n,s,o=null,r=this;return(!0!==r.animating||!0!==r.options.waitForAnimate)&&(t=e,o=r.getLeft(t),n=r.getLeft(r.currentSlide),s=0!=r.slideCount%r.options.slidesToScroll?r.options.slidesToScroll:0,r.currentLeft=null===r.swipeLeft?n:r.swipeLeft,!1===r.options.infinite&&!1===r.options.centerMode&&(e<0||e>r.slideCount-r.options.slidesToShow+s)?(!1===r.options.fade&&(t=r.currentSlide,r.animateSlide(n,function(){r.postSlide(t)})),!1):!1===r.options.infinite&&!0===r.options.centerMode&&(e<0||e>r.slideCount-r.options.slidesToScroll)?(!1===r.options.fade&&(t=r.currentSlide,r.animateSlide(n,function(){r.postSlide(t)})),!1):(!0===r.options.autoplay&&clearInterval(r.autoPlayTimer),i=t<0?0!=r.slideCount%r.options.slidesToScroll?r.slideCount-r.slideCount%r.options.slidesToScroll:r.slideCount-r.options.slidesToScroll:t>r.slideCount-1?0:t,r.animating=!0,null!==r.options.onBeforeChange&&e!==r.currentSlide&&r.options.onBeforeChange.call(this,r,r.currentSlide,i),r.currentSlide=i,r.setSlideClasses(r.currentSlide),r.updateDots(),r.updateArrows(),!0===r.options.fade?(r.fadeSlide(i,function(){r.postSlide(i)}),!1):void r.animateSlide(o,function(){r.postSlide(i)})))},n.prototype.startLoad=function(){var e=this;!0===e.options.arrows&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.hide(),e.$nextArrow.hide()),!0===e.options.dots&&e.slideCount>e.options.slidesToShow&&e.$dots.hide(),e.$slider.addClass("slick-loading")},n.prototype.swipeDirection=function(){var e,t,i,n,s=this;return e=s.touchObject.startX-s.touchObject.curX,t=s.touchObject.startY-s.touchObject.curY,i=Math.atan2(t,e),(n=Math.round(180*i/Math.PI))<0&&(n=360-Math.abs(n)),n<=45&&0<=n?"left":n<=360&&315<=n?"left":135<=n&&n<=225?"right":"vertical"},n.prototype.swipeEnd=function(e){var t=this,i=null!=t.options.asNavFor?r(t.options.asNavFor).getSlick():null;if(t.dragging=!1,void 0===t.touchObject.curX)return!1;if(t.touchObject.swipeLength>=t.touchObject.minSwipe)switch(r(e.target).on("click.slick",function(e){e.stopImmediatePropagation(),e.stopPropagation(),e.preventDefault(),r(e.target).off("click.slick")}),t.swipeDirection()){case"left":t.slideHandler(t.currentSlide+t.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide+i.options.slidesToScroll),t.touchObject={};break;case"right":t.slideHandler(t.currentSlide-t.options.slidesToScroll),null!=i&&i.slideHandler(i.currentSlide-i.options.slidesToScroll),t.touchObject={}}else t.touchObject.startX!==t.touchObject.curX&&(t.slideHandler(t.currentSlide),null!=i&&i.slideHandler(i.currentSlide),t.touchObject={})},n.prototype.swipeHandler=function(e){var t=this;if(!(!1===t.options.swipe||"ontouchend"in document&&!1===t.options.swipe||!1===t.options.draggable&&-1!==e.type.indexOf("mouse")))switch(t.touchObject.fingerCount=e.originalEvent&&void 0!==e.originalEvent.touches?e.originalEvent.touches.length:1,t.touchObject.minSwipe=t.listWidth/t.options.touchThreshold,e.data.action){case"start":t.swipeStart(e);break;case"move":t.swipeMove(e);break;case"end":t.swipeEnd(e)}},n.prototype.swipeMove=function(e){var t,i,n,s=this;return n=void 0!==e.originalEvent?e.originalEvent.touches:null,t=s.getLeft(s.currentSlide),!(!s.dragging||n&&1!==n.length)&&(s.touchObject.curX=void 0!==n?n[0].pageX:e.clientX,s.touchObject.curY=void 0!==n?n[0].pageY:e.clientY,s.touchObject.swipeLength=Math.round(Math.sqrt(Math.pow(s.touchObject.curX-s.touchObject.startX,2))),"vertical"!==s.swipeDirection()?(void 0!==e.originalEvent&&4<s.touchObject.swipeLength&&e.preventDefault(),i=s.touchObject.curX>s.touchObject.startX?1:-1,s.swipeLeft=!1===s.options.vertical?t+s.touchObject.swipeLength*i:t+s.touchObject.swipeLength*(s.$list.height()/s.listWidth)*i,!0!==s.options.fade&&!1!==s.options.touchMove&&(!0===s.animating?(s.swipeLeft=null,!1):void s.setCSS(s.swipeLeft))):void 0)},n.prototype.swipeStart=function(e){var t,i=this;return 1!==i.touchObject.fingerCount||i.slideCount<=i.options.slidesToShow?!(i.touchObject={}):(void 0!==e.originalEvent&&void 0!==e.originalEvent.touches&&(t=e.originalEvent.touches[0]),i.touchObject.startX=i.touchObject.curX=void 0!==t?t.pageX:e.clientX,i.touchObject.startY=i.touchObject.curY=void 0!==t?t.pageY:e.clientY,void(i.dragging=!0))},n.prototype.unfilterSlides=function(){var e=this;null!==e.$slidesCache&&(e.unload(),e.$slideTrack.children(this.options.slide).detach(),e.$slidesCache.appendTo(e.$slideTrack),e.reinit())},n.prototype.unload=function(){var e=this;r(".slick-cloned",e.$slider).remove(),e.$dots&&e.$dots.remove(),e.$prevArrow&&(e.$prevArrow.remove(),e.$nextArrow.remove()),e.$slides.removeClass("slick-slide slick-active slick-visible").css("width","")},n.prototype.updateArrows=function(){var e=this;!0===e.options.arrows&&!0!==e.options.infinite&&e.slideCount>e.options.slidesToShow&&(e.$prevArrow.removeClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled"),0===e.currentSlide?(e.$prevArrow.addClass("slick-disabled"),e.$nextArrow.removeClass("slick-disabled")):e.currentSlide>=e.slideCount-e.options.slidesToShow&&(e.$nextArrow.addClass("slick-disabled"),e.$prevArrow.removeClass("slick-disabled")))},
n.prototype.updateDots=function(){var e=this;null!==e.$dots&&(e.$dots.find("li").removeClass("slick-active"),e.$dots.find("li").eq(Math.floor(e.currentSlide/e.options.slidesToScroll)).addClass("slick-active"))},r.fn.slick=function(i){return this.each(function(e,t){t.slick=new n(t,i)})},r.fn.slickAdd=function(i,n,s){return this.each(function(e,t){t.slick.addSlide(i,n,s)})},r.fn.slickCurrentSlide=function(){return this.get(0).slick.getCurrent()},r.fn.slickFilter=function(i){return this.each(function(e,t){t.slick.filterSlides(i)})},r.fn.slickGoTo=function(i){return this.each(function(e,t){t.slick.changeSlide({data:{message:"index",index:i}})})},r.fn.slickNext=function(){return this.each(function(e,t){t.slick.changeSlide({data:{message:"next"}})})},r.fn.slickPause=function(){return this.each(function(e,t){t.slick.autoPlayClear(),t.slick.paused=!0})},r.fn.slickPlay=function(){return this.each(function(e,t){t.slick.paused=!1,t.slick.autoPlay()})},r.fn.slickPrev=function(){return this.each(function(e,t){t.slick.changeSlide({data:{message:"previous"}})})},r.fn.slickRemove=function(i,n){return this.each(function(e,t){t.slick.removeSlide(i,n)})},r.fn.slickGetOption=function(e){return this.get(0).slick.options[e]},r.fn.slickSetOption=function(i,n,s){return this.each(function(e,t){t.slick.options[i]=n,!0===s&&(t.slick.unload(),t.slick.reinit())})},r.fn.slickUnfilter=function(){return this.each(function(e,t){t.slick.unfilterSlides()})},r.fn.unslick=function(){return this.each(function(e,t){t.slick&&t.slick.destroy()})},r.fn.getSlick=function(){var i=null;return this.each(function(e,t){i=t.slick}),i}}),window.averta={},function(r){function e(){if("result"in arguments.callee)return arguments.callee.result;var e=/^(Moz|Webkit|Khtml|O|ms|Icab)(?=[A-Z])/,t=document.getElementsByTagName("script")[0];for(var i in t.style)if(e.test(i))return arguments.callee.result=i.match(e)[0];return"WebkitOpacity"in t.style?arguments.callee.result="Webkit":"KhtmlOpacity"in t.style?arguments.callee.result="Khtml":arguments.callee.result=""}function t(e){var t=(document.body||document.documentElement).style,i=e;if("string"==typeof t[i])return!0;v=["Moz","Webkit","Khtml","O","ms"],i=i.charAt(0).toUpperCase()+i.substr(1);for(var n=0;n<v.length;n++)if("string"==typeof t[v[n]+i])return!0;return!1}function i(){return t("transition")}function s(){return t("transform")}function n(){if(!s())return!1;var e,t=document.createElement("p"),i={WebkitTransform:"-webkit-transform",OTransform:"-o-transform",MSTransform:"-ms-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",Transform:"transform",transform:"transform"};for(var n in document.body.insertBefore(t,null),i)t.style[n]!==undefined&&(t.style[n]="translate3d(1px,1px,1px)",e=window.getComputedStyle(t).getPropertyValue(i[n]));return document.body.removeChild(t),null!=e&&0<e.length&&"none"!==e}window["package"]=function(e){window[e]||(window[e]={})};var o=function(e,t){for(var i in t)e[i]=t[i]};Function.prototype.extend=function(e){"function"==typeof e.prototype.constructor?o(this.prototype,e.prototype):this.prototype.extend(e),this.prototype.constructor=this};var a={Moz:"-moz-",Webkit:"-webkit-",Khtml:"-khtml-",O:"-o-",ms:"-ms-",Icab:"-icab-"};r(document).ready(function(){window._jcsspfx=e(),window._csspfx=a[window._jcsspfx],window._cssanim=i(),window._css3d=n(),window._css2d=s(),window._mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),window._touch="ontouchstart"in document}),window.parseQueryString=function(e){var s={};return e.replace(new RegExp("([^?=&]+)(=([^&]*))?","g"),function(e,t,i,n){s[t]=n}),s};var l=50/3;(window.requestAnimationFrame||(window.requestAnimationFrame=window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,l)}),window.getComputedStyle||(window.getComputedStyle=function(i){return this.el=i,this.getPropertyValue=function(e){var t=/(\-([a-z]){1})/g;return"float"==e&&(e="styleFloat"),t.test(e)&&(e=e.replace(t,function(e,t,i){return i.toUpperCase()})),i.currentStyle[e]?i.currentStyle[e]:null},i.currentStyle}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e,t){var i=this.length>>>0,n=Number(t)||0;for((n=n<0?Math.ceil(n):Math.floor(n))<0&&(n+=i);n<i;n++)if(n in this&&this[n]===e)return n;return-1}),jQuery)&&(r.jqLoadFix=function(){if(this.complete){var e=this;setTimeout(function(){r(e).load()},1)}},jQuery.uaMatch=jQuery.uaMatch||function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},matched=jQuery.uaMatch(navigator.userAgent),browser={},matched.browser&&(browser[matched.browser]=!0,browser.version=matched.version),browser.chrome?browser.webkit=!0:browser.webkit&&(browser.safari=!0),!!navigator.userAgent.match(/Trident\/7\./)&&(browser.msie="true",delete browser.mozilla),jQuery.browser=browser,r.fn.preloadImg=function(s,o){return this.each(function(){var t=r(this),i=this,n=new Image;n.onload=function(e){null==e&&(e={}),t.attr("src",s),e.width=n.width,e.height=n.height,setTimeout(function(){o.call(i,e)},50),n=null},n.src=s}),this})}(jQuery),function(){"use strict";averta.EventDispatcher=function(){this.listeners={}},averta.EventDispatcher.extend=function(e){var t=new averta.EventDispatcher;for(var i in t)"constructor"!=i&&(e[i]=averta.EventDispatcher.prototype[i])},averta.EventDispatcher.prototype={constructor:averta.EventDispatcher,addEventListener:function(e,t,i){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push({listener:t,ref:i})},removeEventListener:function(e,t,i){if(this.listeners[e]){for(var n=0,s=this.listeners[e].length;n<s;++n)t==this.listeners[e][n].listener&&i==this.listeners[e][n].ref&&this.listeners[e].splice(n);0==this.listeners[e].length&&delete this.listeners[e]}},dispatchEvent:function(e){if((e.target=this).listeners[e.type])for(var t=0,i=this.listeners[e.type].length;t<i;++t)this.listeners[e.type][t].listener.call(this.listeners[e.type][t].ref,e)}}}(),function(o){"use strict";var r="ontouchstart"in document,e=!1,t=e?"MSPointerDown":r?"touchstart":"mousedown",a=e?"MSPointerMove":r?"touchmove":"mousemove",l=e?"MSPointerUp":r?"touchend":"mouseup",c=e?"MSPointerUp":"touchcancel";averta.TouchSwipe=function(e){this.$element=e,this.enabled=!0,e.bind(t,{target:this},this.__touchStart),(e[0].swipe=this).onSwipe=null,this.swipeType="horizontal",this.lastStatus={}};var i=averta.TouchSwipe.prototype;i.getDirection=function(e,t){switch(this.swipeType){case"horizontal":return e<=this.start_x?"left":"right";case"vertical":return t<=this.start_y?"up":"down";case"all":return Math.abs(e-this.start_x)>Math.abs(t-this.start_y)?e<=this.start_x?"left":"right":t<=this.start_y?"up":"down"}},i.priventDefultEvent=function(e,t){var i=Math.abs(e-this.start_x),n=Math.abs(t-this.start_y)<i;return"horizontal"===this.swipeType&&n||"vertical"===this.swipeType&&!n},i.createStatusObject=function(e){var t,i,n={};return t=this.lastStatus.distanceX||0,i=this.lastStatus.distanceY||0,n.distanceX=e.pageX-this.start_x,n.distanceY=e.pageY-this.start_y,n.moveX=n.distanceX-t,n.moveY=n.distanceY-i,n.distance=parseInt(Math.sqrt(Math.pow(n.distanceX,2)+Math.pow(n.distanceY,2))),n.duration=(new Date).getTime()-this.start_time,n.direction=this.getDirection(e.pageX,e.pageY),n},i.__reset=function(e,t){this.reset=!1,this.lastStatus={},this.start_time=(new Date).getTime(),this.start_x=r?e.touches[0].pageX:t.pageX,this.start_y=r?e.touches[0].pageY:t.pageY},i.__touchStart=function(e){var t=e.data.target,i=e;if(t.enabled)if(e=e.originalEvent,t.onSwipe){if(!t.touchStarted){t.start_x=r?e.touches[0].pageX:i.pageX,t.start_y=r?e.touches[0].pageY:i.pageY,t.start_time=(new Date).getTime(),o(document).bind(l,{target:t},t.__touchEnd).bind(a,{target:t},t.__touchMove).bind(c,{target:t},t.__touchCancel);var n=r?e.touches[0]:i,s=t.createStatusObject(n);s.phase="start",t.onSwipe.call(null,s),r||i.preventDefault(),t.lastStatus=s,t.touchStarted=!0}}else o.error("Swipe listener is undefined")},i.__touchMove=function(e){var t=e.data.target,i=e;if(e=e.originalEvent,t.touchStarted){clearTimeout(t.timo),t.timo=setTimeout(function(){t.__reset(e,i)},60);var n=r?e.touches[0]:i,s=t.createStatusObject(n);t.priventDefultEvent(n.pageX,n.pageY)&&i.preventDefault(),s.phase="move",t.lastStatus=s,t.onSwipe.call(null,s)}},i.__touchEnd=function(e){var t=e.data.target,i=e;e=e.originalEvent,clearTimeout(t.timo);r&&e.touches[0];var n=t.lastStatus;r||i.preventDefault(),n.phase="end",t.touchStarted=!1,t.priventEvt=null,o(document).unbind(l,t.__touchEnd).unbind(a,t.__touchMove).unbind(c,t.__touchCancel),n.speed=n.distance/n.duration,t.onSwipe.call(null,n)},i.__touchCancel=function(e){e.data.target.__touchEnd(e)},i.enable=function(){this.enabled||(this.enabled=!0)},i.disable=function(){this.enabled&&(this.enabled=!1)}}(jQuery),function(){"use strict";averta.Ticker=function(){};var i=averta.Ticker,s=[],e=!0;i.add=function(e,t){return s.push([e,t]),1===s.length&&i.start(),s.length},i.remove=function(e,t){for(var i=0,n=s.length;i<n;++i)s[i]&&s[i][0]===e&&s[i][1]===t&&s.splice(i,1)},i.start=function(){e&&(e=!1,t())},i.stop=function(){e=!0};var t=function(){if(!i.__stopped){for(var e=0;e<s.length;++e)s[e][0].call(s[e][1]);requestAnimationFrame(t)}}}(),function(){"use strict";Date.now||(Date.now=function(){return(new Date).getTime()}),averta.Timer=function(e,t){this.delay=e,this.currentCount=0,this.paused=!1,this.onTimer=null,this.refrence=null,t&&this.start()},averta.Timer.prototype={constructor:averta.Timer,start:function(){this.paused=!1,this.lastTime=Date.now(),averta.Ticker.add(this.update,this)},stop:function(){this.paused=!0,averta.Ticker.remove(this.update,this)},reset:function(){this.currentCount=0,this.paused=!0,this.lastTime=Date.now()},update:function(){this.paused||Date.now()-this.lastTime<this.delay||(this.currentCount++,this.lastTime=Date.now(),this.onTimer&&this.onTimer.call(this.refrence,this.getTime()))},getTime:function(){return this.delay*this.currentCount}}}(),function(){"use strict";var s=null;window.CSSTween=function(e,t,i,n){this.$element=e,this.duration=t||1e3,this.delay=i||0,this.ease=n||"linear",s||(s="O"===window._jcsspfx?"otransitionend":"Webkit"==window._jcsspfx?"webkitTransitionEnd":"transitionend")};var e=CSSTween.prototype;e.to=function(e,t){return this.to_cb=e,this.to_cb_target=t,this},e.from=function(e,t){return this.fr_cb=e,this.fr_cb_target=t,this},e.onComplete=function(e,t){return this.oc_fb=e,this.oc_fb_target=t,this},e.chain=function(e){return this.chained_tween=e,this},e.reset=function(){clearTimeout(this.start_to),clearTimeout(this.end_to)},e.start=function(){clearTimeout(this.start_to),clearTimeout(this.end_to),this.fresh=!0,this.fr_cb&&(this.$element.css(window._jcsspfx+"TransitionDuration","0ms"),this.fr_cb.call(this.fr_cb_target));var e=this;return this.onTransComplete=function(){e.fresh&&(e.reset(),this.$element.css(window._jcsspfx+"TransitionDuration","").css(window._jcsspfx+"TransitionProperty","").css(window._jcsspfx+"TransitionTimingFunction","").css(window._jcsspfx+"TransitionDelay",""),e.fresh=!1,e.chained_tween&&e.chained_tween.start(),e.oc_fb&&e.oc_fb.call(e.oc_fb_target))},this.start_to=setTimeout(function(){e.$element.css(window._jcsspfx+"TransitionDuration",e.duration+"ms").css(window._jcsspfx+"TransitionProperty","all"),0<e.delay?e.$element.css(window._jcsspfx+"TransitionDelay",e.delay+"ms"):e.$element.css(window._jcsspfx+"TransitionDelay",""),"linear"!=e.ease&&e.$element.css(window._jcsspfx+"TransitionTimingFunction",e.ease),e.to_cb&&e.to_cb.call(e.to_cb_target),e.end_to=setTimeout(function(){e.onTransComplete()},e.duration+(e.delay||0))},100),this}}(),function(){"use strict";function r(e,t){if(t.x!==undefined||t.y!==undefined)if(a){var i=window._jcsspfx+"Transform";t.x!==undefined&&(t[i]=(t[i]||"")+" translateX("+t.x+"px)",delete t.x),t.y!==undefined&&(t[i]=(t[i]||"")+" translateY("+t.y+"px)",delete t.y)}else{if(t.x!==undefined)t["auto"!==e.css("right")?"right":"left"]=t.x+"px",delete t.x;if(t.y!==undefined)t["auto"!==e.css("bottom")?"bottom":"top"]=t.y+"px",delete t.y}return t}var a=null;window.CTween={},CTween.setPos=function(e,t){e.css(r(e,t))},CTween.animate=function(e,t,i,n){if(null==a&&(a=window._cssanim),n=n||{},r(e,i),a){var s=new CSSTween(e,t,n.delay,EaseDic[n.ease]);return s.to(function(){e.css(i)}),n.complete&&s.onComplete(n.complete,n.target),s.start(),s.stop=s.reset,s}var o;return n.delay&&e.delay(n.delay),n.complete&&(o=function(){n.complete.call(n.target)}),e.stop(!0).animate(i,t,n.ease||"linear",o),e},CTween.fadeOut=function(e,t,i){var n={};i&&(n.complete=function(){e.remove()}),CTween.animate(e,t||1e3,{opacity:0},n)},CTween.fadeIn=function(e,t){e.css("opacity",0),CTween.animate(e,t||1e3,{opacity:1})}}(),window.EaseDic={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",easeInCubic:"cubic-bezier(.55,.055,.675,.19)",easeOutCubic:"cubic-bezier(.215,.61,.355,1)",easeInOutCubic:"cubic-bezier(.645,.045,.355,1)",easeInCirc:"cubic-bezier(.6,.04,.98,.335)",easeOutCirc:"cubic-bezier(.075,.82,.165,1)",easeInOutCirc:"cubic-bezier(.785,.135,.15,.86)",easeInExpo:"cubic-bezier(.95,.05,.795,.035)",easeOutExpo:"cubic-bezier(.19,1,.22,1)",easeInOutExpo:"cubic-bezier(1,0,0,1)",easeInQuad:"cubic-bezier(.55,.085,.68,.53)",easeOutQuad:"cubic-bezier(.25,.46,.45,.94)",easeInOutQuad:"cubic-bezier(.455,.03,.515,.955)",easeInQuart:"cubic-bezier(.895,.03,.685,.22)",easeOutQuart:"cubic-bezier(.165,.84,.44,1)",easeInOutQuart:"cubic-bezier(.77,0,.175,1)",easeInQuint:"cubic-bezier(.755,.05,.855,.06)",easeOutQuint:"cubic-bezier(.23,1,.32,1)",easeInOutQuint:"cubic-bezier(.86,0,.07,1)",easeInSine:"cubic-bezier(.47,0,.745,.715)",easeOutSine:"cubic-bezier(.39,.575,.565,1)",easeInOutSine:"cubic-bezier(.445,.05,.55,.95)",easeInBack:"cubic-bezier(.6,-.28,.735,.045)",easeOutBack:"cubic-bezier(.175, .885,.32,1.275)",easeInOutBack:"cubic-bezier(.68,-.55,.265,1.55)"},function(){"use strict";window.MSAligner=function(e,t,i){this.$container=t,this.$img=i,this.type=e||"stretch",this.widthOnly=!1,this.heightOnly=!1};var e=MSAligner.prototype;e.init=function(e,t){switch(this.baseWidth=e,this.baseHeight=t,this.imgRatio=e/t,this.imgRatio2=t/e,this.type){case"tile":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$img.remove();break;case"center":this.$container.css("background-image","url("+this.$img.attr("src")+")"),this.$container.css({backgroundPosition:"center center",backgroundRepeat:"no-repeat"}),this.$img.remove();break;case"stretch":this.$img.css({width:"100%",height:"100%"});break;case"fill":case"fit":this.needAlign=!0,this.align()}},e.align=function(){if(this.needAlign){var e=this.$container.width(),t=this.$container.height(),i=e/t;"fill"==this.type?this.imgRatio<i?(this.$img.width(e),this.$img.height(e*this.imgRatio2)):(this.$img.height(t),this.$img.width(t*this.imgRatio)):"fit"==this.type&&(this.imgRatio<i?(this.$img.height(t),this.$img.width(t*this.imgRatio)):(this.$img.width(e),this.$img.height(e*this.imgRatio2))),this.setMargin()}},e.setMargin=function(){var e=this.$container.width(),t=this.$container.height();this.$img.css("margin-top",(t-this.$img[0].offsetHeight)/2+"px"),this.$img.css("margin-left",(e-this.$img[0].offsetWidth)/2+"px")}}(),function(){"use strict";var s={bouncing:!0,snapping:!1,snapsize:null,friction:.05,outFriction:.05,outAcceleration:.09,minValidDist:.3,snappingMinSpeed:2,paging:!1,endless:!1,maxSpeed:160},e=function(e,t,i){if(null===t||null===e)throw new Error("Max and Min values are required.");for(var n in this.options=i||{},s)n in this.options||(this.options[n]=s[n]);this._max_value=t,this._min_value=e,this.value=e,this.end_loc=e,this.current_snap=this.getSnapNum(e),this.__extrStep=0,this.__extraMove=0,this.__animID=-1},t=e.prototype;t.changeTo=function(t,e,i,n,s){if(this.stopped=!1,this._internalStop(),t=this._checkLimits(t),i=Math.abs(i||0),this.options.snapping&&(n=n||this.getSnapNum(t),!1!==s&&this._callsnapChange(n),this.current_snap=n),e){this.animating=!0;var o,r=this,a=++r.__animID,l=t-r.value,c=0,u=t,h=1-r.options.friction,d=function(){if(a===r.__animID){var e=t-r.value;if(!(Math.abs(e)>r.options.minValidDist&&r.animating))return r.animating&&(r.value=t,r._callrenderer()),r.animating=!1,a!==r.__animID&&(r.__animID=-1),void r._callonComplete("anim");window.requestAnimationFrame(d),o=h+(i-20)*h*1.3/r.options.maxSpeed,r.value=u-l*Math.exp(-++c*o),r._callrenderer()}};d()}else this.value=t,this._callrenderer()},t.drag=function(e){this.start_drag&&(this.drag_start_loc=this.value,this.start_drag=!1),this.animating=!1,this._deceleration=!1,this.value-=e,!this.options.endless&&(this.value>this._max_value||this.value<0)?this.options.bouncing?(this.__isout=!0,this.value+=.6*e):this.value>this._max_value?this.value=this._max_value:this.value=0:!this.options.endless&&this.options.bouncing&&(this.__isout=!1),this._callrenderer()},t.push=function(e){if(this.stopped=!1,this.options.snapping&&Math.abs(e)<=this.options.snappingMinSpeed)this.cancel();else{if(this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this.options.snapping){var t=this.getSnapNum(this.value),i=this.getSnapNum(this.end_loc);if(this.options.paging)return t=this.getSnapNum(this.drag_start_loc),this.__isout=!1,void(0<e?this.gotoSnap(t+1,!0,e):this.gotoSnap(t-1,!0,e));if(t===i)return void this.cancel();this._callsnapChange(i),this.current_snap=i}this.animating=!1,this.__needsSnap=this.options.endless||this.end_loc>this._min_value&&this.end_loc<this._max_value,this.options.snapping&&this.__needsSnap&&(this.__extraMove=this._calculateExtraMove(this.end_loc)),this._startDecelaration()}},t.bounce=function(e){this.animating||(this.stopped=!1,this.animating=!1,this.__speed=e,this.__startSpeed=e,this.end_loc=this._calculateEnd(),this._startDecelaration())},t.stop=function(){this.stopped=!0,this._internalStop()},t.cancel=function(){this.start_drag=!0,this.__isout?(this.__speed=4e-4,this._startDecelaration()):this.options.snapping&&this.gotoSnap(this.getSnapNum(this.value),!0)},t.renderCallback=function(e,t){this.__renderHook={fun:e,ref:t}},t.snappingCallback=function(e,t){this.__snapHook={fun:e,ref:t}},t.snapCompleteCallback=function(e,t){this.__compHook={fun:e,ref:t}},t.getSnapNum=function(e){return Math.floor((e+this.options.snapsize/2)/this.options.snapsize)},t.nextSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e+1)*this.options.snapsize>this._max_value?(this.__speed=8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e+1,!0)},t.prevSnap=function(){this._internalStop();var e=this.getSnapNum(this.value);!this.options.endless&&(e-1)*this.options.snapsize<this._min_value?(this.__speed=-8,this.__needsSnap=!1,this._startDecelaration()):this.gotoSnap(e-1,!0)},t.gotoSnap=function(e,t,i){this.changeTo(e*this.options.snapsize,t,i,e)},t.destroy=function(){this._internalStop(),this.__renderHook=null,this.__snapHook=null,this.__compHook=null},t._internalStop=function(){this.start_drag=!0,this.animating=!1,this._deceleration=!1,this.__extrStep=0},t._calculateExtraMove=function(e){var t=e%this.options.snapsize;return t<this.options.snapsize/2?-t:this.options.snapsize-t},t._calculateEnd=function(e){for(var t=this.__speed,i=this.value,n=0;Math.abs(t)>this.options.minValidDist;)i+=t,t*=this.options.friction,n++;return e?n:i},t._checkLimits=function(e){return this.options.endless?e:e<this._min_value?this._min_value:e>this._max_value?this._max_value:e},t._callrenderer=function(){this.__renderHook&&this.__renderHook.fun.call(this.__renderHook.ref,this,this.value)},t._callsnapChange=function(e){this.__snapHook&&e!==this.current_snap&&this.__snapHook.fun.call(this.__snapHook.ref,this,e,e-this.current_snap)},t._callonComplete=function(e){this.__compHook&&!this.stopped&&this.__compHook.fun.call(this.__compHook.ref,this,this.current_snap,e)},t._computeDeceleration=function(){if(this.options.snapping&&this.__needsSnap){var e=(this.__startSpeed-this.__speed)/this.__startSpeed*this.__extraMove;this.value+=this.__speed+e-this.__extrStep,this.__extrStep=e}else this.value+=this.__speed;if(this.__speed*=this.options.friction,this.options.endless||this.options.bouncing||(this.value<=this._min_value?(this.value=this._min_value,this.__speed=0):this.value>=this._max_value&&(this.value=this._max_value,this.__speed=0)),this._callrenderer(),!this.options.endless&&this.options.bouncing){var t=0;this.value<this._min_value?t=this._min_value-this.value:this.value>this._max_value&&(t=this._max_value-this.value),this.__isout=Math.abs(t)>=this.options.minValidDist,this.__isout&&(this.__speed*t<=0?this.__speed+=t*this.options.outFriction:this.__speed=t*this.options.outAcceleration)}},t._startDecelaration=function(){if(!this._deceleration){this._deceleration=!0;var e=this,t=function(){e._deceleration&&(e._computeDeceleration(),Math.abs(e.__speed)>e.options.minValidDist||e.__isout?window.requestAnimationFrame(t):(e._deceleration=!1,e.__isout=!1,this.__needsSnap&&e.options.snapping&&!e.options.paging?e.value=e._checkLimits(e.end_loc+e.__extraMove):e.value=Math.round(e.value),e._callrenderer(),e._callonComplete("decel")))};t()}},window.Controller=e}(),function(t){window.MSLayerEffects={};var i,n={opacity:0};MSLayerEffects.setup=function(){if(!i){i=!0;var y=MSLayerEffects,_=window._jcsspfx+"Transform",w=window._jcsspfx+"TransformOrigin",e=t.browser.opera;_2d=window._css2d&&window._cssanim&&!e,y.defaultValues={left:0,top:0,opacity:1,right:0,bottom:0},y.defaultValues[_]="",y.rf=1,y.presetEffParams={random:"30|300","long":300,"short":30,"false":!1,"true":!0,tl:"top left",bl:"bottom left",tr:"top right",br:"bottom right",rt:"top right",lb:"bottom left",lt:"top left",rb:"bottom right",t:"top",b:"bottom",r:"right",l:"left",c:"center"},y.fade=function(){return n},y.left=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[_]="translateX("+-e*y.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.left=-e*y.rf+"px",i},y.right=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[_]="translateX("+e*y.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.left=e*y.rf+"px",i},y.top=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[_]="translateY("+-e*y.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.top=-e*y.rf+"px",i},y.bottom=_2d?function(e,t){var i=!1===t?{}:{opacity:0};return i[_]="translateY("+e*y.rf+"px)",i}:function(e,t){var i=!1===t?{}:{opacity:0};return i.top=e*y.rf+"px",i},y.from=_2d?function(e,t,i){var n=!1===i?{}:{opacity:0};return n[_]="translateX("+e*y.rf+"px) translateY("+t*y.rf+"px)",n}:function(e,t,i){var n=!1===i?{}:{opacity:0};return n.top=t*y.rf+"px",n.left=e*y.rf+"px",n},y.rotate=_2d?function(e,t){var i={opacity:0};return i[_]=" rotate("+e+"deg)",t&&(i[w]=t),i}:function(){return n},y.rotateleft=_2d?function(e,t,i,n){var s=y.left(t,n);return s[_]+=" rotate("+e+"deg)",i&&(s[w]=i),s}:function(e,t,i,n){return y.left(t,n)},y.rotateright=_2d?function(e,t,i,n){var s=y.right(t,n);return s[_]+=" rotate("+e+"deg)",i&&(s[w]=i),s}:function(e,t,i,n){return y.right(t,n)},y.rotatetop=_2d?function(e,t,i,n){var s=y.top(t,n);return s[_]+=" rotate("+e+"deg)",i&&(s[w]=i),s}:function(e,t,i,n){return y.top(t,n)},y.rotatebottom=_2d?function(e,t,i,n){var s=y.bottom(t,n);return s[_]+=" rotate("+e+"deg)",i&&(s[w]=i),s}:function(e,t,i,n){return y.bottom(t,n)},y.rotatefrom=_2d?function(e,t,i,n,s){var o=y.from(t,i,s);return o[_]+=" rotate("+e+"deg)",n&&(o[w]=n),o}:function(e,t,i,n,s){return y.from(t,i,s)},y.skewleft=_2d?function(e,t,i){var n=y.left(t,i);return n[_]+=" skewX("+e+"deg)",n}:function(e,t,i){return y.left(t,i)},y.skewright=_2d?function(e,t,i){var n=y.right(t,i);return n[_]+=" skewX("+-e+"deg)",n}:function(e,t,i){return y.right(t,i)},y.skewtop=_2d?function(e,t,i){var n=y.top(t,i);return n[_]+=" skewY("+e+"deg)",n}:function(e,t,i){return y.top(t,i)},y.skewbottom=_2d?function(e,t,i){var n=y.bottom(t,i);return n[_]+=" skewY("+-e+"deg)",n}:function(e,t,i){return y.bottom(t,i)},y.scale=_2d?function(e,t,i,n){var s=!1===n?{}:{opacity:0};return s[_]=" scaleX("+e+") scaleY("+t+")",i&&(s[w]=i),s}:function(e,t,i,n){return!1===n?{}:{opacity:0}},y.scaleleft=_2d?function(e,t,i,n,s){var o=y.left(i,s);return o[_]=" scaleX("+e+") scaleY("+t+")",n&&(o[w]=n),o}:function(e,t,i,n,s){return y.left(i,s)},y.scaleright=_2d?function(e,t,i,n,s){var o=y.right(i,s);return o[_]=" scaleX("+e+") scaleY("+t+")",n&&(o[w]=n),o}:function(e,t,i,n,s){return y.right(i,s)},y.scaletop=_2d?function(e,t,i,n,s){var o=y.top(i,s);return o[_]=" scaleX("+e+") scaleY("+t+")",n&&(o[w]=n),o}:function(e,t,i,n,s){return y.top(i,s)},y.scalebottom=_2d?function(e,t,i,n,s){var o=y.bottom(i,s);return o[_]=" scaleX("+e+") scaleY("+t+")",n&&(o[w]=n),o}:function(e,t,i,n,s){return y.bottom(i,s)},y.scalefrom=_2d?function(e,t,i,n,s,o){var r=y.from(i,n,o);return r[_]+=" scaleX("+e+") scaleY("+t+")",s&&(r[w]=s),r}:function(e,t,i,n,s,o){return y.from(i,n,o)},y.rotatescale=_2d?function(e,t,i,n,s){var o=y.scale(t,i,n,s);return o[_]+=" rotate("+e+"deg)",n&&(o[w]=n),o}:function(e,t,i,n,s){return y.scale(t,i,n,s)},y.front=window._css3d?function(e,t){var i=!1===t?{}:{opacity:0};return i[_]="perspective(2000px) translate3d(0 , 0 ,"+e+"px ) rotate(0.001deg)",i}:function(){return n},y.back=window._css3d?function(e,t){var i=!1===t?{}:{opacity:0};return i[_]="perspective(2000px) translate3d(0 , 0 ,"+-e+"px ) rotate(0.001deg)",i}:function(){return n},y.rotatefront=window._css3d?function(e,t,i,n){var s=!1===n?{}:{opacity:0};return s[_]="perspective(2000px) translate3d(0 , 0 ,"+t+"px ) rotate("+(e||.001)+"deg)",i&&(s[w]=i),s}:function(){return n},y.rotateback=window._css3d?function(e,t,i,n){var s=!1===n?{}:{opacity:0};return s[_]="perspective(2000px) translate3d(0 , 0 ,"+-t+"px ) rotate("+(e||.001)+"deg)",i&&(s[w]=i),s}:function(){return n},y.rotate3dleft=window._css3d?function(e,t,i,n,s,o){var r=y.left(n,o);return r[_]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),s&&(r[w]=s),r}:function(e,t,i,n,s,o){return y.left(n,o)},y.rotate3dright=window._css3d?function(e,t,i,n,s,o){var r=y.right(n,o);return r[_]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),s&&(r[w]=s),r}:function(e,t,i,n,s,o){return y.right(n,o)},y.rotate3dtop=window._css3d?function(e,t,i,n,s,o){var r=y.top(n,o);return r[_]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),s&&(r[w]=s),r}:function(e,t,i,n,s,o){return y.top(n,o)},y.rotate3dbottom=window._css3d?function(e,t,i,n,s,o){var r=y.bottom(n,o);return r[_]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),s&&(r[w]=s),r}:function(e,t,i,n,s,o){return y.bottom(n,o)},y.rotate3dfront=window._css3d?function(e,t,i,n,s,o){var r=y.front(n,o);return r[_]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),s&&(r[w]=s),r}:function(e,t,i,n,s,o){return y.front(n,o)},y.rotate3dback=window._css3d?function(e,t,i,n,s,o){var r=y.back(n,o);return r[_]+=(e?" rotateX("+e+"deg)":" ")+(t?" rotateY("+t+"deg)":"")+(i?" rotateZ("+i+"deg)":""),s&&(r[w]=s),r}:function(e,t,i,n,s,o){return y.back(n,o)},y.t=window._css3d?function(e,t,i,n,s,o,r,a,l,c,u,h,d,p,f){var m=!1===e?{}:{opacity:0},g="";"n"!==t&&(g+="translateX("+t*y.rf+"px) "),"n"!==i&&(g+="translateY("+i*y.rf+"px) "),"n"!==n&&(g+="translateZ("+n*y.rf+"px) "),"n"!==s&&(g+="rotate("+s+"deg) "),"n"!==o&&(g+="rotateX("+o+"deg) "),"n"!==r&&(g+="rotateY("+r+"deg) "),"n"!==a&&(g+="rotateZ("+a+"deg) "),"n"!==u&&(g+="skewX("+u+"deg) "),"n"!==h&&(g+="skewY("+h+"deg) "),"n"!==l&&(g+="scaleX("+l+") "),"n"!==c&&(g+="scaleY("+c+")"),m[_]=g;var v="";return v+="n"!==d?d+"% ":"50% ",v+="n"!==p?p+"% ":"50% ",v+="n"!==f?f+"px":"",m[w]=v,m}:function(e,t,i,n,s){s=!1===e?{}:{opacity:0};return"n"!==t&&(s.left+=t*y.rf+"px"),"n"!==i&&(s.top+=i*y.rf+"px"),s}}}}(jQuery),function(t){window.MSLayerElement=function(){this.$cont=t("<div></div>").addClass("layer-cont"),this.start_anim={name:"fade",duration:1e3,ease:"linear",delay:0},this.end_anim={duration:1e3,ease:"linear"},this.type="text",this.swipe=!0,this.resizable=!0,this.minWidth=-1,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom","font-size","line-height","width","height"],this.baseStyle={}};var e=MSLayerElement.prototype;e.__playAnimation=function(e,t){var i={};e.ease&&(i.ease=e.ease),this.show_tween=CTween.animate(this.$element,e.duration,t,i)},e._randomParam=function(e){var t=Number(e.slice(0,e.indexOf("|"))),i=Number(e.slice(e.indexOf("|")+1));return t+Math.random()*(i-t)},e._parseEff=function(e){var t=[];if(-1!==e.indexOf("(")){var i,n=e.slice(0,e.indexOf("(")).toLowerCase();t=e.slice(e.indexOf("(")+1,-1).replace(/\"|\'|\s/g,"").split(","),e=n;for(var s=0,o=t.length;s<o;++s)(i=t[s])in MSLayerEffects.presetEffParams&&(i=MSLayerEffects.presetEffParams[i]),t[s]=i}return{eff_name:e,eff_params:t}},e._parseEffParams=function(e){for(var t=[],i=0,n=e.length;i<n;++i){var s=e[i];"string"==typeof s&&-1!==s.indexOf("|")&&(s=this._randomParam(s)),t[i]=s}return t},e._checkPosKey=function(e,t){return"left"===e&&!(e in this.baseStyle)&&"right"in this.baseStyle?(t.right=-parseInt(t.left)+"px",delete t.left,!0):"top"===e&&!(e in this.baseStyle)&&"bottom"in this.baseStyle&&(t.bottom=-parseInt(t.top)+"px",delete t.top,!0)},e.setStartAnim=function(e){t.extend(this.start_anim,e),t.extend(this.start_anim,this._parseEff(this.start_anim.name)),this.$element.css("visibility","hidden")},e.setEndAnim=function(e){t.extend(this.end_anim,e)},e.create=function(){this.$element.css("display","none"),this.$element.removeAttr("data-delay").removeAttr("data-effect").removeAttr("data-duration").removeAttr("data-type"),this.end_anim.name||(this.end_anim.name=this.start_anim.name),this.end_anim.time&&(this.autoHide=!0),t.extend(this.end_anim,this._parseEff(this.end_anim.name))},e.init=function(){var e;this.initialized=!0,this.$element.css("visibility","");for(var t=0,i=this.__cssConfig.length;t<i;t++){var n=this.__cssConfig[t];"auto"!=(e="text"===this.type&&"width"===n?this.$element[0].style.width:this.$element.css(n))&&""!=e&&"normal"!=e&&(this.baseStyle[n]=parseInt(e))}},e.locate=function(){var e=this.slide.$layers,t=parseFloat(e.css("width"));if(this.visible(this.minWidth<t),this.resizable)for(var i in this.factor=t/this.slide.slider.options.width,this.baseStyle)this.$element.css(i,this.baseStyle[i]*this.factor+"px")},e.start=function(){if(!this.isShowing){var e,t;this.isShowing=!0,MSLayerEffects.rf=this.factor;var i=MSLayerEffects[this.start_anim.eff_name].apply(null,this._parseEffParams(this.start_anim.eff_params)),n={};for(e in i)this._checkPosKey(e,i)||(null!=MSLayerEffects.defaultValues[e]&&(n[e]=MSLayerEffects.defaultValues[e]),e in this.baseStyle&&(t=this.baseStyle[e],i[e]=t+parseFloat(i[e])+"px",n[e]=t+"px"),this.$element.css(e,i[e]));var s=this;clearTimeout(this.to),this.to=setTimeout(function(){s.$element.css("display",""),s.__playAnimation(s.start_anim,n)},s.start_anim.delay||.01),this.cl_to=setTimeout(function(){s.show_cl=!0},(this.start_anim.delay||.01)+this.start_anim.duration),this.autoHide&&(clearTimeout(this.hto),this.hto=setTimeout(function(){s.hide()},s.end_anim.time))}},e.hide=function(){this.isShowing=!1;var e=MSLayerEffects[this.end_anim.eff_name].apply(null,this._parseEffParams(this.end_anim.eff_params));for(key in e)this._checkPosKey(key,e)||(key===window._jcsspfx+"TransformOrigin"&&this.$element.css(key,e[key]),key in this.baseStyle&&(e[key]=this.baseStyle[key]+parseFloat(e[key])+"px"));this.__playAnimation(this.end_anim,e),clearTimeout(this.to),clearTimeout(this.hto),clearTimeout(this.cl_to)},e.reset=function(){this.isShowing=!1,this.$element[0].style.display="none",this.$element.css("opacity","100"),this.$element[0].style.transitionDuration="0ms",this.show_tween&&this.show_tween.stop(!0),clearTimeout(this.to),clearTimeout(this.hto)},e.destroy=function(){this.reset(),this.$element.remove(),this.$cont.remove()},e.visible=function(e){this.isVisible!=e&&(this.isVisible=e,this.$element.css("display",e?"":"none"))}}(jQuery),function(i){window.MSImageLayerElement=function(){MSLayerElement.call(this),this.needPreload=!0,this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom","width","height"]},MSImageLayerElement.extend(MSLayerElement)
;var e=MSImageLayerElement.prototype,n=MSLayerElement.prototype;e.create=function(){if(this.link){var e=this.$element.parent();e.append(this.link),this.link.append(this.$element),this.link.removeClass("ms-layer"),this.$element.addClass("ms-layer"),e=null}if(n.create.call(this),this.$element.data("src")!=undefined)this.img_src=this.$element.data("src"),this.$element.removeAttr("data-src");else{var t=this;this.$element.on("load",function(){t.slide.preloadCount--,0===t.slide.preloadCount&&t.slide.___onlayersReady()}).each(i.jqLoadFix)}i.browser.msie&&this.$element.on("dragstart",function(e){e.preventDefault()})},e.loadImage=function(){var e=this;this.$element.preloadImg(this.img_src,function(){e.slide.preloadCount--,0===e.slide.preloadCount&&e.slide.___onlayersReady()})}}(jQuery),function(i){window.MSVideoLayerElement=function(){MSLayerElement.call(this)},MSVideoLayerElement.extend(MSLayerElement);var e=MSVideoLayerElement.prototype,n=MSLayerElement.prototype;e.__playVideo=function(){this.img&&CTween.fadeOut(this.img,500,!1),CTween.fadeOut(this.video_btn,500,!1),this.video_frame.attr("src","about:blank").css("display","block"),-1==this.video_url.indexOf("?")&&(this.video_url+="?"),this.video_frame.attr("src",this.video_url+"&autoplay=1")},e.reset=function(){n.reset.call(this),(this.needPreload||this.$element.data("btn"))&&(this.video_btn.css("opacity",1),this.video_frame.attr("src","about:blank").css("display","none")),this.needPreload?this.img.css("opacity",1):this.video_frame.attr("src",this.video_url)},e.create=function(){n.create.call(this),this.video_frame=this.$element.find("iframe").css({width:"100%",height:"100%"}),this.video_url=this.video_frame.attr("src");var e=0!=this.$element.has("img").length;if(e||this.$element.data("btn")){this.video_frame.attr("src","about:blank").css("display","none");var t=this;if(this.video_btn=i("<div></div>").appendTo(this.$element).addClass("ms-video-btn").click(function(){t.__playVideo()}),e){if(this.needPreload=!0,this.img=this.$element.find("img:first").addClass("ms-video-img"),this.img.data("src")!==undefined)this.img_src=this.img.data("src"),this.img.removeAttr("data-src");else{t=this;this.img.attr("src",this.img_src).on("load",function(){t.slide.preloadCount--,0==t.slide.preloadCount&&t.slide.___onlayersReady()}).each(i.jqLoadFix)}i.browser.msie&&this.img.on("dragstart",function(e){e.preventDefault()})}}},e.loadImage=function(){var e=this;this.img.preloadImg(this.img_src,function(){e.slide.preloadCount--,0==e.slide.preloadCount&&e.slide.___onlayersReady()})}}(jQuery),function(n){"use strict";window.MSHotspotLayer=function(){MSLayerElement.call(this),this.__cssConfig=["margin-top","padding-top","margin-bottom","padding-left","margin-right","padding-right","margin-left","padding-bottom","left","right","top","bottom"],this.ease="Expo"},MSHotspotLayer.extend(MSLayerElement);var e=MSHotspotLayer.prototype,s=MSLayerElement.prototype;e._showTT=function(){this.show_cl&&(this.align=this._orgAlign,this._locateTT(),this.hide_start=!1,this._tween&&this._tween.stop(!0),this.tt.css({display:"block"}),this._tween=CTween.animate(this.tt,900,this.to,{ease:"easeOut"+this.ease}))},e._hideTT=function(){if(this.show_cl){this._tween&&this._tween.stop(!0);var e=this;this._tween=CTween.animate(this.tt,900,this.from,{ease:"easeOut"+this.ease,complete:function(){e.tt.css("display","none")}})}},e._updateClassName=function(e){this._lastClass&&this.tt.removeClass(this._lastClass),this.tt.addClass(e),this._lastClass=e},e._alignPolicy=function(){this.tt.outerHeight();var e=Math.max(this.tt.outerWidth(),parseInt(this.tt.css("max-width"))),t=window.innerWidth;window.innerHeight;switch(this.align){case"top":if(this.base_t<0)return"bottom";break;case"right":if(this.base_l+e>t||this.base_t<0)return"bottom";break;case"left":if(this.base_l<0||this.base_t<0)return"bottom"}return null},e._locateTT=function(){var e=this.$element.offset(),t=this.slide.slider.$element.offset(),i=50,n=15;this.pos_x=e.left-t.left-this.slide.slider.$element.scrollLeft(),this.pos_y=e.top-t.top-this.slide.slider.$element.scrollTop(),this.from={opacity:0},this.to={opacity:1},this._updateClassName("ms-tooltip-"+this.align),this.tt_arrow.css("margin-left","");var s=15,o=15;switch(this.align){case"top":var r=Math.max(this.tt.outerWidth(),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y-this.tt.outerHeight()-o-n,this.base_l=this.pos_x-r/2,this.base_l+r>window.innerWidth&&(this.tt_arrow.css("margin-left",-s/2+this.base_l+r-window.innerWidth+"px"),this.base_l=window.innerWidth-r),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-s/2+this.pos_x-this.tt.outerWidth()/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY(-"+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t-i+"px",this.to.top=this.base_t+"px");break;case"bottom":r=Math.max(this.tt.outerWidth(),parseInt(this.tt.css("max-width")));this.base_t=this.pos_y+o+n,this.base_l=this.pos_x-r/2,this.base_l+r>window.innerWidth&&(this.tt_arrow.css("margin-left",-s/2+this.base_l+r-window.innerWidth+"px"),this.base_l=window.innerWidth-r),this.base_l<0&&(this.base_l=0,this.tt_arrow.css("margin-left",-s/2+this.pos_x-this.tt.outerWidth()/2+"px")),window._css3d?(this.from[window._jcsspfx+"Transform"]="translateY("+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.top=this.base_t+i+"px",this.to.top=this.base_t+"px");break;case"right":this.base_l=this.pos_x+s+n,this.base_t=this.pos_y-this.tt.outerHeight()/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX("+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l+i+"px",this.to.left=this.base_l+"px");break;case"left":this.base_l=this.pos_x-s-this.tt.outerWidth()-n,this.base_t=this.pos_y-this.tt.outerHeight()/2,window._css3d?(this.from[window._jcsspfx+"Transform"]="translateX(-"+i+"px)",this.to[window._jcsspfx+"Transform"]=""):(this.from.left=this.base_l-i+"px",this.to.left=this.base_l+"px")}var a=this._alignPolicy();if(null!==a)return this.align=a,void this._locateTT();this.tt.css("top",parseInt(this.base_t)+"px").css("left",parseInt(this.base_l)+"px"),this.tt.css(this.from)},e.start=function(){s.start.call(this),this.tt.appendTo(this.slide.slider.$element),this.tt.css("display","none")},e.reset=function(){s.reset.call(this),this.tt.detach()},e.create=function(){var e=this;s.create.call(this),this._orgAlign=this.align=this.$element.data("align")!==undefined?this.$element.data("align"):"top",this.data=this.$element.html(),this.$element.html("").on("mouseenter",function(){e._showTT()}).on("mouseleave",function(){e._hideTT()}),this.point=n('<div><div class="ms-point-center"></div><div class="ms-point-border"></div></div>').addClass("ms-tooltip-point").appendTo(this.$element);var t=this.$element.data("link"),i=this.$element.data("target");t&&this.point.on("click",function(){window.open(t,i||"_self")}),this.tt=n("<div></div>").addClass("ms-tooltip").css("display","hidden").css("opacity",0),this.tt_arrow=n("<div></div>").addClass("ms-tooltip-arrow").appendTo(this.tt),this._updateClassName("ms-tooltip-"+this.align),this.ttcont=n("<div></div>").addClass("ms-tooltip-cont").html(this.data).appendTo(this.tt)}}(jQuery),window.MSSliderEvent=function(e){this.type=e},MSSliderEvent.CHANGE_START="changeStart",MSSliderEvent.CHANGE_END="changeEnd",MSSliderEvent.WATING="wating",MSSliderEvent.AUTOPLAY_CHANGE="autoplayChange",MSSliderEvent.VIDEO_PLAY="videoPlay",MSSliderEvent.VIDEO_CLOSE="videoClose",MSSliderEvent.INIT="init",MSSliderEvent.RESIZE="resize",MSSliderEvent.RESERVED_SPACE_CHANGE="rsc",function(i){"use strict";window.MSSlide=function(){this.$element=null,this.$loading=i("<div></div>").addClass("ms-slide-loading"),this.layers=[],this.view=null,this.index=-1,this.__width=0,this.__height=0,this.preloadCount=0,this.fillMode="fill",this.selected=!1,this.pselected=!1,this.autoAppend=!0,this.moz=i.browser.mozilla};var e=MSSlide.prototype;e.onSwipeStart=function(){this.link&&(this.linkdis=!0),this.video&&(this.videodis=!0)},e.onSwipeCancel=function(){this.link&&(this.linkdis=!1),this.video&&(this.videodis=!1)},e.addLayer=function(e){this.hasLayers||(this.$layers=i("<div></div>").addClass("ms-slide-layers")),this.hasLayers=!0,this.$layers.append(e.$element),this.layers.push(e),e.slide=this,e.create(),e.needPreload&&this.preloadCount++},e.___onlayersReady=function(){this.ready=!0,this.slider.api._startTimer(),this.selected&&(this.showLayers(),this.vinit&&(this.bgvideo.play(),this.autoPauseBgVid||(this.bgvideo.currentTime=0))),this.isSleeping||this.setup(),CTween.fadeOut(this.$loading,300,!0),(0===this.slider.options.preload||"all"===this.slider.options.preload)&&this.index<this.view.slideList.length-1?this.view.slideList[this.index+1].loadImages():"all"===this.slider.options.preload&&this.index===this.view.slideList.length-1&&this.slider._removeLoading()},e.startLayers=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].start()},e.initLayers=function(e){if(!(this.init&&!e||this.slider.init_safemode)){this.init=!0;for(var t=0,i=this.layers.length;t<i;++t)this.layers[t].init()}},e.locateLayers=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].locate()},e.resetLayers=function(){this.$layers.css("display","none"),this.$layers.css("opacity",1);for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].reset()},e.hideLayers=function(){if(0===this.preloadCount)for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].hide()},e.showLayers=function(){this.hasLayers&&(this.lht&&(this.lht.reset?this.lht.reset():this.lht.stop("true")),this.resetLayers(),this.$layers.css("opacity",1).css("display",""),0===this.preloadCount&&(this.initLayers(),this.locateLayers(),this.startLayers()))},e.setBG=function(e){this.hasBG=!0;var t=this;this.$imgcont=i("<div></div>").addClass("ms-slide-bgcont"),this.$element.append(this.$loading).append(this.$imgcont),this.$bg_img=i(e).css("visibility","hidden"),this.$imgcont.append(this.$bg_img),this.bgAligner=new MSAligner(t.fillMode,t.$imgcont,t.$bg_img),this.bgAligner.widthOnly=this.slider.options.autoHeight,t.slider.options.autoHeight&&(t.pselected||t.selected)&&t.slider.setHeight(t.slider.options.height),this.$bg_img.data("src")!==undefined?(this.bg_src=this.$bg_img.data("src"),this.$bg_img.removeAttr("data-src")):this.$bg_img.one("load",function(e){t._onBGLoad(e)}).each(i.jqLoadFix),this.preloadCount++},e._onBGLoad=function(e){this.bgNatrualWidth=e.width,this.bgNatrualHeight=e.height,this.bgLoaded=!0,i.browser.msie&&this.$bg_img.on("dragstart",function(e){e.preventDefault()}),this.preloadCount--,0===this.preloadCount&&this.___onlayersReady()},e.loadImages=function(){if(!this.ls){if(this.ls=!0,this.hasBG&&this.bg_src){var t=this;this.$bg_img.preloadImg(this.bg_src,function(e){t._onBGLoad(e)})}for(var e=0,i=this.layers.length;e<i;++e)this.layers[e].needPreload&&this.layers[e].loadImage();this.bgvideo&&this.bgvideo.load()}},e.setBGVideo=function(e){if(e[0].play)if(window._mobile)e.remove();else{this.bgvideo=e[0];var t=this;e.addClass("ms-slide-bgvideo"),!1!==e.data("loop")&&this.bgvideo.addEventListener("ended",function(){t.bgvideo.play()}),!1!==e.data("mute")&&(this.bgvideo.muted=!0),!0===e.data("autopause")&&(this.autoPauseBgVid=!0),this.bgvideo_fillmode=e.data("fill-mode")||"fill","none"!==this.bgvideo_fillmode&&(this.bgVideoAligner=new MSAligner(this.bgvideo_fillmode,this.$element,e),this.bgvideo.addEventListener("loadedmetadata",function(){t.vinit||(t.vinit=!0,t.video_aspect=t.bgVideoAligner.baseHeight/t.bgVideoAligner.baseWidth,t.bgVideoAligner.init(t.bgvideo.videoWidth,t.bgvideo.videoHeight),t._alignBGVideo(),CTween.fadeIn(i(t.bgvideo),200),t.selected&&t.bgvideo.play())})),e.css("opacity",0),this.$bgvideocont=i("<div></div>").addClass("ms-slide-bgvideocont").append(e),this.hasBG?this.$imgcont.before(this.$bgvideocont):this.$bgvideocont.appendTo(this.$element)}},e._alignBGVideo=function(){this.bgvideo_fillmode&&"none"!==this.bgvideo_fillmode&&this.bgVideoAligner.align()},e.setSize=function(e,t,i){this.__width=e,this.slider.options.autoHeight&&(this.bgLoaded?(this.ratio=this.__width/this.bgWidth,t=Math.floor(this.ratio*this.bgHeight),this.$imgcont.height(t)):(this.ratio=e/this.slider.options.width,t=this.slider.options.height*this.ratio)),this.__height=t,this.$element.width(e).height(t),this.hasBG&&this.bgLoaded&&this.bgAligner.align(),this._alignBGVideo(),i&&this.selected&&this.initLayers(i),this.selected&&this.locateLayers(),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),"center"==this.slider.options.layersMode&&(this.$layers[0].style.left=Math.max(0,(this.__width-this.slider.options.width)/2)+"px"))},e.getHeight=function(){return this.bgLoaded?this.bgHeight*this.ratio:Math.max(this.$element[0].clientHeight,this.slider.options.height*this.ratio)},e.__playVideo=function(){this.vplayed||this.videodis||(this.vplayed=!0,this.slider.api.paused||(this.slider.api.pause(),this.roc=!0),this.vcbtn.css("display",""),CTween.fadeOut(this.vpbtn,500,!1),CTween.fadeIn(this.vcbtn,500),CTween.fadeIn(this.vframe,500),this.vframe.css("display","block").attr("src",this.video+"&autoplay=1"),this.view.$element.addClass("ms-def-cursor"),this.view.swipeControl.disable(),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_PLAY)))},e.__closeVideo=function(){if(this.vplayed){this.vplayed=!1,this.roc&&this.slider.api.resume();var e=this;CTween.fadeIn(this.vpbtn,500),CTween.animate(this.vcbtn,500,{opacity:0},{complete:function(){e.vcbtn.css("display","none")}}),CTween.animate(this.vframe,500,{opacity:0},{complete:function(){e.vframe.attr("src","about:blank").css("display","none")}}),this.view.swipeControl.enable(),this.view.$element.removeClass("ms-def-cursor"),this.slider.slideController.dispatchEvent(new MSSliderEvent(MSSliderEvent.VIDEO_CLOSE))}},e.create=function(){var e=this;this.hasLayers&&(this.$element.append(this.$layers),"center"==this.slider.options.layersMode&&this.$layers.css("max-width",this.slider.options.width+"px")),this.link&&this.$element.css("cursor","pointer").click(function(){e.linkdis||window.open(e.link,e.link_targ||"_self")}),this.video&&(-1===this.video.indexOf("?")&&(this.video+="?"),this.vframe=i("<iframe></iframe>").addClass("ms-slide-video").css({width:"100%",height:"100%",display:"none"}).attr("src","about:blank").appendTo(this.$element),this.vpbtn=i("<div></div>").addClass("ms-slide-vpbtn").click(function(){e.__playVideo()}).appendTo(this.$element),this.vcbtn=i("<div></div>").addClass("ms-slide-vcbtn").click(function(){e.__closeVideo()}).appendTo(this.$element).css("display","none"),window._touch&&this.vcbtn.removeClass("ms-slide-vcbtn").addClass("ms-slide-vcbtn-mobile").append('<div class="ms-vcbtn-txt">Close video</div>').appendTo(this.view.$element.parent())),!this.slider.options.autoHeight&&this.hasBG&&(this.$imgcont.css("height","100%"),"center"!==this.fillMode&&"stretch"!==this.fillMode||(this.fillMode="fill")),this.sleep()},e.destroy=function(){for(var e=0,t=this.layers.length;e<t;++e)this.layers[e].$element.stop(!0).remove();this.$element.remove(),this.$element=null},e.setup=function(){!this.initBG&&this.bgLoaded&&(this.initBG=!0,this.$bg_img.css("visibility",""),this.bgWidth=this.bgNatrualWidth||this.$bg_img.width(),this.bgHeight=this.bgNatrualHeight||this.$bg_img.height(),CTween.fadeIn(this.$imgcont,300),this.slider.options.autoHeight&&this.$imgcont.height(this.bgHeight*this.ratio),this.bgAligner.init(this.bgWidth,this.bgHeight),this.setSize(this.__width,this.__height),this.slider.options.autoHeight&&(this.pselected||this.selected)&&this.slider.setHeight(this.getHeight()))},e.prepareToSelect=function(){this.pselected||this.selected||(this.pselected=!0,(this.link||this.video)&&(this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.addEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.loadImages(),0===this.preloadCount&&(this.bgvideo&&this.bgvideo.play(),this.slider.options.instantStartLayers&&this.showLayers()),this.moz&&this.$element.css("margin-top",""))},e.select=function(){this.selected||(this.selected=!0,this.pselected=!1,this.$element.addClass("ms-sl-selected"),this.hasLayers&&(this.slider.options.autoHeight&&(this.$layers[0].style.height=this.getHeight()+"px"),this.slider.options.instantStartLayers||this.showLayers()),0===this.preloadCount&&this.bgvideo&&this.bgvideo.play())},e.unselect=function(){if(this.pselected=!1,this.moz&&this.$element.css("margin-top","0.1px"),(this.link||this.video)&&(this.view.removeEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.view.removeEventListener(MSViewEvents.SWIPE_CANCEL,this.onSwipeCancel,this)),this.bgvideo&&(this.bgvideo.pause(),!this.autoPauseBgVid&&this.vinit&&(this.bgvideo.currentTime=0)),this.selected){if(this.selected=!1,this.$element.removeClass("ms-sl-selected"),this.hasLayers){var e=this;e.lht=CTween.animate(this.$layers,500,{opacity:0},{complete:function(){e.resetLayers()}})}this.video&&this.vplayed&&(this.__closeVideo(),this.roc=!1)}},e.sleep=function(){this.isSleeping||(this.isSleeping=!0,this.autoAppend&&this.$element.detach())},e.wakeup=function(){this.isSleeping&&(this.isSleeping=!1,this.autoAppend&&this.view.$slideCont.append(this.$element),this.moz&&this.$element.css("margin-top","0.1px"),this.setup(),this.hasBG&&this.bgAligner.align())}}(jQuery),function(n){"use strict";var s={};window.MSSlideController=function(e){this._delayProgress=0,this._timer=new averta.Timer(100),this._timer.onTimer=this.onTimer,(this._timer.refrence=this).currentSlide=null,this.slider=e,this.so=e.options,averta.EventDispatcher.call(this)},MSSlideController.registerView=function(e,t){if(e in s)throw new Error(e+", is already registered.");s[e]=t},MSSlideController.SliderControlList={},MSSlideController.registerControl=function(e,t){if(e in MSSlideController.SliderControlList)throw new Error(e+", is already registered.");MSSlideController.SliderControlList[e]=t};var e=MSSlideController.prototype;e.setupView=function(){var e=this;this.resize_listener=function(){e.__resize()};var t={spacing:this.so.space,mouseSwipe:this.so.mouse,loop:this.so.loop,autoHeight:this.so.autoHeight,swipe:this.so.swipe,speed:this.so.speed,dir:this.so.dir,viewNum:this.so.inView,critMargin:this.so.critMargin};this.so.viewOptions&&n.extend(t,this.so.viewOptions),this.so.autoHeight&&(this.so.heightLimit=!1);var i=s[this.slider.options.view]||MSBasicView;if(!i._3dreq||window._css3d&&!n.browser.msie||(i=i._fallback||MSBasicView),this.view=new i(t),this.so.overPause){e=this;this.slider.$element.mouseenter(function(){e.is_over=!0,e._stopTimer()}).mouseleave(function(){e.is_over=!1,e._startTimer()})}},e.onChangeStart=function(){this.change_started=!0,this.currentSlide&&this.currentSlide.unselect(),this.currentSlide=this.view.currentSlide,this.currentSlide.prepareToSelect(),this.so.endPause&&this.currentSlide.index===this.slider.slides.length-1&&(this.pause(),this.skipTimer()),this.so.autoHeight&&this.slider.setHeight(this.currentSlide.getHeight()),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_START))},e.onChangeEnd=function(){if(this.change_started=!1,this._startTimer(),this.currentSlide.select(),1<this.so.preload){var e,t,i=this.so.preload-1;for(t=1;t<=i;++t){if((e=this.view.index+t)>=this.view.slideList.length){if(!this.so.loop){t=i;continue}e-=this.view.slideList.length}this.view.slideList[e].loadImages()}for(i>this.view.slideList.length/2&&(i=Math.floor(this.view.slideList.length/2)),t=1;t<=i;++t){if((e=this.view.index-t)<0){if(!this.so.loop){t=i;continue}e=this.view.slideList.length+e}this.view.slideList[e].loadImages()}}this.dispatchEvent(new MSSliderEvent(MSSliderEvent.CHANGE_END))},e.onSwipeStart=function(){this.skipTimer()},e.skipTimer=function(){this._timer.reset(),this._delayProgress=0,this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WATING))},e.onTimer=function(){this._timer.getTime()>=1e3*this.view.currentSlide.delay&&(this.skipTimer(),this.view.next(),this.hideCalled=!1),this._delayProgress=this._timer.getTime()/(10*this.view.currentSlide.delay),this.so.hideLayers&&!this.hideCalled&&1e3*this.view.currentSlide.delay-this._timer.getTime()<=300&&(this.view.currentSlide.hideLayers(),this.hideCalled=!0),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.WATING))},e._stopTimer=function(){this._timer&&this._timer.stop()},e._startTimer=function(){this.paused||this.is_over||!this.currentSlide||!this.currentSlide.ready||this.change_started||this._timer.start()},e.__appendSlides=function(){for(var e,t,i=0,n=this.view.slideList.length-1;i<n;++i)(e=this.view.slideList[i]).detached||(e.$element.detach(),e.detached=!0);for(this.view.appendSlide(this.view.slideList[this.view.index]),n=3,i=1;i<=n;++i){if((t=this.view.index+i)>=this.view.slideList.length){if(!this.so.loop){i=n;continue}t-=this.view.slideList.length}(e=this.view.slideList[t]).detached=!1,this.view.appendSlide(e)}for(n>this.view.slideList.length/2&&(n=Math.floor(this.view.slideList.length/2)),i=1;i<=n;++i){if((t=this.view.index-i)<0){if(!this.so.loop){i=n;continue}t=this.view.slideList.length+t}(e=this.view.slideList[t]).detached=!1,this.view.appendSlide(e)}},e.__resize=function(e){this.created&&(this.width=this.slider.$element[0].clientWidth||this.so.width,this.so.fullwidth||(this.width=Math.min(this.width,this.so.width)),this.so.fullheight?(this.so.heightLimit=!1,this.so.autoHeight=!1,this.height=this.slider.$element[0].clientHeight):this.height=this.width/this.slider.aspect,this.so.autoHeight?(this.currentSlide.setSize(this.width,null,e),this.view.setSize(this.width,this.currentSlide.getHeight(),e)):this.view.setSize(this.width,this.so.heightLimit?Math.min(this.height,this.so.height):this.height,e),this.slider.$controlsCont&&this.so.centerControls&&this.so.fullwidth&&this.view.$element.css("left",Math.min(0,-(this.slider.$element[0].clientWidth-this.so.width)/2)+"px"),this.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESIZE)))},e.__dispatchInit=function(){this.dispatchEvent(new MSSliderEvent(MSSliderEvent.INIT))},e.setup=function(){if(this.created=!0,this.paused=!this.so.autoplay,this.view.addEventListener(MSViewEvents.CHANGE_START,this.onChangeStart,this),this.view.addEventListener(MSViewEvents.CHANGE_END,this.onChangeEnd,this),this.view.addEventListener(MSViewEvents.SWIPE_START,this.onSwipeStart,this),this.currentSlide=this.view.slides[this.so.start-1],this.__resize(),this.view.create(this.so.start-1),0===this.so.preload&&this.view.slides[0].loadImages(),this.scroller=this.view.controller,this.so.wheel){var s=this,o=(new Date).getTime();this.wheellistener=function(e){var t=(new Date).getTime();if(!(t-o<350)){o=t;var i=window.event||e.orginalEvent||e,n=Math.max(-1,Math.min(1,i.wheelDelta||-i.detail));return n<0?s.next():0<n&&s.previous(),!1}},n.browser.mozilla?this.slider.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.bind("mousewheel",this.wheellistener)}0===this.slider.$element[0].clientWidth&&(this.slider.init_safemode=!0),this.__resize()},e.index=function(){return this.view.index},e.count=function(){return this.view.slidesCount},e.next=function(){this.skipTimer(),this.view.next()},e.previous=function(){this.skipTimer(),this.view.previous()},e.gotoSlide=function(e){this.skipTimer(),this.view.gotoSlide(e)},e.destroy=function(e){this.slider.destroy(e)},e._destroy=function(){this._timer.reset(),this._timer=null,n(window).unbind("resize",this.resize_listener),this.view.destroy(),this.view=null,this.so.wheel&&(n.browser.mozilla?this.slider.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.slider.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),this.so=null},e.update=function(e){this.slider.init_safemode&&e&&(this.slider.init_safemode=!1),this.__resize(e)},e.locate=function(){this.__resize()},e.resume=function(){this.paused&&(this.paused=!1,this._startTimer())},e.pause=function(){this.paused||(this.paused=!0,this._stopTimer())},e.currentTime=function(){return this._delayProgress},averta.EventDispatcher.extend(e)}(jQuery),function(l){"use strict";var c={image:MSImageLayerElement,text:MSLayerElement,video:MSVideoLayerElement,hotspot:MSHotspotLayer};window.MasterSlider=function(){this.options={autoplay:!1,loop:!1,mouse:!0,swipe:!0,grabCursor:!0,space:0,fillMode:"fill",start:1,view:"basic",width:300,height:150,inView:15,critMargin:1,heightLimit:!0,smoothHeight:!0,autoHeight:!1,fullwidth:!1,fullheight:!1,autofill:!1,layersMode:"center",hideLayers:!1,endPause:!1,centerControls:!0,overPause:!0,shuffle:!1,speed:17,dir:"h",preload:0,wheel:!1,layout:"boxed",fullscreenMargin:0,instantStartLayers:!1},this.slides=[],this.$element=null,this.lastMargin=0,this.leftSpace=0,this.topSpace=0,this.rightSpace=0,this.bottomSpace=0;var e=this;this.resize_listener=function(){e._resize()},l(window).bind("resize",this.resize_listener)},MasterSlider.author="Averta Ltd. (www.averta.net)",MasterSlider.version="1.5.7",MasterSlider.releaseDate="March 2014";var e=MasterSlider.prototype;e.__setupSlides=function(){var o,r=this,a=0;this.$element.children(".ms-slide").each(function(){var e=l(this);(o=new MSSlide).$element=e,o.slider=r,o.delay=e.data("delay")!==undefined?e.data("delay"):3,o.fillMode=e.data("fill-mode")!==undefined?e.data("fill-mode"):r.options.fillMode,o.index=a++;var t=e.children("img");0<t.length&&o.setBG(t[0]);var i=e.children("video");if(0<i.length&&o.setBGVideo(i),r.controls)for(var n=0,s=r.controls.length;n<s;++n)r.controls[n].slideAction(o);e.children("a").each(function(){var e=l(this);"video"===this.getAttribute("data-type")?(o.video=this.getAttribute("href"),e.remove()):e.hasClass("ms-layer")||(o.link=this.getAttribute("href"),o.link_targ=this.getAttribute("target"),e.remove())});r.__createSlideLayers(o,e.find(".ms-layer")),r.slides.push(o),r.slideController.view.addSlide(o)})},e.__createSlideLayers=function(a,e){0!=e.length&&e.each(function(e,t){var i,n;i="A"===t.nodeName?(n=l(this)).find("img"):l(this);var s=new(c[i.data("type")||"text"]);s.$element=i,s.link=n;var o={},r={};i.data("effect")!==undefined&&(o.name=i.data("effect")),i.data("ease")!==undefined&&(o.ease=i.data("ease")),i.data("duration")!==undefined&&(o.duration=i.data("duration")),i.data("delay")!==undefined&&(o.delay=i.data("delay")),i.data("hide-effect")&&(r.name=i.data("hide-effect")),i.data("hide-ease")&&(r.ease=i.data("hide-ease")),i.data("hide-duration")!==undefined&&(r.duration=i.data("hide-duration")),i.data("hide-time")!==undefined&&(r.time=i.data("hide-time")),i.data("resize")!==undefined&&(s.resizable=i.data("resize")),i.data("swipe")!==undefined&&(s.swipe=i.data("swipe")),i.data("widthlimit")!==undefined&&(s.minWidth=i.data("widthlimit")),s.setStartAnim(o),s.setEndAnim(r),a.addLayer(s)})},e._removeLoading=function(){l(window).unbind("resize",this.resize_listener),this.$element=l("#"+this.id).removeClass("before-init").css("visibility","visible").css("height","").css("opacity",0),CTween.fadeIn(this.$element),this.$loading.remove(),this.slideController&&this.slideController.__resize()},e._resize=function(){if(this.$loading){var e=this.$loading[0].clientWidth/this.aspect;e=this.options.heightLimit?Math.min(e,this.options.height):e,this.$loading.height(e),this.$element.height(e)}},e._shuffleSlides=function(){for(var e,t=this.$element.children(".ms-slide"),i=0,n=t.length;i<n;++i)i!=(e=Math.floor(Math.random()*(n-1)))&&(this.$element[0].insertBefore(t[i],t[e]),t=this.$element.children(".ms-slide"))},e._setupSliderLayout=function(){this._updateSideMargins(),this.lastMargin=this.leftSpace;var e=this.options.layout;"boxed"!==e&&"partialview"!==e&&(this.options.fullwidth=!0),"fullscreen"!==e&&"autofill"!==e||(this.options.fullheight=!0),"partialview"===e&&this.$element.addClass("ms-layout-partialview"),"fullscreen"!==e&&"fullwidth"!==e||(l(window).bind("resize",{that:this},this._updateLayout),this._updateLayout()),l(window).bind("resize",this.slideController.resize_listener)},e._updateLayout=function(e){var t=e?e.data.that:this,i=t.options.layout,n=t.$element;n.width(l("body").innerWidth()-t.leftSpace-t.rightSpace);var s=-n.offset().left+t.leftSpace+t.lastMargin;n.css("margin-left",s),t.lastMargin=s,"fullscreen"===i&&n.height(window.innerHeight-t.options.fullscreenMargin-t.topSpace-t.bottomSpace)},e._init=function(){if(!this.preventInit){if(this.initialized=!0,"all"!==this.options.preload&&this._removeLoading(),this.options.shuffle&&this._shuffleSlides(),MSLayerEffects.setup(),this.slideController.setupView(),this.view=this.slideController.view,this.controls){this.$controlsCont=l("<div></div>").addClass("ms-container").appendTo(this.$element),this.options.centerControls&&this.$controlsCont.css("max-width",this.options.width+"px");for(var e=0,t=this.controls.length;e<t;++e)this.controls[e].setup();this.$controlsCont.prepend(this.view.$element)}else this.$element.append(this.view.$element);if(this._setupSliderLayout(),this.__setupSlides(),this.slideController.setup(),this.controls)for(e=0,t=this.controls.length;e<t;++e)this.controls[e].create();if(this.options.autoHeight&&this.slideController.view.$element.height(this.slideController.currentSlide.getHeight()),this.options.swipe&&!window._touch&&this.options.grabCursor&&this.options.mouse){var i=this.view.$element;i.mousedown(function(){i.removeClass("ms-grab-cursor"),i.addClass("ms-grabbing-cursor")}).addClass("ms-grab-cursor"),l(document).mouseup(function(){i.removeClass("ms-grabbing-cursor"),i.addClass("ms-grab-cursor")})}this.slideController.__dispatchInit()}},e.setHeight=function(e){this.options.smoothHeight?(this.htween&&(this.htween.reset?this.htween.reset():this.htween.stop(!0)),this.htween=CTween.animate(this.slideController.view.$element,500,{height:e},{ease:"easeOutQuart"})):this.slideController.view.$element.height(e)},e.reserveSpace=function(e,t){var i=e+"Space",n=this[i];return this[i]+=t,this._updateSideMargins(),n},e._updateSideMargins=function(){this.$element.css("margin",this.topSpace+"px "+this.rightSpace+"px "+this.bottomSpace+"px "+this.leftSpace+"px")},e._realignControls=function(){this.rightSpace=this.leftSpace=this.topSpace=this.bottomSpace=0,this._updateSideMargins(),this.api.dispatchEvent(new MSSliderEvent(MSSliderEvent.RESERVED_SPACE_CHANGE))},e.control=function(e,t){if(e in MSSlideController.SliderControlList){this.controls||(this.controls=[]);var i=new MSSlideController.SliderControlList[e](t);return(i.slider=this).controls.push(i),this}},e.setup=function(e,t){if(this.id=e,this.$element="string"==typeof e?l("#"+e):e.eq(0),this.setupMarkup=this.$element.html(),0!==this.$element.length){this.$element.addClass("master-slider").addClass("before-init"),l.browser.msie&&this.$element.addClass("ms-ie").addClass("ms-ie"+l.browser.version.slice(0,l.browser.version.indexOf("."))),-1<navigator.userAgent.toLowerCase().indexOf("android")&&this.$element.addClass("ms-android");var i=this;return l.extend(this.options,t),this.aspect=this.options.width/this.options.height,this.$loading=l("<div></div>").addClass("ms-loading-container").insertBefore(this.$element).append(l("<div></div>").addClass("ms-loading")),this.$loading.parent().css("position","relative"),this.options.autofill&&(this.options.fullwidth=!0,this.options.fullheight=!0),this.options.fullheight&&this.$element.addClass("ms-fullheight"),this._resize(),this.slideController=new MSSlideController(this),this.api=this.slideController,l(document).ready(function(){i._init()}),this}console&&console.log("Master Slider Error: #"+e+" not found.")},e.destroy=function(e){if(this.controls)for(var t=0,i=this.controls.length;t!==i;t++)this.controls[t].destroy();this.slideController&&this.slideController._destroy(),this.$loading&&this.$loading.remove(),e?this.$element.html(this.setupMarkup).css("visibility","hidden"):this.$element.remove();var n=this.options.layout;"fullscreen"!==n&&"fullwidth"!==n||l(window).unbind("resize",this._updateLayout)}}(jQuery),window.MSViewEvents=function(e){this.type=e},MSViewEvents.SWIPE_START="swipeStart",MSViewEvents.SWIPE_END="swipeEnd",MSViewEvents.SWIPE_MOVE="swipeMove",MSViewEvents.SWIPE_CANCEL="swipeCancel",MSViewEvents.SCROLL="scoll",MSViewEvents.CHANGE_START="slideChangeStart",MSViewEvents.CHANGE_END="slideChangeEnd",function(o){"use strict";window.MSBasicView=function(e){this.options={loop:!1,dir:"h",autoHeight:!1,spacing:5,mouseSwipe:!0,swipe:!0,speed:17,minSlideSpeed:2,viewNum:20,critMargin:1},o.extend(this.options,e),this.dir=this.options.dir,this.loop=this.options.loop,this.spacing=this.options.spacing,this.__width=0,this.__height=0,this.__cssProb="h"===this.dir?"left":"top",this.__offset="h"===this.dir?"offsetLeft":"offsetTop",this.__dimension="h"===this.dir?"__width":"__height",
this.__translate_end=window._css3d?" translateZ(0px)":"",this.$slideCont=o("<div></div>").addClass("ms-slide-container"),this.$element=o("<div></div>").addClass("ms-view").addClass("ms-basic-view").append(this.$slideCont),this.currentSlide=null,this.index=-1,this.slidesCount=0,this.slides=[],this.slideList=[],this.viewSlidesList=[],this.css3=window._cssanim,this.start_buffer=0,this.firstslide_snap=0,this.controller=new Controller(0,0,{snapping:!0,snapsize:100,paging:!0,snappingMinSpeed:this.options.minSlideSpeed,friction:(100-.5*this.options.speed)/100,endless:this.loop}),this.controller.renderCallback("h"===this.dir?this._horizUpdate:this._vertiUpdate,this),this.controller.snappingCallback(this.__snapUpdate,this),this.controller.snapCompleteCallback(this.__snapCompelet,this),averta.EventDispatcher.call(this)};var e=MSBasicView.prototype;e.__snapCompelet=function(){this.__locateSlides(),this.start_buffer=0,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END))},e.__snapUpdate=function(e,t,i){if(this.loop){var n=this.index+i;this.updateLoop(n),n>=this.slidesCount&&(n-=this.slidesCount),n<0&&(n=this.slidesCount+n),this.index=n}else{if(t<0||t>=this.slidesCount)return;this.index=t}this._checkCritMargins(),o.browser.mozilla&&(this.slideList[this.index].$element[0].style.marginTop="0.1px",this.currentSlide&&(this.currentSlide.$element[0].style.marginTop=""));var s=this.slideList[this.index];s!==this.currentSlide&&(this.currentSlide=s,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)))},e._checkCritMargins=function(){if(!this.normalMode){var e=Math.floor(this.options.viewNum/2),t=this.viewSlidesList.indexOf(this.slideList[this.index]),i=this[this.__dimension]+this.spacing,n=this.options.critMargin;this.loop?(t<=n||t>=this.viewSlidesList.length-n)&&(i*=t-e,this.__locateSlides(!1,i+this.start_buffer),this.start_buffer+=i):(t<n&&this.index>=n||t>=this.viewSlidesList.length-n&&this.index<this.slidesCount-n)&&this.__locateSlides(!1)}},e._vertiUpdate=function(e,t){this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateY("+-t+"px)"+this.__translate_end:this.$slideCont[0].style.top=-t+"px"},e._horizUpdate=function(e,t){this.__contPos=t,this.dispatchEvent(new MSViewEvents(MSViewEvents.SCROLL)),this.css3?this.$slideCont[0].style[window._jcsspfx+"Transform"]="translateX("+-t+"px)"+this.__translate_end:this.$slideCont[0].style.left=-t+"px"},e.__updateViewList=function(){if(this.normalMode)this.viewSlidesList=this.slides;else{var e=this.viewSlidesList.slice();this.viewSlidesList=[];var t,i=0,n=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+i]);else{for(i=0;i!==n&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==n&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,t=e.length;i!==t;i++)-1===this.viewSlidesList.indexOf(e[i])&&e[i].sleep();e=null}},e.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var o=t+s*(this[this.__dimension]+this.spacing);(i=this.viewSlidesList[s]).wakeup(),i.position=o,i.$element[0].style[this.__cssProb]=o+"px"}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},e.__createLoopList=function(){var e=[],t=0,i=this.slidesCount/2,n=this.slidesCount%2==0?i-1:Math.floor(i),s=this.slidesCount%2==0?i:Math.floor(i);for(this.currentSlideLoc=n,t=1;t<=n;++t)e.unshift(this.slideList[this.index-t<0?this.slidesCount-t+this.index:this.index-t]);for(e.push(this.slideList[this.index]),t=1;t<=s;++t)e.push(this.slideList[this.index+t>=this.slidesCount?this.index+t-this.slidesCount:this.index+t]);return e},e.__getSteps=function(e,t){var i=t<e?this.slidesCount-e+t:t-e,n=Math.abs(this.slidesCount-i);return i<n?i:-n},e.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];if(this.slides.push(e),this.normalMode){var i=t.$element[0][this.__offset]+this.spacing+this[this.__dimension];e.$element[0].style[this.__cssProb]=i+"px",e.position=i}},e.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];if(this.slides.unshift(e),this.normalMode){var i=t.$element[0][this.__offset]-this.spacing-this[this.__dimension];e.$element[0].style[this.__cssProb]=i+"px",e.position=i}},e.addSlide=function(e){(e.view=this).slides.push(e),this.slideList.push(e),this.slidesCount++},e.appendSlide=function(e){this.$slideCont.append(e.$element)},e.updateLoop=function(e){if(this.loop)for(var t=this.__getSteps(this.index,e),i=0,n=Math.abs(t);i<n;++i)t<0?this.__pushStart():this.__pushEnd()},e.gotoSlide=function(e,t){this.updateLoop(e),this.index=e;var i=this.slideList[this.index];this._checkCritMargins(),this.controller.changeTo(i.position,!t,null,null,!1),i!==this.currentSlide&&(this.currentSlide=i,this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_START)),t&&this.dispatchEvent(new MSViewEvents(MSViewEvents.CHANGE_END)))},e.next=function(){this.gotoSlide(this.index+1>=this.slidesCount?0:this.index+1)},e.previous=function(){this.gotoSlide(this.index-1<0?this.slidesCount-1:this.index-1)},e.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.dir?"horizontal":"vertical";var t=this;"h"===this.dir?this.swipeControl.onSwipe=function(e){t.horizSwipeMove(e)}:this.swipeControl.onSwipe=function(e){t.vertSwipeMove(e)}},e.vertSwipeMove=function(e){var t=e.phase;if("start"===t)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START));else if("move"===t&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveY)<this.cont_size/2))this.controller.drag(e.moveY);else if("end"===t||"cancel"===t){var i=e.distanceY/e.duration*50/3;.1<Math.abs(i)?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL)))}},e.horizSwipeMove=function(e){var t=e.phase;if("start"===t)this.controller.stop(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_START));else if("move"===t&&(!this.loop||Math.abs(this.currentSlide.position-this.controller.value+e.moveX)<this.cont_size/2))this.controller.drag(e.moveX);else if("end"===t||"cancel"===t){var i=e.distanceX/e.duration*50/3;.1<Math.abs(i)?(this.controller.push(-i),i>this.controller.options.snappingMinSpeed&&this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_END))):(this.controller.cancel(),this.dispatchEvent(new MSViewEvents(MSViewEvents.SWIPE_CANCEL)))}},e.setSize=function(e,t,i){if(this.lastWidth!==e||t!==this.lastHeight||i){this.$element.width(e).height(t);for(var n=0;n<this.slidesCount;++n)this.slides[n].setSize(e,t,i);this.__width=e,this.__height=t,this.__created&&(this.__locateSlides(),this.cont_size=(this.slidesCount-1)*(this[this.__dimension]+this.spacing),this.loop||(this.controller._max_value=this.cont_size),this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.controller.changeTo(this.currentSlide.position,!1,null,null,!1),this.controller.cancel(),this.lastWidth=e,this.lastHeight=t)}},e.create=function(e){this.__created=!0,this.index=Math.min(e||0,this.slidesCount-1),this.loop&&(this.slides=this.__createLoopList()),this.normalMode=this.slidesCount<=this.options.viewNum,this.__locateSlides();for(var t=0;t<this.slidesCount;++t)this.slides[t].create();this.controller.options.snapsize=this[this.__dimension]+this.spacing,this.loop||(this.controller._max_value=(this.slidesCount-1)*(this[this.__dimension]+this.spacing)),this.gotoSlide(this.index,!0),this.options.swipe&&(window._touch||this.options.mouseSwipe)&&this.setupSwipe()},e.destroy=function(){if(this.__created){for(var e=0;e<this.slidesCount;++e)this.slides[e].destroy();this.slides=null,this.slideList=null,this.$element.remove(),this.controller.destroy(),this.controller=null}},averta.EventDispatcher.extend(e),MSSlideController.registerView("basic",MSBasicView)}(jQuery),function(){"use strict";window.MSWaveView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-wave-view"),this.$slideCont.css(window._csspfx+"transform-style","preserve-3d")},MSWaveView.extend(MSBasicView),MSWaveView._3dreq=!0,MSWaveView._fallback=MSBasicView;var e=MSWaveView.prototype,r=MSBasicView.prototype;e._horizUpdate=function(e,t){r._horizUpdate.call(this,e,t);for(var i,n,s=-t,o=0;o<this.slidesCount;++o)n=-s-(i=this.slideList[o]).position,this.__updateSlidesHoriz(i,n)},e._vertiUpdate=function(e,t){r._vertiUpdate.call(this,e,t);for(var i,n,s=-t,o=0;o<this.slidesCount;++o)n=-s-(i=this.slideList[o]).position,this.__updateSlidesVertic(i,n)},e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg)")},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("wave",MSWaveView)}(jQuery),function(){window.MSFadeBasicView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-basic-view")},MSFadeBasicView.extend(MSWaveView);var e=MSFadeBasicView.prototype;MSFadeBasicView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(.6*t/this.__width);i=1-Math.min(i,.6),e.$element.css("opacity",i)},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeBasic",MSFadeBasicView),MSWaveView._fallback=MSFadeBasicView}(),function(){window.MSFadeWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-wave-view")},MSFadeWaveView.extend(MSWaveView),MSFadeWaveView._3dreq=!0,MSFadeWaveView._fallback=MSFadeBasicView;var e=MSFadeWaveView.prototype;MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);i=Math.min(i,100),e.$element.css("opacity",1-i/300),e.$element.css(window._csspfx+"transform","scale("+(1-i/800)+") rotateY(0.01deg) ")},e.__updateSlidesVertic=function(e,t){this.__updateSlidesHoriz(e,t)},MSSlideController.registerView("fadeWave",MSFadeWaveView)}(),function(){"use strict";window.MSFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-flow-view")},MSFlowView.extend(MSWaveView),MSFlowView._3dreq=!0,MSFlowView._fallback=MSFadeBasicView;var e=MSFlowView.prototype;MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width),n=Math.min(.3*i,30)*(t<0?-1:1),s=1.2*i;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-s+"px) rotateY("+n+"deg) "},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width),n=Math.min(.3*i,30)*(t<0?-1:1),s=1.2*i;e.$element[0].style[window._jcsspfx+"Transform"]="translateZ("+5*-s+"px) rotateX("+-n+"deg) "},MSSlideController.registerView("flow",MSFlowView)}(jQuery),function(){window.MSFadeFlowView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-fade-flow-view")},MSFadeFlowView.extend(MSWaveView),MSFadeFlowView._3dreq=!0;var e=MSFadeFlowView.prototype;MSWaveView.prototype;e.__calculate=function(e){var t=Math.min(Math.abs(100*e/this.__width),100);return{value:t,rvalue:Math.min(.5*t,50)*(e<0?-1:1)}},e.__updateSlidesHoriz=function(e,t){var i=this.__calculate(t);e.$element.css("opacity",1-i.value/300),e.$element[0].style[window._csspfx+"transform"]="translateZ("+-i.value+"px) rotateY("+i.rvalue+"deg) "},e.__updateSlidesVertic=function(e,t){var i=this.__calculate(t);e.$element.css("opacity",1-i.value/300),e.$element[0].style[window._csspfx+"transform"]="translateZ("+-i.value+"px) rotateX("+-i.rvalue+"deg) "},MSSlideController.registerView("fadeFlow",MSFadeFlowView)}(),function(t){"use strict";window.MSMaskView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-mask-view")},MSMaskView.extend(MSBasicView);var e=MSMaskView.prototype,s=MSBasicView.prototype;e.addSlide=function(e){e.view=this,e.$frame=t("<div></div>").addClass("ms-mask-frame").append(e.$element),e.$element[0].style.position="relative",e.autoAppend=!1,this.slides.push(e),this.slideList.push(e),this.slidesCount++},e.setSize=function(e,t){for(var i=this.slides[0].slider,n=0;n<this.slidesCount;++n)this.slides[n].$frame[0].style.width=e+"px",i.options.autoHeight||(this.slides[n].$frame[0].style.height=t+"px");s.setSize.call(this,e,t)},e._horizUpdate=function(e,t){s._horizUpdate.call(this,e,t);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateX("+(t-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.left=t-this.slideList[i].position+"px"},e._vertiUpdate=function(e,t){s._vertiUpdate.call(this,e,t);var i=0;if(this.css3)for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style[window._jcsspfx+"Transform"]="translateY("+(t-this.slideList[i].position)+"px)"+this.__translate_end;else for(i=0;i<this.slidesCount;++i)this.slideList[i].$element[0].style.top=t-this.slideList[i].position+"px"},e.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];if(this.slides.push(e),this.normalMode){var i=t.$frame[0][this.__offset]+this.spacing+this[this.__dimension];e.$frame[0].style[this.__cssProb]=i+"px",e.position=i}},e.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];if(this.slides.unshift(e),this.normalMode){var i=t.$frame[0][this.__offset]-this.spacing-this[this.__dimension];e.$frame[0].style[this.__cssProb]=i+"px",e.position=i}},e.__updateViewList=function(){if(this.normalMode)this.viewSlidesList=this.slides;else{var e=this.viewSlidesList.slice();this.viewSlidesList=[];var t,i=0,n=Math.floor(this.options.viewNum/2);if(this.loop)for(;i!==this.options.viewNum;i++)this.viewSlidesList.push(this.slides[this.currentSlideLoc-n+i]);else{for(i=0;i!==n&&this.index-i!=-1;i++)this.viewSlidesList.unshift(this.slideList[this.index-i]);for(i=1;i!==n&&this.index+i!==this.slidesCount;i++)this.viewSlidesList.push(this.slideList[this.index+i])}for(i=0,t=e.length;i!==t;i++)-1===this.viewSlidesList.indexOf(e[i])&&(e[i].sleep(),e[i].$frame.detach());e=null}},e.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var o=t+s*(this[this.__dimension]+this.spacing);i=this.viewSlidesList[s],this.$slideCont.append(i.$frame),i.wakeup(!1),i.position=o,i.$frame[0].style[this.__cssProb]=o+"px"}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},MSSlideController.registerView("mask",MSMaskView)}(jQuery),function(){"use strict";window.MSFadeView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-fade-view"),this.controller.renderCallback(this.__update,this)},MSFadeView.extend(MSBasicView);var e=MSFadeView.prototype,t=MSBasicView.prototype;e.__update=function(e,t){for(var i,n,s=-t,o=0;o<this.slidesCount;++o)n=-s-(i=this.slideList[o]).position,this.__updateSlides(i,n)},e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]);1-i<=0?e.$element.fadeTo(0,0).css("visibility","hidden"):e.$element.fadeTo(0,1-i).css("visibility","")},e.__locateSlides=function(e,t){this.__updateViewList(),t=this.loop?t||0:this.slides.indexOf(this.viewSlidesList[0])*(this[this.__dimension]+this.spacing);for(var i,n=this.viewSlidesList.length,s=0;s!==n;s++){var o=t+s*this[this.__dimension];(i=this.viewSlidesList[s]).wakeup(),i.position=o}!1!==e&&this.controller.changeTo(this.slideList[this.index].position,!1,null,null,!1)},e.__pushEnd=function(){var e=this.slides.shift(),t=this.slides[this.slidesCount-2];this.slides.push(e),e.position=t.position+this[this.__dimension]},e.__pushStart=function(){var e=this.slides.pop(),t=this.slides[0];this.slides.unshift(e),e.position=t.position-this[this.__dimension]},e.create=function(e){t.create.call(this,e),this.spacing=0,this.controller.options.minValidDist=10},MSSlideController.registerView("fade",MSFadeView)}(jQuery),function(){"use strict";window.MSScaleView=function(e){MSBasicView.call(this,e),this.$element.removeClass("ms-basic-view").addClass("ms-scale-view"),this.controller.renderCallback(this.__update,this)},MSScaleView.extend(MSFadeView);var e=MSScaleView.prototype,t=MSFadeView.prototype;e.__updateSlides=function(e,t){var i=Math.abs(t/this[this.__dimension]);1-i<=0?e.$element.fadeTo(0,0).css("visibility","hidden"):e.$element.fadeTo(0,1-i).css("visibility","").css(window._jcsspfx+"Transform","perspective(2000px) translateZ("+i*(t<0?-.5:.5)*300+"px)")},e.create=function(e){t.create.call(this,e),this.controller.options.minValidDist=.03},MSSlideController.registerView("scale",MSScaleView)}(jQuery),function(){"use strict";var i=2e3;window.MSFocusView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-focus-view"),this.options.centerSpace=this.options.centerSpace||1},MSFocusView.extend(MSWaveView),MSFocusView._3dreq=!0,MSFocusView._fallback=MSFadeBasicView;var e=MSFocusView.prototype;MSWaveView.prototype;e.__calcview=function(e,t){return t/2*e/(e+i)*(e+i)/i},e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);i=15*-Math.min(i,100),e.$element.css(window._csspfx+"transform","translateZ("+i+"px) rotateY(0.01deg) translateX("+(t<0?1:-1)*(-this.__calcview(i,this.__width)*this.options.centerSpace)+"px)")},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width);i=15*-Math.min(i,100),e.$element.css(window._csspfx+"transform","translateZ("+i+"px) rotateY(0.01deg) translateY("+(t<0?1:-1)*(-this.__calcview(i,this.__width)*this.options.centerSpace)+"px)")},MSSlideController.registerView("focus",MSFocusView)}(),function(){window.MSPartialWaveView=function(e){MSWaveView.call(this,e),this.$element.removeClass("ms-wave-view").addClass("ms-partial-wave-view")},MSPartialWaveView.extend(MSWaveView),MSPartialWaveView._3dreq=!0,MSPartialWaveView._fallback=MSFadeBasicView;var e=MSPartialWaveView.prototype;MSWaveView.prototype;e.__updateSlidesHoriz=function(e,t){var i=Math.abs(100*t/this.__width);e.$bg_img.css("opacity",(100-Math.abs(120*t/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg) translateX("+.75*t+"px)")},e.__updateSlidesVertic=function(e,t){var i=Math.abs(100*t/this.__width);e.$bg_img.css("opacity",(100-Math.abs(120*t/this.__width/3))/100),e.$element.css(window._csspfx+"transform","translateZ("+3*-i+"px) rotateY(0.01deg) translateY("+.75*t+"px)")},MSSlideController.registerView("partialWave",MSPartialWaveView)}(),function(t){"use strict";var e=function(){this.options={prefix:"ms-",autohide:!0,overVideo:!0}},i=e.prototype;i.slideAction=function(){},i.setup=function(){this.cont=this.options.insertTo?t(this.options.insertTo):this.slider.$controlsCont,this.options.overVideo||this._hideOnvideoStarts(),this.options.hideUnder&&(t(window).bind("resize",{that:this},this.onResize),this.onResize())},i.onResize=function(e){var t=e&&e.data.that||this,i=window.innerWidth;i<=t.options.hideUnder&&!t.detached?(t.$element.css("display","none"),t.detached=!0,t.onDetach&&t.onDetach()):i>=t.options.hideUnder&&t.detached&&(t.detached=!1,t.$element.css("display",""),t.visible(),t.onAppend&&t.onAppend())},i.create=function(){var e=this;this.options.autohide&&!window._touch&&(this.hide(!0),this.slider.$controlsCont.mouseenter(function(){e._disableAH||e.mdown||e.visible(),e.mleave=!1}).mouseleave(function(){e.mleave=!0,e.mdown||e.hide()}).mousedown(function(){e.mdown=!0}),t(document).mouseup(function(){e.mdown&&e.mleave&&e.hide(),e.mdown=!1}))},i._hideOnvideoStarts=function(){var e=this;slider.api.addEventListener(MSSliderEvent.VIDEO_PLAY,function(){e._disableAH=!0,e.hide()}),slider.api.addEventListener(MSSliderEvent.VIDEO_CLOSE,function(){e._disableAH=!1,e.visible()})},i.hide=function(e){e?this.$element.css("opacity",0):CTween.fadeOut(this.$element,400,!1),this.$element.addClass("ms-ctrl-hide")},i.visible=function(){this.detached||(CTween.fadeIn(this.$element,400),this.$element.removeClass("ms-ctrl-hide"))},i.destroy=function(){this.options.hideUnder&&t(window).unbind("resize",this.onResize)},window.BaseControl=e}(jQuery),function(t){"use strict";var e=function(e){BaseControl.call(this),t.extend(this.options,e)};e.extend(BaseControl);var i=e.prototype,n=BaseControl.prototype;i.setup=function(){var e=this;n.setup.call(this),this.$next=t("<div></div>").addClass(this.options.prefix+"nav-next").appendTo(this.cont).bind("click",function(){e.slider.options.loop||e.slider.api.index()!==e.slider.api.count()-1?e.slider.api.next():e.slider.view.controller.bounce(10)}),this.$prev=t("<div></div>").addClass(this.options.prefix+"nav-prev").appendTo(this.cont).bind("click",function(){e.slider.options.loop||0!==e.slider.api.index()?e.slider.api.previous():e.slider.view.controller.bounce(-10)})},i.hide=function(e){if(e)return this.$prev.css("opacity",0),void this.$next.css("opacity",0);this.options.dontFade?(this.$prev.css("opacity",0),this.$next.css("opacity",0)):(CTween.fadeOut(this.$prev,400,!1),CTween.fadeOut(this.$next,400,!1)),this.$prev.addClass("ms-ctrl-hide"),this.$next.addClass("ms-ctrl-hide")},i.visible=function(){this.options.dontFade?(this.$prev.css("opacity",1),this.$next.css("opacity",1)):(CTween.fadeIn(this.$prev,400),CTween.fadeIn(this.$next,400)),this.$prev.removeClass("ms-ctrl-hide"),this.$next.removeClass("ms-ctrl-hide")},i.destroy=function(){this.$next.remove(),this.$prev.remove()},window.MSArrows=e,MSSlideController.registerControl("arrows",e)}(jQuery),function(s){"use strict";var e=function(e){BaseControl.call(this),this.options.dir="h",this.options.wheel="v"===e.dir,this.options.arrows=!0,this.options.speed=17,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.space=10,this.options.width=100,this.options.height=100,this.options.type="thumbs",s.extend(this.options,e),this.thumbs=[],this.index_count=0,this.__dimen="h"===this.options.dir?"width":"height",this.__alignsize="h"===this.options.dir?"height":"width",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.click_enable=!0};e.extend(BaseControl);var t=e.prototype,i=BaseControl.prototype;t.setup=function(){if(this.$element=s("<div></div>").addClass(this.options.prefix+"thumb-list"),"tabs"===this.options.type&&this.$element.addClass(this.options.prefix+"tabs"),this.$element.addClass("ms-dir-"+this.options.dir),i.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$thumbscont=s("<div></div>").addClass("ms-thumbs-cont").appendTo(this.$element),this.options.arrows){var e=this;this.$fwd=s("<div></div>").addClass("ms-thumblist-fwd").appendTo(this.$element).click(function(){e.controller.push(-15)}),this.$bwd=s("<div></div>").addClass("ms-thumblist-bwd").appendTo(this.$element).click(function(){e.controller.push(15)})}if(!this.options.insetTo&&this.options.align){var t=this.options.align;this.options.inset?this.$element.css(t,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.width):this.$element.height(this.options.height)}},t.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},t.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},t.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options[this.__alignsize]+2*this.options.margin);this.$element.css(e,-t-this.options[this.__alignsize]-this.options.margin)}},t.slideAction=function(e){var t=s(e.$element.find(".ms-thumb")),i=this,n=s("<div></div>").addClass("ms-thumb-frame").append(t).append(s('<div class="ms-thumb-ol"></div>')).bind("click",function(){i.changeSlide(n)});this.options.align&&n.width(this.options.width).height(this.options.height).css("margin-"+("v"===this.options.dir?"bottom":"right"),this.options.space),n[0].index=this.index_count++,this.$thumbscont.append(n),s.browser.msie&&t.on("dragstart",function(e){e.preventDefault()}),this.thumbs.push(n)},t.create=function(){i.create.call(this),this.__translate_end=window._css3d?" translateZ(0px)":"",this.controller=new Controller(0,0,{snappingMinSpeed:2,friction:(100-.5*this.options.speed)/100}),this.controller.renderCallback("h"===this.options.dir?this._hMove:this._vMove,this);var n=this;this.resize_listener=function(){n.__resize()},s(window).bind("resize",this.resize_listener),this.thumbSize=this.thumbs[0][this.__jdimen](!0),this.setupSwipe(),this.__resize();n=this;this.options.wheel&&(this.wheellistener=function(e){var t=window.event||e.orginalEvent||e,i=Math.max(-1,Math.min(1,t.wheelDelta||-t.detail));return n.controller.push(10*-i),!1},s.browser.mozilla?this.$element[0].addEventListener("DOMMouseScroll",this.wheellistener):this.$element.bind("mousewheel",this.wheellistener)),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.select(this.thumbs[this.cindex])},t._hMove=function(e,t){this.__contPos=t,window._cssanim?this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateX("+-t+"px)"+this.__translate_end:this.$thumbscont[0].style.left=-t+"px"},t._vMove=function(e,t){this.__contPos=t,window._cssanim?this.$thumbscont[0].style[window._jcsspfx+"Transform"]="translateY("+-t+"px)"+this.__translate_end:this.$thumbscont[0].style.top=-t+"px"},t.setupSwipe=function(){this.swipeControl=new averta.TouchSwipe(this.$element),this.swipeControl.swipeType="h"===this.options.dir?"horizontal":"vertical";var t=this;"h"===this.options.dir?this.swipeControl.onSwipe=function(e){t.horizSwipeMove(e)}:this.swipeControl.onSwipe=function(e){t.vertSwipeMove(e)}},t.vertSwipeMove=function(e){if(!this.dTouch){var t=e.phase;if("start"===t)this.controller.stop();else if("move"===t)this.controller.drag(e.moveY);else if("end"===t||"cancel"===t){.1<Math.abs(e.distanceY/e.duration*50/3)?this.controller.push(-e.distanceY/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},t.horizSwipeMove=function(e){if(!this.dTouch){var t=e.phase;if("start"===t)this.controller.stop(),this.click_enable=!1;else if("move"===t)this.controller.drag(e.moveX);else if("end"===t||"cancel"===t){.1<Math.abs(e.distanceX/e.duration*50/3)?this.controller.push(-e.distanceX/e.duration*50/3):(this.click_enable=!0,this.controller.cancel())}}},t.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.thumbs[this.cindex]),this.cindex=e,this.select(this.thumbs[this.cindex]),this.dTouch||this.updateThumbscroll())},t.updateThumbscroll=function(){var e=this.thumbSize*this.cindex;if(this.controller.value==NaN&&(this.controller.value=0),e-this.controller.value<0)this.controller.gotoSnap(this.cindex,!0);else if(e+this.thumbSize-this.controller.value>this.$element[this.__dimen]()){var t=this.cindex-Math.floor(this.$element[this.__dimen]()/this.thumbSize)+1;this.controller.gotoSnap(t,!0)}else;},t.changeSlide=function(e){this.click_enable&&this.cindex!==e[0].index&&this.slider.api.gotoSlide(e[0].index)},t.unselect=function(e){e.removeClass("ms-thumb-frame-selected")},t.select=function(e){e.addClass("ms-thumb-frame-selected")},t.__resize=function(){var e=this.$element[this.__dimen]();if(this.ls!==e){this.ls=e,this.thumbSize=this.thumbs[0][this.__jdimen](!0);var t=this.slider.api.count()*this.thumbSize;this.$thumbscont[0].style[this.__dimen]=t+"px",t<=e?(this.dTouch=!0,this.controller.stop(),this.$thumbscont[0].style[this.__pos]=.5*(e-t)+"px",this.$thumbscont[0].style[window._jcsspfx+"Transform"]=""):(this.dTouch=!1,this.click_enable=!0,this.$thumbscont[0].style[this.__pos]="",this.controller._max_value=t-e,this.controller.options.snapsize=this.thumbSize,this.updateThumbscroll())}},t.destroy=function(){this.options.wheel&&(s.browser.mozilla?this.$element[0].removeEventListener("DOMMouseScroll",this.wheellistener):this.$element.unbind("mousewheel",this.wheellistener),this.wheellistener=null),s(window).unbind("resize",this.resize_listener),this.$element.remove(),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),i.destroy()},window.MSThumblist=e,MSSlideController.registerControl("thumblist",e)}(jQuery),function(n){"use strict";var e=function(e){BaseControl.call(this),this.options.dir="h",this.options.inset=!0,this.options.margin=10,n.extend(this.options,e),this.bullets=[]};e.extend(BaseControl);var t=e.prototype,s=BaseControl.prototype;t.setup=function(){if(s.setup.call(this),this.$element=n("<div></div>").addClass(this.options.prefix+"bullets").addClass("ms-dir-"+this.options.dir).appendTo(this.cont),this.$bullet_cont=n("<div></div>").addClass("ms-bullets-count").appendTo(this.$element),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var e=this.options.align;this.options.inset&&this.$element.css(e,this.options.margin)}},t.create=function(){s.create.call(this);var e=this;this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index();for(var t=0;t<this.slider.api.count();++t){var i=n("<div></div>").addClass("ms-bullet");i[0].index=t,i.on("click",function(){e.changeSlide(this.index)}),this.$bullet_cont.append(i),this.bullets.push(i)}"h"===this.options.dir&&this.$element.width(i.outerWidth(!0)*this.slider.api.count()),this.select(this.bullets[this.cindex])},t.update=function(){var e=this.slider.api.index();this.cindex!==e&&(null!=this.cindex&&this.unselect(this.bullets[this.cindex]),this.cindex=e,this.select(this.bullets[this.cindex]))},t.changeSlide=function(e){this.cindex!==e&&this.slider.api.gotoSlide(e)},t.unselect=function(e){e.removeClass("ms-bullet-selected")},t.select=function(e){e.addClass("ms-bullet-selected")},t.destroy=function(){this.$element.remove()},window.MSBulltes=e,MSSlideController.registerControl("bullets",e)}(jQuery),function(t){"use strict";var e=function(e){BaseControl.call(this),this.options.dir="h",this.options.autohide=!0,this.options.width=4,this.options.color="#3D3D3D",this.options.margin=10,t.extend(this.options,e),this.__dimen="h"===this.options.dir?"width":"height",this.__jdimen="h"===this.options.dir?"outerWidth":"outerHeight",this.__pos="h"===this.options.dir?"left":"top",this.__translate_end=window._css3d?" translateZ(0px)":"",this.__translate_start="h"===this.options.dir?" translateX(":"translateY("};e.extend(BaseControl);var i=e.prototype,n=BaseControl.prototype;i.setup=function(){if(this.$element=t("<div></div>").addClass(this.options.prefix+"sbar").addClass("ms-dir-"+this.options.dir),n.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=t("<div></div>").addClass(this.options.prefix+"bar").appendTo(this.$element),this.slider.options.loop&&(console.log("WARNING, MSScrollbar cannot work with looped slider."),this.disable=!0,this.$element.remove()),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){"v"===this.options.dir?this.$element.css({right:"auto",left:"auto"}):this.$element.css({top:"auto",bottom:"auto"});var e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,2*this.options.margin+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},i.create=function(){if(!this.disable){this.scroller=this.slider.api.scroller,this.slider.api.view.addEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.addEventListener(MSSliderEvent.RESIZE,this._resize,this),this._resize(),
this.options.autohide&&this.$bar.css("opacity","0")}},i._resize=function(){this.vdimen=this.$element[this.__dimen](),this.bar_dimen=this.slider.api.view["__"+this.__dimen]*this.vdimen/this.scroller._max_value,this.$bar[this.__dimen](this.bar_dimen)},i._update=function(){var e=this.scroller.value*(this.vdimen-this.bar_dimen)/this.scroller._max_value;if(this.lvalue!==e){if(this.lvalue=e,this.options.autohide){clearTimeout(this.hto),this.$bar.css("opacity","1");var t=this;this.hto=setTimeout(function(){t.$bar.css("opacity","0")},150)}e<0?this.$bar[0].style[this.__dimen]=this.bar_dimen+e+"px":(e>this.vdimen-this.bar_dimen&&(this.$bar[0].style[this.__dimen]=this.vdimen-e+"px"),window._cssanim?this.$bar[0].style[window._jcsspfx+"Transform"]=this.__translate_start+e+"px)"+this.__translate_end:this.$bar[0].style[this.__pos]=e+"px")}},i.destroy=function(){this.slider.api.view.removeEventListener(MSViewEvents.SCROLL,this._update,this),this.slider.api.removeEventListener(MSSliderEvent.RESIZE,this._resize,this),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.$element.remove(),n.destroy()},window.MSScrollbar=e,MSSlideController.registerControl("scrollbar",e)}(jQuery),function(t){"use strict";var e=function(e){BaseControl.call(this),this.options.autohide=!1,this.options.width=4,this.options.color="#FFFFFF",this.options.inset=!0,t.extend(this.options,e)};e.extend(BaseControl);var i=e.prototype,n=BaseControl.prototype;i.setup=function(){if(n.setup.call(this),this.$element=t("<div></div>").addClass(this.options.prefix+"timerbar"),n.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),this.$bar=t("<div></div>").addClass("ms-time-bar").appendTo(this.$element),"v"===this.options.dir?this.$bar.width(this.options.width):this.$bar.height(this.options.width),this.$bar.css("background-color",this.options.color),!this.options.insetTo&&this.options.align){this.$element.css({top:"auto",bottom:"auto"});var e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align())}},i.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},i.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,2*this.options.margin+this.options.width);this.$element.css(e,-t-this.options.margin-this.options.width)}},i.create=function(){n.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WATING,this._update,this),this._update()},i._update=function(){this.$bar[0].style.width=this.slider.api._delayProgress+"%"},i.destroy=function(){this.slider.api.removeEventListener(MSSliderEvent.WATING,this._update,this),this.$element.remove()},window.MSTimerbar=e,MSSlideController.registerControl("timebar",e)}(jQuery),function(t){"use strict";var e=function(e){BaseControl.call(this),this.options.color="#A2A2A2",this.options.stroke=10,this.options.radius=4,this.options.autohide=!1,t.extend(this.options,e)};e.extend(BaseControl);var i=e.prototype,n=BaseControl.prototype;i.setup=function(){if(n.setup.call(this),this.$element=t("<div></div>").addClass(this.options.prefix+"ctimer").appendTo(this.cont),this.$canvas=t("<canvas></canvas>").addClass("ms-ctimer-canvas").appendTo(this.$element),this.$bar=t("<div></div>").addClass("ms-ctimer-bullet").appendTo(this.$element),!this.$canvas[0].getContext)return this.destroy(),void(this.disable=!0);this.ctx=this.$canvas[0].getContext("2d"),this.prog=0,this.__w=2*(this.options.radius+this.options.stroke/2),this.$canvas[0].width=this.__w,this.$canvas[0].height=this.__w},i.create=function(){if(!this.disable){n.create.call(this),this.slider.api.addEventListener(MSSliderEvent.WATING,this._update,this);var e=this;this.$element.click(function(){e.slider.api.paused?e.slider.api.resume():e.slider.api.pause()}),this._update()}},i._update=function(){var e=this;t(this).stop(!0).animate({prog:.01*this.slider.api._delayProgress},{duration:200,step:function(){e._draw()}})},i._draw=function(){this.ctx.clearRect(0,0,this.__w,this.__w),this.ctx.beginPath(),this.ctx.arc(.5*this.__w,.5*this.__w,this.options.radius,1.5*Math.PI,1.5*Math.PI+2*Math.PI*this.prog,!1),this.ctx.strokeStyle=this.options.color,this.ctx.lineWidth=this.options.stroke,this.ctx.stroke()},i.destroy=function(){this.disable||(t(this).stop(!0),this.slider.api.removeEventListener(MSSliderEvent.WATING,this._update,this),this.$element.remove())},window.MSCircleTimer=e,MSSlideController.registerControl("circletimer",e)}(jQuery),function(t){"use strict";window.MSLightbox=function(e){BaseControl.call(this,e),this.options.autohide=!1,t.extend(this.options,e),this.data_list=[]},MSLightbox.fadeDuratation=400,MSLightbox.extend(BaseControl);var e=MSLightbox.prototype,i=BaseControl.prototype;e.setup=function(){i.setup.call(this),this.$element=t("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(this.cont)},e.slideAction=function(e){t("<div></div>").addClass(this.options.prefix+"lightbox-btn").appendTo(e.$element).append(t(e.$element.find(".ms-lightbox")))},e.create=function(){i.create.call(this)},MSSlideController.registerControl("lightbox",MSLightbox)}(jQuery),function(i){"use strict";window.MSSlideInfo=function(e){BaseControl.call(this,e),this.options.autohide=!1,this.options.align=null,this.options.inset=!1,this.options.margin=10,this.options.size=100,this.options.dir="h",i.extend(this.options,e),this.data_list=[]},MSSlideInfo.fadeDuratation=400,MSSlideInfo.extend(BaseControl);var e=MSSlideInfo.prototype,t=BaseControl.prototype;e.setup=function(){if(this.$element=i("<div></div>").addClass(this.options.prefix+"slide-info").addClass("ms-dir-"+this.options.dir),t.setup.call(this),this.slider.$controlsCont===this.cont?this.$element.appendTo(this.slider.$element):this.$element.appendTo(this.cont),!this.options.insetTo&&this.options.align){var e=this.options.align;this.options.inset?this.$element.css(e,this.options.margin):(this.slider.api.addEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this),this.align()),"v"===this.options.dir?this.$element.width(this.options.size):this.$element.css("min-height",this.options.size)}},e.onAppend=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},e.onDetach=function(){this.options.insetTo||!this.options.align||this.options.inset||this.slider._realignControls()},e.align=function(){if(!this.detached){var e=this.options.align,t=this.slider.reserveSpace(e,this.options.size+2*this.options.margin);this.$element.css(e,-t-this.options.size-this.options.margin)}},e.slideAction=function(e){var t=i(e.$element.find(".ms-info"));t.detach(),this.data_list[e.index]=t},e.create=function(){t.create.call(this),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,this.update,this),this.cindex=this.slider.api.index(),this.switchEle(this.data_list[this.cindex])},e.update=function(){var e=this.slider.api.index();this.switchEle(this.data_list[e]),this.cindex=e},e.switchEle=function(e){if(this.current_ele){var t=this;return this.current_ele[0].tween&&this.current_ele[0].tween.stop(!0),this.current_ele[0].tween=CTween.animate(this.current_ele,MSSlideInfo.fadeDuratation,{opacity:0},{complete:function(){this.detach(),this[0].tween=null},target:this.current_ele}),clearTimeout(this.tou),void(this.tou=setTimeout(function(){t.__show(e)},MSSlideInfo.fadeDuratation+200))}this.__show(e)},e.__show=function(e){e.appendTo(this.$element).css("opacity","0"),CTween.fadeIn(e,MSSlideInfo.fadeDuratation),e[0].tween&&e[0].tween.stop(!0),this.current_ele=e},e.destroy=function(){clearTimeout(this.tou),this.current_ele&&this.current_ele[0].tween.stop("true"),this.$element.remove(),this.slider.removeEventListener(MSSliderEvent.RESERVED_SPACE_CHANGE,this.align,this)},MSSlideController.registerControl("slideinfo",MSSlideInfo)}(jQuery),function(){window.MSGallery=function(e,t){this.id=e,this.slider=t,this.telement=$("#"+e),this.botcont=$("<div></div>").addClass("ms-gallery-botcont").appendTo(this.telement),this.thumbcont=$("<div></div>").addClass("ms-gal-thumbcont hide-thumbs").appendTo(this.botcont),this.playbtn=$("<div></div>").addClass("ms-gal-playbtn").appendTo(this.botcont),this.thumbtoggle=$("<div></div>").addClass("ms-gal-thumbtoggle").appendTo(this.botcont),t.control("thumblist",{insertTo:this.thumbcont,autohide:!1,dir:"h"}),t.control("slidenum",{insertTo:this.botcont,autohide:!1}),t.control("slideinfo",{insertTo:this.botcont,autohide:!1}),t.control("timebar",{insertTo:this.botcont,autohide:!1}),t.control("bullets",{insertTo:this.botcont,autohide:!1})};var e=MSGallery.prototype;e._init=function(){var e=this;this.slider.api.paused||this.playbtn.addClass("btn-pause"),this.playbtn.click(function(){e.slider.api.paused?(e.slider.api.resume(),e.playbtn.addClass("btn-pause")):(e.slider.api.pause(),e.playbtn.removeClass("btn-pause"))}),this.thumbtoggle.click(function(){e.vthumbs?(e.thumbtoggle.removeClass("btn-hide"),e.vthumbs=!1,e.thumbcont.addClass("hide-thumbs")):(e.thumbtoggle.addClass("btn-hide"),e.thumbcont.removeClass("hide-thumbs"),e.vthumbs=!0)})},e.setup=function(){var e=this;$(document).ready(function(){e._init()})}}(),window.jwplayer=function(a){function l(e){if(i[e])return i[e].exports;var t=i[e]={i:e,l:!1,exports:{}};return a[e].call(t.exports,t,t.exports,l),t.l=!0,t.exports}var c=window.webpackJsonpjwplayer;window.webpackJsonpjwplayer=function(e,t,i){for(var n,s,o=0,r=[];o<e.length;o++)s=e[o],u[s]&&r.push(u[s][0]),u[s]=0;for(n in t)Object.prototype.hasOwnProperty.call(t,n)&&(a[n]=t[n]);for(c&&c(e,t,i);r.length;)r.shift()()};var i={},u={16:0};return l.e=function(i){function e(){o.onerror=o.onload=null,clearTimeout(r);var e=u[i];0!==e&&(e&&e[1](new Error("Loading chunk "+i+" failed.")),u[i]=void 0)}var n=u[i];if(0===n)return new Promise(function(e){e()});if(n)return n[2];var t=new Promise(function(e,t){n=u[i]=[e,t]});n[2]=t;var s=document.getElementsByTagName("head")[0],o=document.createElement("script");o.type="text/javascript",o.charset="utf-8",o.async=!0,o.timeout=35e3,l.nc&&o.setAttribute("nonce",l.nc),o.src=l.p+""+({0:"jwplayer.core.controls.polyfills.html5",1:"jwplayer.core.controls.html5",2:"jwplayer.core.controls.polyfills",3:"jwplayer.core.controls",4:"jwplayer.controls",5:"provider.shaka",6:"provider.hlsjs",7:"jwplayer.core",8:"provider.html5",9:"provider.flash",10:"polyfills.intersection-observer",11:"provider.cast",12:"jwplayer.vr",13:"vttparser",14:"provider.airplay",15:"polyfills.webvtt"}[i]||i)+".js";var r=setTimeout(e,35e3);return o.onerror=o.onload=e,s.appendChild(o),t},l.m=a,l.c=i,l.d=function(e,t,i){l.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,"a",t),t},l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},l.p="",l.oe=function(e){throw console.error(e),e},l(l.s=55)}([function(t,e,i){"use strict";i.d(e,"a",function(){return R}),i.d(e,"b",function(){return M});var u=i(21),r={},s=Array.prototype,n=Object.prototype,o=Function.prototype,a=s.slice,l=s.concat,c=n.toString,h=n.hasOwnProperty,d=s.map,p=s.reduce,f=s.forEach,m=s.filter,g=s.every,v=s.some,y=s.indexOf,_=Array.isArray,w=Object.keys,b=o.bind,x=function t(e){return e instanceof t?e:this instanceof t?void 0:new t(e)},S=x.each=x.forEach=function(e,t,i){var n,s;if(null==e)return e;if(f&&e.forEach===f)e.forEach(t,i);else if(e.length===+e.length){for(n=0,s=e.length;n<s;n++)if(t.call(i,e[n],n,e)===r)return}else{var o=x.keys(e);for(n=0,s=o.length;n<s;n++)if(t.call(i,e[o[n]],o[n],e)===r)return}return e};x.map=x.collect=function(e,n,s){var o=[];return null==e?o:d&&e.map===d?e.map(n,s):(S(e,function(e,t,i){o.push(n.call(s,e,t,i))}),o)},x.reduce=x.foldl=x.inject=function(e,n,s,o){var r=2<arguments.length;if(null==e&&(e=[]),p&&e.reduce===p)return o&&(n=x.bind(n,o)),r?e.reduce(n,s):e.reduce(n);if(S(e,function(e,t,i){r?s=n.call(o,s,e,t,i):(s=e,r=!0)}),!r)throw new TypeError("Reduce of empty array with no initial value");return s},x.find=x.detect=function(e,n,s){var o;return C(e,function(e,t,i){if(n.call(s,e,t,i))return o=e,!0}),o},x.filter=x.select=function(e,n,s){var o=[];return null==e?o:m&&e.filter===m?e.filter(n,s):(S(e,function(e,t,i){n.call(s,e,t,i)&&o.push(e)}),o)},x.reject=function(e,n,s){return x.filter(e,function(e,t,i){return!n.call(s,e,t,i)},s)},x.compact=function(e){return x.filter(e,x.identity)},x.every=x.all=function(e,n,s){n||(n=x.identity);var o=!0;return null==e?o:g&&e.every===g?e.every(n,s):(S(e,function(e,t,i){if(!(o=o&&n.call(s,e,t,i)))return r}),!!o)};var C=x.some=x.any=function(e,n,s){n||(n=x.identity);var o=!1;return null==e?o:v&&e.some===v?e.some(n,s):(S(e,function(e,t,i){if(o||(o=n.call(s,e,t,i)))return r}),!!o)};x.size=function(e){return null==e?0:e.length===+e.length?e.length:x.keys(e).length},x.last=function(e,t,i){if(null!=e)return null==t||i?e[e.length-1]:a.call(e,Math.max(e.length-t,0))},x.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},x.before=function(e,t){var i;return function(){return 0<--e&&(i=t.apply(this,arguments)),e<=1&&(t=null),i}};var E=function(e){return null==e?x.identity:x.isFunction(e)?e:x.property(e)},T=function(a){return function(n,s,o){var r={};return s=E(s),S(n,function(e,t){var i=s.call(o,e,t,n);a(r,i,e)}),r}};x.groupBy=T(function(e,t,i){x.has(e,t)?e[t].push(i):e[t]=[i]}),x.indexBy=T(function(e,t,i){e[t]=i}),x.sortedIndex=function(e,t,i,n){for(var s=(i=E(i)).call(n,t),o=0,r=e.length;o<r;){var a=o+r>>>1;i.call(n,e[a])<s?o=a+1:r=a}return o},x.contains=x.include=function(e,t){return null!=e&&(e.length!==+e.length&&(e=x.values(e)),0<=x.indexOf(e,t))},x.pluck=function(e,t){return x.map(e,x.property(t))},x.where=function(e,t){return x.filter(e,x.matches(t))},x.findWhere=function(e,t){return x.find(e,x.matches(t))},x.max=function(e,s,o){if(!s&&x.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);var r=-1/0,a=-1/0;return S(e,function(e,t,i){var n=s?s.call(o,e,t,i):e;a<n&&(r=e,a=n)}),r},x.difference=function(e){var t=l.apply(s,a.call(arguments,1));return x.filter(e,function(e){return!x.contains(t,e)})},x.without=function(e){return x.difference(e,a.call(arguments,1))},x.indexOf=function(e,t,i){if(null==e)return-1;var n=0,s=e.length;if(i){if("number"!=typeof i)return e[n=x.sortedIndex(e,t)]===t?n:-1;n=i<0?Math.max(0,s+i):i}if(y&&e.indexOf===y)return e.indexOf(t,i);for(;n<s;n++)if(e[n]===t)return n;return-1};var k=function(){};x.bind=function(i,n){var s,o;if(b&&i.bind===b)return b.apply(i,a.call(arguments,1));if(!x.isFunction(i))throw new TypeError;return s=a.call(arguments,2),o=function(){if(!(this instanceof o))return i.apply(n,s.concat(a.call(arguments)));k.prototype=i.prototype;var e=new k;k.prototype=null;var t=i.apply(e,s.concat(a.call(arguments)));return Object(t)===t?t:e}},x.partial=function(s){var o=a.call(arguments,1);return function(){for(var e=0,t=o.slice(),i=0,n=t.length;i<n;i++)t[i]===x&&(t[i]=arguments[e++]);for(;e<arguments.length;)t.push(arguments[e++]);return s.apply(this,t)}},x.once=x.partial(x.before,2),x.memoize=function(t,i){var n={};return i||(i=x.identity),function(){var e=i.apply(this,arguments);return x.has(n,e)?n[e]:n[e]=t.apply(this,arguments)}},x.delay=function(e,t){var i=a.call(arguments,2);return setTimeout(function(){return e.apply(null,i)},t)},x.defer=function(e){return x.delay.apply(x,[e,1].concat(a.call(arguments,1)))},x.throttle=function(t,i,n){var s,o,r,a=null,l=0;n||(n={});var c=function(){l=!1===n.leading?0:Object(u.a)(),a=null,r=t.apply(s,o),s=o=null};return function(){l||!1!==n.leading||(l=u.a);var e=i-(u.a-l);return s=this,o=arguments,e<=0?(clearTimeout(a),a=null,l=u.a,r=t.apply(s,o),s=o=null):a||!1===n.trailing||(a=setTimeout(c,e)),r}},x.keys=function(e){if(!x.isObject(e))return[];if(w)return w(e);var t=[];for(var i in e)x.has(e,i)&&t.push(i);return t},x.invert=function(e){for(var t={},i=x.keys(e),n=0,s=i.length;n<s;n++)t[e[i[n]]]=i[n];return t},x.defaults=function(i){return S(a.call(arguments,1),function(e){if(e)for(var t in e)void 0===i[t]&&(i[t]=e[t])}),i},x.extend=function(i){return S(a.call(arguments,1),function(e){if(e)for(var t in e)i[t]=e[t]}),i},x.pick=function(t){var i={},e=l.apply(s,a.call(arguments,1));return S(e,function(e){e in t&&(i[e]=t[e])}),i},x.omit=function(e){var t={},i=l.apply(s,a.call(arguments,1));for(var n in e)x.contains(i,n)||(t[n]=e[n]);return t},x.clone=function(e){return x.isObject(e)?x.isArray(e)?e.slice():x.extend({},e):e},x.isArray=_||function(e){return"[object Array]"==c.call(e)},x.isObject=function(e){return e===Object(e)},S(["Function","String","Number","Date","RegExp"],function(t){x["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),x.isFunction=function(e){return"function"==typeof e},x.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))};var R=x.isNaN=function(e){return x.isNumber(e)&&e!=+e};x.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==c.call(e)},x.isNull=function(e){return null===e},x.isUndefined=function(e){return void 0===e},x.has=function(e,t){return h.call(e,t)},x.identity=function(e){return e},x.constant=function(e){return function(){return e}},x.property=function(t){return function(e){return e[t]}},x.propertyOf=function(t){return null==t?function(){}:function(e){return t[e]}},x.matches=function(i){return function(e){if(e===i)return!0;for(var t in i)if(i[t]!==e[t])return!1;return!0}},x.now=u.a,x.result=function(e,t){if(null!=e){var i=e[t];return x.isFunction(i)?i.call(e):i}};var M=x.isNumber;e.c=x},function(e,t,i){"use strict";i.d(t,"b",function(){return o});var n=i(56),s=window.Promise||(window.Promise=n.a),o=s.resolve();t.a=s},function(e,t,i){"use strict";function n(e){return e.replace(/^\s+|\s+$/g,"")}function s(e,t,i){for(e=""+e,i=i||"0";e.length<t;)e=i+e;return e}function o(e,t){for(var i=0;i<e.attributes.length;i++)if(e.attributes[i].name&&e.attributes[i].name.toLowerCase()===t.toLowerCase())return e.attributes[i].value.toString();return""}function r(e){return/[(,]format=m3u8-/i.test(e)?"m3u8":!!/[(,]format=mpd-/i.test(e)&&"mpd"}function a(e){return e&&"rtmp"!==e.substr(0,4)?r(e)||(-1<(e=e.split("?")[0].split("#")[0]).lastIndexOf(".")?e.substr(e.lastIndexOf(".")+1,e.length).toLowerCase():void 0):""}function l(e){var t=parseInt(e/3600),i=parseInt(e/60)%60,n=e%60;return s(t,2)+":"+s(i,2)+":"+s(n.toFixed(3),6)}function c(e,t){if(!e)return 0;if(p.c.isNumber(e)&&!p.c.isNaN(e))return e;var i=(e=e.replace(",",".")).split(":"),n=i.length,s=0;if("s"===e.slice(-1))s=parseFloat(e);else if("m"===e.slice(-1))s=60*parseFloat(e);else if("h"===e.slice(-1))s=3600*parseFloat(e);else if(1<n){var o=n-1;4===n&&(t&&(s=parseFloat(i[o])/t),o-=1),s+=parseFloat(i[o]),s+=60*parseFloat(i[o-1]),3<=n&&(s+=3600*parseFloat(i[o-2]))}else s=parseFloat(e);return p.c.isNaN(s)?0:s}function u(e,t,i){if(p.c.isString(e)&&"%"===e.slice(-1)){var n=parseFloat(e);return!t||isNaN(t)||isNaN(n)?null:t*n/100}return c(e,i)}function h(e,t){return p.c.map(e,function(e){return t+e})}function d(e,t){return p.c.map(e,function(e){return e+t})}t.h=n,t.d=s,t.i=o,t.a=a,t.b=l,t.f=c,t.c=u,t.e=h,t.g=d;var p=i(0)},,,function(e,t,i){"use strict";i.d(t,"_3",function(){return n}),i.d(t,"_6",function(){return s}),i.d(t,"_4",function(){return o}),i.d(t,"_8",function(){return r}),i.d(t,"_9",function(){return a}),i.d(t,"_5",function(){return l}),i.d(t,"_7",function(){return c}),i.d(t,"_10",function(){return u}),i.d(t,"n",function(){return h}),i.d(t,"p",function(){return d}),i.d(t,"o",function(){return p}),i.d(t,"i",function(){return f}),i.d(t,"l",function(){return m}),i.d(t,"_11",function(){return g}),i.d(t,"m",function(){return v}),i.d(t,"S",function(){return y}),i.d(t,"P",function(){return _}),i.d(t,"q",function(){return w}),i.d(t,"R",function(){return b}),i.d(t,"r",function(){return x}),i.d(t,"a",function(){return S}),i.d(t,"d",function(){return C}),i.d(t,"z",function(){return E}),i.d(t,"_0",function(){return T}),i.d(t,"J",function(){return k}),i.d(t,"w",function(){return R}),i.d(t,"v",function(){return M}),i.d(t,"y",function(){return P}),i.d(t,"k",function(){return N}),i.d(t,"V",function(){return D}),i.d(t,"h",function(){return I}),i.d(t,"A",function(){return O}),i.d(t,"B",function(){return L}),i.d(t,"G",function(){return A}),i.d(t,"H",function(){return H}),i.d(t,"K",function(){return F}),i.d(t,"_2",function(){return j}),i.d(t,"U",function(){return z}),i.d(t,"x",function(){return $}),i.d(t,"L",function(){return B}),i.d(t,"I",function(){return W}),i.d(t,"M",function(){return U}),i.d(t,"O",function(){return V}),i.d(t,"F",function(){return q}),i.d(t,"E",function(){return Y}),i.d(t,"C",function(){return G}),i.d(t,"D",function(){return X}),i.d(t,"N",function(){return Z}),i.d(t,"j",function(){return K}),i.d(t,"s",function(){return Q}),i.d(t,"_1",function(){return J}),i.d(t,"W",function(){return ee}),i.d(t,"X",function(){return te}),i.d(t,"b",function(){return ie}),i.d(t,"c",function(){return ne}),i.d(t,"T",function(){return se}),i.d(t,"u",function(){return oe}),i.d(t,"g",function(){return re}),i.d(t,"f",function(){return ae}),i.d(t,"Y",function(){return le}),i.d(t,"Z",function(){return ce}),i.d(t,"_12",function(){return ue}),i.d(t,"t",function(){return he}),i.d(t,"e",function(){return de}),i.d(t,"Q",function(){return pe});var n="buffering",s="idle",o="complete",r="paused",a="playing",l="error",c="loading",u="stalled",h="drag",d="dragStart",p="dragEnd",f="click",m="doubleClick",g="tap",v="doubleTap",y="over",_="move",w="enter",b="out",x=l,S="adSkipped",C="autostartNotAllowed",E=o,T="ready",k="seek",R="beforePlay",M="beforeComplete",P="bufferFull",N="displayClick",D="playlistComplete",I="cast",O="mediaError",L="firstFrame",A="playAttempt",H="playAttemptFailed",F="seeked",j="setupError",z="state",$="bufferChange",B="time",W="ratechange",U="mediaType",V="volume",q="mute",Y="meta",G="levels",X="levelsChanged",Z="visualQuality",K="controls",Q="fullscreen",J="resize",ee="playlistItem",te="playlist",ie="audioTracks",ne="audioTrackChanged",se="playbackRateChanged",oe="logoClick",re="captionsList",ae="captionsChanged",le="providerChanged",ce="providerFirstFrame",ue="userAction",he="instreamClick",de="breakpoint",pe="fullscreenchange"},function(e,t,i){"use strict";function n(e,t,i){var n=2<arguments.length&&void 0!==i?arguments[2]:[];if(u.a.debug)return e.apply(t||this,n);try{return e.apply(t||this,n)}catch(t){return new s(e.name,t)}}function s(e,t){this.name=e,this.message=t.message||t.toString(),this.error=t}var o=i(16),r=i(11),a=i(12),l=i(2),c=i(22),u=i(15),h=i(0),d=i(30),p=i(25),f=i(26),m=i(52);i.d(t,"b",function(){return v});var g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},v="function"==typeof console.log?console.log.bind(console):function(){},y=function(e,t,i){return Math.max(Math.min(e,i),t)},_=function(e,t){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t(i,e[i])},w=h.c.indexOf,b=function(){},x=g({},a,r,o,{addClass:p.a,hasClass:p.h,removeClass:p.j,replaceClass:p.k,toggleClass:p.m,classList:p.d,styleDimension:p.l,createElement:p.e,emptyElement:p.g,addStyleSheet:p.b,bounds:p.c,css:f.b,clearCss:f.a,style:f.d,transform:f.e,getRgba:f.c,ajax:m.a,crossdomain:m.b,tryCatch:n,Error:s,Timer:c.a,log:v,between:y,foreach:_,flashVersion:d.a,isIframe:d.m,indexOf:w,trim:l.h,pad:l.d,extension:l.a,hms:l.b,seconds:l.f,prefix:l.e,suffix:l.g,noop:b});t.a=x},function(e,t){"use strict";function i(e,t,i){if(!h(this,"on",e,[t,i])||!t)return this;var n=this._events||(this._events={});return(n[e]||(n[e]=[])).push({callback:t,context:i}),this}function n(e,t,i){if(!h(this,"once",e,[t,i])||!t)return this;var n=0,s=this,o=function i(){n++||(s.off(e,i),t.apply(this,arguments))};return o._callback=t,this.on(e,o,i)}function s(e,t,i){if(!this._events||!h(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return delete this._events,this;for(var n=e?[e]:Object.keys(this._events),s=0,o=n.length;s<o;s++){e=n[s];var r=this._events[e];if(r){var a=this._events[e]=[];if(t||i)for(var l=0,c=r.length;l<c;l++){var u=r[l];(t&&t!==u.callback&&t!==u.callback._callback||i&&i!==u.context)&&a.push(u)}a.length||delete this._events[e]}}return this}function o(e){if(!this._events)return this;var t=c.call(arguments,1);if(!h(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&a(i,t,this),n&&a(n,arguments,this),this}function r(e){if(!this._events)return this;var t=c.call(arguments,1);if(!h(this,"trigger",e,t))return this;var i=this._events[e],n=this._events.all;return i&&a(i,t,this,e),n&&a(n,arguments,this,e),this}function h(e,t,i,n){if(!i)return!0;if("object"===(void 0===i?"undefined":l(i))){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e[t].apply(e,[s,i[s]].concat(n));return!1}if(u.test(i)){for(var o=i.split(u),r=0,a=o.length;r<a;r++)e[t].apply(e,[o[r]].concat(n));return!1}return!0}function a(e,t,i,n){for(var s=-1,o=e.length;++s<o;){var r=e[s];if(n)try{r.callback.apply(r.context||i,t)}catch(e){console.log('Error in "'+n+'" event handler:',e)}else r.callback.apply(r.context||i,t)}}t.c=i,t.d=n,t.b=s,t.e=o,t.f=r;var l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=[].slice,u=/\s+/;t.a={on:i,once:n,off:s,trigger:o}},function(e,t,i){"use strict";function n(e,t){var i=void 0,n=void 0,s=void 0,o=void 0;return e.chrome?i=-1!==t.indexOf("Chrome")?t.substring(t.indexOf("Chrome")+7):t.substring(t.indexOf("CriOS")+6):e.safari?i=t.substring(t.indexOf("Version")+8):e.firefox?i=t.substring(t.indexOf("Firefox")+8):e.edge?i=t.substring(t.indexOf("Edge")+5):e.ie&&(-1!==t.indexOf("rv:")?i=t.substring(t.indexOf("rv:")+3):-1!==t.indexOf("MSIE")&&(i=t.substring(t.indexOf("MSIE")+5))),i&&(-1!==(o=i.indexOf(";"))&&(i=i.substring(0,o)),-1!==(o=i.indexOf(" "))&&(i=i.substring(0,o)),-1!==(o=i.indexOf(")"))&&(i=i.substring(0,o)),n=parseInt(i,10),s=parseInt(i.split(".")[1],10)),{version:i,major:n,minor:s}}function r(e,t){if(e&&e.length>t)return e[t]}function s(e,t){var i=void 0,n=void 0,s=void 0;if(e.windows)switch(i=r(/Windows(?: NT|)? ([._\d]+)/.exec(t),1)){case"6.1":i="7.0";break;case"6.2":i="8.0";break;case"6.3":i="8.1"}else e.android?i=r(/Android ([._\d]+)/.exec(t),1):e.iOS?i=r(/OS ([._\d]+)/.exec(t),1):e.mac&&(i=r(/Mac OS X (10[._\d]+)/.exec(t),1));if(i){n=parseInt(i,10);var o=i.split(/[._]/);o&&(s=parseInt(o[1],10))}return{version:i,major:n,minor:s}}function o(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassive",null,t),window.removeEventListener("testPassive",null,t)}catch(e){}return e}Object.defineProperty(t,"__esModule",{value:!0});var a=i(30),l=i(0);i.d(t,"Browser",function(){return h}),i.d(t,"OS",function(){return d}),i.d(t,"Features",function(){return p});var c=l.c.memoize,u=navigator.userAgent,h={},d={},p={},f=function(){return-1<u.indexOf("Windows")};Object.defineProperties(h,{androidNative:{get:c(a.c),enumerable:!0},chrome:{get:c(a.d),enumerable:!0},edge:{get:c(a.e),enumerable:!0},facebook:{get:c(a.g),enumerable:!0},firefox:{get:c(a.f),enumerable:!0},ie:{get:c(a.i),enumerable:!0},msie:{get:c(a.n),enumerable:!0},safari:{get:c(a.q),enumerable:!0},version:{get:c(n.bind(this,h,u)),enumerable:!0}}),Object.defineProperties(d,{android:{get:c(a.b),enumerable:!0},iOS:{get:c(a.j),enumerable:!0},mobile:{get:c(a.o),enumerable:!0},mac:{get:c(a.p),enumerable:!0},iPad:{get:c(a.k),enumerable:!0},iPhone:{get:c(a.l),enumerable:!0},windows:{get:c(f),enumerable:!0},version:{get:c(s.bind(this,d,u)),enumerable:!0}}),Object.defineProperties(p,{flash:{get:c(a.h),enumerable:!0},flashVersion:{get:c(a.a),enumerable:!0},iframe:{get:c(a.m),enumerable:!0},passiveEvents:{get:c(o),enumerable:!0},backgroundLoading:{get:c(function(){return!(d.iOS||h.safari)}),enumerable:!0}})},function(e,t,i){"use strict";function n(e){return _||(_=o(e)),_}function s(){throw new Error("Network error")}function o(e){var t=e.get("controls"),i=r(),n=a(e,"html5");return t&&i&&n?l():t&&n?c():t&&i?u():t?h():d()}function r(){var e=window.IntersectionObserverEntry;return!(e&&"IntersectionObserver"in window&&"intersectionRatio"in e.prototype)}function a(e,t){var i=e.get("playlist");if(Array.isArray(i)&&i.length)for(var n=Object(f.a)(i[0]).sources,s=0;s<n.length;s++)for(var o=n[s],r=e.getProviders(),a=0;a<m.a.length;a++){var l=m.a[a];if(r.providerSupports(l,o))return l.name===t}return!1}function l(){return w.html5=!0,i.e(0).then(function(){i(10);var e=i(4)["default"];return v.b.controls=i(3)["default"],Object(g.a)(i(116)["default"]),e}.bind(null,i))["catch"](s)}function c(){return w.html5=!0,i.e(1).then(function(){var e=i(4)["default"];return v.b.controls=i(3)["default"],Object(g.a)(i(116)["default"]),e}.bind(null,i))["catch"](s)}function u(){return i.e(2).then(function(){i(10);var e=i(4)["default"];return v.b.controls=i(3)["default"],e}.bind(null,i))["catch"](s)}function h(){return i.e(3).then(function(){var e=i(4)["default"];return v.b.controls=i(3)["default"],e}.bind(null,i))["catch"](s)}function d(){return p().then(function(){return i.e(7).then(function(){return i(4)["default"]}.bind(null,i))["catch"](s)})}function p(){return r()?i.e(10).then(function(){return i(10)}.bind(null,i))["catch"](s):y.b}i.d(t,"a",function(){return w}),t.c=n,t.b=s;var f=i(23),m=i(17),g=i(18),v=i(48),y=i(1),_=null,w={}},,function(e,t){"use strict";function i(e){switch(void 0===e?"undefined":a(e)){case"string":return 0<e.length;case"object":return null!==e;case"undefined":return!1;default:return!0}}function n(){return"https:"===window.location.protocol}function s(e,t){return 0===e.indexOf("rtmp:")||"rtmp"===t}function o(e,t){return"youtube"===t||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(e)}function r(e){if(null===e)return"null";var t=void 0===e?"undefined":a(e);return"object"===t&&Array.isArray(e)?"array":t}Object.defineProperty(t,"__esModule",{value:!0}),t.exists=i,t.isHTTPS=n,t.isRtmp=s,t.isYouTube=o,t.typeOf=r;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e}},function(e,t,i){"use strict";function n(e,t){if(Object(u.exists)(t)||(t=document.location.href),Object(u.exists)(e)){if(l(e))return e;var i=t.substring(0,t.indexOf("://")+3),n=t.substring(i.length,t.indexOf("/",i.length+1)),s=void 0;if(0===e.indexOf("/"))s=e.split("/");else{var o=t.split("?")[0];s=(o=o.substring(i.length+n.length+1,o.lastIndexOf("/"))).split("/").concat(e.split("/"))}for(var r=[],a=0;a<s.length;a++)s[a]&&Object(u.exists)(s[a])&&"."!==s[a]&&(".."===s[a]?r.pop():r.push(s[a]));return i+n+"/"+r.join("/")}}function l(e){return/^(?:(?:https?|file):)?\/\//.test(e)}function s(e){return h.c.some(e,function(e){return"parsererror"===e.nodeName})}function o(e){var t=null;try{"DOMParser"in window?(s((t=(new window.DOMParser).parseFromString(e,"text/xml")).childNodes)||t.childNodes&&s(t.childNodes[0].childNodes))&&(t=null):((t=new window.ActiveXObject("Microsoft.XMLDOM")).async="false",t.loadXML(e))}catch(e){}return t}function r(e){if(void 0===e)return null;if("string"==typeof e&&e.length<6){var t=e.toLowerCase();if("true"===t)return!0;if("false"===t)return!1;if(!isNaN(Number(e))&&!isNaN(parseFloat(e)))return Number(e)}return e}function a(e){return"string"==typeof e?""===e?0:-1<e.lastIndexOf("%")?e:parseInt(e.replace("px",""),10):e}function c(e,t){if(e<=0&&!t||h.c.isNaN(parseInt(e)))return"00:00";var i=e<0?"-":"";e=Math.abs(e);var n=Math.floor(e/3600),s=Math.floor((e-3600*n)/60),o=Math.floor(e%60);return i+(n?n+":":"")+(s<10?"0":"")+s+":"+(o<10?"0":"")+o}Object.defineProperty(t,"__esModule",{value:!0}),t.getAbsolutePath=n,t.isAbsolutePath=l,t.parseXML=o,t.serialize=r,t.parseDimension=a,t.timeFormat=c;var u=i(11),h=i(0)},function(e,t,i){"use strict";function n(e){var t="";return e&&(e.localName?t=e.localName:e.baseName&&(t=e.baseName)),t}function s(e){var t="";return e&&(e.textContent?t=Object(a.h)(e.textContent):e.text&&(t=Object(a.h)(e.text))),t}function o(e,t){return e.childNodes[t]}function r(e){return e.childNodes?e.childNodes.length:0}t.b=n,t.d=s,t.a=o,t.c=r;var a=i(2)},function(e,t){"use strict";function i(t){var i={setup:[n,s,o,r,a,c,u,h,l],drm:[a,c,u,h],ads:[c,u,h,l,a],jwpsrv:[n,s,o,r,a,c,h,l],discovery:[c,a,h,u]};return function(e){return i[e]&&-1<i[e].indexOf(t)}}t.a=i
;var n="free",s="starter",o="business",r="premium",a="enterprise",l="platinum",c="ads",u="unlimited",h="trial"},function(e,t){"use strict";t.a={debug:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),i.d(t,"getScriptPath",function(){return n}),i.d(t,"repo",function(){return s}),i.d(t,"versionCheck",function(){return r}),i.d(t,"loadFrom",function(){return a});var o=i(20),n=function(e){for(var t=document.getElementsByTagName("script"),i=0;i<t.length;i++){var n=t[i].src;if(n){var s=n.lastIndexOf("/"+e);if(0<=s)return n.substr(0,s+1)}}return""},s=function(){var e="//ssl.p.jwpcdn.com/player/v/8.2.0/";return("file:"===window.location.protocol?"https:":"")+e},r=function(e){var t=("0"+e).split(/\W/),i=o.a.split(/\W/),n=parseFloat(t[0]),s=parseFloat(i[0]);return!(s<n||n===s&&parseFloat("0"+t[1])>parseFloat(i[1]))},a=function(){return s()}},function(e,t,i){"use strict";function a(){return!!window.MediaSource&&!!window.MediaSource.isTypeSupported&&window.MediaSource.isTypeSupported('video/mp4;codecs="avc1.4d400d,mp4a.40.2"')}function n(e){if(e.drm&&!Object(u.a)(e.drm))return!1;var t=window.MediaSource;if(!window.HTMLVideoElement||!t)return!1;var i=!0;return e.mediaTypes&&(i=r.c.all(e.mediaTypes,function(e){return t.isTypeSupported(e)})),i&&("dash"===e.type||"mpd"===e.type||-1<(e.file||"").indexOf("mpd-time-csf"))}var s=i(46),l=i(8),o=i(14),r=i(0),c=i(11),u=i(29),h=r.c.find(s.a,r.c.matches({name:"html5"})),d=h.supports;h.supports=function(e,t){var i=d.apply(this,arguments);if(i&&e.drm&&"hls"===e.type){var n=Object(o.a)(t)("drm");if(n&&e.drm.fairplay){var s=window.WebKitMediaKeys;return s&&s.isTypeSupported&&s.isTypeSupported("com.apple.fps.1_0","video/mp4")}return n}return i},s.a.push({name:"shaka",supports:n}),s.a.splice(0,0,{name:"hlsjs",supports:function(e){if(e.drm)return!1;var t=l.Browser.chrome||l.Browser.firefox||l.Browser.edge||l.Browser.ie&&11===l.Browser.version.major,i=l.OS.android&&!!e.hlsjsdefault,n=!l.OS.iOS&&l.Browser.safari&&!!e.safarihlsjs,s=a()&&(t||i||n),o=-1<e.file.indexOf(".m3u8"),r="hls"===e.type||"m3u8"===e.type;return s&&(o||r)}}),s.a.push({name:"flash",supports:function(e){if(!l.Features.flash||e.drm)return!1;var t=e.type;return"hls"===t||"m3u8"===t||!Object(c.isRtmp)(e.file,t)&&-1<["flv","f4v","mov","m4a","m4v","mp4","aac","f4a","mp3","mpeg","smil"].indexOf(t)}}),t.a=s.a},function(e,t,i){"use strict";function n(e){var t=e.getName().name;if(!s.a[t]){if(!a.c.find(o.a,a.c.matches({name:t}))){if(!a.c.isFunction(e.supports))throw new Error("Tried to register a provider with an invalid object");o.a.unshift({name:t,supports:e.supports})}a.c.defaults(e.prototype,r.a),s.a[t]=e}}t.a=n;var s=i(33),o=i(17),r=i(45),a=i(0)},function(e,t,i){"use strict";function r(e,t,i){var n=e.name,s=document.createElement("div");s.id=i.id+"_"+n,s.className="jw-plugin jw-reset";var o=c({},t),r=e.getNewInstance(i,o,s);i.addPlugin(n,r)}function n(e){switch(v(e)){case m:return e;case g:return Object(d.getAbsolutePath)(e,window.location.href)}}function o(e){return E[e]=new u,E[e]}function s(e,t){var i=e.get("id"),n=e.get("plugins");window.jwplayerPluginJsonp=T;var s=o(i);return s.load(t,C,n).then(function(e){s===E[i]&&(e&&e.forEach(function(e){e instanceof Error&&Object(w.b)(e.message)}),delete window.jwplayerPluginJsonp)})}var a=i(1),l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u=function(){this.load=function(n,s,o){return o&&"object"===(void 0===o?"undefined":l(o))?a.a.all(Object.keys(o).filter(function(e){return e}).map(function(t){var e=s.addPlugin(t,!0),i=o[t];return e.load().then(function(){r(e,i,n)})["catch"](function(e){return e instanceof Error?e:new Error("Error in "+t+' "'+e+'"')})})):a.b}},h=i(24),d=i(12),p=i(2),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m=0,g=1,v=function(e){if("string"==typeof e){var t=(e=e.split("?")[0]).indexOf("://");if(0<t)return m;var i=e.indexOf("/"),n=Object(p.a)(e);return!(t<0&&i<0)||n&&isNaN(n)?g:2}},y=function(e){this.url=e};f(y.prototype,{load:function(){if(2===v(this.url))return a.b;var e=new h.a(n(this.url));return(this.loader=e).load()},registerPlugin:function(e,t,i){this.name=e,this.target=t,this.js=i},getNewInstance:function(t,e,i){var n=new this.js(t,e,i);return n.addToPlayer=function(){var e=t.getContainer().querySelector(".jw-overlays");e&&(i.left=e.style.left,i.top=e.style.top,e.appendChild(i),n.displayArea=e)},n.resizeHandler=function(){var e=n.displayArea;e&&n.resize(e.clientWidth,e.clientHeight)},n}});var _=y,w=i(6),b={},x=function(e){return e.replace(/^(.*\/)?([^-]*)-?.*\.(js)$/,"$2")},S=function(){this.addPlugin=function(e,t){var i=x(e),n=b[i];return n?t&&n.url!==e&&Object(w.b)('JW Plugin "'+i+'" already loaded from "'+n.url+'". Ignoring "'+e+'."'):(n=new _(e),b[i]=n),n},this.getPlugins=function(){return b}};i.d(t,"b",function(){return T}),t.a=s;var C=new S,E={},T=function(e,t,i){var n=C.addPlugin(e);n.js||n.registerPlugin(e,t,i)}},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n="8.2.0+commercial_v8-2-0.251.commercial.cdc12c5.hlsjs..jwplayer.f5e22c2.dai.ccc6c77.freewheel.29771b0.googima.f42cc17.vast.1ba6186.analytics.abc087d.gapro.f664e4e.related.a6a8ec0"},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=Date.now||function(){return(new Date).getTime()}},function(e,t,i){"use strict";function a(){return o+s.now()}var n=i(21),s=window.performance||{timing:{}},o=s.timing.navigationStart||Object(n.a)();"now"in s||(s.now=function(){return Object(n.a)()-o});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(){var n={},s={},o={},r={};return{start:function(e){n[e]=a(),o[e]=o[e]+1||1},end:function(e){if(n[e]){var t=a()-n[e];delete n[e],s[e]=s[e]+t||t}},dump:function(){var e=l({},s);for(var t in n)if(Object.prototype.hasOwnProperty.call(n,t)){var i=a()-n[t];e[t]=e[t]+i||i}return{counts:l({},o),sums:e,events:l({},r)}},tick:function(e){r[e]=a()},clear:function(e){delete r[e]},between:function(e,t){return r[t]&&r[e]?r[t]-r[e]:null}}};t.a=r},function(e,t,i){"use strict";var o=i(36),n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(e){if(e&&e.file)return n({},{kind:"captions","default":!1},e)},a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},l=Array.isArray,s=function(e){l((e=e||{}).tracks)||delete e.tracks;var t=a({},{sources:[],tracks:[],minDvrWindow:120},e);t.sources!==Object(t.sources)||l(t.sources)||(t.sources=[Object(o.a)(t.sources)]),l(t.sources)&&0!==t.sources.length||(e.levels?t.sources=e.levels:t.sources=[Object(o.a)(e)]);for(var i=0;i<t.sources.length;i++){var n=t.sources[i];if(n){var s=n["default"];n["default"]=!!s&&"true"===s.toString(),t.sources[i].label||(t.sources[i].label=i.toString()),t.sources[i]=Object(o.a)(t.sources[i])}}return t.sources=t.sources.filter(function(e){return!!e}),l(t.tracks)||(t.tracks=[]),l(t.captions)&&(t.tracks=t.tracks.concat(t.captions),delete t.captions),t.tracks=t.tracks.map(r).filter(function(e){return!!e}),t};t.a=s},function(e,t,i){"use strict";function h(e){var t=document.createElement("link");return t.type="text/css",t.rel="stylesheet",t.href=e,t}function d(e){var t=document.createElement("script");return t.type="text/javascript",t.charset="utf-8",t.async=!0,t.timeout=f,t.src=e,t}var n=i(7),s=i(5),o=i(1),r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p={},f=15e3,m=2,g=3,a=function(a,l){function c(e){i=m,t.trigger(s.r,e).off()}function u(e){i=g,t.trigger(s._4,e).off()}var t=this,i=0;this.getStatus=function(){return i},this.load=function(){var e=p[a];return 0!==i||(e&&e.then(u)["catch"](c),i=1,e=new o.a(function(t,i){var e=(l?h:d)(a),n=function(){e.onerror=e.onload=null,clearTimeout(o)},s=function(e){n(),c(e),i(e)},o=setTimeout(function(){s(new Error("Network timeout "+a))},f);e.onerror=function(){s(new Error("Failed to load "+a))},e.onload=function(e){n(),u(e),t(e)};var r=document.getElementsByTagName("head")[0]||document.documentElement;r.insertBefore(e,r.firstChild)}),p[a]=e),e}};r(a.prototype,n.a),t.a=a},function(e,t,i){"use strict";function s(e,t){return e.classList.contains(t)}function n(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function o(e){return e+(0<e.toString().indexOf("%")?"":"px")}function r(e){return _.c.isString(e.className)?e.className.split(" "):[]}function a(e,t){t=Object(y.h)(t),e.className!==t&&(e.className=t)}function l(e){return e.classList?e.classList:r(e)}function c(e,t){var i=r(e),n=_.c.isArray(t)?t:t.split(" ");_.c.each(n,function(e){_.c.contains(i,e)||i.push(e)}),a(e,i.join(" "))}function u(e,t){var i=r(e),n=_.c.isArray(t)?t:t.split(" ");a(e,_.c.difference(i,n).join(" "))}function h(e,t,i){var n=e.className||"";t.test(n)?n=n.replace(t,i):i&&(n+=" "+i),a(e,n)}function d(e,t,i){var n=s(e,t);(i=_.c.isBoolean(i)?i:!n)!==n&&(i?c(e,t):u(e,t))}function p(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function f(e){var t=document.createElement("link");t.rel="stylesheet",t.href=e,document.getElementsByTagName("head")[0].appendChild(t)}function m(e){e&&p(e)}function g(e){var t={left:0,right:0,width:0,height:0,top:0,bottom:0};if(!e||!document.body.contains(e))return t;var i=e.getBoundingClientRect(),n=window.pageYOffset,s=window.pageXOffset;return(i.width||i.height||i.left||i.top)&&(t.left=i.left+s,t.right=i.right+s,t.top=i.top+n,t.bottom=i.bottom+n,t.width=i.right-i.left,t.height=i.bottom-i.top),t}function v(e,t){e.insertBefore(t,e.firstChild)}t.h=s,t.e=n,t.l=o,t.d=l,t.a=c,t.j=u,t.k=h,t.m=d,t.g=p,t.b=f,t.f=m,t.c=g,t.i=v;var y=i(2),_=i(0)},function(e,t,i){"use strict";function n(e,t,i,n){i=i||"all-players";var s="";if("object"===(void 0===t?"undefined":d(t))){var o=document.createElement("div");a(o,t);var r=o.style.cssText;n&&r&&(r=r.replace(/;/g," !important;")),s="{"+r+"}"}else"string"==typeof t&&(s=t);""!==s&&"{}"!==s?h.a.style([[e,e+s]],i):h.a.clear(i,e)}function a(e,t){if(null!=e){void 0===e.length&&(e=[e]);var i,n={};for(i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=c(i,t[i]));for(var s=0;s<e.length;s++){var o,r=e[s];if(null!=r)for(i in n)Object.prototype.hasOwnProperty.call(n,i)&&(o=l(i),r.style[o]!==n[i]&&(r.style[o]=n[i]))}}}function l(e){e=e.split("-");for(var t=1;t<e.length;t++)e[t]=e[t].charAt(0).toUpperCase()+e[t].slice(1);return e.join("")}function c(e,t){return""===t||null==t?"":"string"==typeof t&&isNaN(t)?/png|gif|jpe?g/i.test(t)&&t.indexOf("url")<0?"url("+t+")":t:0===t||"z-index"===e||"opacity"===e?""+t:/color/i.test(e)?"#"+Object(r.d)(t.toString(16).replace(/^0x/i,""),6):Math.ceil(t)+"px"}function s(e,t){a(e,{transform:t,webkitTransform:t,msTransform:t,mozTransform:t,oTransform:t})}function o(e,t){var i="rgb",n=void 0!==t&&100!==t;if(n&&(i+="a"),!f){var s=document.createElement("canvas");s.height=1,s.width=1,f=s.getContext("2d")}e?isNaN(parseInt(e,16))||(e="#"+e):e="#000000",f.clearRect(0,0,1,1),f.fillStyle=e,f.fillRect(0,0,1,1);var o=f.getImageData(0,0,1,1).data;return i+="("+o[0]+", "+o[1]+", "+o[2],n&&(i+=", "+t/100),i+")"}i.d(t,"a",function(){return p}),t.b=n,t.d=a,t.e=s,t.c=o;var r=i(2),u=i(39),h=i.n(u),d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p=h.a.clear,f=void 0},function(e,t){"use strict";var i=[];t.a=i},function(e,t,i){"use strict";function n(e){this.config=e||{}}var s=i(17),o=i(18),r=i(33),a=i(9),l=i(1),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},u={html5:function(){return i.e(8).then(function(){var e=i(116)["default"];return Object(o.a)(e),e}.bind(null,i))["catch"](a.b)}};c(n.prototype,{load:function(e){var t=u[e],i=function(){return l.a.reject(new Error("Failed to load media"))};return t?t().then(function(){return r.a[e]||i()}):i()},providerSupports:function(e,t){return e.supports(t)},choose:function(e){if(e===Object(e))for(var t=s.a.length,i=0;i<t;i++){var n=s.a[i];if(this.providerSupports(n,e))return{priority:t-i-1,name:n.name,type:e.type,providerToCheck:n,provider:r.a[n.name]}}return{}}});var h=n,d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},p=void 0;d(u,{shaka:function(){return i.e(5).then(function(){var e=i(124)["default"];return Object(o.a)(e),e}.bind(null,i))["catch"](a.b)},hlsjs:function(){return i.e(6).then(function(){var e=i(125)["default"];return e.setEdition&&e.setEdition(p),Object(o.a)(e),e}.bind(null,i))["catch"](a.b)},flash:function(){return i.e(9).then(function(){var e=i(126)["default"];return Object(o.a)(e),e}.bind(null,i))["catch"](a.b)}}),h.prototype.providerSupports=function(e,t){return p=this.config.edition,e.supports(t,p)},t.a=h},function(e,t,i){"use strict";function n(e){return e.some(function(e){return!!e.drm||e.sources.some(function(e){return!!e.drm})})}function s(n){return new u.a(function(e,t){var i=void 0;try{i=new window.MSMediaKeys(n)}catch(n){return void t(n)}e(i)})}function o(e){if(f)return f;if(r()&&Object(c.a)(e)("drm")){var i=s;return navigator.requestMediaKeySystemAccess&&(i=navigator.requestMediaKeySystemAccess.bind(navigator)),h.forEach(function(e){var t=i(e.keyName,[{initDataTypes:["cenc"],videoCapabilities:[{contentType:'video/mp4;codecs="avc1.4d401e"'}],audioCapabilities:[{contentType:'audio/mp4;codecs="mp4a.40.2"'}]}]).then(function(){p[e.configName]=!0})["catch"](function(){p[e.configName]=!1});d.push(t)}),f=u.a.all(d)}return u.b}function r(){return!!navigator.requestMediaKeySystemAccess&&!!MediaKeySystemAccess.prototype.getConfiguration||!!window.MSMediaKeys}function a(e){return p[e]}function l(e){if(f)return Object.keys(e).some(function(e){return a(e)})}t.b=n,t.d=o,t.c=a,t.a=l;var c=i(14),u=i(1),h=[{configName:"clearkey",keyName:"org.w3.clearkey"},{configName:"widevine",keyName:"com.widevine.alpha"},{configName:"playready",keyName:"com.microsoft.playready"}],d=[],p={},f=void 0},function(e,t,i){"use strict";function n(e){return null!==v.match(e)}function s(e){return function(){return n(e)}}function o(){var e=g();return!!(e&&18<=e)}function r(){return n(/\sEdge\/\d+/i)}function a(){return n(/msie/i)}function l(){return n(/\s(?:Chrome|CriOS)\//i)&&!r()&&!n(/UCBrowser/i)}function c(){return r()||_()||a()}function u(){return n(/safari/i)&&!n(/(?:Chrome|CriOS|chromium|android|phantom)/i)}function h(){return n(/iP(hone|ad|od)/i)}function d(){return!(n(/chrome\/[123456789]/i)&&!n(/chrome\/18/i)&&!y())&&p()}function p(){return n(/Android/i)&&!n(/Windows Phone/i)}function f(){return h()||p()||n(/Windows Phone/i)}function m(){try{return window.self!==window.top}catch(e){return!0}}function g(){if(p())return 0;var e,t=navigator.plugins;if(t&&(e=t["Shockwave Flash"])&&e.description)return parseFloat(e.description.replace(/\D+(\d+\.?\d*).*/,"$1"));if(void 0===window.ActiveXObject)return 0;try{if(e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseFloat(e.GetVariable("$version").split(" ")[1].replace(/\s*,\s*/,"."))}catch(e){return 0}return e}t.h=o,i.d(t,"f",function(){return y}),i.d(t,"l",function(){return w}),i.d(t,"k",function(){return b}),i.d(t,"p",function(){return x}),i.d(t,"g",function(){return S}),t.e=r,t.n=a,t.d=l,t.i=c,t.q=u,t.j=h,t.c=d,t.b=p,t.o=f,t.m=m,t.a=g;var v=navigator.userAgent,y=s(/gecko\//i),_=s(/trident\/.+rv:\s*11/i),w=s(/iP(hone|od)/i),b=s(/iPad/i),x=s(/Macintosh/i),S=s(/FBAV/i)},function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=window.atob},function(e,t){"use strict";var i=document.createElement("video");t.a=i},function(e,t){"use strict";var i={};t.a=i},function(e,t,i){"use strict";var l=i(35),c=i(14),u=i(31),h="invalid",n=function(e){var o=void 0,r=void 0,a=void 0;this.edition=function(){return a&&a.getTime()<(new Date).getTime()?h:o},this.token=function(){return r},this.expiration=function(){return a},function(e,t){try{var i=Object(l.a)(e,Object(u.a)(t)).split("/");"pro"===(o=i[0])&&(o="premium");var n=Object(c.a)(o);if(2<i.length&&n("setup")){r=i[1];var s=parseInt(i[2]);0<s&&(a=new Date).setTime(s)}else o=h}catch(e){o=h}}(e||"","NDh2aU1Cb0NHRG5hcDFRZQ==")};t.a=n},function(e,t,i){"use strict";function h(e){return unescape(encodeURIComponent(e))}function d(e){try{return decodeURIComponent(escape(e))}catch(t){return e}}function p(e){for(var t=new Array(Math.ceil(e.length/4)),i=0;i<t.length;i++)t[i]=e.charCodeAt(4*i)+(e.charCodeAt(4*i+1)<<8)+(e.charCodeAt(4*i+2)<<16)+(e.charCodeAt(4*i+3)<<24);return t}function f(e){for(var t=new Array(e.length),i=0;i<e.length;i++)t[i]=String.fromCharCode(255&e[i],e[i]>>>8&255,e[i]>>>16&255,e[i]>>>24&255);return t.join("")}function n(e,t){if(e=String(e),t=String(t),0===e.length)return"";for(var i=p(Object(m.a)(e)),n=p(h(t).slice(0,16)),s=i.length,o=i[s-1],r=i[0],a=void 0,l=void 0,c=2654435769*Math.floor(6+52/s);c;){l=c>>>2&3;for(var u=s-1;0<=u;u--)a=((o=i[0<u?u-1:s-1])>>>5^r<<2)+(r>>>3^o<<4)^(c^r)+(n[3&u^l]^o),r=i[u]-=a;c-=2654435769}return d(f(i).replace(/\0+$/,""))}t.a=n;var m=i(31)},function(e,t,i){"use strict";var n=i(11),s=i(2),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=function(e){if(e&&e.file){var t=o({},{"default":!1},e);t.file=Object(s.h)(""+t.file);var i=/^[^\/]+\/(?:x-)?([^\/]+)$/;if(i.test(t.type)&&(t.mimeType=t.type,t.type=t.type.replace(i,"$1")),Object(n.isYouTube)(t.file)?t.type="youtube":Object(n.isRtmp)(t.file)?t.type="rtmp":t.type||(t.type=Object(s.a)(t.file)),t.type){switch(t.type){case"m3u8":case"vnd.apple.mpegurl":t.type="hls";break;case"dash+xml":t.type="dash";break;case"m4a":t.type="aac";break;case"smil":t.type="rtmp"}return Object.keys(t).forEach(function(e){""===t[e]&&delete t[e]}),t}}};t.a=r},function(h,e,t){"use strict";function d(e){for(var t=[],i=0;i<Object(p.c)(e);i++){var n=e.childNodes[i];"jwplayer"===n.prefix&&"mediatypes"===Object(p.b)(n).toLowerCase()&&t.push(Object(p.d)(n))}return t}function i(e){var t=[];t.feedData={};for(var i=0;i<Object(p.c)(e);i++){var n=Object(p.a)(e,i);if("channel"===Object(p.b)(n).toLowerCase())for(var s=0;s<Object(p.c)(n);s++){var o=Object(p.a)(n,s),r=Object(p.b)(o).toLowerCase();"item"===r?t.push(a(o)):r&&(t.feedData[r]=Object(p.d)(o))}}return t}function a(e){for(var t={},i=0;i<e.childNodes.length;i++){var n=e.childNodes[i],s=Object(p.b)(n);if(s)switch(s.toLowerCase()){case"enclosure":t.file=Object(f.i)(n,"url");break;case"title":t.title=Object(p.d)(n);break;case"guid":t.mediaid=Object(p.d)(n);break;case"pubdate":t.date=Object(p.d)(n);break;case"description":t.description=Object(p.d)(n);break;case"link":t.link=Object(p.d)(n);break;case"category":t.tags?t.tags+=Object(p.d)(n):t.tags=Object(p.d)(n)}}return new l.a(r(e,o(e,t)))}var p=t(13),f=t(2),m=t(6),o=function h(e,t){for(var i=[],n=0;n<Object(p.c)(e);n++){var s=e.childNodes[n];if("media"===s.prefix){if(!Object(p.b)(s))continue;switch(Object(p.b)(s).toLowerCase()){case"content":if(Object(f.i)(s,"duration")&&(t.duration=m.a.seconds(Object(f.i)(s,"duration"))),Object(f.i)(s,"url")){t.sources||(t.sources=[]);var o={file:Object(f.i)(s,"url"),type:Object(f.i)(s,"type"),width:Object(f.i)(s,"width"),label:Object(f.i)(s,"label")},r=d(s);r.length&&(o.mediaTypes=r),t.sources.push(o)}0<Object(p.c)(s)&&(t=h(s,t));break;case"title":t.title=Object(p.d)(s);break;case"description":t.description=Object(p.d)(s);break;case"guid":t.mediaid=Object(p.d)(s);break;case"thumbnail":t.image||(t.image=Object(f.i)(s,"url"));break;case"group":h(s,t);break;case"subtitle":var a={};a.file=Object(f.i)(s,"url"),a.kind="captions",0<Object(f.i)(s,"lang").length&&(a.label=(l=Object(f.i)(s,"lang"),c=void 0,(c={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"})[l]?c[l]:l)),i.push(a)}}}var l,c;t.hasOwnProperty("tracks")||(t.tracks=[]);for(var u=0;u<i.length;u++)t.tracks.push(i[u]);return t},r=function(e,t){for(var i="default",n=[],s=[],o=0;o<e.childNodes.length;o++){var r=e.childNodes[o];if("jwplayer"===r.prefix){var a=Object(p.b)(r);"source"===a?(delete t.sources,n.push({file:Object(f.i)(r,"file"),"default":Object(f.i)(r,i),label:Object(f.i)(r,"label"),type:Object(f.i)(r,"type")})):"track"===a?(delete t.tracks,s.push({file:Object(f.i)(r,"file"),"default":Object(f.i)(r,i),kind:Object(f.i)(r,"kind"),label:Object(f.i)(r,"label")})):(t[a]=m.a.serialize(Object(p.d)(r)),"file"===a&&t.sources&&delete t.sources)}t.file||(t.file=t.link)}if(n.length){t.sources=[];for(var l=0;l<n.length;l++)0<n[l].file.length&&(n[l][i]="true"===n[l][i],n[l].label.length||delete n[l].label,t.sources.push(n[l]))}if(s.length){t.tracks=[];for(var c=0;c<s.length;c++)0<s[c].file.length&&(s[c][i]="true"===s[c][i],s[c].kind=s[c].kind.length?s[c].kind:"captions",s[c].label.length||delete s[c].label,t.tracks.push(s[c]))}return t},l=t(23);e.a=i},function(e,t,i){"use strict";function S(e,t){return/touch/.test(e.type)?(e.originalEvent||e).changedTouches[0]["page"+t]:e["page"+t]}function C(e){var t=e||window.event;return e instanceof MouseEvent&&("which"in t?3===t.which:"button"in t&&2===t.button)}function E(e){var t=e||window.event;return t instanceof KeyboardEvent&&13===t.keyCode&&(e.stopPropagation(),!0)}function T(e,t,i){var n=void 0;return n=t instanceof MouseEvent||!t.touches&&!t.changedTouches?t:t.touches&&t.touches.length?t.touches[0]:t.changedTouches[0],{type:e,sourceEvent:t,target:t.target,currentTarget:i,pageX:n.pageX,pageY:n.pageY}}function k(e){(e instanceof MouseEvent||e instanceof r)&&(e.preventManipulation&&e.preventManipulation(),e.preventDefault&&e.preventDefault())}function n(e){return l&&e instanceof r||N&&e instanceof a&&"touch"===e.pointerType?"touch":"mouse"}t.b=n;var R=i(8),M=i(5),s=i(7),P=i(21),o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},r=window.TouchEvent,a=window.PointerEvent,N="PointerEvent"in window&&!R.OS.android,l="ontouchstart"in window,D=!(N||l&&R.OS.mobile),I=R.Browser.firefox&&R.OS.mac,c=function(s,o){function e(e){"touch"!==e.pointerType&&h(M.S,e)}function t(e){"touch"!==e.pointerType&&h(M.P,e)}function i(e){if("touch"!==e.pointerType&&"x"in e){var t=e.x,i=e.y,n=document.elementFromPoint(t,i);s.contains(n)||h(M.R,e)}}function n(e){h(M.R,e)}function r(e){E(e)&&h(M.q,e)}function a(e,t,i){e.removeEventListener(t,i),e.addEventListener(t,i)}function l(e){y=e.target,f=S(e,"X"),m=S(e,"Y"),C(e)||("pointerdown"===e.type&&e.isPrimary?(o.preventScrolling&&(_=e.pointerId,s.setPointerCapture(_)),a(s,"pointermove",c,w),a(s,"pointercancel",u),"mouse"===e.pointerType&&"OBJECT"===y.nodeName?a(document,"mouseup",b):a(s,"pointerup",u)):"mousedown"===e.type?(a(document,"mousemove",c,w),I&&"object"===e.target.nodeName.toLowerCase()?a(s,"click",u):a(document,"mouseup",b)):"touchstart"===e.type&&(a(y,"touchmove",c,w),a(y,"touchcancel",u),a(y,"touchend",u)),o.preventScrolling&&k(e))}function c(e){if(p)h(M.n,e);else{var t=S(e,"X"),i=S(e,"Y"),n=t-f,s=i-m;36<n*n+s*s&&(h(M.p,e),p=!0,h(M.n,e))}o.preventScrolling&&k(e)}function u(e){var t="pointerup"===e.type||"pointercancel"===e.type;t&&o.preventScrolling&&s.releasePointerCapture(_),s.removeEventListener("pointermove",c),s.removeEventListener("pointercancel",u),s.removeEventListener("pointerup",u),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",b),y&&(y.removeEventListener("touchmove",c),y.removeEventListener("touchcancel",u),y.removeEventListener("touchend",u)),p?h(M.o,e):o.directSelect&&e.target!==s||-1!==e.type.indexOf("cancel")||("mouseup"===e.type||"click"===e.type||t&&"mouse"===e.pointerType?h(M.i,e):(h(M._11,e),"touchend"===e.type&&k(e))),y=null,p=!1}function h(e,t){var i=void 0;if(o.enableDoubleTap&&(e===M.i||e===M._11))if(Object(P.a)()-g<v){var n=e===M.i?M.l:M.m;i=T(n,t,d),x.trigger(n,i),g=0}else g=Object(P.a)();i=T(e,t,d),x.trigger(e,i)}var d=s,p=!1,f=0,m=0,g=0,v=300,y=void 0,_=void 0;o=o||{};var w=!!R.Features.passiveEvents&&{passive:!o.preventScrolling},b=function(e){return u(e)};N?(s.addEventListener("pointerdown",l,w),o.useHover&&(s.addEventListener("pointerover",e),s.addEventListener("pointerout",i)),o.useMove&&s.addEventListener("pointermove",t)):(D&&(s.addEventListener("mousedown",l,w),o.useHover&&(s.addEventListener("mouseover",e),s.addEventListener("mouseout",n)),o.useMove&&s.addEventListener("mousemove",t)),s.addEventListener("touchstart",l,w)),s.addEventListener("keydown",r),o.useFocus&&(s.addEventListener("focus",e),s.addEventListener("blur",n));var x=this;return this.triggerEvent=h,this.destroy=function(){this.off(),s.removeEventListener("touchstart",l),s.removeEventListener("mousedown",l),s.removeEventListener("keydown",r),y&&(y.removeEventListener("touchmove",c),y.removeEventListener("touchcancel",u),y.removeEventListener("touchend",u),y=null),N&&(o.preventScrolling&&s.releasePointerCapture(_),s.removeEventListener("pointerover",e),s.removeEventListener("pointerdown",l),s.removeEventListener("pointermove",c),s.removeEventListener("pointermove",t),s.removeEventListener("pointercancel",u),s.removeEventListener("pointerout",i),s.removeEventListener("pointerup",u)),s.removeEventListener("click",u),s.removeEventListener("mouseover",e),s.removeEventListener("mousemove",t),s.removeEventListener("mouseout",n),document.removeEventListener("mousemove",c),document.removeEventListener("mouseup",b),o.useFocus&&(s.removeEventListener("focus",e),s.removeEventListener("blur",n))},this};o(c.prototype,s.a),t.a=c},function(e,t,i){var n;void 0!==(n=function(e,t,i){function n(e,t){o(t,r(e))}function s(e,t){var i=p[e];if(i)if(t){var n=i[t];if(n)for(var s=0;s<n.parts.length;s+=1)n.parts[s]()}else{for(var o=Object.keys(i),r=0;r<o.length;r+=1)for(var a=i[o[r]],l=0;l<a.parts.length;l+=1)a.parts[l]();delete p[e]}}function o(e,t){for(var i=0;i<t.length;i++){var n=t[i],s=(p[e]||{})[n.id];if(s){for(var o=0;o<s.parts.length;o++)s.parts[o](n.parts[o]);for(;o<n.parts.length;o++)s.parts.push(c(e,n.parts[o]))}else{var r=[];for(o=0;o<n.parts.length;o++)r.push(c(e,n.parts[o]));p[e]=p[e]||{},p[e][n.id]={id:n.id,parts:r}}}}function r(e){for(var t=[],i={},n=0;n<e.length;n++){var s=e[n],o=s[0],r={css:s[1],media:s[2]};i[o]?i[o].parts.push(r):t.push(i[o]={id:o,parts:[r]})}return t}function a(e){m().appendChild(e)}function l(e){var t=document.createElement("style");return t.type="text/css",t.setAttribute("data-jwplayer-id",e),a(t),t}function c(e,t){var i,n,s,o=f[e];o||(o=f[e]={element:l(e),counter:0});var r=o.counter++;return i=o.element,s=function(){u(i,r,"")},(n=function(e){u(i,r,e)})(t.css),function(e){if(e){if(e.css===t.css&&e.media===t.media)return;n((t=e).css)}else s()}}function u(e,t,i){if(e.styleSheet)e.styleSheet.cssText=v(t,i);else{var n=document.createTextNode(i),s=e.childNodes[t];s?e.replaceChild(n,s):e.appendChild(n)}}var h,d,p={},f={},m=(h=function(){return document.head||document.getElementsByTagName("head")[0]},function(){return void 0===d&&(d=h.apply(this,arguments)),d});i.exports={style:n,clear:s};var g,v=(g=[],function(e,t){return g[e]=t,g.filter(Boolean).join("\n")})}.call(t,i,t,e))&&(e.exports=n)},function(e,t){"use strict";function i(n,e,s){function o(){for(;0<r.length;){var e=r.shift(),t=e.command,i=e.args;(a[t]||n[t]).apply(n,i)}}var r=[],a={};e.forEach(function(t){var i=n[t];a[t]=i,n[t]=function(){var e=Array.prototype.slice.call(arguments,0);s()?r.push({command:t,args:e}):(o(),i&&i.apply(this,e))}}),Object.defineProperty(this,"queue",{enumerable:!0,get:function(){return r}}),this.flush=o,this.empty=function(){r.length=0},this.off=function(){e.forEach(function(e){var t=a[e];t&&(n[e]=t,delete a[e])})},this.destroy=function(){this.off(),this.empty()}}t.a=i},function(e,t,i){"use strict";function n(e,t){var i=t.indexOf(":")+1,n=0<i?t.substr(0,i):"Error loading player:",s=t.substr(i),o=c(e.get("id"),n,s),r=e.get("width"),a=e.get("height"),l=Object(u.e)(o);return Object(h.d)(l,{width:0<r.toString().indexOf("%")?r:r+"px",height:0<a.toString().indexOf("%")?a:a+"px"}),l}var c=function(e,t,i){return'<div id="'+e+'" class="jw-error jw-reset"><div class="jw-error-msg jw-reset"><style>[id="'+e+'"].jw-error{position:relative;background:#000;overflow:hidden;position:relative}[id="'+e+'"] .jw-error-msg{top:50%;left:50%;position:absolute;align-items:center;display:flex;transform:translate(-50%,-50%)}[id="'+e+'"] .jw-title{color:#FFF;position:static}[id="'+e+'"] .jw-title-primary,[id="'+e+'"] .jw-title-secondary{font:600 14px/1.35 Arial,Helvetica,sans-serif}[id="'+e+'"] .jw-title-secondary{font-weight:400}</style><div class="jw-icon jw-reset"></div><div class="jw-title jw-reset"><div class="jw-title-primary jw-reset">'+(1<arguments.length&&void 0!==t?arguments[1]:"")+'</div><div class="jw-title-secondary jw-reset">'+(2<arguments.length&&void 0!==i?arguments[2]:"")+"</div></div></div></div>"},u=i(25),h=i(26);t.a=n},function(e,t,i){"use strict";i.d(t,"c",function(){return n}),i.d(t,"b",function(){return s}),i.d(t,"a",function(){return o});var n=4,s=2,o=1},function(e,t,i){"use strict";var n=i(7),s={on:n.a.on,once:n.a.once,off:n.a.off,trigger:n.a.trigger,get:function(e){return this.attributes=this.attributes||{},this.attributes[e]},set:function(e,t){if(this.attributes=this.attributes||{},this.attributes[e]!==t){var i=this.attributes[e];this.attributes[e]=t,this.trigger("change:"+e,this,t,i)}},clone:function(){var e={},t=this.attributes;if(t)for(var i in t)e[i]=t[i];return e},change:function(e,t,i){this.on("change:"+e,t,i);var n=this.get(e);return t.call(i,this,n,n),this}};t.a=s},function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return s});var n={audioMode:!1,flashBlocked:!1,item:0,itemMeta:{},playbackRate:1,playRejected:!1,state:i(5)._6,itemReady:!1},s={position:0,duration:0,buffer:0,currentTime:0}},function(e,t,i){"use strict";var n=i(5),s=function(){},o=function(){return!1},r={name:"default"},a={supports:o,play:s,pause:s,preload:s,load:s,stop:s,volume:s,mute:s,seek:s,resize:s,remove:s,destroy:s,eventsOn_:s,eventsOff_:s,setVisibility:s,setFullscreen:s,getFullscreen:o,getContainer:s,setContainer:o,getName:function(){return r},getQualityLevels:s,getCurrentQuality:s,setCurrentQuality:s,getAudioTracks:s,getCurrentAudioTrack:s,setCurrentAudioTrack:s,setPlaybackRate:s,getPlaybackRate:function(){return 1},checkComplete:s,setControls:s,attachMedia:s,detachMedia:s,init:s,setState:function(e){this.state=e,this.trigger(n.U,{newstate:e})},sendMediaType:function(e){var t=e[0].type,i="oga"===t||"aac"===t||"mp3"===t||"mpeg"===t||"vorbis"===t;this.trigger(n.M,{mediaType:i?"audio":"video"})}};t.a=a},function(e,t,i){"use strict";function n(e){if(!1===Object(s.a)(e))return!1;if(!r.a.canPlayType)return!1;var t=e.file,i=e.type;if(Object(o.isRtmp)(t,i))return!1;var n=e.mimeType||a[i];return!!n&&!!r.a.canPlayType(n)}t.b=n;var s=i(53),o=i(11),r=i(32),a={aac:"audio/mp4",mp4:"video/mp4",f4v:"video/mp4",m4v:"video/mp4",mov:"video/mp4",mp3:"audio/mpeg",mpeg:"audio/mpeg",ogv:"video/ogg",ogg:"video/ogg",oga:"video/ogg",vorbis:"video/ogg",webm:"video/webm",f4a:"video/aac",m3u8:"application/vnd.apple.mpegurl",m3u:"application/vnd.apple.mpegurl",hls:"application/vnd.apple.mpegurl"},l=[{name:"html5",supports:n}];t.a=l},function(e,t,c){"use strict";function u(t){Object.keys(t).forEach(function(e){"id"!==e&&(t[e]=Object(k.serialize)(t[e]))})}function h(e){return e.slice&&"px"===e.slice(-2)&&(e=e.slice(0,-2)),e}function d(e,t){if(-1===t.toString().indexOf("%"))return 0;if("string"!=typeof e||!e)return 0;if(/^\d*\.?\d+%$/.test(e))return e;var i=e.indexOf(":");if(-1===i)return 0;var n=parseFloat(e.substr(0,i)),s=parseFloat(e.substr(i+1));return n<=0||s<=0?0:s/n*100+"%"}function l(e){var t=e.flashplayer;return t||(t=(Object(T.getScriptPath)("jwplayer.js")||e.base)+"jwplayer.flash.swf"),"http:"===window.location.protocol&&(t=t.replace(/^https/,"http")),t}function p(e
){var t="file:"===window.location.protocol?"https:":"",i={jwpsrv:"//ssl.p.jwpcdn.com/player/v/8.2.0/jwpsrv.js",dai:"//ssl.p.jwpcdn.com/player/plugins/dai/v/0.2.2/dai.js",vast:"//ssl.p.jwpcdn.com/player/plugins/vast/v/8.2.0/vast.js",googima:"//ssl.p.jwpcdn.com/player/plugins/googima/v/8.1.11/googima.js",freewheel:"//ssl.p.jwpcdn.com/player/plugins/freewheel/v/2.1.3/freewheel.js",related:"//ssl.p.jwpcdn.com/player/plugins/related/v/6.2.2/related.js",gapro:"//ssl.p.jwpcdn.com/player/plugins/gapro/v/2.1.3/gapro.js"}[e];return i?t+i:""}function f(e,t,i){t&&delete(e[t.client||p(i)]=t).client}function m(e){var t=I({},e.plugins),i=e.edition,n=Object(D.a)(i);if(n("ads")){var s=I({},e.advertising),o=s.client;o&&delete(t[p(o)||o]=s).client}if(n("jwpsrv")){var r=e.analytics;r!==Object(r)&&(r={}),f(t,r,"jwpsrv")}f(t,e.ga,"gapro");var a=e.related,l=a===Object(a)&&n("discovery");if(!1!==e.controls||l){var c=!1!==e.visualplaylist||l;l||(a={disableRelated:!0}),a.showButton=c,f(t,a,"related")}return t}function i(n){var s=n.get("playlist");if("string"==typeof s)return new H.a(function(i,t){var e=new F.a;e.on(A.X,function(e){var t=e.playlist;delete e.playlist,o(n,t,e),i()}),e.on(A.r,function(e){o(n,[],{}),t(new Error("Error loading playlist: "+e.message))}),e.load(s)});var e=n.get("feedData")||{};return o(n,s,e),H.b}function o(e,t,i){var n=e.attributes;n.playlist=Object(j.a)(t),n.feedData=i}function n(o){return i(o).then(function(){if(!a(o)){var e=Object(j.b)(o.get("playlist"),o);Object(j.d)(e);var t=o.getProviders(),i=t.choose(e[0].sources[0]),n=i.name,s=i.provider;if(!L.a.html5||!s||"html5"!==n)return t.load(n)}})}function s(e){for(var t=document.styleSheets,i=0,n=t.length;i<n;i++)if(t[i].href===e)return!0;return!1}function r(e){var t=e.get("skin")?e.get("skin").url:void 0;return"string"!=typeof t||s(t)?H.b:new z.a(t,!0).load()["catch"](function(e){return e})}function a(e){return e.attributes._destroyed}function g(e){return i(e).then(function(){return e.get("drm")||Object(B.b)(e.get("playlist"))?Object(B.d)(e.get("edition")):H.b})}function v(e){return g(e).then(function(){return $(e)})}function y(e,t){this.namespace=e,this.items=t}function _(){for(var e=te.c,i=[],n=[],t=0;t<e;t++){var s=b();i.push(s),n.push(s)}var o=n.shift(),r=n.shift();return{prime:function(){i.forEach(w)},getPrimedElement:function(){return n.length?n.shift():null},getAdElement:function(){return o},getTestElement:function(){return r},clean:function(e){if(e.src){e.removeAttribute("src");try{e.load()}catch(e){}}},recycle:function(t){t&&!n.some(function(e){return e===t})&&(this.clean(t),n.push(t))},syncVolume:function(t){i.forEach(function(e){e.volume=t/100})},syncMute:function(t){i.forEach(function(e){e.muted=t})}}}function w(e){if(e.src){if(ie.OS.android&&!e.parentNode){var t=e.played;(!t||t&&!t.length)&&e.load()}}else e.load()}function b(){var e=document.createElement("video");return e.className="jw-video jw-reset",e.setAttribute("disableRemotePlayback",""),e.setAttribute("webkit-playsinline",""),e.setAttribute("playsinline",""),e}function x(o,r){H.b.then(function(){var e=r.message,t=r.code,i=Object(ee.a)(o,e);ee.a.cloneIcon&&i.querySelector(".jw-icon").appendChild(ee.a.cloneIcon("error")),S(o,i);var n={message:e,code:t,error:r},s=o._model||o.modelShim;s.set("errorEvent",n),s.set("state",A._5),o.trigger(A._2,n)})}function S(e,t){if(!document.body.contains(e.currentContainer)){var i=document.getElementById(e.get("id"));i&&(e.currentContainer=i)}e.currentContainer.parentElement&&e.currentContainer.parentElement.replaceChild(t,e.currentContainer),e.currentContainer=t}var C=c(40),E=c(0),T=c(16),k=c(12),R=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},M={autostart:!1,castAvailable:!1,controls:!0,defaultPlaybackRate:1,displaydescription:!0,displaytitle:!0,height:360,liveTimeout:null,localization:{player:"Video Player",play:"Play",playback:"Start Playback",pause:"Pause",volume:"Volume",prev:"Previous",next:"Next",cast:"Chromecast",airplay:"AirPlay",fullscreen:"Fullscreen",playlist:"Playlist",hd:"Quality",cc:"Closed Captions",audioTracks:"Audio Tracks",playbackRates:"Playback Rates",replay:"Replay",buffer:"Loading",more:"More",liveBroadcast:"Live",loadingAd:"Loading ad",rewind:"Rewind 10 Seconds",nextUp:"Next Up",nextUpClose:"Next Up Close",related:"More Videos",close:"Close",settings:"Settings",unmute:"Unmute",copied:"Copied"},mute:!1,nextUpDisplay:!0,playbackRateControls:!1,playbackRates:[.5,1,1.25,1.5,2],renderCaptionsNatively:!1,repeat:!1,stretching:"uniform",volume:90,width:640},P=function(e,t){var i=R({},(window.jwplayer||{}).defaults,t,e);u(i),i.localization=R({},M.localization,i.localization);var n=R({},M,i);"."===n.base&&(n.base=Object(T.getScriptPath)("jwplayer.js")),n.base=(n.base||Object(T.loadFrom)()).replace(/\/?$/,"/"),c.p=n.base,n.width=h(n.width),n.height=h(n.height),n.aspectratio=d(n.aspectratio,n.width);var s=n.playbackRateControls;if(s){var o=n.playbackRates;Array.isArray(s)&&(o=s),(o=o.filter(function(e){return E.c.isNumber(e)&&.25<=e&&e<=4}).map(function(e){return Math.round(4*e)/4})).indexOf(1)<0&&o.push(1),o.sort(),n.playbackRateControls=!0,n.playbackRates=o}(!n.playbackRateControls||n.playbackRates.indexOf(n.defaultPlaybackRate)<0)&&(n.defaultPlaybackRate=1),n.playbackRate=n.defaultPlaybackRate,n.aspectratio||delete n.aspectratio;var r=n.playlist;if(r)Array.isArray(r.playlist)&&(n.feedData=r,n.playlist=r.playlist);else{var a=E.c.pick(n,["title","description","type","mediaid","image","file","sources","tracks","preload","duration"]);n.playlist=[a]}n.qualityLabels=n.qualityLabels||n.hlslabels,delete n.duration;var l=n.liveTimeout;return null!==l&&(Object(E.a)(l)||!Object(E.b)(l)?l=null:0!==l&&(l=Math.max(30,l)),n.liveTimeout=l),n},N=c(34),D=c(14),I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},O=function(e,t){var i=P(e,t),n=i.key||window.jwplayer&&window.jwplayer.key,s=new N.a(n).edition();if(i.key=n,i.edition=s,i.error=null,"unlimited"===s){var o=Object(T.getScriptPath)("jwplayer.js");if(!o)throw new Error("Error setting up player: Could not locate jwplayer.js script tag");c.p=o}if("invalid"===s){var r=void 0===n?"Missing":"Invalid";i.error=new Error("Error setting up player: "+r+" license key")}i.flashplayer=l(i),i.plugins=m(i);var a=i.ab;return a&&Object.keys(a.tests).forEach(function(e){a.tests[e].forEach(function(e){e.addConfig&&e.addConfig(i,e.selection)})}),i},L=c(9),A=c(5),H=c(1),F=c(49),j=c(50),z=c(24),$=function(e){return a(e)?H.a.reject():H.a.all([n(e),r(e)])},B=c(29),W=c(19),U=function(i){var s=void 0;this.start=function(e){var n=H.a.all([Object(L.c)(i),v(i),Object(W.a)(i,e)]),t=new H.a(function(e,t){s=setTimeout(function(){t(new Error("Setup Timeout Error: Setup took longer than 30 seconds to complete."))},3e4);var i=function(){clearTimeout(s),e()};n.then(i)["catch"](i)});return H.a.race([n,t])},this.destroy=function(){clearTimeout(s),i=null}},V=c(28),q=c(22),Y=c(15),G=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},X={removeItem:function(){}};try{X=window.localStorage||X}catch(e){}G(y.prototype,{getAllItems:function(){var n=this;return this.items.reduce(function(e,t){var i=X[n.namespace+"."+t];return i&&(e[t]=Object(k.serialize)(i)),e},{})},track:function(e){var n=this;this.items.forEach(function(i){e.on("change:"+i,function(e,t){try{X[n.namespace+"."+i]=t}catch(e){Y.a.debug&&console.error(e)}})})},clear:function(){var t=this;this.items.forEach(function(e){X.removeItem(t.namespace+"."+e)})}});var Z=y,K=c(43),Q=c(44),J=c(7),ee=c(41),te=c(42),ie=c(8),ne=c(51);t.b=S;var se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},oe=function(){};se(oe.prototype,K.a);var re=function(e){this._events={},this.modelShim=new oe,this.modelShim._qoeItem=new q.a,this.mediaShim={},this.setup=new U(this.modelShim),this.currentContainer=this.originalContainer=e,this.apiQueue=new C.a(this,["load","play","pause","seek","stop","playlistItem","playlistNext","playlistPrev","next","setConfig","setCurrentAudioTrack","setCurrentCaptions","setCurrentQuality","setFullscreen","addButton","removeButton","castToggle","setMute","setVolume","setPlaybackRate","setCues","resize","setCaptions","setControls"],function(){return!0})};se(re.prototype,{on:J.a.on,once:J.a.once,off:J.a.off,trigger:J.a.trigger,init:function(e,o){var r=this,t=this.modelShim,a=new Z("jwplayer",["volume","mute","captionLabel","qualityLabel"]),i=a&&a.getAllItems();t.attributes=t.attributes||{},se(this.mediaShim,Q.a);var n=e,s=O(se({},e),i);s.id=o.id,s.setupConfig=n,se(t.attributes,s,Q.b),t.getProviders=function(){return new V.a(s)},t.setProvider=function(){};var l=_();return ie.Features.backgroundLoading||(l=Object(ne.a)(l.getPrimedElement(),l)),l.prime(),this.setup.start(o).then(function(e){var t=e[0];if(r.setup){var i=r.modelShim.clone();if(i.error instanceof Error)throw i.error;var n=r.apiQueue.queue.slice(0);r.apiQueue.destroy(),se(r,t.prototype),r.setup(i,o,r.originalContainer,r._events,n,l);var s=r._model;return a.track(s),r.updatePlaylist(s.get("playlist"),s.get("feedData"))}}).then(function(){r.setup&&r.playerReady()})["catch"](function(e){r.setup&&x(r,e)})},playerDestroy:function(){this.apiQueue&&this.apiQueue.destroy(),this.setup&&this.setup.destroy(),this.off(),this._events=this._model=this.originalContainer=this.apiQueue=this.setup=null},getContainer:function(){return this.currentContainer},get:function(e){return e in this.mediaShim?this.mediaShim[e]:this.modelShim.get(e)},getItemQoe:function(){return this.modelShim._qoeItem},getConfig:function(){return se({},this.modelShim.attributes,this.mediaShim)},getCurrentCaptions:function(){return this.get("captionsIndex")},getWidth:function(){return this.get("containerWidth")},getHeight:function(){return this.get("containerHeight")},getMute:function(){return this.get("mute")},getProvider:function(){return this.get("provider")},getState:function(){return this.get("state")},getAudioTracks:function(){return null},getCaptionsList:function(){return null},getQualityLevels:function(){return null},getVisualQuality:function(){return null},getCurrentQuality:function(){return-1},getCurrentAudioTrack:function(){return-1},getSafeRegion:function(){return{x:0,y:0,width:0,height:0}},isBeforeComplete:function(){return!1},isBeforePlay:function(){return!1},createInstream:function(){return null},skipAd:function(){},attachMedia:function(){},detachMedia:function(){return null}}),t.a=re},function(t,e,i){"use strict";function n(){return o||(o=i.e(4).then(function(){var e=i(3)["default"];return t.controls=e}.bind(null,i))["catch"](function(){o=null,Object(s.b)()})),o}i.d(e,"b",function(){return t}),e.a=n;var s=i(9),o=null;t={}},function(e,t,i){"use strict";var c=i(5),u=i(13),h=i(37),n=i(6),s=i(7),d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},o=function(){function t(e){try{var t,i=e.responseXML?e.responseXML.childNodes:null,n="";if(i){for(var s=0;s<i.length&&8===(n=i[s]).nodeType;s++);if("xml"===Object(u.b)(n)&&(n=n.nextSibling),"rss"===Object(u.b)(n)){var o=Object(h.a)(n);t=d({playlist:o},o.feedData)}}if(!t)try{var r=JSON.parse(e.responseText);if(Array.isArray(r))t={playlist:r};else{if(!Array.isArray(r.playlist))throw Error;t=r}}catch(e){throw new Error("Not a valid RSS/JSON feed")}l.trigger(c.X,t)}catch(e){a(e.message)}}function a(e){l.trigger(c.r,{message:e||"Error loading file"})}var l=d(this,s.a);this.load=function(e){n.a.ajax(e,t,a)},this.destroy=function(){this.off()}};t.a=o},function(e,t,i){"use strict";function l(e,t){return r[e]?e:r[t]?t:"metadata"}function n(e,t,i){var n=[],s=t.getProviders(),o=t.get("preload"),r=f({},i);return delete r.playlist,e.forEach(function(e){(e=f({},e)).preload=l(e.preload,o),e.allSources=a(e,t),e.sources=c(e.allSources,s),e.sources.length&&(e.file=e.sources[0].file,i&&(e.feedData=r),n.push(e))}),n}function s(e){if(!Array.isArray(e)||0===e.length)throw new Error("No playable sources found")}function a(i,e){var t=i.sources,n=e.get("androidhls"),s=e.get("safarihlsjs"),o=i.drm||e.get("drm"),r=u(i.withCredentials,e.get("withCredentials")),a=!1!==e.get("hlsjsdefault");return t.map(function(e){if(e!==Object(e))return null;null!=n&&(e.androidhls=n),null!=s&&(e.safarihlsjs=s),null!=s&&(e.safarihlsjs=s),(e.drm||o)&&(e.drm=e.drm||o),e.preload=l(e.preload,i.preload);var t=u(e.withCredentials,r);return void 0!==t&&(e.withCredentials=t),a&&(e.hlsjsdefault=a),Object(d.a)(e)}).filter(function(e){return!!e})}function c(e,t){t&&t.choose||(t=new p.a);var i=o(e,t);if(!i)return[];var n=i.provider,s=i.type;return e.filter(function(e){return e.type===s&&t.providerSupports(n,e)})}function o(e,t){for(var i=0;i<e.length;i++){var n=e[i],s=t.choose(n).providerToCheck;if(s)return{type:n.type,provider:s}}return null}function u(e,t){return void 0===e?t:e}var r={none:!0,metadata:!0,auto:!0},h=i(23),d=i(36),p=i(28);t.b=n,t.d=s,i.d(t,"c",function(){return g});var f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m=function(e){return(Array.isArray(e)?e:[e]).map(h.a)},g=function(e,t){return c(a(e,t),t.getProviders())};t.a=m},function(e,t){"use strict";function i(e,t){return n({},t,{prime:function(){e.src||e.load()},getPrimedElement:function(){return e},clean:function(){t.clean(e)},recycle:function(){t.clean(e)}})}t.a=i;var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t,i){"use strict";function a(e){var t=document.createElement("a"),i=document.createElement("a");t.href=location.href;try{return i.href=e,i.href=i.href,t.protocol+"//"+t.host!=i.protocol+"//"+i.host}catch(e){}return!0}function s(e,t,i,n){p.c.isObject(e)&&(e=(n=e).url);var s,o=f({xhr:null,url:e,withCredentials:!1,retryWithoutCredentials:!1,timeout:6e4,timeoutId:-1,oncomplete:t||m,onerror:i||m,mimeType:n&&!n.responseType?"text/xml":"",requireValidXML:!1,responseType:n&&n.plainText?"text":""},n);if("XDomainRequest"in window&&a(e))(s=o.xhr=new window.XDomainRequest).onload=h(o),s.ontimeout=s.onprogress=m,g=!0;else{if(!("XMLHttpRequest"in window))return void o.onerror("",e);(s=o.xhr=new window.XMLHttpRequest).onreadystatechange=u(o)}var r=c("Error loading file",o);s.onerror=r,"overrideMimeType"in s?o.mimeType&&s.overrideMimeType(o.mimeType):g=!0;try{e=e.replace(/#.*$/,""),s.open("GET",e,!0)}catch(e){return r(e),s}if(o.responseType)try{s.responseType=o.responseType}catch(e){}o.timeout&&(o.timeoutId=setTimeout(function(){l(s),o.onerror("Timeout",e,s)},o.timeout),s.onabort=function(){clearTimeout(o.timeoutId)});try{o.withCredentials&&"withCredentials"in s&&(s.withCredentials=!0),s.send()}catch(e){r(e)}return s}function l(e){e.onload=null,e.onprogress=null,e.onreadystatechange=null,e.onerror=null,"abort"in e&&e.abort()}function c(i,n){return function(e){var t=e.currentTarget||n.xhr;if(clearTimeout(n.timeoutId),n.retryWithoutCredentials&&n.xhr.withCredentials)return l(t),void s(f({},n,{xhr:null,withCredentials:!1,retryWithoutCredentials:!1}));n.onerror(i,n.url,t)}}function u(n){return function(e){var t=e.currentTarget||n.xhr;if(4===t.readyState){var i;if(clearTimeout(n.timeoutId),400<=t.status)return i=404===t.status?"File not found":t.status+"("+t.statusText+")",n.onerror(i,n.url,t);if(200===t.status)return h(n)(e)}}}function h(s){return function(e){var t=e.currentTarget||s.xhr;if(clearTimeout(s.timeoutId),s.responseType){if("json"===s.responseType)return o(t,s)}else{var i,n=t.responseXML;if(n)try{i=n.firstChild}catch(s){}if(n&&i)return r(t,n,s);if(g&&t.responseText&&!n&&(n=Object(d.parseXML)(t.responseText))&&n.firstChild)return r(t,n,s);if(s.requireValidXML)return void s.onerror("Invalid XML",s.url,t)}s.oncomplete(t)}}function o(e,t){if(!e.response||p.c.isString(e.response)&&'"'!==e.responseText.substr(1))try{e=f({},e,{response:JSON.parse(e.responseText)})}catch(i){return void t.onerror("Invalid JSON",t.url,e)}return t.oncomplete(e)}function r(e,t,i){var n=t.documentElement;return i.requireValidXML&&("parsererror"===n.nodeName||n.getElementsByTagName("parsererror").length)?void i.onerror("Invalid XML",i.url,e):(e.responseXML||(e=f({},e,{responseXML:t})),i.oncomplete(e))}t.b=a,t.a=s;var d=i(12),p=i(0),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},m=function(){},g=!1},function(e,t,i){"use strict";function n(e){return"hls"===e.type&&s.OS.android?!1!==e.androidhls&&!s.Browser.firefox&&4.4<=parseFloat(s.OS.version.version):null}t.a=n;var s=i(8)},function(IPa){var HPa;HPa=function(){return this}();try{HPa=HPa||Function("return this")()||eval("this")}catch(IPa){"object"==typeof window&&(HPa=window)}IPa.exports=HPa},function(e,t,i){"use strict";function r(i,e){var t=new y.a(e);return t.on(_._0,function(e){i._qoe.tick("ready"),e.setupTime=i._qoe.between("setup","ready")}),t.on("all",function(e,t){i.trigger(e,t)}),t}function a(e,t){var i=e.plugins;Object.keys(i).forEach(function(e){delete i[e]}),e.off(),t.playerDestroy(),t.getContainer().removeAttribute("data-jwplayer-id")}function l(e){for(var t=c.a.length;t--;)if(c.a[t].uniqueId===e.uniqueId){c.a.splice(t,1);break}}function s(t){var e=++E,i=t.id||"player-"+e,n=new w.a,s={},o=r(this,t);n.tick("init"),t.setAttribute("data-jwplayer-id",i),Object.defineProperties(this,{id:{get:function(){return i}},uniqueId:{get:function(){return e}},plugins:{get:function(){return s}},_qoe:{get:function(){return n}},version:{get:function(){return m.a}},Events:{get:function(){return b.a}},utils:{get:function(){return x.a}},_:{get:function(){return S.c}}}),C(this,{_events:{},setup:function(e){return n.clear("ready"),n.tick("setup"),a(this,o),(o=r(this,t)).init(e,this),this.on(e.events,null,this)},remove:function(){return l(this),this.trigger("remove"),a(this,o),this},qoe:function(){var e=o.getItemQoe();return{setupTime:this._qoe.between("setup","ready"),firstFrame:e.getFirstFrame?e.getFirstFrame():null,player:this._qoe.dump(),item:e.dump()}},getAudioTracks:function(){return o.getAudioTracks()},getBuffer:function(){return o.get("buffer")},getCaptions:function(){return o.get("captions")},getCaptionsList:function(){return o.getCaptionsList()},getConfig:function(){return o.getConfig()},getContainer:function(){return o.getContainer()},getControls:function(){return o.get("controls")},getCurrentAudioTrack:function(){return o.getCurrentAudioTrack()},getCurrentCaptions:function(){return o.getCurrentCaptions()},getCurrentQuality:function(){return o.getCurrentQuality()},getCurrentTime:function(){return o.get("currentTime")},getDuration:function(){return o.get("duration")},getEnvironment:function(){return v},getFullscreen:function(){return o.get("fullscreen")},getHeight:function(){return o.getHeight()},getItemMeta:function(){return o.get("itemMeta")||{}},getMute:function(){return o.getMute()},getPlaybackRate:function(){return o.get("playbackRate")},getPlaylist:function(){return o.get("playlist")},getPlaylistIndex:function(){return o.get("item")},getPlaylistItem:function(e){if(!x.a.exists(e))return o.get("playlistItem");var t=this.getPlaylist();return t?t[e]:null},getPosition:function(){return o.get("position")},getProvider:function(){return o.getProvider()},getQualityLevels:function(){return o.getQualityLevels()},getSafeRegion:function(e){var t=!(0<arguments.length&&void 0!==e)||arguments[0];return o.getSafeRegion(t)},getState:function(){return o.getState()},getStretching:function(){return o.get("stretching")},getViewable:function(){return o.get("viewable")},getVisualQuality:function(){return o.getVisualQuality()},getVolume:function(){return o.get("volume")},getWidth:function(){return o.getWidth()},setCaptions:function(e){return o.setCaptions(e),this},setConfig:function(e){return o.setConfig(e),this},setControls:function(e){return o.setControls(e),this},setCurrentAudioTrack:function(e){o.setCurrentAudioTrack(e)},setCurrentCaptions:function(e){o.setCurrentCaptions(e)},setCurrentQuality:function(e){o.setCurrentQuality(e)},setFullscreen:function(e){return o.setFullscreen(e),this},setMute:function(e){return o.setMute(e),this},setPlaybackRate:function(e){return o.setPlaybackRate(e),this},setCues:function(e){return o.setCues(e),this},setVolume:function(e){return o.setVolume(e),this},load:function(e,t){return o.load(e,t),this},play:function(e){return o.play(e),this},pause:function(e){return o.pause(e),this},playToggle:function(e){switch(this.getState()){case _._9:case _._3:return this.pause(e);default:return this.play(e)}},seek:function(e,t){return o.seek(e,t),this},playlistItem:function(e,t){return o.playlistItem(e,t),this},playlistNext:function(e){return o.playlistNext(e),this},playlistPrev:function(e){return o.playlistPrev(e),this},next:function(){return o.next(),this},castToggle:function(){return o.castToggle(),this},createInstream:function(){return o.createInstream()},skipAd:function(){return o.skipAd(),this},stop:function(){return o.stop(),this},resize:function(e,t){return o.resize(e,t),this},addButton:function(e,t,i,n,s){return o.addButton(e,t,i,n,s),this},removeButton:function(e){return o.removeButton(e),this},attachMedia:function(){return o.attachMedia(),this},detachMedia:function(){return o.detachMedia(),this},isBeforeComplete:function(){return o.isBeforeComplete()},isBeforePlay:function(){return o.isBeforePlay()}})}function o(e){for(var t=0;t<c.a.length;t++)if(c.a[t].id===e)return c.a[t];return null}Object.defineProperty(t,"__esModule",{value:!0});var n=i(16),c=i(27),u=i(17),h=i(18),d={availableProviders:u.a,registerProvider:h.a},p=i(19);d.registerPlugin=function(e,t,i){"jwpsrv"!==e&&Object(p.b)(e,t,i)};var f=d,m=i(20),g=i(15),v=i(8),y=i(47),_=i(5),w=i(22),b=i(7),x=i(6),S=i(0),C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},E=0;C(s.prototype,{on:function(e,t,i){return b.c.call(this,e,t,i)},once:function(e,t,i){return b.d.call(this,e,t,i)},off:function(e,t,i){return b.b.call(this,e,t,i)},trigger:function(e,t){return(t=S.c.isObject(t)?C({},t):{}).type=e,g.a.debug?b.e.call(this,e,t):b.f.call(this,e,t)},getPlugin:function(e){return this.plugins[e]},addPlugin:function(e,t){this.plugins[e]=t,this.on("ready",t.addToPlayer),t.resize&&this.on("resize",t.resizeHandler)},registerPlugin:function(e,t,i){Object(p.b)(e,t,i)},getAdBlock:function(){return!1},playAd:function(){},pauseAd:function(){}}),i.p=Object(n.loadFrom)();var T=function(e){var t=void 0,i=void 0;if(e?"string"==typeof e?(t=o(e))||(i=document.getElementById(e)):"number"==typeof e?t=c.a[e]:e.nodeType&&(t=o((i=e).id||i.getAttribute("data-jwplayer-id"))):t=c.a[0],t)return t;if(i){var n=new s(i);return c.a.push(n),n}return{registerPlugin:p.b}};Object.defineProperties(T,{api:{get:function(){return f},set:function(){}},version:{get:function(){return m.a},set:function(){}},debug:{get:function(){return g.a.debug},set:function(e){g.a.debug=!!e}}});var k=T,R=i(38),M=i(34),P=i(24),N=i(35),D=i(37),I=i(32),O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},L=S.c.extend,A={};A.api=f,A._=S.c,A.version="8.2.0+commercial_v8-2-0.251.commercial.cdc12c5.hlsjs..jwplayer.f5e22c2.dai.ccc6c77.freewheel.29771b0.googima.f42cc17.vast.1ba6186.analytics.abc087d.gapro.f664e4e.related.a6a8ec0",A.utils=O(x.a,{key:M.a,extend:L,scriptloader:P.a,rssparser:{parse:D.a},tea:N.a,UI:R.a}),A.utils.css.style=A.utils.style,A.vid=I.a;var H=A,F=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},j=window;F(k,H),"function"==typeof j.define&&j.define.amd&&j.define([],function(){return k});var z=k;j.jwplayer&&(z=j.jwplayer),t["default"]=z},function(e,d,t){"use strict";(function(t){function n(){}function s(e,t){return function(){e.apply(t,arguments)}}function o(e){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],h(e,this)}function r(i,n){for(;3===i._state;)i=i._value;0!==i._state?(i._handled=!0,o._immediateFn(function(){var e=1===i._state?n.onFulfilled:n.onRejected;if(null!==e){var t;try{t=e(i._value)}catch(i){return void l(n.promise,i)}a(n.promise,t)}else(1===i._state?a:l)(n.promise,i._value)})):i._deferreds.push(n)}function a(e,t){try{if(t===e)throw new TypeError("A promise cannot be resolved with itself.");if(t&&("object"==typeof t||"function"==typeof t)){var i=t.then;if(t instanceof o)return e._state=3,e._value=t,void c(e);if("function"==typeof i)return void h(s(i,t),e)}e._state=1,e._value=t,c(e)}catch(t){l(e,t)}}function l(e,t){e._state=2,e._value=t,c(e)}function c(e){2===e._state&&0===e._deferreds.length&&o._immediateFn(function(){e._handled||o._unhandledRejectionFn(e._value)});for(var t=0,i=e._deferreds.length;t<i;t++)r(e,e._deferreds[t]);e._deferreds=null}function u(e,t,i){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof t?t:null,this.promise=i}function h(e,t){var i=!1;try{e(function(e){i||(i=!0,a(t,e))},function(e){i||(i=!0,l(t,e))})}catch(e){if(i)return;i=!0,l(t,e)}}var i=setTimeout;o.prototype["catch"]=function(e){return this.then(null,e)},o.prototype.then=function(e,t){var i=new this.constructor(n);return r(this,new u(e,t,i)),i},o.prototype["finally"]=function(t){var i=this.constructor;return this.then(function(e){return i.resolve(t()).then(function(){return e})},function(e){return i.resolve(t()).then(function(){return i.reject(e)})})},o.all=function(t){return new o(function(n,s){function o(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var i=e.then;if("function"==typeof i)return void i.call(e,function(e){o(t,e)},s)}r[t]=e,0==--a&&n(r)}catch(t){s(t)}}if(!t||void 0===t.length)throw new TypeError("Promise.all accepts an array");var r=Array.prototype.slice.call(t);if(0===r.length)return n([]);for(var a=r.length,e=0;e<r.length;e++)o(e,r[e])})},o.resolve=function(t){return t&&"object"==typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(i){return new o(function(e,t){t(i)})},o.race=function(s){return new o(function(e,t){for(var i=0,n=s.length;i<n;i++)s[i].then(e,t)})},o._immediateFn="function"==typeof t&&function(e){t(e)}||function(e){i(e,0)},o._unhandledRejectionFn=function(e){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)},d.a=o}).call(d,t(57).setImmediate)},function(e,t,i){function n(e,t){this._id=e,this._clearFn=t}var s=Function.prototype.apply;t.setTimeout=function(){return new n(s.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new n(s.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},n.prototype.unref=n.prototype.ref=function(){},n.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;0<=t&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},i(58),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t,i){(function(e,g){!function(i,n){"use strict";function e(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var n={callback:e,args:t};return c[l]=n,a(l),l++}function s(e){delete c[e]}function o(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(n,i)}}function r(e){if(u)setTimeout(r,0,e);else{var t=c[e];if(t){u=!0;try{o(t)}finally{s(e),u=!1}}}}if(!i.setImmediate){var a,l=1,c={},u=!1,h=i.document,t=Object.getPrototypeOf&&Object.getPrototypeOf(i);t=t&&t.setTimeout?t:i,"[object process]"==={}.toString.call(i.process)?a=function(e){g.nextTick(function(){r(e)})}:function(){if(i.postMessage&&!i.importScripts){var e=!0,t=i.onmessage;return i.onmessage=function(){e=!1},i.postMessage("","*"),i.onmessage=t,e}}()?(f="setImmediate$"+Math.random()+"$",m=function(e){e.source===i&&"string"==typeof e.data&&0===e.data.indexOf(f)&&r(+e.data.slice(f.length))},i.addEventListener?i.addEventListener("message",m,!1):i.attachEvent("onmessage",m),a=function(e){i.postMessage(f+e,"*")}):i.MessageChannel?((p=new MessageChannel).port1.onmessage=function(e){r(e.data)},a=function(e){p.port2.postMessage(e)}):h&&"onreadystatechange"in h.createElement("script")?(d=h.documentElement,a=function(e){var t=h.createElement("script");t.onreadystatechange=function(){r(e),t.onreadystatechange=null,d.removeChild(t),t=null},d.appendChild(t)}):a=function(e){setTimeout(r,0,e)},t.setImmediate=e,t.clearImmediate=s}var d,p,f,m}("undefined"==typeof self?void 0===e?this:e:self)}).call(t,i(54),i(59))},function(e){function i(){throw new Error("setTimeout has not been defined")}function n(){throw new Error("clearTimeout has not been defined")}function s(e){if(c===setTimeout)return setTimeout(e,0);if((c===i||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(u===clearTimeout)return clearTimeout(e);if((u===n||!u)&&clearTimeout)return u=clearTimeout,clearTimeout(e);try{return u(e)}catch(t){try{return u.call(null,e)}catch(t){return u.call(this,e)}}}function r(){f&&d&&(f=!1,d.length?p=d.concat(p):m=-1,p.length&&a())}function a(){if(!f){var e=s(r);f=!0;for(var t=p.length;t;){for(d=p,p=[];++m<t;)d&&d[m].run();m=-1,t=p.length}d=null,f=!1,o(e)}}function l(e,t){this.fun=e,this.array=t}function t(){}var c,u,h=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:i}catch(e){c=i}try{u="function"==typeof clearTimeout?clearTimeout:n}catch(e){u=n}}();var d,p=[],f=!1,m=-1;h.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];p.push(new l(e,t)),1!==p.length||f||s(a)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=t,h.addListener=t,h.once=t,h.off=t,h.removeListener=t,h.removeAllListeners=t,h.emit=t,h.prependListener=t,h.prependOnceListener=t,h.listeners=function(){return[]},h.binding=function(){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}}])["default"],window.matchMedia||(window.matchMedia=function(){"use strict";var t=window.styleMedia||window.media;if(!t){var i=document.createElement("style"),e=document.getElementsByTagName("script")[0],n=null;i.type="text/css",i.id="matchmediajs-test",e.parentNode.insertBefore(i,e),n="getComputedStyle"in window&&window.getComputedStyle(i,null)||i.currentStyle,t={matchMedium:function(e){var t="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return i.styleSheet?i.styleSheet.cssText=t:i.textContent=t,"1px"===n.width}}}return function(e){return{matches:t.matchMedium(e||"all"),media:e||"all"}}}()),function(i,r){"use strict";function n(e){for(var t,i,n,s,o,r,a=0,l=(t=(e=e||{}).elements||u.getAllElements()).length;a<l;a++)if(n=(i=t[a]).nodeName.toUpperCase(),r=o=s=void 0,i[u.ns]||(i[u.ns]={}),e.reevaluate||!i[u.ns].evaluated){if("PICTURE"===n){if(u.removeVideoShim(i),!1===(s=u.getMatch(i)))continue;r=i.getElementsByTagName("img")[0]}else s=void 0,r=i;r&&(r[u.ns]||(r[u.ns]={}),r.srcset&&("PICTURE"===n||r.getAttribute("sizes"))&&u.dodgeSrcset(r),s?(o=u.processSourceSet(s),u.applyBestCandidate(o,r)):(o=u.processSourceSet(r),(void 0===r.srcset||r[u.ns].srcset)&&u.applyBestCandidate(o,r)),i[u.ns].evaluated=!0)}}function e(){n();var e,t=setInterval(function(){return n(),/^loaded|^i|^c/.test(r.readyState)?void clearInterval(t):void 0},250);i.addEventListener&&i.addEventListener("resize",function(){i._picturefillWorking||(i._picturefillWorking=!0,
i.clearTimeout(e),e=i.setTimeout(function(){n({reevaluate:!0}),i._picturefillWorking=!1},60))},!1)}if(!i.HTMLPictureElement){r.createElement("picture");var u={ns:"picturefill"};u.srcsetSupported=void 0!==(new i.Image).srcset,u.trim=function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},u.endsWith=function(e,t){return e.endsWith?e.endsWith(t):-1!==e.indexOf(t,e.length-t.length)},u.matchesMedia=function(e){return i.matchMedia&&i.matchMedia(e).matches},u.getDpr=function(){return i.devicePixelRatio||1},u.getWidthFromLength=function(e){return e=(e=e&&0<parseFloat(e)?e:"100vw").replace("vw","%"),u.lengthEl||(u.lengthEl=r.createElement("div"),r.documentElement.insertBefore(u.lengthEl,r.documentElement.firstChild)),u.lengthEl.style.cssText="position: absolute; left: 0; width: "+e+";",u.lengthEl.offsetWidth},u.types={},u.types["image/jpeg"]=!0,u.types["image/gif"]=!0,u.types["image/png"]=!0,u.types["image/svg+xml"]=r.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),u.types["image/webp"]=function(){var e=new i.Image,t="image/webp";e.onerror=function(){u.types[t]=!1,n()},e.onload=function(){u.types[t]=1===e.width,n()},e.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA="},u.verifyTypeSupport=function(e){var t=e.getAttribute("type");return null===t||""===t||("function"==typeof u.types[t]?(u.types[t](),"pending"):u.types[t])},u.parseSize=function(e){var t=/(\([^)]+\))?\s*(.+)/g.exec(e);return{media:t&&t[1],length:t&&t[2]}},u.findWidthFromSourceSize=function(e){for(var t,i=u.trim(e).split(/\s*,\s*/),n=0,s=i.length;n<s;n++){var o=i[n],r=u.parseSize(o),a=r.length,l=r.media;if(a&&(!l||u.matchesMedia(l))){t=a;break}}return u.getWidthFromLength(t)},u.parseSrcset=function(e){for(var t=[];""!==e;){var i,n=(e=e.replace(/^\s+/g,"")).search(/\s/g),s=null;if(-1!==n){if((","===(i=e.slice(0,n))[i.length-1]||""===i)&&(i=i.replace(/,+$/,""),s=""),e=e.slice(n+1),null===s){var o=e.indexOf(",");-1!==o?(s=e.slice(0,o),e=e.slice(o+1)):(s=e,e="")}}else i=e,e="";(i||s)&&t.push({url:i,descriptor:s})}return t},u.parseDescriptor=function(e,t){var i,n=e&&e.replace(/(^\s+|\s+$)/g,""),s=t?u.findWidthFromSourceSize(t):"100%";if(n)for(var o=n.split(" "),r=o.length+1;0<=r;r--){var a=o[r],l=a&&a.slice(a.length-1);if(("w"===l||"x"===l)&&(i=a),t&&i)i=parseFloat(parseInt(a,10)/s);else{var c=a&&parseFloat(a,10);i=c&&!isNaN(c)&&"x"===l||"w"===l?c:1}}else i=1;return i},u.getCandidatesFromSourceSet=function(e,t){for(var i=u.parseSrcset(e),n=[],s=0,o=i.length;s<o;s++){var r=i[s];n.push({url:r.url,resolution:u.parseDescriptor(r.descriptor,t)})}return n},u.dodgeSrcset=function(e){e.srcset&&(e[u.ns].srcset=e.srcset,e.removeAttribute("srcset"))},u.processSourceSet=function(e){var t=e.getAttribute("srcset"),i=e.getAttribute("sizes"),n=[];return"IMG"===e.nodeName.toUpperCase()&&e[u.ns]&&e[u.ns].srcset&&(t=e[u.ns].srcset),t&&(n=u.getCandidatesFromSourceSet(t,i)),n},u.applyBestCandidate=function(e,t){var i,n,s;e.sort(u.ascendingSort),s=e[(n=e.length)-1];for(var o=0;o<n;o++)if((i=e[o]).resolution>=u.getDpr()){s=i;break}u.endsWith(t.src,s.url)||(t.src=s.url,t.currentSrc=t.src)},u.ascendingSort=function(e,t){return e.resolution-t.resolution},u.removeVideoShim=function(e){var t=e.getElementsByTagName("video");if(t.length){for(var i=t[0],n=i.getElementsByTagName("source");n.length;)e.insertBefore(n[0],i);i.parentNode.removeChild(i)}},u.getAllElements=function(){for(var e=r.getElementsByTagName("picture"),t=[],i=r.getElementsByTagName("img"),n=0,s=e.length+i.length;n<s;n++)if(n<e.length)t[n]=e[n];else{var o=i[n-e.length];"PICTURE"!==o.parentNode.nodeName.toUpperCase()&&(u.srcsetSupported&&o.getAttribute("sizes")||null!==o.getAttribute("srcset"))&&t.push(o)}return t},u.getMatch=function(e){for(var t,i=e.childNodes,n=0,s=i.length;n<s;n++){var o=i[n];if(1===o.nodeType){if("IMG"===o.nodeName.toUpperCase())return t;if("SOURCE"===o.nodeName.toUpperCase()){var r=o.getAttribute("media");if(o.getAttribute("srcset")&&(!r||u.matchesMedia(r))){var a=u.verifyTypeSupport(o);if(!0===a){t=o;break}if("pending"===a)return!1}}}}return t},e(),n._=u,"object"==typeof module&&"object"==typeof module.exports?module.exports=n:"function"==typeof define&&define.amd?define(function(){return n}):"object"==typeof i&&(i.picturefill=n)}}(this,this.document),function(){function e(){}function o(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,n=this,s=n.EventEmitter;i.getListeners=function(e){var t,i,n=this._getEvents();if("object"==typeof e)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},i.flattenListeners=function(e){var t,i=[];for(t=0;e.length>t;t+=1)i.push(e[t].listener);return i},i.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},i.addListener=function(e,t){var i,n=this.getListenersAsObject(e),s="object"==typeof t;for(i in n)n.hasOwnProperty(i)&&-1===o(n[i],t)&&n[i].push(s?t:{listener:t,once:!1});return this},i.on=t("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=t("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;e.length>t;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var i,n,s=this.getListenersAsObject(e);for(n in s)s.hasOwnProperty(n)&&(-1!==(i=o(s[n],t))&&s[n].splice(i,1));return this},i.off=t("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,i){var n,s,o=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)o.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(s=t[n])&&("function"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},i.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if("object"===i)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},i.removeAllListeners=t("removeEvent"),i.emitEvent=function(e,t){var i,n,s,o=this.getListenersAsObject(e);for(s in o)if(o.hasOwnProperty(s))for(n=o[s].length;n--;)!0===(i=o[s][n]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},i.trigger=t("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:this.EventEmitter=e}.call(this),function(i){function n(e){var t=i.event;return t.target=t.target||t.srcElement||e,t}var e=document.documentElement,s=function(){};e.addEventListener?s=function(e,t,i){e.addEventListener(t,i,!1)}:e.attachEvent&&(s=function(t,e,i){t[e+i]=i.handleEvent?function(){var e=n(t);i.handleEvent.call(i,e)}:function(){var e=n(t);i.call(t,e)},t.attachEvent("on"+e,t[e+i])});var t=function(){};e.removeEventListener?t=function(e,t,i){e.removeEventListener(t,i,!1)}:e.detachEvent&&(t=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(s){e[t+i]=void 0}});var o={bind:s,unbind:t};"function"==typeof define&&define.amd?define("eventie/eventie",o):i.eventie=o}(this),function(i,n){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(e,t){return n(i,e,t)}):"object"==typeof exports?module.exports=n(i,require("wolfy87-eventemitter"),require("eventie")):i.imagesLoaded=n(i,i.EventEmitter,i.eventie)}(window,function(e,t,i){function s(e,t){for(var i in t)e[i]=t[i];return e}function o(e){return"[object Array]"===d.call(e)}function r(e){var t=[];if(o(e))t=e;else if("number"==typeof e.length)for(var i=0,n=e.length;i<n;i++)t.push(e[i]);else t.push(e);return t}function a(e,t,i){if(!(this instanceof a))return new a(e,t);"string"==typeof e&&(e=document.querySelectorAll(e)),this.elements=r(e),this.options=s({},this.options),"function"==typeof t?i=t:s(this.options,t),i&&this.on("always",i),this.getImages(),c&&(this.jqDeferred=new c.Deferred);var n=this;setTimeout(function(){n.check()})}function n(e){this.img=e}function l(e){this.src=e,p[e]=this}var c=e.jQuery,u=e.console,h=void 0!==u,d=Object.prototype.toString;a.prototype=new t,a.prototype.options={},a.prototype.getImages=function(){this.images=[];for(var e=0,t=this.elements.length;e<t;e++){var i=this.elements[e];"IMG"===i.nodeName&&this.addImage(i);var n=i.nodeType;if(n&&(1===n||9===n||11===n))for(var s=i.querySelectorAll("img"),o=0,r=s.length;o<r;o++){var a=s[o];this.addImage(a)}}},a.prototype.addImage=function(e){var t=new n(e);this.images.push(t)},a.prototype.check=function(){function e(e,t){return i.options.debug&&h&&u.log("confirm",e,t),i.progress(e),++n===s&&i.complete(),!0}var i=this,n=0,s=this.images.length;if(this.hasAnyBroken=!1,s)for(var t=0;t<s;t++){var o=this.images[t];o.on("confirm",e),o.check()}else this.complete()},a.prototype.progress=function(e){this.hasAnyBroken=this.hasAnyBroken||!e.isLoaded;var t=this;setTimeout(function(){t.emit("progress",t,e),t.jqDeferred&&t.jqDeferred.notify&&t.jqDeferred.notify(t,e)})},a.prototype.complete=function(){var t=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var i=this;setTimeout(function(){if(i.emit(t,i),i.emit("always",i),i.jqDeferred){var e=i.hasAnyBroken?"reject":"resolve";i.jqDeferred[e](i)}})},c&&(c.fn.imagesLoaded=function(e,t){return new a(this,e,t).jqDeferred.promise(c(this))}),n.prototype=new t,n.prototype.check=function(){var e=p[this.img.src]||new l(this.img.src);if(e.isConfirmed)this.confirm(e.isLoaded,"cached was confirmed");else if(this.img.complete&&void 0!==this.img.naturalWidth)this.confirm(0!==this.img.naturalWidth,"naturalWidth");else{var i=this;e.on("confirm",function(e,t){return i.confirm(e.isLoaded,t),!0}),e.check()}},n.prototype.confirm=function(e,t){this.isLoaded=e,this.emit("confirm",this,t)};var p={};return l.prototype=new t,l.prototype.check=function(){if(!this.isChecked){var e=new Image;i.bind(e,"load",this),i.bind(e,"error",this),e.src=this.src,this.isChecked=!0}},l.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},l.prototype.onload=function(e){this.confirm(!0,"onload"),this.unbindProxyEvents(e)},l.prototype.onerror=function(e){this.confirm(!1,"onerror"),this.unbindProxyEvents(e)},l.prototype.confirm=function(e,t){this.isConfirmed=!0,this.isLoaded=e,this.emit("confirm",this,t)},l.prototype.unbindProxyEvents=function(e){i.unbind(e.target,"load",this),i.unbind(e.target,"error",this)},a}),function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.moment=t()}(this,function(){"use strict";function c(){return pn.apply(null,arguments)}function e(e){pn=e}function r(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function a(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function l(e){var t;for(t in e)return!1;return!0}function s(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function i(e,t){var i,n=[];for(i=0;i<e.length;++i)n.push(t(e[i],i));return n}function u(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function h(e,t){for(var i in t)u(t,i)&&(e[i]=t[i]);return u(t,"toString")&&(e.toString=t.toString),u(t,"valueOf")&&(e.valueOf=t.valueOf),e}function d(e,t,i,n){return gt(e,t,i,n,!0).utc()}function t(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null}}function p(e){return null==e._pf&&(e._pf=t()),e._pf}function f(e){if(null==e._isValid){var t=p(e),i=fn.call(t.parsedDateParts,function(e){return null!=e}),n=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidMonth&&!t.invalidWeekday&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&i);if(e._strict&&(n=n&&0===t.charsLeftOver&&0===t.unusedTokens.length&&t.bigHour===undefined),null!=Object.isFrozen&&Object.isFrozen(e))return n;e._isValid=n}return e._isValid}function n(e){var t=d(NaN);return null!=e?h(p(t),e):p(t).userInvalidated=!0,t}function o(e){return void 0===e}function m(e,t){var i,n,s;if(o(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),o(t._i)||(e._i=t._i),o(t._f)||(e._f=t._f),o(t._l)||(e._l=t._l),o(t._strict)||(e._strict=t._strict),o(t._tzm)||(e._tzm=t._tzm),o(t._isUTC)||(e._isUTC=t._isUTC),o(t._offset)||(e._offset=t._offset),o(t._pf)||(e._pf=p(t)),o(t._locale)||(e._locale=t._locale),0<gn.length)for(i in gn)o(s=t[n=gn[i]])||(e[n]=s);return e}function g(e){m(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),!1===vn&&(vn=!0,c.updateOffset(this),vn=!1)}function v(e){return e instanceof g||null!=e&&null!=e._isAMomentObject}function y(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function _(e){var t=+e,i=0;return 0!==t&&isFinite(t)&&(i=y(t)),i}function w(e,t,i){var n,s=Math.min(e.length,t.length),o=Math.abs(e.length-t.length),r=0;for(n=0;n<s;n++)(i&&e[n]!==t[n]||!i&&_(e[n])!==_(t[n]))&&r++;return r+o}function b(e){!1===c.suppressDeprecationWarnings&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+e)}function x(o,r){var a=!0;return h(function(e){if(null!=c.deprecationHandler&&c.deprecationHandler(null,o),a){for(var t,i=[],n=0;n<arguments.length;n++){if(t="","object"==typeof arguments[n]){for(var s in t+="\n["+n+"] ",e)t+=s+": "+arguments[0][s]+", ";t=t.slice(0,-2)}else t=arguments[n];i.push(t)}b(o+"\nArguments: "+Array.prototype.slice.call(i).join("")+"\n"+(new Error).stack),a=!1}return r.apply(this,arguments)},r)}function S(e,t){null!=c.deprecationHandler&&c.deprecationHandler(e,t),yn[e]||(b(t),yn[e]=!0)}function C(e){return e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function E(e){var t,i;for(i in e)C(t=e[i])?this[i]=t:this["_"+i]=t;this._config=e,this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)}function T(e,t){var i,n=h({},e);for(i in t)u(t,i)&&(a(e[i])&&a(t[i])?(n[i]={},h(n[i],e[i]),h(n[i],t[i])):null!=t[i]?n[i]=t[i]:delete n[i]);for(i in e)u(e,i)&&!u(t,i)&&a(e[i])&&(n[i]=h({},n[i]));return n}function k(e){null!=e&&this.set(e)}function R(e,t,i){var n=this._calendar[e]||this._calendar.sameElse;return C(n)?n.call(t,i):n}function M(e){var t=this._longDateFormat[e],i=this._longDateFormat[e.toUpperCase()];return t||!i?t:(this._longDateFormat[e]=i.replace(/MMMM|MM|DD|dddd/g,function(e){return e.slice(1)}),this._longDateFormat[e])}function P(){return this._invalidDate}function N(e){return this._ordinal.replace("%d",e)}function D(e,t,i,n){var s=this._relativeTime[i];return C(s)?s(e,t,i,n):s.replace(/%d/i,e)}function I(e,t){var i=this._relativeTime[0<e?"future":"past"];return C(i)?i(t):i.replace(/%s/i,t)}function O(e,t){var i=e.toLowerCase();Tn[i]=Tn[i+"s"]=Tn[t]=e}function L(e){return"string"==typeof e?Tn[e]||Tn[e.toLowerCase()]:undefined}function A(e){var t,i,n={};for(i in e)u(e,i)&&(t=L(i))&&(n[t]=e[i]);return n}function H(e,t){kn[e]=t}function F(e){var t=[];for(var i in e)t.push({unit:i,priority:kn[i]});return t.sort(function(e,t){return e.priority-t.priority}),t}function j(t,i){return function(e){return null!=e?($(this,t,e),c.updateOffset(this,i),this):z(this,t)}}function z(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function $(e,t,i){e.isValid()&&e._d["set"+(e._isUTC?"UTC":"")+t](i)}function B(e){return C(this[e=L(e)])?this[e]():this}function W(e,t){if("object"==typeof e)for(var i=F(e=A(e)),n=0;n<i.length;n++)this[i[n].unit](e[i[n].unit]);else if(C(this[e=L(e)]))return this[e](t);return this}function U(e,t,i){var n=""+Math.abs(e),s=t-n.length;return(0<=e?i?"+":"":"-")+Math.pow(10,Math.max(0,s)).toString().substr(1)+n}function V(e,t,i,n){var s=n;"string"==typeof n&&(s=function(){return this[n]()}),e&&(Nn[e]=s),t&&(Nn[t[0]]=function(){return U(s.apply(this,arguments),t[1],t[2])}),i&&(Nn[i]=function(){return this.localeData().ordinal(s.apply(this,arguments),e)})}function q(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function Y(n){var e,s,o=n.match(Rn);for(e=0,s=o.length;e<s;e++)Nn[o[e]]?o[e]=Nn[o[e]]:o[e]=q(o[e]);return function(e){var t,i="";for(t=0;t<s;t++)i+=o[t]instanceof Function?o[t].call(e,n):o[t];return i}}function G(e,t){return e.isValid()?(t=X(t,e.localeData()),Pn[t]=Pn[t]||Y(t),Pn[t](e)):e.localeData().invalidDate()}function X(e,t){function i(e){return t.longDateFormat(e)||e}var n=5;for(Mn.lastIndex=0;0<=n&&Mn.test(e);)e=e.replace(Mn,i),Mn.lastIndex=0,n-=1;return e}function Z(e,t,i){Xn[e]=C(t)?t:function(e){return e&&i?i:t}}function K(e,t){return u(Xn,e)?Xn[e](t._strict,t._locale):new RegExp(Q(e))}function Q(e){return J(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,t,i,n,s){return t||i||n||s}))}function J(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function ee(e,i){var t,n=i;for("string"==typeof e&&(e=[e]),"number"==typeof i&&(n=function(e,t){t[i]=_(e)}),t=0;t<e.length;t++)Zn[e[t]]=n}function te(e,s){ee(e,function(e,t,i,n){i._w=i._w||{},s(e,i._w,i,n)})}function ie(e,t,i){null!=t&&u(Zn,e)&&Zn[e](t,i._a,i,e)}function ne(e,t){return new Date(Date.UTC(e,t+1,0)).getUTCDate()}function se(e,t){return e?r(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||rs).test(t)?"format":"standalone"][e.month()]:this._months}function oe(e,t){return e?r(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[rs.test(t)?"format":"standalone"][e.month()]:this._monthsShort}function re(e,t,i){var n,s,o,r=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)o=d([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(o,"").toLocaleLowerCase();return i?"MMM"===t?-1!==(s=_n.call(this._shortMonthsParse,r))?s:null:-1!==(s=_n.call(this._longMonthsParse,r))?s:null:"MMM"===t?-1!==(s=_n.call(this._shortMonthsParse,r))?s:-1!==(s=_n.call(this._longMonthsParse,r))?s:null:-1!==(s=_n.call(this._longMonthsParse,r))?s:-1!==(s=_n.call(this._shortMonthsParse,r))?s:null}function ae(e,t,i){var n,s,o;if(this._monthsParseExact)return re.call(this,e,t,i);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(s=d([2e3,n]),i&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(s,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(s,"").replace(".","")+"$","i")),i||this._monthsParse[n]||(o="^"+this.months(s,"")+"|^"+this.monthsShort(s,""),this._monthsParse[n]=new RegExp(o.replace(".",""),"i")),i&&"MMMM"===t&&this._longMonthsParse[n].test(e))return n;if(i&&"MMM"===t&&this._shortMonthsParse[n].test(e))return n;if(!i&&this._monthsParse[n].test(e))return n}}function le(e,t){var i;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=_(t);else if("number"!=typeof(t=e.localeData().monthsParse(t)))return e;return i=Math.min(e.date(),ne(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,i),e}function ce(e){return null!=e?(le(this,e),c.updateOffset(this,!0),this):z(this,"Month")}function ue(){return ne(this.year(),this.month())}function he(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pe.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(u(this,"_monthsShortRegex")||(this._monthsShortRegex=cs),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function de(e){return this._monthsParseExact?(u(this,"_monthsRegex")||pe.call(this),e?this._monthsStrictRegex:this._monthsRegex):(u(this,"_monthsRegex")||(this._monthsRegex=us),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pe(){function e(e,t){return t.length-e.length}var t,i,n=[],s=[],o=[];for(t=0;t<12;t++)i=d([2e3,t]),n.push(this.monthsShort(i,"")),s.push(this.months(i,"")),o.push(this.months(i,"")),o.push(this.monthsShort(i,""));for(n.sort(e),s.sort(e),o.sort(e),t=0;t<12;t++)n[t]=J(n[t]),s[t]=J(s[t]);for(t=0;t<24;t++)o[t]=J(o[t]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+n.join("|")+")","i")}function fe(e){return me(e)?366:365}function me(e){return e%4==0&&e%100!=0||e%400==0}function ge(){return me(this.year())}function ve(e,t,i,n,s,o,r){var a=new Date(e,t,i,n,s,o,r);return e<100&&0<=e&&isFinite(a.getFullYear())&&a.setFullYear(e),a}function ye(e){var t=new Date(Date.UTC.apply(null,arguments));return e<100&&0<=e&&isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e),t}function _e(e,t,i){var n=7+t-i;return-((7+ye(e,0,n).getUTCDay()-t)%7)+n-1}function we(e,t,i,n,s){var o,r,a=1+7*(t-1)+(7+i-n)%7+_e(e,n,s);return a<=0?r=fe(o=e-1)+a:a>fe(e)?(o=e+1,r=a-fe(e)):(o=e,r=a),{year:o,dayOfYear:r}}function be(e,t,i){var n,s,o=_e(e.year(),t,i),r=Math.floor((e.dayOfYear()-o-1)/7)+1;return r<1?n=r+xe(s=e.year()-1,t,i):r>xe(e.year(),t,i)?(n=r-xe(e.year(),t,i),s=e.year()+1):(s=e.year(),n=r),{week:n,year:s}}function xe(e,t,i){var n=_e(e,t,i),s=_e(e+1,t,i);return(fe(e)-n+s)/7}function Se(e){return be(e,this._week.dow,this._week.doy).week}function Ce(){return this._week.dow}function Ee(){return this._week.doy}function Te(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function ke(e){var t=be(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Re(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Me(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function Pe(e,t){return e?r(this._weekdays)?this._weekdays[e.day()]:this._weekdays[this._weekdays.isFormat.test(t)?"format":"standalone"][e.day()]:this._weekdays}function Ne(e){return e?this._weekdaysShort[e.day()]:this._weekdaysShort}function De(e){return e?this._weekdaysMin[e.day()]:this._weekdaysMin}function Ie(e,t,i){var n,s,o,r=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)o=d([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(o,"").toLocaleLowerCase();return i?"dddd"===t?-1!==(s=_n.call(this._weekdaysParse,r))?s:null:"ddd"===t?-1!==(s=_n.call(this._shortWeekdaysParse,r))?s:null:-1!==(s=_n.call(this._minWeekdaysParse,r))?s:null:"dddd"===t?-1!==(s=_n.call(this._weekdaysParse,r))?s:-1!==(s=_n.call(this._shortWeekdaysParse,r))?s:-1!==(s=_n.call(this._minWeekdaysParse,r))?s:null:"ddd"===t?-1!==(s=_n.call(this._shortWeekdaysParse,r))?s:-1!==(s=_n.call(this._weekdaysParse,r))?s:-1!==(s=_n.call(this._minWeekdaysParse,r))?s:null:-1!==(s=_n.call(this._minWeekdaysParse,r))?s:-1!==(s=_n.call(this._weekdaysParse,r))?s:-1!==(s=_n.call(this._shortWeekdaysParse,r))?s:null}function Oe(e,t,i){var n,s,o;if(this._weekdaysParseExact)return Ie.call(this,e,t,i);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(s=d([2e3,1]).day(n),i&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(s,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(s,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(s,"").replace(".",".?")+"$","i")),this._weekdaysParse[n]||(o="^"+this.weekdays(s,"")+"|^"+this.weekdaysShort(s,"")+"|^"+this.weekdaysMin(s,""),this._weekdaysParse[n]=new RegExp(o.replace(".",""),"i")),i&&"dddd"===t&&this._fullWeekdaysParse[n].test(e))return n;if(i&&"ddd"===t&&this._shortWeekdaysParse[n].test(e))return n;if(i&&"dd"===t&&this._minWeekdaysParse[n].test(e))return n;if(!i&&this._weekdaysParse[n].test(e))return n}}function Le(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Re(e,this.localeData()),this.add(e-t,"d")):t}function Ae(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function He(e){if(!this.isValid())return null!=e?this:NaN;if(null==e)return this.day()||7;var t=Me(e,this.localeData());return this.day(this.day()%7?t:t-7)}function Fe(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(u(this,"_weekdaysRegex")||(this._weekdaysRegex=gs),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function je(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(u(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=vs),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function ze(e){return this._weekdaysParseExact?(u(this,"_weekdaysRegex")||$e.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(u(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ys),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function $e(){function e(e,t){return t.length-e.length}var t,i,n,s,o,r=[],a=[],l=[],c=[];for(t=0;t<7;t++)i=d([2e3,1]).day(t),n=this.weekdaysMin(i,""),s=this.weekdaysShort(i,""),o=this.weekdays(i,""),r.push(n),a.push(s),l.push(o),c.push(n),c.push(s),c.push(o);for(r.sort(e),a.sort(e),l.sort(e),c.sort(e),t=0;t<7;t++)a[t]=J(a[t]),l[t]=J(l[t]),c[t]=J(c[t]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+r.join("|")+")","i")}function Be(){return this.hours()%12||12}function We(){return this.hours()||24}function Ue(e,t){V(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}function Ve(e,t){return t._meridiemParse}function qe(e){return"p"===(e+"").toLowerCase().charAt(0)}function Ye(e,t,i){return 11<e?i?"pm":"PM":i?"am":"AM"}function Ge(e){return e?e.toLowerCase().replace("_","-"):e}function Xe(e){for(var t,i,n,s,o=0;o<e.length;){for(t=(s=Ge(e[o]).split("-")).length,i=(i=Ge(e[o+1]))?i.split("-"):null;0<t;){if(n=Ze(s.slice(0,t).join("-")))return n;if(i&&i.length>=t&&w(s,i,!0)>=t-1)break;t--}o++}return null}function Ze(e){var t=null;if(!Ss[e]&&"undefined"!=typeof module&&module&&module.exports)try{t=_s._abbr,require("./locale/"+e),Ke(t)}catch(i){}return Ss[e]}function Ke(e,t){var i;return e&&(i=o(t)?et(e):Qe(e,t))&&(_s=i),_s._abbr}function Qe(e,t){if(null===t)return delete Ss[e],null;var i=xs;return t.abbr=e,null!=Ss[e]?(S("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),i=Ss[e]._config):null!=t.parentLocale&&(null!=Ss[t.parentLocale]?i=Ss[t.parentLocale]._config:S("parentLocaleUndefined","specified parentLocale is not defined yet. See http://momentjs.com/guides/#/warnings/parent-locale/")),Ss[e]=new k(T(i,t)),Ke(e),Ss[e]}function Je(e,t){if(null!=t){var i,n=xs;null!=Ss[e]&&(n=Ss[e]._config),(i=new k(t=T(n,t))).parentLocale=Ss[e],Ss[e]=i,Ke(e)}else null!=Ss[e]&&(null!=Ss[e].parentLocale?Ss[e]=Ss[e].parentLocale:null!=Ss[e]&&delete Ss[e]);return Ss[e]}function et(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return _s;if(!r(e)){if(t=Ze(e))return t;e=[e]}return Xe(e)}function tt(){return mn(Ss)}function it(e){var t,i=e._a;return i&&-2===p(e).overflow&&(t=i[Qn]<0||11<i[Qn]?Qn:i[Jn]<1||i[Jn]>ne(i[Kn],i[Qn])?Jn:i[es]<0||24<i[es]||24===i[es]&&(0!==i[ts]||0!==i[is]||0!==i[ns])?es:i[ts]<0||59<i[ts]?ts:i[is]<0||59<i[is]?is:i[ns]<0||999<i[ns]?ns:-1,p(e)._overflowDayOfYear&&(t<Kn||Jn<t)&&(t=Jn),p(e)._overflowWeeks&&-1===t&&(t=ss),p(e)._overflowWeekday&&-1===t&&(t=os),p(e).overflow=t),e}function nt(e){var t,i,n,s,o,r,a=e._i,l=Cs.exec(a)||Es.exec(a);if(l){for(p(e).iso=!0,t=0,i=ks.length;t<i;t++)if(ks[t][1].exec(l[1])){s=ks[t][0],n=!1!==ks[t][2];break}if(null==s)return void(e._isValid=!1);if(l[3]){for(t=0,i=Rs.length;t<i;t++)if(Rs[t][1].exec(l[3])){o=(l[2]||" ")+Rs[t][0];break}if(null==o)return void(e._isValid=!1)}if(!n&&null!=o)return void(e._isValid=!1);if(l[4]){if(!Ts.exec(l[4]))return void(e._isValid=!1);r="Z"}e._f=s+(o||"")+(r||""),ct(e)}else e._isValid=!1}function st(e){var t=Ms.exec(e._i);null===t?(nt(e),!1===e._isValid&&(delete e._isValid,c.createFromInputFallback(e))):e._d=new Date(+t[1])}function ot(e,t,i){return null!=e?e:null!=t?t:i}function rt(e){var t=new Date(c.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function at(e){var t,i,n,s,o=[];if(!e._d){for(n=rt(e),e._w&&null==e._a[Jn]&&null==e._a[Qn]&&lt(e),e._dayOfYear&&(s=ot(e._a[Kn],n[Kn]),e._dayOfYear>fe(s)&&(p(e)._overflowDayOfYear=!0),i=ye(s,0,e._dayOfYear),e._a[Qn]=i.getUTCMonth(),e._a[Jn]=i.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=n[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[es]&&0===e._a[ts]&&0===e._a[is]&&0===e._a[ns]&&(e._nextDay=!0,e._a[es]=0),e._d=(e._useUTC?ye:ve).apply(null,o),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[es]=24)}}function lt(e){var t,i,n,s,o,r,a,l;null!=(t=e._w).GG||null!=t.W||null!=t.E?(o=1,r=4,i=ot(t.GG,e._a[Kn],be(vt(),1,4).year),n=ot(t.W,1),((s=ot(t.E,1))<1||7<s)&&(l=!0)):(o=e._locale._week.dow,r=e._locale._week.doy,i=ot(t.gg,e._a[Kn],be(vt(),o,r).year),n=ot(t.w,1),null!=t.d?((s=t.d)<0||6<s)&&(l=!0):null!=t.e?(s=t.e+o,(t.e<0||6<t.e)&&(l=!0)):s=o),n<1||n>xe(i,o,r)?p(e)._overflowWeeks=!0:null!=l?p(e)._overflowWeekday=!0:(a=we(i,n,s,o,r),e._a[Kn]=a.year,e._dayOfYear=a.dayOfYear)}function ct(e){if(e._f!==c.ISO_8601){e._a=[],p(e).empty=!0;var t,i,n,s,o,r=""+e._i,a=r.length,l=0;for(n=X(e._f,e._locale).match(Rn)||[],t=0;t<n.length;t++)s=n[t],(i=(r.match(K(s,e))||[])[0])&&(0<(o=r.substr(0,r.indexOf(i))).length&&p(e).unusedInput.push(o),r=r.slice(r.indexOf(i)+i.length),l+=i.length),Nn[s]?(i?p(e).empty=!1:p(e).unusedTokens.push(s),ie(s,i,e)):e._strict&&!i&&p(e).unusedTokens.push(s);p(e).charsLeftOver=a-l,0<r.length&&p(e).unusedInput.push(r),e._a[es]<=12&&!0===p(e).bigHour&&0<e._a[es]&&(p(e).bigHour=undefined),p(e).parsedDateParts=e._a.slice(0),p(e).meridiem=e._meridiem,e._a[es]=ut(e._locale,e._a[es],e._meridiem),at(e),it(e)}else nt(e)}function ut(e,t,i){var n;return null==i?t:null!=e.meridiemHour?e.meridiemHour(t,i):(null!=e.isPM&&((n=e.isPM(i))&&t<12&&(t+=12),n||12!==t||(t=0)),t)}function ht(e){var t,i,n,s,o;if(0===e._f.length)return p(e).invalidFormat=!0,void(e._d=new Date(NaN));for(s=0;s<e._f.length;s++)o=0,t=m({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[s],ct(t),f(t)&&(o+=p(t).charsLeftOver,o+=10*p(t).unusedTokens.length,p(t).score=o,(null==n||o<n)&&(n=o,i=t));h(e,i||t)}function dt(e){if(!e._d){var t=A(e._i);e._a=i([t.year,t.month,t.day||t.date,t.hour,t.minute,t.second,t.millisecond],function(e){return e&&parseInt(e,10)}),at(e)}}function pt(e){var t=new g(it(ft(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=undefined),t}function ft(e){var t=e._i,i=e._f;return e._locale=e._locale||et(e._l),null===t||i===undefined&&""===t?n({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),v(t)?new g(it(t)):(r(i)?ht(e):s(t)?e._d=t:i?ct(e):mt(e),f(e)||(e._d=null),e))}function mt(e){var t=e._i;t===undefined?e._d=new Date(c.now()):s(t)?e._d=new Date(t.valueOf()):"string"==typeof t?st(e):r(t)?(e._a=i(t.slice(0),function(e){return parseInt(e,10)}),at(e)):"object"==typeof t?dt(e):"number"==typeof t?e._d=new Date(t):c.createFromInputFallback(e)}function gt(e,t,i,n,s){var o={};return"boolean"==typeof i&&(n=i,i=undefined),(a(e)&&l(e)||r(e)&&0===e.length)&&(e=undefined),o._isAMomentObject=!0,
o._useUTC=o._isUTC=s,o._l=i,o._i=e,o._f=t,o._strict=n,pt(o)}function vt(e,t,i,n){return gt(e,t,i,n,!1)}function yt(e,t){var i,n;if(1===t.length&&r(t[0])&&(t=t[0]),!t.length)return vt();for(i=t[0],n=1;n<t.length;++n)t[n].isValid()&&!t[n][e](i)||(i=t[n]);return i}function _t(){return yt("isBefore",[].slice.call(arguments,0))}function wt(){return yt("isAfter",[].slice.call(arguments,0))}function bt(e){var t=A(e),i=t.year||0,n=t.quarter||0,s=t.month||0,o=t.week||0,r=t.day||0,a=t.hour||0,l=t.minute||0,c=t.second||0,u=t.millisecond||0;this._milliseconds=+u+1e3*c+6e4*l+1e3*a*60*60,this._days=+r+7*o,this._months=+s+3*n+12*i,this._data={},this._locale=et(),this._bubble()}function xt(e){return e instanceof bt}function St(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function Ct(e,i){V(e,0,0,function(){var e=this.utcOffset(),t="+";return e<0&&(e=-e,t="-"),t+U(~~(e/60),2)+i+U(~~e%60,2)})}function Et(e,t){var i=(t||"").match(e)||[],n=((i[i.length-1]||[])+"").match(Is)||["-",0,0],s=60*n[1]+_(n[2]);return"+"===n[0]?s:-s}function Tt(e,t){var i,n;return t._isUTC?(i=t.clone(),n=(v(e)||s(e)?e.valueOf():vt(e).valueOf())-i.valueOf(),i._d.setTime(i._d.valueOf()+n),c.updateOffset(i,!1),i):vt(e).local()}function kt(e){return 15*-Math.round(e._d.getTimezoneOffset()/15)}function Rt(e,t){var i,n=this._offset||0;return this.isValid()?null!=e?("string"==typeof e?e=Et(qn,e):Math.abs(e)<16&&(e*=60),!this._isUTC&&t&&(i=kt(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),n!==e&&(!t||this._changeInProgress?Ut(this,jt(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,c.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?n:kt(this):null!=e?this:NaN}function Mt(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Pt(e){return this.utcOffset(0,e)}function Nt(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(kt(this),"m")),this}function Dt(){if(this._tzm)this.utcOffset(this._tzm);else if("string"==typeof this._i){0===Et(Vn,this._i)?this.utcOffset(0,!0):this.utcOffset(Et(Vn,this._i))}return this}function It(e){return!!this.isValid()&&(e=e?vt(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function Ot(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Lt(){if(!o(this._isDSTShifted))return this._isDSTShifted;var e={};if(m(e,this),(e=ft(e))._a){var t=e._isUTC?d(e._a):vt(e._a);this._isDSTShifted=this.isValid()&&0<w(e._a,t.toArray())}else this._isDSTShifted=!1;return this._isDSTShifted}function At(){return!!this.isValid()&&!this._isUTC}function Ht(){return!!this.isValid()&&this._isUTC}function Ft(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function jt(e,t){var i,n,s,o=e,r=null;return xt(e)?o={ms:e._milliseconds,d:e._days,M:e._months}:"number"==typeof e?(o={},t?o[t]=e:o.milliseconds=e):(r=Os.exec(e))?(i="-"===r[1]?-1:1,o={y:0,d:_(r[Jn])*i,h:_(r[es])*i,m:_(r[ts])*i,s:_(r[is])*i,ms:_(St(1e3*r[ns]))*i}):(r=Ls.exec(e))?(i="-"===r[1]?-1:1,o={y:zt(r[2],i),M:zt(r[3],i),w:zt(r[4],i),d:zt(r[5],i),h:zt(r[6],i),m:zt(r[7],i),s:zt(r[8],i)}):null==o?o={}:"object"==typeof o&&("from"in o||"to"in o)&&(s=Bt(vt(o.from),vt(o.to)),(o={}).ms=s.milliseconds,o.M=s.months),n=new bt(o),xt(e)&&u(e,"_locale")&&(n._locale=e._locale),n}function zt(e,t){var i=e&&parseFloat(e.replace(",","."));return(isNaN(i)?0:i)*t}function $t(e,t){var i={milliseconds:0,months:0};return i.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(i.months,"M").isAfter(t)&&--i.months,i.milliseconds=+t-+e.clone().add(i.months,"M"),i}function Bt(e,t){var i;return e.isValid()&&t.isValid()?(t=Tt(t,e),e.isBefore(t)?i=$t(e,t):((i=$t(t,e)).milliseconds=-i.milliseconds,i.months=-i.months),i):{milliseconds:0,months:0}}function Wt(n,s){return function(e,t){var i;return null===t||isNaN(+t)||(S(s,"moment()."+s+"(period, number) is deprecated. Please use moment()."+s+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=e,e=t,t=i),Ut(this,jt(e="string"==typeof e?+e:e,t),n),this}}function Ut(e,t,i,n){var s=t._milliseconds,o=St(t._days),r=St(t._months);e.isValid()&&(n=null==n||n,s&&e._d.setTime(e._d.valueOf()+s*i),o&&$(e,"Date",z(e,"Date")+o*i),r&&le(e,z(e,"Month")+r*i),n&&c.updateOffset(e,o||r))}function Vt(e,t){var i=e.diff(t,"days",!0);return i<-6?"sameElse":i<-1?"lastWeek":i<0?"lastDay":i<1?"sameDay":i<2?"nextDay":i<7?"nextWeek":"sameElse"}function qt(e,t){var i=e||vt(),n=Tt(i,this).startOf("day"),s=c.calendarFormat(this,n)||"sameElse",o=t&&(C(t[s])?t[s].call(this,i):t[s]);return this.format(o||this.localeData().calendar(s,this,vt(i)))}function Yt(){return new g(this)}function Gt(e,t){var i=v(e)?e:vt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=L(o(t)?"millisecond":t))?this.valueOf()>i.valueOf():i.valueOf()<this.clone().startOf(t).valueOf())}function Xt(e,t){var i=v(e)?e:vt(e);return!(!this.isValid()||!i.isValid())&&("millisecond"===(t=L(o(t)?"millisecond":t))?this.valueOf()<i.valueOf():this.clone().endOf(t).valueOf()<i.valueOf())}function Zt(e,t,i,n){return("("===(n=n||"()")[0]?this.isAfter(e,i):!this.isBefore(e,i))&&(")"===n[1]?this.isBefore(t,i):!this.isAfter(t,i))}function Kt(e,t){var i,n=v(e)?e:vt(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=L(t||"millisecond"))?this.valueOf()===n.valueOf():(i=n.valueOf(),this.clone().startOf(t).valueOf()<=i&&i<=this.clone().endOf(t).valueOf()))}function Qt(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Jt(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function ei(e,t,i){var n,s,o,r;return this.isValid()&&(n=Tt(e,this)).isValid()?(s=6e4*(n.utcOffset()-this.utcOffset()),"year"===(t=L(t))||"month"===t||"quarter"===t?(r=ti(this,n),"quarter"===t?r/=3:"year"===t&&(r/=12)):(o=this-n,r="second"===t?o/1e3:"minute"===t?o/6e4:"hour"===t?o/36e5:"day"===t?(o-s)/864e5:"week"===t?(o-s)/6048e5:o),i?r:y(r)):NaN}function ti(e,t){var i=12*(t.year()-e.year())+(t.month()-e.month()),n=e.clone().add(i,"months");return-(i+(t-n<0?(t-n)/(n-e.clone().add(i-1,"months")):(t-n)/(e.clone().add(i+1,"months")-n)))||0}function ii(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ni(){var e=this.clone().utc();return 0<e.year()&&e.year()<=9999?C(Date.prototype.toISOString)?this.toDate().toISOString():G(e,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):G(e,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")}function si(e){e||(e=this.isUtc()?c.defaultFormatUtc:c.defaultFormat);var t=G(this,e);return this.localeData().postformat(t)}function oi(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?jt({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(vt(),e)}function ai(e,t){return this.isValid()&&(v(e)&&e.isValid()||vt(e).isValid())?jt({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function li(e){return this.to(vt(),e)}function ci(e){var t;return e===undefined?this._locale._abbr:(null!=(t=et(e))&&(this._locale=t),this)}function ui(){return this._locale}function hi(e){switch(e=L(e)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===e&&this.weekday(0),"isoWeek"===e&&this.isoWeekday(1),"quarter"===e&&this.month(3*Math.floor(this.month()/3)),this}function di(e){return(e=L(e))===undefined||"millisecond"===e?this:("date"===e&&(e="day"),this.startOf(e).add(1,"isoWeek"===e?"week":e).subtract(1,"ms"))}function pi(){return this._d.valueOf()-6e4*(this._offset||0)}function fi(){return Math.floor(this.valueOf()/1e3)}function mi(){return new Date(this.valueOf())}function gi(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function vi(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function yi(){return this.isValid()?this.toISOString():null}function _i(){return f(this)}function wi(){return h({},p(this))}function bi(){return p(this).overflow}function xi(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Si(e,t){V(0,[e,e.length],0,t)}function Ci(e){return Ri.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Ei(e){return Ri.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Ti(){return xe(this.year(),1,4)}function ki(){var e=this.localeData()._week;return xe(this.year(),e.dow,e.doy)}function Ri(e,t,i,n,s){var o;return null==e?be(this,n,s).year:((o=xe(e,n,s))<t&&(t=o),Mi.call(this,e,t,i,n,s))}function Mi(e,t,i,n,s){var o=we(e,t,i,n,s),r=ye(o.year,0,o.dayOfYear);return this.year(r.getUTCFullYear()),this.month(r.getUTCMonth()),this.date(r.getUTCDate()),this}function Pi(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}function Ni(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}function Di(e,t){t[ns]=_(1e3*("0."+e))}function Ii(){return this._isUTC?"UTC":""}function Oi(){return this._isUTC?"Coordinated Universal Time":""}function Li(e){return vt(1e3*e)}function Ai(){return vt.apply(null,arguments).parseZone()}function Hi(e){return e}function Fi(e,t,i,n){var s=et(),o=d().set(n,t);return s[i](o,e)}function ji(e,t,i){if("number"==typeof e&&(t=e,e=undefined),e=e||"",null!=t)return Fi(e,t,i,"month");var n,s=[];for(n=0;n<12;n++)s[n]=Fi(e,n,i,"month");return s}function zi(e,t,i,n){"boolean"==typeof e?"number"==typeof t&&(i=t,t=undefined):(t=e,e=!1,"number"==typeof(i=t)&&(i=t,t=undefined)),t=t||"";var s,o=et(),r=e?o._week.dow:0;if(null!=i)return Fi(t,(i+r)%7,n,"day");var a=[];for(s=0;s<7;s++)a[s]=Fi(t,(s+r)%7,n,"day");return a}function $i(e,t){return ji(e,t,"months")}function Bi(e,t){return ji(e,t,"monthsShort")}function Wi(e,t,i){return zi(e,t,i,"weekdays")}function Ui(e,t,i){return zi(e,t,i,"weekdaysShort")}function Vi(e,t,i){return zi(e,t,i,"weekdaysMin")}function qi(){var e=this._data;return this._milliseconds=Ys(this._milliseconds),this._days=Ys(this._days),this._months=Ys(this._months),e.milliseconds=Ys(e.milliseconds),e.seconds=Ys(e.seconds),e.minutes=Ys(e.minutes),e.hours=Ys(e.hours),e.months=Ys(e.months),e.years=Ys(e.years),this}function Yi(e,t,i,n){var s=jt(t,i);return e._milliseconds+=n*s._milliseconds,e._days+=n*s._days,e._months+=n*s._months,e._bubble()}function Gi(e,t){return Yi(this,e,t,1)}function Xi(e,t){return Yi(this,e,t,-1)}function Zi(e){return e<0?Math.floor(e):Math.ceil(e)}function Ki(){var e,t,i,n,s,o=this._milliseconds,r=this._days,a=this._months,l=this._data;return 0<=o&&0<=r&&0<=a||o<=0&&r<=0&&a<=0||(o+=864e5*Zi(Ji(a)+r),a=r=0),l.milliseconds=o%1e3,e=y(o/1e3),l.seconds=e%60,t=y(e/60),l.minutes=t%60,i=y(t/60),l.hours=i%24,a+=s=y(Qi(r+=y(i/24))),r-=Zi(Ji(s)),n=y(a/12),a%=12,l.days=r,l.months=a,l.years=n,this}function Qi(e){return 4800*e/146097}function Ji(e){return 146097*e/4800}function en(e){var t,i,n=this._milliseconds;if("month"===(e=L(e))||"year"===e)return t=this._days+n/864e5,i=this._months+Qi(t),"month"===e?i:i/12;switch(t=this._days+Math.round(Ji(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return 24*t+n/36e5;case"minute":return 1440*t+n/6e4;case"second":return 86400*t+n/1e3;case"millisecond":return Math.floor(864e5*t)+n;default:throw new Error("Unknown unit "+e)}}function tn(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12)}function nn(e){return function(){return this.as(e)}}function sn(e){return this[(e=L(e))+"s"]()}function on(e){return function(){return this._data[e]}}function rn(){return y(this.days()/7)}function an(e,t,i,n,s){return s.relativeTime(t||1,!!i,e,n)}function ln(e,t,i){var n=jt(e).abs(),s=co(n.as("s")),o=co(n.as("m")),r=co(n.as("h")),a=co(n.as("d")),l=co(n.as("M")),c=co(n.as("y")),u=s<uo.s&&["s",s]||o<=1&&["m"]||o<uo.m&&["mm",o]||r<=1&&["h"]||r<uo.h&&["hh",r]||a<=1&&["d"]||a<uo.d&&["dd",a]||l<=1&&["M"]||l<uo.M&&["MM",l]||c<=1&&["y"]||["yy",c];return u[2]=t,u[3]=0<+e,u[4]=i,an.apply(null,u)}function cn(e){return e===undefined?co:"function"==typeof e&&(co=e,!0)}function un(e,t){return uo[e]!==undefined&&(t===undefined?uo[e]:(uo[e]=t,!0))}function hn(e){var t=this.localeData(),i=ln(this,!e,t);return e&&(i=t.pastFuture(+this,i)),t.postformat(i)}function dn(){var e,t,i=ho(this._milliseconds)/1e3,n=ho(this._days),s=ho(this._months);t=y((e=y(i/60))/60),i%=60,e%=60;var o=y(s/12),r=s%=12,a=n,l=t,c=e,u=i,h=this.asSeconds();return h?(h<0?"-":"")+"P"+(o?o+"Y":"")+(r?r+"M":"")+(a?a+"D":"")+(l||c||u?"T":"")+(l?l+"H":"")+(c?c+"M":"")+(u?u+"S":""):"P0D"}var pn,fn;fn=Array.prototype.some?Array.prototype.some:function(e){for(var t=Object(this),i=t.length>>>0,n=0;n<i;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};var mn,gn=c.momentProperties=[],vn=!1,yn={};c.suppressDeprecationWarnings=!1,c.deprecationHandler=null,mn=Object.keys?Object.keys:function(e){var t,i=[];for(t in e)u(e,t)&&i.push(t);return i};var _n,wn={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},bn={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},xn="Invalid date",Sn="%d",Cn=/\d{1,2}/,En={future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},Tn={},kn={},Rn=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Mn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Pn={},Nn={},Dn=/\d/,In=/\d\d/,On=/\d{3}/,Ln=/\d{4}/,An=/[+-]?\d{6}/,Hn=/\d\d?/,Fn=/\d\d\d\d?/,jn=/\d\d\d\d\d\d?/,zn=/\d{1,3}/,$n=/\d{1,4}/,Bn=/[+-]?\d{1,6}/,Wn=/\d+/,Un=/[+-]?\d+/,Vn=/Z|[+-]\d\d:?\d\d/gi,qn=/Z|[+-]\d\d(?::?\d\d)?/gi,Yn=/[+-]?\d+(\.\d{1,3})?/,Gn=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Xn={},Zn={},Kn=0,Qn=1,Jn=2,es=3,ts=4,is=5,ns=6,ss=7,os=8;_n=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},V("M",["MM",2],"Mo",function(){return this.month()+1}),V("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)}),V("MMMM",0,0,function(e){return this.localeData().months(this,e)}),O("month","M"),H("month",8),Z("M",Hn),Z("MM",Hn,In),Z("MMM",function(e,t){return t.monthsShortRegex(e)}),Z("MMMM",function(e,t){return t.monthsRegex(e)}),ee(["M","MM"],function(e,t){t[Qn]=_(e)-1}),ee(["MMM","MMMM"],function(e,t,i,n){var s=i._locale.monthsParse(e,n,i._strict);null!=s?t[Qn]=s:p(i).invalidMonth=e});var rs=/D[oD]?(\[[^\[\]]*\]|\s+)+MMMM?/,as="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ls="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),cs=Gn,us=Gn;V("Y",0,0,function(){var e=this.year();return e<=9999?""+e:"+"+e}),V(0,["YY",2],0,function(){return this.year()%100}),V(0,["YYYY",4],0,"year"),V(0,["YYYYY",5],0,"year"),V(0,["YYYYYY",6,!0],0,"year"),O("year","y"),H("year",1),Z("Y",Un),Z("YY",Hn,In),Z("YYYY",$n,Ln),Z("YYYYY",Bn,An),Z("YYYYYY",Bn,An),ee(["YYYYY","YYYYYY"],Kn),ee("YYYY",function(e,t){t[Kn]=2===e.length?c.parseTwoDigitYear(e):_(e)}),ee("YY",function(e,t){t[Kn]=c.parseTwoDigitYear(e)}),ee("Y",function(e,t){t[Kn]=parseInt(e,10)}),c.parseTwoDigitYear=function(e){return _(e)+(68<_(e)?1900:2e3)};var hs=j("FullYear",!0);V("w",["ww",2],"wo","week"),V("W",["WW",2],"Wo","isoWeek"),O("week","w"),O("isoWeek","W"),H("week",5),H("isoWeek",5),Z("w",Hn),Z("ww",Hn,In),Z("W",Hn),Z("WW",Hn,In),te(["w","ww","W","WW"],function(e,t,i,n){t[n.substr(0,1)]=_(e)});var ds={dow:0,doy:6};V("d",0,"do","day"),V("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)}),V("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)}),V("dddd",0,0,function(e){return this.localeData().weekdays(this,e)}),V("e",0,0,"weekday"),V("E",0,0,"isoWeekday"),O("day","d"),O("weekday","e"),O("isoWeekday","E"),H("day",11),H("weekday",11),H("isoWeekday",11),Z("d",Hn),Z("e",Hn),Z("E",Hn),Z("dd",function(e,t){return t.weekdaysMinRegex(e)}),Z("ddd",function(e,t){return t.weekdaysShortRegex(e)}),Z("dddd",function(e,t){return t.weekdaysRegex(e)}),te(["dd","ddd","dddd"],function(e,t,i,n){var s=i._locale.weekdaysParse(e,n,i._strict);null!=s?t.d=s:p(i).invalidWeekday=e}),te(["d","e","E"],function(e,t,i,n){t[n]=_(e)});var ps="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),fs="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),ms="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),gs=Gn,vs=Gn,ys=Gn;V("H",["HH",2],0,"hour"),V("h",["hh",2],0,Be),V("k",["kk",2],0,We),V("hmm",0,0,function(){return""+Be.apply(this)+U(this.minutes(),2)}),V("hmmss",0,0,function(){return""+Be.apply(this)+U(this.minutes(),2)+U(this.seconds(),2)}),V("Hmm",0,0,function(){return""+this.hours()+U(this.minutes(),2)}),V("Hmmss",0,0,function(){return""+this.hours()+U(this.minutes(),2)+U(this.seconds(),2)}),Ue("a",!0),Ue("A",!1),O("hour","h"),H("hour",13),Z("a",Ve),Z("A",Ve),Z("H",Hn),Z("h",Hn),Z("HH",Hn,In),Z("hh",Hn,In),Z("hmm",Fn),Z("hmmss",jn),Z("Hmm",Fn),Z("Hmmss",jn),ee(["H","HH"],es),ee(["a","A"],function(e,t,i){i._isPm=i._locale.isPM(e),i._meridiem=e}),ee(["h","hh"],function(e,t,i){t[es]=_(e),p(i).bigHour=!0}),ee("hmm",function(e,t,i){var n=e.length-2;t[es]=_(e.substr(0,n)),t[ts]=_(e.substr(n)),p(i).bigHour=!0}),ee("hmmss",function(e,t,i){var n=e.length-4,s=e.length-2;t[es]=_(e.substr(0,n)),t[ts]=_(e.substr(n,2)),t[is]=_(e.substr(s)),p(i).bigHour=!0}),ee("Hmm",function(e,t){var i=e.length-2;t[es]=_(e.substr(0,i)),t[ts]=_(e.substr(i))}),ee("Hmmss",function(e,t){var i=e.length-4,n=e.length-2;t[es]=_(e.substr(0,i)),t[ts]=_(e.substr(i,2)),t[is]=_(e.substr(n))});var _s,ws=/[ap]\.?m?\.?/i,bs=j("Hours",!0),xs={calendar:wn,longDateFormat:bn,invalidDate:xn,ordinal:Sn,ordinalParse:Cn,relativeTime:En,months:as,monthsShort:ls,week:ds,weekdays:ps,weekdaysMin:ms,weekdaysShort:fs,meridiemParse:ws},Ss={},Cs=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Es=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?/,Ts=/Z|[+-]\d\d(?::?\d\d)?/,ks=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],Rs=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Ms=/^\/?Date\((\-?\d+)/i;c.createFromInputFallback=x("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))}),c.ISO_8601=function(){};var Ps=x("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:n()}),Ns=x("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=vt.apply(null,arguments);return this.isValid()&&e.isValid()?this<e?this:e:n()}),Ds=function(){return Date.now?Date.now():+new Date};Ct("Z",":"),Ct("ZZ",""),Z("Z",qn),Z("ZZ",qn),ee(["Z","ZZ"],function(e,t,i){i._useUTC=!0,i._tzm=Et(qn,e)});var Is=/([\+\-]|\d\d)/gi;c.updateOffset=function(){};var Os=/^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,Ls=/^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;jt.fn=bt.prototype;var As=Wt(1,"add"),Hs=Wt(-1,"subtract");c.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",c.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var Fs=x("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===undefined?this.localeData():this.locale(e)});V(0,["gg",2],0,function(){return this.weekYear()%100}),V(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Si("gggg","weekYear"),Si("ggggg","weekYear"),Si("GGGG","isoWeekYear"),Si("GGGGG","isoWeekYear"),O("weekYear","gg"),O("isoWeekYear","GG"),H("weekYear",1),H("isoWeekYear",1),Z("G",Un),Z("g",Un),Z("GG",Hn,In),Z("gg",Hn,In),Z("GGGG",$n,Ln),Z("gggg",$n,Ln),Z("GGGGG",Bn,An),Z("ggggg",Bn,An),te(["gggg","ggggg","GGGG","GGGGG"],function(e,t,i,n){t[n.substr(0,2)]=_(e)}),te(["gg","GG"],function(e,t,i,n){t[n]=c.parseTwoDigitYear(e)}),V("Q",0,"Qo","quarter"),O("quarter","Q"),H("quarter",7),Z("Q",Dn),ee("Q",function(e,t){t[Qn]=3*(_(e)-1)}),V("D",["DD",2],"Do","date"),O("date","D"),H("date",9),Z("D",Hn),Z("DD",Hn,In),Z("Do",function(e,t){return e?t._ordinalParse:t._ordinalParseLenient}),ee(["D","DD"],Jn),ee("Do",function(e,t){t[Jn]=_(e.match(Hn)[0],10)});var js=j("Date",!0);V("DDD",["DDDD",3],"DDDo","dayOfYear"),O("dayOfYear","DDD"),H("dayOfYear",4),Z("DDD",zn),Z("DDDD",On),ee(["DDD","DDDD"],function(e,t,i){i._dayOfYear=_(e)}),V("m",["mm",2],0,"minute"),O("minute","m"),H("minute",14),Z("m",Hn),Z("mm",Hn,In),ee(["m","mm"],ts);var zs=j("Minutes",!1);V("s",["ss",2],0,"second"),O("second","s"),H("second",15),Z("s",Hn),Z("ss",Hn,In),ee(["s","ss"],is);var $s,Bs=j("Seconds",!1);for(V("S",0,0,function(){return~~(this.millisecond()/100)}),V(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),V(0,["SSS",3],0,"millisecond"),V(0,["SSSS",4],0,function(){return 10*this.millisecond()}),V(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),V(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),V(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),V(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),V(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),O("millisecond","ms"),H("millisecond",16),Z("S",zn,Dn),Z("SS",zn,In),Z("SSS",zn,On),$s="SSSS";$s.length<=9;$s+="S")Z($s,Wn);for($s="S";$s.length<=9;$s+="S")ee($s,Di);var Ws=j("Milliseconds",!1);V("z",0,0,"zoneAbbr"),V("zz",0,0,"zoneName");var Us=g.prototype;Us.add=As,Us.calendar=qt,Us.clone=Yt,Us.diff=ei,Us.endOf=di,Us.format=si,Us.from=oi,Us.fromNow=ri,Us.to=ai,Us.toNow=li,Us.get=B,Us.invalidAt=bi,Us.isAfter=Gt,Us.isBefore=Xt,Us.isBetween=Zt,Us.isSame=Kt,Us.isSameOrAfter=Qt,Us.isSameOrBefore=Jt,Us.isValid=_i,Us.lang=Fs,Us.locale=ci,Us.localeData=ui,Us.max=Ns,Us.min=Ps,Us.parsingFlags=wi,Us.set=W,Us.startOf=hi,Us.subtract=Hs,Us.toArray=gi,Us.toObject=vi,Us.toDate=mi,Us.toISOString=ni,Us.toJSON=yi,Us.toString=ii,Us.unix=fi,Us.valueOf=pi,Us.creationData=xi,Us.year=hs,Us.isLeapYear=ge,Us.weekYear=Ci,Us.isoWeekYear=Ei,Us.quarter=Us.quarters=Pi,Us.month=ce,Us.daysInMonth=ue,Us.week=Us.weeks=Te,Us.isoWeek=Us.isoWeeks=ke,Us.weeksInYear=ki,Us.isoWeeksInYear=Ti,Us.date=js,Us.day=Us.days=Le,Us.weekday=Ae,Us.isoWeekday=He,Us.dayOfYear=Ni,Us.hour=Us.hours=bs,Us.minute=Us.minutes=zs,Us.second=Us.seconds=Bs,Us.millisecond=Us.milliseconds=Ws,Us.utcOffset=Rt,Us.utc=Pt,Us.local=Nt,Us.parseZone=Dt,Us.hasAlignedHourOffset=It,Us.isDST=Ot,Us.isLocal=At,Us.isUtcOffset=Ht,Us.isUtc=Ft,Us.isUTC=Ft,Us.zoneAbbr=Ii,Us.zoneName=Oi,Us.dates=x("dates accessor is deprecated. Use date instead.",js),Us.months=x("months accessor is deprecated. Use month instead",ce),Us.years=x("years accessor is deprecated. Use year instead",hs),Us.zone=x("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Mt),Us.isDSTShifted=x("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Lt);var Vs=Us,qs=k.prototype;qs.calendar=R,qs.longDateFormat=M,qs.invalidDate=P,qs.ordinal=N,qs.preparse=Hi,qs.postformat=Hi,qs.relativeTime=D,qs.pastFuture=I,qs.set=E,qs.months=se,qs.monthsShort=oe,qs.monthsParse=ae,qs.monthsRegex=de,qs.monthsShortRegex=he,qs.week=Se,qs.firstDayOfYear=Ee,qs.firstDayOfWeek=Ce,qs.weekdays=Pe,qs.weekdaysMin=De,qs.weekdaysShort=Ne,qs.weekdaysParse=Oe,qs.weekdaysRegex=Fe,qs.weekdaysShortRegex=je,qs.weekdaysMinRegex=ze,qs.isPM=qe,qs.meridiem=Ye,Ke("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===_(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),c.lang=x("moment.lang is deprecated. Use moment.locale instead.",Ke),c.langData=x("moment.langData is deprecated. Use moment.localeData instead.",et);var Ys=Math.abs,Gs=nn("ms"),Xs=nn("s"),Zs=nn("m"),Ks=nn("h"),Qs=nn("d"),Js=nn("w"),eo=nn("M"),to=nn("y"),io=on("milliseconds"),no=on("seconds"),so=on("minutes"),oo=on("hours"),ro=on("days"),ao=on("months"),lo=on("years"),co=Math.round,uo={s:45,m:45,h:22,d:26,M:11},ho=Math.abs,po=bt.prototype;return po.abs=qi,po.add=Gi,po.subtract=Xi,po.as=en,po.asMilliseconds=Gs,po.asSeconds=Xs,po.asMinutes=Zs,po.asHours=Ks,po.asDays=Qs,po.asWeeks=Js,po.asMonths=eo,po.asYears=to,po.valueOf=tn,po._bubble=Ki,po.get=sn,po.milliseconds=io,po.seconds=no,po.minutes=so,po.hours=oo,po.days=ro,po.weeks=rn,po.months=ao,po.years=lo,po.humanize=hn,po.toISOString=dn,po.toString=dn,po.toJSON=dn,po.locale=ci,po.localeData=ui,po.toIsoString=x("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",dn),po.lang=Fs,V("X",0,0,"unix"),V("x",0,0,"valueOf"),Z("x",Un),Z("X",Yn),ee("X",function(e,t,i){i._d=new Date(1e3*parseFloat(e,10))}),ee("x",function(e,t,i){i._d=new Date(_(e))}),c.version="2.15.1",e(vt),c.fn=Vs,c.min=_t,c.max=wt,c.now=Ds,c.utc=d,c.unix=Li,c.months=$i,c.isDate=s,c.locale=Ke,c.invalid=n,c.duration=jt,c.isMoment=v,c.weekdays=Wi,c.parseZone=Ai,c.localeData=et,c.isDuration=xt,c.monthsShort=Bi,c.weekdaysMin=Vi,c.defineLocale=Qe,c.updateLocale=Je,c.locales=tt,c.weekdaysShort=Ui,c.normalizeUnits=L,c.relativeTimeRounding=cn,c.relativeTimeThreshold=un,c.calendarFormat=Vt,c.prototype=Vs,c}),"undefined"==typeof moment&&require&&(moment=require("moment")),function(f){function a(e,t){return e+" "+g[t+(1===e?"":"s")]}function m(e,t,i,n,s,o){var r=[];return e&&r.push(a(e,"year")),t&&r.push(a(t,"month")),i&&r.push(a(i,"day")),n&&r.push(a(n,"hour")),s&&r.push(a(s,"minute")),o&&r.push(a(o,"second")),r.join(g.delimiter)}var g={nodiff:"",year:"year",years:"years",month:"month",months:"months",day:"day",days:"days",hour:"hour",hours:"hours",minute:"minute",minutes:"minutes",second:"second",seconds:"seconds",delimiter:" "};f.fn.preciseDiff=function(e,t){return f.preciseDiff(this,e,t)},f.preciseDiff=function(e,t,i){var n,s=f(e),o=f(t);if(s.add(o.utcOffset()-s.utcOffset(),"minutes"),s.isSame(o))return g.nodiff;if(s.isAfter(o)){var r=s;s=o,o=r,n=!0}else n=!1;var a=o.year()-s.year(),l=o.month()-s.month(),c=o.date()-s.date(),u=o.hour()-s.hour(),h=o.minute()-s.minute(),d=o.second()-s.second();if(d<0&&(d=60+d,h--),h<0&&(h=60+h,u--),u<0&&(u=24+u,c--),c<0){var p=f(o.year()+"-"+(o.month()+1),"YYYY-MM").subtract(1,"M").daysInMonth();c=p<s.date()?p+c+(s.date()-p):p+c,l--}return l<0&&(l=12+l,a--),i?{years:a,months:l,days:c,hours:u,minutes:h,seconds:d,firstDateWasLater:n}:m(a,l,c,u,h,d)}}(moment),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t;"undefined"!=typeof window?t=window:"undefined"!=typeof global?t=global:"undefined"!=typeof self&&(t=self),t.Countdown=e()}}(function(){return function u(o,r,a){function l(i,e){if(!r[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=r[i]={exports:{}};o[i][0].call(s.exports,function(e){var t=o[i][1][e];return l(t||e)},s,s.exports,u,o,r,a)}return r[i].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)l(a[e]);return l}({1:[function(e,t){var n={date:"June 7, 2087 15:03:25",refresh:1e3,offset:0,onEnd:function(){},render:function(e){this.el.innerHTML=e.years+" years, "+e.days+" days, "+this.leadingZeros(e.hours)+" hours, "+this.leadingZeros(e.min)+" min and "+this.leadingZeros(e.sec)+" sec"}},i=function(e,t){for(var i in this.el=e,this.options={},this.interval=!1,n)n.hasOwnProperty(i)&&(this.options[i]="undefined"!=typeof t[i]?t[i]:n[i],"date"===i&&"object"!=typeof this.options.date&&(this.options.date=new Date(this.options.date)),"function"==typeof this.options[i]&&(this.options[i]=this.options[i].bind(this)));this.getDiffDate=function(){var e=(this.options.date.getTime()-Date.now()+this.options.offset)/1e3,t={years:0,days:0,hours:0,min:0,sec:0,millisec:0};return e<=0?this.interval&&(this.stop(),this.options.onEnd()):(31557600<=e&&(t.years=Math.floor(e/31557600),e-=365.25*t.years*86400),86400<=e&&(t.days=Math.floor(e/86400),e-=86400*t.days),3600<=e&&(t.hours=Math.floor(e/3600),e-=3600*t.hours),60<=e&&(t.min=Math.floor(e/60),e-=60*t.min),t.sec=Math.round(e),t.millisec=e%1*1e3),t}.bind(this),this.leadingZeros=function(e,t){return t=t||2,(e=String(e)).length>t?e:(Array(t+1).join("0")+e).substr(-t)},this.update=function(e){return"object"!=typeof e&&(e=new Date(e)),this.options.date=e,this.render(),this}.bind(this),this.stop=function(){return this.interval&&(clearInterval(this.interval),this.interval=!1),this}.bind(this),this.render=function(){return this.options.render(this.getDiffDate()),this}.bind(this),this.start=function(){if(!this.interval)return this.render(),this.options.refresh&&(this.interval=setInterval(this.render,this.options.refresh)),this}.bind(this),this.updateOffset=function(e){return this.options.offset=e,this}.bind(this),this.start()};t.exports=i},{}],2:[function(e,t){var s=e("./countdown.js"),o="countdown",r="date";jQuery.fn.countdown=function(n){return $.each(this,function(e,t){var i=$(t);i.data(o)||(i.data(r)&&(n.date=i.data(r)),i.data(o,new s(t,n)))})},t.exports=s},{"./countdown.js":1}]},{},[2])(2)}),function(u,t,o){function i(i){return s(arguments,function(e,t){i[e]===o&&(i[e]=t)}),i}function h(i){return s(arguments,function(e,t){i[a][n(i,e)||e]=t}),i}function n(e,t){var i,n,s=e[a];if(s[t]!==o)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<F[f];n++)if(s[i=F[n]+t]!==o)return i}function r(e,t){var i,n=[_,t,~~(100*e)].join("-"),s="{"+_+":"+e+"}";if(!j[n]){for(i=0;i<F[f];i++)try{z.insertRule("@"+(F[i]&&"-"+F[i].toLowerCase()+"-"||"")+"keyframes "+n+"{0%{"+_+":1}"+t+"%"+s+"to"+s+"}",z.cssRules[f])}catch(g){}j[n]=1}return n}function d(e,t,i){return i&&!i[R]&&d(e,i),e.insertBefore(t,i||null),e}function l(e){var i=t.createElement(e||"div");return s(arguments,function(e,t){i[e]=t}),i}function s(e,t){for(var i=~~((e[f]-1)/2),n=1;n<=i;n++)t(e[2*n-1],e[2*n])}var p,c="width",f="length",m="radius",g="lines",v="trail",y="color",_="opacity",w="speed",b="shadow",a="style",x="height",S="left",C="top",E="px",T="childNodes",k="firstChild",R="parentNode",M="position",P="relative",N="absolute",D="animation",I="transform",O="Origin",L="Timeout",A="coord",H="#000",e=a+"Sheets",F="webkit0Moz0ms0O".split(0),j={};d(t.getElementsByTagName("head")[0],l(a));var z=t[e][t[e][f]-1],$=function(e){this.opts=i(e||{},g,12,v,100,f,7,c,5,m,10,y,H,_,.25,w,1)},B=$.prototype={spin:function(e){var i=this,n=i.el=i[g](i.opts);if(e&&d(e,h(n,S,~~(e.offsetWidth/2)+E,C,~~(e.offsetHeight/2)+E),e[k]),!p){var s=i.opts,o=0,r=20/s[w],a=(1-s[_])/(r*s[v]/100),l=r/s[g];!function c(){o++;for(var e=s[g];e;e--){var t=Math.max(1-(o+e*l)%r*a,s[_]);i[_](n,s[g]-e,t,s)}i[L]=i.el&&u["set"+L](c,50)}()}return i},stop:function(){var e=this,t=e.el;return u["clear"+L](e[L]),t&&t[R]&&t[R].removeChild(t),e.el=o,e}};B[g]=function(i){function e(e,t){return h(l(),M,N,c,i[f]+i[c]+E,x,i[c]+E,"background",e,"boxShadow",t,I+O,S,I,"rotate("+~~(360/i[g]*o)+"deg) translate("+i[m]+E+",0)","borderRadius","100em")}for(var t,n=h(l(),M,P),s=r(i[_],i[v]),o=0;o<i[g];o++)t=h(l(),M,N,C,1+~(i[c]/2)+E,I,"translate3d(0,0,0)",D,s+" "+1/i[w]+"s linear infinite "+(1/i[g]/i[w]*o-1/i[w])+"s"),i[b]&&d(t,h(e(H,"0 0 4px "+H),C,2+E)
),d(n,d(t,e(i[y],"0 0 1px rgba(0,0,0,.1)")));return n},B[_]=function(e,t,i){e[T][t][a][_]=i};var W="behavior",U="url(#default#VML)",V="group0roundrect0fill0stroke".split(0);(function(){var e,t=h(l(V[0]),W,U);if(!n(t,I)&&t.adj){for(e=0;e<V[f];e++)z.addRule(V[e],W+":"+U);B[g]=function(){function e(e,t,i){d(r,d(h(n(),"rotation",360/s[g]*e+"deg",S,~~t),d(h(l(V[1],"arcsize",1),c,o,x,s[c],S,s[m],C,-s[c]/2,"filter",i),l(V[2],y,s[y],_,s[_]),l(V[3],_,0))))}function n(){return h(l(V[0],A+"size",i+" "+i,A+O,-o+" "+-o),c,i,x,i)}var t,s=this.opts,o=s[f]+s[c],i=2*o,r=n(),a=~(s[f]+s[m]+s[c])+E;if(s[b])for(t=1;t<=s[g];t++)e(t,-2,"progid:DXImage"+I+".Microsoft.Blur(pixel"+m+"=2,make"+b+"=1,"+b+_+"=.3)");for(t=1;t<=s[g];t++)e(t);return d(h(l(),"margin",a+" 0 0 "+a,M,P),r)},B[_]=function(e,t,i,n){n=n[b]&&n[g]||0,e[k][T][t+n][k][k][_]=i}}else p=n(t,D)})(),u.Spinner=$}(window,document),function(e){function t(){}function i(c){function i(e){e.prototype.option||(e.prototype.option=function(e){c.isPlainObject(e)&&(this.options=c.extend(!0,this.options,e))})}function n(a,l){c.fn[a]=function(t){if("string"!=typeof t)return this.each(function(){var e=c.data(this,a);e?(e.option(t),e._init()):(e=new l(this,t),c.data(this,a,e))});for(var e=h.call(arguments,1),i=0,n=this.length;i<n;i++){var s=this[i],o=c.data(s,a);if(o)if(c.isFunction(o[t])&&"_"!==t.charAt(0)){var r=o[t].apply(o,e);if(void 0!==r)return r}else u("no such method '"+t+"' for "+a+" instance");else u("cannot call methods on "+a+" prior to initialization; attempted to call '"+t+"'")}return this}}if(c){var u="undefined"==typeof console?t:function(e){console.error(e)};return c.bridget=function(e,t){i(t),n(e,t)},c.bridget}}var h=Array.prototype.slice;"function"==typeof define&&define.amd?define("jquery-bridget/jquery.bridget",["jquery"],i):i("object"==typeof exports?require("jquery"):e.jQuery)}(window),function(i){function n(e){var t=i.event;return t.target=t.target||t.srcElement||e,t}var e=document.documentElement,s=function(){};e.addEventListener?s=function(e,t,i){e.addEventListener(t,i,!1)}:e.attachEvent&&(s=function(t,e,i){t[e+i]=i.handleEvent?function(){var e=n(t);i.handleEvent.call(i,e)}:function(){var e=n(t);i.call(t,e)},t.attachEvent("on"+e,t[e+i])});var t=function(){};e.removeEventListener?t=function(e,t,i){e.removeEventListener(t,i,!1)}:e.detachEvent&&(t=function(e,t,i){e.detachEvent("on"+t,e[t+i]);try{delete e[t+i]}catch(s){e[t+i]=void 0}});var o={bind:s,unbind:t};"function"==typeof define&&define.amd?define("eventie/eventie",o):"object"==typeof exports?module.exports=o:i.eventie=o}(window),function(){"use strict";function e(){}function o(e,t){for(var i=e.length;i--;)if(e[i].listener===t)return i;return-1}function t(e){return function(){return this[e].apply(this,arguments)}}var i=e.prototype,n=this,s=n.EventEmitter;i.getListeners=function(e){var t,i,n=this._getEvents();if(e instanceof RegExp)for(i in t={},n)n.hasOwnProperty(i)&&e.test(i)&&(t[i]=n[i]);else t=n[e]||(n[e]=[]);return t},i.flattenListeners=function(e){var t,i=[];for(t=0;t<e.length;t+=1)i.push(e[t].listener);return i},i.getListenersAsObject=function(e){var t,i=this.getListeners(e);return i instanceof Array&&((t={})[e]=i),t||i},i.addListener=function(e,t){var i,n=this.getListenersAsObject(e),s="object"==typeof t;for(i in n)n.hasOwnProperty(i)&&-1===o(n[i],t)&&n[i].push(s?t:{listener:t,once:!1});return this},i.on=t("addListener"),i.addOnceListener=function(e,t){return this.addListener(e,{listener:t,once:!0})},i.once=t("addOnceListener"),i.defineEvent=function(e){return this.getListeners(e),this},i.defineEvents=function(e){for(var t=0;t<e.length;t+=1)this.defineEvent(e[t]);return this},i.removeListener=function(e,t){var i,n,s=this.getListenersAsObject(e);for(n in s)s.hasOwnProperty(n)&&(-1!==(i=o(s[n],t))&&s[n].splice(i,1));return this},i.off=t("removeListener"),i.addListeners=function(e,t){return this.manipulateListeners(!1,e,t)},i.removeListeners=function(e,t){return this.manipulateListeners(!0,e,t)},i.manipulateListeners=function(e,t,i){var n,s,o=e?this.removeListener:this.addListener,r=e?this.removeListeners:this.addListeners;if("object"!=typeof t||t instanceof RegExp)for(n=i.length;n--;)o.call(this,t,i[n]);else for(n in t)t.hasOwnProperty(n)&&(s=t[n])&&("function"==typeof s?o.call(this,n,s):r.call(this,n,s));return this},i.removeEvent=function(e){var t,i=typeof e,n=this._getEvents();if("string"===i)delete n[e];else if(e instanceof RegExp)for(t in n)n.hasOwnProperty(t)&&e.test(t)&&delete n[t];else delete this._events;return this},i.removeAllListeners=t("removeEvent"),i.emitEvent=function(e,t){var i,n,s,o=this.getListenersAsObject(e);for(s in o)if(o.hasOwnProperty(s))for(n=o[s].length;n--;)!0===(i=o[s][n]).once&&this.removeListener(e,i.listener),i.listener.apply(this,t||[])===this._getOnceReturnValue()&&this.removeListener(e,i.listener);return this},i.trigger=t("emitEvent"),i.emit=function(e){var t=Array.prototype.slice.call(arguments,1);return this.emitEvent(e,t)},i.setOnceReturnValue=function(e){return this._onceReturnValue=e,this},i._getOnceReturnValue=function(){return!this.hasOwnProperty("_onceReturnValue")||this._onceReturnValue},i._getEvents=function(){return this._events||(this._events={})},e.noConflict=function(){return n.EventEmitter=s,e},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return e}):"object"==typeof module&&module.exports?module.exports=e:n.EventEmitter=e}.call(this),function(e){function t(e){if(e){if("string"==typeof o[e])return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var t,i=0,n=s.length;i<n;i++)if(t=s[i]+e,"string"==typeof o[t])return t}}var s="Webkit Moz ms Ms O".split(" "),o=document.documentElement.style;"function"==typeof define&&define.amd?define("get-style-property/get-style-property",[],function(){return t}):"object"==typeof exports?module.exports=t:e.getStyleProperty=t}(window),function(a){function S(e){var t=parseFloat(e);return-1===e.indexOf("%")&&!isNaN(t)&&t}function e(){}function C(){for(var e={width:0,height:0,innerWidth:0,innerHeight:0,outerWidth:0,outerHeight:0},t=0,i=E.length;t<i;t++){e[E[t]]=0}return e}function t(o){function y(){if(!r){r=!0;var t=a.getComputedStyle;if(s=t?function(e){return t(e,null)}:function(e){return e.currentStyle},w=function(e){var t=s(e);return t||l("Style returned "+t+". Are you running this code in a hidden iframe on Firefox? See http://bit.ly/getsizebug1"),t},b=o("boxSizing")){var e=document.createElement("div");e.style.width="200px",e.style.padding="1px 2px 3px 4px",e.style.borderStyle="solid",e.style.borderWidth="1px 2px 3px 4px",e.style[b]="border-box";var i=document.body||document.documentElement;i.appendChild(e);var n=w(e);x=200===S(n.width),i.removeChild(e)}}var s}function e(e){if(y(),"string"==typeof e&&(e=document.querySelector(e)),e&&"object"==typeof e&&e.nodeType){var t=w(e);if("none"===t.display)return C();var i={};i.width=e.offsetWidth,i.height=e.offsetHeight;for(var n=i.isBorderBox=!(!b||!t[b]||"border-box"!==t[b]),s=0,o=E.length;s<o;s++){var r=E[s],a=t[r];a=_(e,a);var l=parseFloat(a);i[r]=isNaN(l)?0:l}var c=i.paddingLeft+i.paddingRight,u=i.paddingTop+i.paddingBottom,h=i.marginLeft+i.marginRight,d=i.marginTop+i.marginBottom,p=i.borderLeftWidth+i.borderRightWidth,f=i.borderTopWidth+i.borderBottomWidth,m=n&&x,g=S(t.width);!1!==g&&(i.width=g+(m?0:c+p));var v=S(t.height);return!1!==v&&(i.height=v+(m?0:u+f)),i.innerWidth=i.width-(c+p),i.innerHeight=i.height-(u+f),i.outerWidth=i.width+h,i.outerHeight=i.height+d,i}}function _(e,t){if(a.getComputedStyle||-1===t.indexOf("%"))return t;var i=e.style,n=i.left,s=e.runtimeStyle,o=s&&s.left;return o&&(s.left=e.currentStyle.left),i.left=t,t=i.pixelLeft,i.left=n,o&&(s.left=o),t}var w,b,x,r=!1;return e}var l="undefined"==typeof console?e:function(e){console.error(e)},E=["paddingLeft","paddingRight","paddingTop","paddingBottom","marginLeft","marginRight","marginTop","marginBottom","borderLeftWidth","borderRightWidth","borderTopWidth","borderBottomWidth"];"function"==typeof define&&define.amd?define("get-size/get-size",["get-style-property/get-style-property"],t):"object"==typeof exports?module.exports=t(require("desandro-get-style-property")):a.getSize=t(a.getStyleProperty)}(window),function(t){function i(e){"function"==typeof e&&(i.isReady?e():r.push(e))}function n(e){var t="readystatechange"===e.type&&"complete"!==o.readyState;i.isReady||t||s()}function s(){i.isReady=!0;for(var e=0,t=r.length;e<t;e++){(0,r[e])()}}function e(e){return"complete"===o.readyState?s():(e.bind(o,"DOMContentLoaded",n),e.bind(o,"readystatechange",n),e.bind(t,"load",n)),i}var o=t.document,r=[];i.isReady=!1,"function"==typeof define&&define.amd?define("doc-ready/doc-ready",["eventie/eventie"],e):"object"==typeof exports?module.exports=e(require("eventie")):t.docReady=e(t.eventie)}(window),function(s){"use strict";function i(e,t){return e[r](t)}function o(e){e.parentNode||document.createDocumentFragment().appendChild(e)}function e(e,t){o(e);for(var i=e.parentNode.querySelectorAll(t),n=0,s=i.length;n<s;n++)if(i[n]===e)return!0;return!1}function t(e,t){return o(e),i(e,t)}var n,r=function(){if(s.matches)return"matches";if(s.matchesSelector)return"matchesSelector";for(var e=["webkit","moz","ms","o"],t=0,i=e.length;t<i;t++){var n=e[t]+"MatchesSelector";if(s[n])return n}}();if(r){var a=i(document.createElement("div"),"div");n=a?i:t}else n=e;"function"==typeof define&&define.amd?define("matches-selector/matches-selector",[],function(){return n}):"object"==typeof exports?module.exports=n:window.matchesSelector=n}(Element.prototype),function(i,n){"use strict";"function"==typeof define&&define.amd?define("fizzy-ui-utils/utils",["doc-ready/doc-ready","matches-selector/matches-selector"],function(e,t){return n(i,e,t)}):"object"==typeof exports?module.exports=n(i,require("doc-ready"),require("desandro-matches-selector")):i.fizzyUIUtils=n(i,i.docReady,i.matchesSelector)}(window,function(p,e,c){var f={extend:function(e,t){for(var i in t)e[i]=t[i];return e},modulo:function(e,t){return(e%t+t)%t}},t=Object.prototype.toString;f.isArray=function(e){return"[object Array]"==t.call(e)},f.makeArray=function(e){var t=[];if(f.isArray(e))t=e;else if(e&&"number"==typeof e.length)for(var i=0,n=e.length;i<n;i++)t.push(e[i]);else t.push(e);return t},f.indexOf=Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var i=0,n=e.length;i<n;i++)if(e[i]===t)return i;return-1},f.removeFrom=function(e,t){var i=f.indexOf(e,t);-1!=i&&e.splice(i,1)},f.isElement="function"==typeof HTMLElement||"object"==typeof HTMLElement?function(e){return e instanceof HTMLElement}:function(e){return e&&"object"==typeof e&&1==e.nodeType&&"string"==typeof e.nodeName},f.setText=function(){function e(e,t){e[i=i||(void 0!==document.documentElement.textContent?"textContent":"innerText")]=t}var i;return e}(),f.getParent=function(e,t){for(;e!=document.body;)if(e=e.parentNode,c(e,t))return e},f.getQueryElement=function(e){return"string"==typeof e?document.querySelector(e):e},f.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},f.filterFindElements=function(e,t){for(var i=[],n=0,s=(e=f.makeArray(e)).length;n<s;n++){var o=e[n];if(f.isElement(o))if(t){c(o,t)&&i.push(o);for(var r=o.querySelectorAll(t),a=0,l=r.length;a<l;a++)i.push(r[a])}else i.push(o)}return i},f.debounceMethod=function(e,t,n){var s=e.prototype[t],o=t+"Timeout";e.prototype[t]=function(){var e=this[o];e&&clearTimeout(e);var t=arguments,i=this;this[o]=setTimeout(function(){s.apply(i,t),delete i[o]},n||100)}},f.toDashed=function(e){return e.replace(/(.)([A-Z])/g,function(e,t,i){return t+"-"+i}).toLowerCase()};var m=p.console;return f.htmlInit=function(h,d){e(function(){for(var e=f.toDashed(d),t=document.querySelectorAll(".js-"+e),i="data-"+e+"-options",n=0,s=t.length;n<s;n++){var o,r=t[n],a=r.getAttribute(i);try{o=a&&JSON.parse(a)}catch(u){m&&m.error("Error parsing "+i+" on "+r.nodeName.toLowerCase()+(r.id?"#"+r.id:"")+": "+u);continue}var l=new h(r,o),c=p.jQuery;c&&c.data(r,d,l)}})},f}),function(s,o){"use strict";"function"==typeof define&&define.amd?define("outlayer/item",["eventEmitter/EventEmitter","get-size/get-size","get-style-property/get-style-property","fizzy-ui-utils/utils"],function(e,t,i,n){return o(s,e,t,i,n)}):"object"==typeof exports?module.exports=o(s,require("wolfy87-eventemitter"),require("get-size"),require("desandro-get-style-property"),require("fizzy-ui-utils")):(s.Outlayer={},s.Outlayer.Item=o(s,s.EventEmitter,s.getSize,s.getStyleProperty,s.fizzyUIUtils))}(window,function(e,t,i,o,n){"use strict";function s(e){for(var t in e)return!1;return!null}function r(e,t){e&&(this.element=e,this.layout=t,this.position={x:0,y:0},this._create())}function a(e){return e.replace(/([A-Z])/g,function(e){return"-"+e.toLowerCase()})}var l=e.getComputedStyle,c=l?function(e){return l(e,null)}:function(e){return e.currentStyle},u=o("transition"),h=o("transform"),d=u&&h,p=!!o("perspective"),f={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"}[u],m=["transform","transition","transitionDuration","transitionProperty"],g=function(){for(var e={},t=0,i=m.length;t<i;t++){var n=m[t],s=o(n);s&&s!==n&&(e[n]=s)}return e}();n.extend(r.prototype,t.prototype),r.prototype._create=function(){this._transn={ingProperties:{},clean:{},onEnd:{}},this.css({position:"absolute"})},r.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},r.prototype.getSize=function(){this.size=i(this.element)},r.prototype.css=function(e){var t=this.element.style;for(var i in e){t[g[i]||i]=e[i]}},r.prototype.getPosition=function(){var e=c(this.element),t=this.layout.options,i=t.isOriginLeft,n=t.isOriginTop,s=e[i?"left":"right"],o=e[n?"top":"bottom"],r=this.layout.size,a=-1!=s.indexOf("%")?parseFloat(s)/100*r.width:parseInt(s,10),l=-1!=o.indexOf("%")?parseFloat(o)/100*r.height:parseInt(o,10);a=isNaN(a)?0:a,l=isNaN(l)?0:l,a-=i?r.paddingLeft:r.paddingRight,l-=n?r.paddingTop:r.paddingBottom,this.position.x=a,this.position.y=l},r.prototype.layoutPosition=function(){var e=this.layout.size,t=this.layout.options,i={},n=t.isOriginLeft?"paddingLeft":"paddingRight",s=t.isOriginLeft?"left":"right",o=t.isOriginLeft?"right":"left",r=this.position.x+e[n];i[s]=this.getXValue(r),i[o]="";var a=t.isOriginTop?"paddingTop":"paddingBottom",l=t.isOriginTop?"top":"bottom",c=t.isOriginTop?"bottom":"top",u=this.position.y+e[a];i[l]=this.getYValue(u),i[c]="",this.css(i),this.emitEvent("layout",[this])},r.prototype.getXValue=function(e){var t=this.layout.options;return t.percentPosition&&!t.isHorizontal?e/this.layout.size.width*100+"%":e+"px"},r.prototype.getYValue=function(e){var t=this.layout.options;return t.percentPosition&&t.isHorizontal?e/this.layout.size.height*100+"%":e+"px"},r.prototype._transitionTo=function(e,t){this.getPosition();var i=this.position.x,n=this.position.y,s=parseInt(e,10),o=parseInt(t,10),r=s===this.position.x&&o===this.position.y;if(this.setPosition(e,t),!r||this.isTransitioning){var a=e-i,l=t-n,c={};c.transform=this.getTranslate(a,l),this.transition({to:c,onTransitionEnd:{transform:this.layoutPosition},isCleaning:!0})}else this.layoutPosition()},r.prototype.getTranslate=function(e,t){var i=this.layout.options;return e=i.isOriginLeft?e:-e,t=i.isOriginTop?t:-t,p?"translate3d("+e+"px, "+t+"px, 0)":"translate("+e+"px, "+t+"px)"},r.prototype.goTo=function(e,t){this.setPosition(e,t),this.layoutPosition()},r.prototype.moveTo=d?r.prototype._transitionTo:r.prototype.goTo,r.prototype.setPosition=function(e,t){this.position.x=parseInt(e,10),this.position.y=parseInt(t,10)},r.prototype._nonTransition=function(e){for(var t in this.css(e.to),e.isCleaning&&this._removeStyles(e.to),e.onTransitionEnd)e.onTransitionEnd[t].call(this)},r.prototype._transition=function(e){if(parseFloat(this.layout.options.transitionDuration)){var t=this._transn;for(var i in e.onTransitionEnd)t.onEnd[i]=e.onTransitionEnd[i];for(i in e.to)t.ingProperties[i]=!0,e.isCleaning&&(t.clean[i]=!0);if(e.from){this.css(e.from);this.element.offsetHeight;null}this.enableTransition(e.to),this.css(e.to),this.isTransitioning=!0}else this._nonTransition(e)};var v="opacity,"+a(g.transform||"transform");r.prototype.enableTransition=function(){this.isTransitioning||(this.css({transitionProperty:v,transitionDuration:this.layout.options.transitionDuration}),this.element.addEventListener(f,this,!1))},r.prototype.transition=r.prototype[u?"_transition":"_nonTransition"],r.prototype.onwebkitTransitionEnd=function(e){this.ontransitionend(e)},r.prototype.onotransitionend=function(e){this.ontransitionend(e)};var y={"-webkit-transform":"transform","-moz-transform":"transform","-o-transform":"transform"};r.prototype.ontransitionend=function(e){if(e.target===this.element){var t=this._transn,i=y[e.propertyName]||e.propertyName;if(delete t.ingProperties[i],s(t.ingProperties)&&this.disableTransition(),i in t.clean&&(this.element.style[e.propertyName]="",delete t.clean[i]),i in t.onEnd)t.onEnd[i].call(this),delete t.onEnd[i];this.emitEvent("transitionEnd",[this])}},r.prototype.disableTransition=function(){this.removeTransitionStyles(),this.element.removeEventListener(f,this,!1),this.isTransitioning=!1},r.prototype._removeStyles=function(e){var t={};for(var i in e)t[i]="";this.css(t)};var _={transitionProperty:"",transitionDuration:""};return r.prototype.removeTransitionStyles=function(){this.css(_)},r.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.css({display:""}),this.emitEvent("remove",[this])},r.prototype.remove=function(){if(u&&parseFloat(this.layout.options.transitionDuration)){var e=this;this.once("transitionEnd",function(){e.removeElem()}),this.hide()}else this.removeElem()},r.prototype.reveal=function(){delete this.isHidden,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("visibleStyle")]=this.onRevealTransitionEnd,this.transition({from:e.hiddenStyle,to:e.visibleStyle,isCleaning:!0,onTransitionEnd:t})},r.prototype.onRevealTransitionEnd=function(){this.isHidden||this.emitEvent("reveal")},r.prototype.getHideRevealTransitionEndProperty=function(e){var t=this.layout.options[e];if(t.opacity)return"opacity";for(var i in t)return i},r.prototype.hide=function(){this.isHidden=!0,this.css({display:""});var e=this.layout.options,t={};t[this.getHideRevealTransitionEndProperty("hiddenStyle")]=this.onHideTransitionEnd,this.transition({from:e.visibleStyle,to:e.hiddenStyle,isCleaning:!0,onTransitionEnd:t})},r.prototype.onHideTransitionEnd=function(){this.isHidden&&(this.css({display:"none"}),this.emitEvent("hide"))},r.prototype.destroy=function(){this.css({position:"",left:"",right:"",top:"",bottom:"",transition:"",transform:""})},r}),function(o,r){"use strict";"function"==typeof define&&define.amd?define("outlayer/outlayer",["eventie/eventie","eventEmitter/EventEmitter","get-size/get-size","fizzy-ui-utils/utils","./item"],function(e,t,i,n,s){return r(o,e,t,i,n,s)}):"object"==typeof exports?module.exports=r(o,require("eventie"),require("wolfy87-eventemitter"),require("get-size"),require("fizzy-ui-utils"),require("./item")):o.Outlayer=r(o,o.eventie,o.EventEmitter,o.getSize,o.fizzyUIUtils,o.Outlayer.Item)}(window,function(e,t,i,s,r,n){"use strict";function o(e,t){var i=r.getQueryElement(e);if(i){this.element=i,l&&(this.$element=l(this.element)),this.options=r.extend({},this.constructor.defaults),this.option(t);var n=++u;this.element.outlayerGUID=n,(h[n]=this)._create(),this.options.isInitLayout&&this.layout()}else a&&a.error("Bad element for "+this.constructor.namespace+": "+(i||e))}var a=e.console,l=e.jQuery,c=function(){},u=0,h={};return o.namespace="outlayer",o.Item=n,o.defaults={containerStyle:{position:"relative"},isInitLayout:!0,isOriginLeft:!0,isOriginTop:!0,isResizeBound:!0,isResizingContainer:!0,transitionDuration:"0.4s",hiddenStyle:{opacity:0,transform:"scale(0.001)"},visibleStyle:{opacity:1,transform:"scale(1)"}},r.extend(o.prototype,i.prototype),o.prototype.option=function(e){r.extend(this.options,e)},o.prototype._create=function(){this.reloadItems(),this.stamps=[],this.stamp(this.options.stamp),r.extend(this.element.style,this.options.containerStyle),this.options.isResizeBound&&this.bindResize()},o.prototype.reloadItems=function(){this.items=this._itemize(this.element.children)},o.prototype._itemize=function(e){for(var t=this._filterFindItemElements(e),i=this.constructor.Item,n=[],s=0,o=t.length;s<o;s++){var r=new i(t[s],this);n.push(r)}return n},o.prototype._filterFindItemElements=function(e){return r.filterFindElements(e,this.options.itemSelector)},o.prototype.getItemElements=function(){for(var e=[],t=0,i=this.items.length;t<i;t++)e.push(this.items[t].element);return e},o.prototype.layout=function(){this._resetLayout(),this._manageStamps();var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;this.layoutItems(this.items,e),this._isLayoutInited=!0},o.prototype._init=o.prototype.layout,o.prototype._resetLayout=function(){this.getSize()},o.prototype.getSize=function(){this.size=s(this.element)},o.prototype._getMeasurement=function(e,t){var i,n=this.options[e];n?("string"==typeof n?i=this.element.querySelector(n):r.isElement(n)&&(i=n),this[e]=i?s(i)[t]:n):this[e]=0},o.prototype.layoutItems=function(e,t){e=this._getItemsForLayout(e),this._layoutItems(e,t),this._postLayout()},o.prototype._getItemsForLayout=function(e){for(var t=[],i=0,n=e.length;i<n;i++){var s=e[i];s.isIgnored||t.push(s)}return t},o.prototype._layoutItems=function(e,t){if(this._emitCompleteOnItems("layout",e),e&&e.length){for(var i=[],n=0,s=e.length;n<s;n++){var o=e[n],r=this._getItemLayoutPosition(o);r.item=o,r.isInstant=t||o.isLayoutInstant,i.push(r)}this._processLayoutQueue(i)}},o.prototype._getItemLayoutPosition=function(){return{x:0,y:0}},o.prototype._processLayoutQueue=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];this._positionItem(n.item,n.x,n.y,n.isInstant)}},o.prototype._positionItem=function(e,t,i,n){n?e.goTo(t,i):e.moveTo(t,i)},o.prototype._postLayout=function(){this.resizeContainer()},o.prototype.resizeContainer=function(){if(this.options.isResizingContainer){var e=this._getContainerSize();e&&(this._setContainerMeasure(e.width,!0),this._setContainerMeasure(e.height,!1))}},o.prototype._getContainerSize=c,o.prototype._setContainerMeasure=function(e,t){if(void 0!==e){var i=this.size;i.isBorderBox&&(e+=t?i.paddingLeft+i.paddingRight+i.borderLeftWidth+i.borderRightWidth:i.paddingBottom+i.paddingTop+i.borderTopWidth+i.borderBottomWidth),e=Math.max(e,0),this.element.style[t?"width":"height"]=e+"px"}},o.prototype._emitCompleteOnItems=function(e,t){function i(){s.dispatchEvent(e+"Complete",null,[t])}function n(){++r===o&&i()}var s=this,o=t.length;if(t&&o)for(var r=0,a=0,l=t.length;a<l;a++){t[a].once(e,n)}else i()},o.prototype.dispatchEvent=function(e,t,i){var n=t?[t].concat(i):i;if(this.emitEvent(e,n),l)if(this.$element=this.$element||l(this.element),t){var s=l.Event(t);s.type=e,this.$element.trigger(s,i)}else this.$element.trigger(e,i)},o.prototype.ignore=function(e){var t=this.getItem(e);t&&(t.isIgnored=!0)},o.prototype.unignore=function(e){var t=this.getItem(e);t&&delete t.isIgnored},o.prototype.stamp=function(e){if(e=this._find(e)){this.stamps=this.stamps.concat(e);for(var t=0,i=e.length;t<i;t++){var n=e[t];this.ignore(n)}}},o.prototype.unstamp=function(e){if(e=this._find(e))for(var t=0,i=e.length;t<i;t++){var n=e[t];r.removeFrom(this.stamps,n),this.unignore(n)}},o.prototype._find=function(e){return e?("string"==typeof e&&(e=this.element.querySelectorAll(e)),e=r.makeArray(e)):void 0},o.prototype._manageStamps=function(){if(this.stamps&&this.stamps.length){this._getBoundingRect();for(var e=0,t=this.stamps.length;e<t;e++){var i=this.stamps[e];this._manageStamp(i)}}},o.prototype._getBoundingRect=function(){var e=this.element.getBoundingClientRect(),t=this.size;this._boundingRect={left:e.left+t.paddingLeft+t.borderLeftWidth,top:e.top+t.paddingTop+t.borderTopWidth,right:e.right-(t.paddingRight+t.borderRightWidth),bottom:e.bottom-(t.paddingBottom+t.borderBottomWidth)}},o.prototype._manageStamp=c,o.prototype._getElementOffset=function(e){var t=e.getBoundingClientRect(),i=this._boundingRect,n=s(e);return{left:t.left-i.left-n.marginLeft,top:t.top-i.top-n.marginTop,right:i.right-t.right-n.marginRight,bottom:i.bottom-t.bottom-n.marginBottom}},o.prototype.handleEvent=function(e){var t="on"+e.type;this[t]&&this[t](e)},o.prototype.bindResize=function(){this.isResizeBound||(t.bind(e,"resize",this),this.isResizeBound=!0)},o.prototype.unbindResize=function(){this.isResizeBound&&t.unbind(e,"resize",this),this.isResizeBound=!1},o.prototype.onresize=function(){function e(){t.resize(),delete t.resizeTimeout}this.resizeTimeout&&clearTimeout(this.resizeTimeout);var t=this;this.resizeTimeout=setTimeout(e,100)},o.prototype.resize=function(){this.isResizeBound&&this.needsResizeLayout()&&this.layout()},o.prototype.needsResizeLayout=function(){var e=s(this.element);return this.size&&e&&e.innerWidth!==this.size.innerWidth},o.prototype.addItems=function(e){var t=this._itemize(e);return t.length&&(this.items=this.items.concat(t)),t},o.prototype.appended=function(e){var t=this.addItems(e);t.length&&(this.layoutItems(t,!0),this.reveal(t))},o.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){var i=this.items.slice(0);this.items=t.concat(i),this._resetLayout(),this._manageStamps(),this.layoutItems(t,!0),this.reveal(t),this.layoutItems(i)}},o.prototype.reveal=function(e){this._emitCompleteOnItems("reveal",e);for(var t=e&&e.length,i=0;t&&i<t;i++){e[i].reveal()}},o.prototype.hide=function(e){this._emitCompleteOnItems("hide",e);for(var t=e&&e.length,i=0;t&&i<t;i++){e[i].hide()}},o.prototype.revealItemElements=function(e){var t=this.getItems(e);this.reveal(t)},o.prototype.hideItemElements=function(e){var t=this.getItems(e);this.hide(t)},o.prototype.getItem=function(e){for(var t=0,i=this.items.length;t<i;t++){var n=this.items[t];if(n.element===e)return n}},o.prototype.getItems=function(e){for(var t=[],i=0,n=(e=r.makeArray(e)).length;i<n;i++){var s=e[i],o=this.getItem(s);o&&t.push(o)}return t},o.prototype.remove=function(e){var t=this.getItems(e);if(this._emitCompleteOnItems("remove",t),t&&t.length)for(var i=0,n=t.length;i<n;i++){var s=t[i];s.remove(),r.removeFrom(this.items,s)}},o.prototype.destroy=function(){var e=this.element.style;e.height="",e.position="",e.width="";for(var t=0,i=this.items.length;t<i;t++){this.items[t].destroy()}this.unbindResize();var n=this.element.outlayerGUID;delete h[n],delete this.element.outlayerGUID,l&&l.removeData(this.element,this.constructor.namespace)},o.data=function(e){var t=(e=r.getQueryElement(e))&&e.outlayerGUID;return t&&h[t]},o.create=function(e,t){function i(){o.apply(this,arguments)}return Object.create?i.prototype=Object.create(o.prototype):r.extend(i.prototype,o.prototype),(i.prototype.constructor=i).defaults=r.extend({},o.defaults),r.extend(i.defaults,t),i.prototype.settings={},i.namespace=e,i.data=o.data,i.Item=function(){n.apply(this,arguments)},i.Item.prototype=new n,r.htmlInit(i,e),l&&l.bridget&&l.bridget(e,i),i},o.Item=n,o}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/item",["outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.Item=t(e.Outlayer))}(window,function(e){"use strict";function t(){e.Item.apply(this,arguments)}t.prototype=new e.Item,t.prototype._create=function(){this.id=this.layout.itemGUID++,e.Item.prototype._create.call(this),this.sortData={}},t.prototype.updateSortData=function(){if(!this.isIgnored){this.sortData.id=this.id,this.sortData["original-order"]=this.id,this.sortData.random=Math.random();var e=this.layout.options.getSortData,t=this.layout._sorters;for(var i in e){var n=t[i];this.sortData[i]=n(this.element,this)}}};var i=t.prototype.destroy;return t.prototype.destroy=function(){i.apply(this,arguments),this.css({display:""})},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-mode",["get-size/get-size","outlayer/outlayer"],t):"object"==typeof exports?module.exports=t(require("get-size"),require("outlayer")):(e.Isotope=e.Isotope||{},e.Isotope.LayoutMode=t(e.getSize,e.Outlayer))}(window,function(t,o){"use strict";function r(e){(this.isotope=e)&&(this.options=e.options[this.namespace],this.element=e.element,this.items=e.filteredItems,this.size=e.size)}return function(){function e(e){return function(){return o.prototype[e].apply(this.isotope,arguments)}}for(var t=["_resetLayout","_getItemLayoutPosition","_manageStamp","_getContainerSize","_getElementOffset","needsResizeLayout"],i=0,n=t.length;i<n;i++){var s=t[i];r.prototype[s]=e(s)}}(),r.prototype.needsVerticalResizeLayout=function(){var e=t(this.isotope.element);return this.isotope.size&&e&&e.innerHeight!=this.isotope.size.innerHeight},r.prototype._getMeasurement=function(){this.isotope._getMeasurement.apply(this,arguments)},r.prototype.getColumnWidth=function(){this.getSegmentSize("column","Width")},r.prototype.getRowHeight=function(){this.getSegmentSize("row","Height")},r.prototype.getSegmentSize=function(e,t){var i=e+t,n="outer"+t;if(this._getMeasurement(i,n),!this[i]){var s=this.getFirstItemSize();this[i]=s&&s[n]||this.isotope.size["inner"+t]}},r.prototype.getFirstItemSize=function(){var e=this.isotope.filteredItems[0];return e&&e.element&&t(e.element)},r.prototype.layout=function(){this.isotope.layout.apply(this.isotope,arguments)},r.prototype.getSize=function(){this.isotope.getSize(),this.size=this.isotope.size},r.modes={},r.create=function(e,t){function i(){r.apply(this,arguments)}return i.prototype=new r,t&&(i.options=t),i.prototype.namespace=e,r.modes[e]=i},r}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("masonry/masonry",["outlayer/outlayer","get-size/get-size","fizzy-ui-utils/utils"],t):"object"==typeof exports?module.exports=t(require("outlayer"),require("get-size"),require("fizzy-ui-utils")):e.Masonry=t(e.Outlayer,e.getSize,e.fizzyUIUtils)}(window,function(e,c,u){var t=e.create("masonry");return t.prototype._resetLayout=function(){this.getSize(),this._getMeasurement("columnWidth","outerWidth"),this._getMeasurement("gutter","outerWidth"),this.measureColumns();var e=this.cols;for(this.colYs=[];e--;)this.colYs.push(0);this.maxY=0},t.prototype.measureColumns=function(){if(this.getContainerWidth(),!this.columnWidth){var e=this.items[0],t=e&&e.element;this.columnWidth=t&&c(t).outerWidth||this.containerWidth}var i=this.columnWidth+=this.gutter,n=this.containerWidth+this.gutter,s=n/i,o=i-n%i;s=Math[o&&o<1?"round":"floor"](s),this.cols=Math.max(s,1)},t.prototype.getContainerWidth=function(){var e=this.options.isFitWidth?this.element.parentNode:this.element,t=c(e);this.containerWidth=t&&t.innerWidth},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth%this.columnWidth,i=Math[t&&t<1?"round":"ceil"](e.size.outerWidth/this.columnWidth);i=Math.min(i,this.cols);for(var n=this._getColGroup(i),s=Math.min.apply(Math,n),o=u.indexOf(n,s),r={x:this.columnWidth*o,y:s},a=s+e.size.outerHeight,l=this.cols+1-n.length,c=0;c<l;c++)this.colYs[o+c]=a;return r},t.prototype._getColGroup=function(e){if(e<2)return this.colYs;for(var t=[],i=this.cols+1-e,n=0;n<i;n++){var s=this.colYs.slice(n,n+e);t[n]=Math.max.apply(Math,s)}return t},t.prototype._manageStamp=function(e){var t=c(e),i=this._getElementOffset(e),n=this.options.isOriginLeft?i.left:i.right,s=n+t.outerWidth,o=Math.floor(n/this.columnWidth);o=Math.max(0,o);var r=Math.floor(s/this.columnWidth);r-=s%this.columnWidth?0:1,r=Math.min(this.cols-1,r);for(var a=(this.options.isOriginTop?i.top:i.bottom)+t.outerHeight,l=o;l<=r;l++)this.colYs[l]=Math.max(a,this.colYs[l])},t.prototype._getContainerSize=function(){this.maxY=Math.max.apply(Math,this.colYs);var e={height:this.maxY};return this.options.isFitWidth&&(e.width=this._getContainerFitWidth()),e},t.prototype._getContainerFitWidth=function(){for(var e=0,t=this.cols;--t&&0===this.colYs[t];)e++;return(this.cols-e)*this.columnWidth-this.gutter},t.prototype.needsResizeLayout=function(){var e=this.containerWidth;return this.getContainerWidth(),e!==this.containerWidth},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/masonry",["../layout-mode","masonry/masonry"],t):"object"==typeof exports?module.exports=t(require("../layout-mode"),require("masonry-layout")):t(e.Isotope.LayoutMode,e.Masonry)}(window,function(e,t){"use strict";function i(e,t){for(var i in t)e[i]=t[i];return e}var n=e.create("masonry"),s=n.prototype._getElementOffset,o=n.prototype.layout,r=n.prototype._getMeasurement;i(n.prototype,t.prototype),n.prototype._getElementOffset=s,n.prototype.layout=o,
n.prototype._getMeasurement=r;var a=n.prototype.measureColumns;n.prototype.measureColumns=function(){this.items=this.isotope.filteredItems,a.call(this)};var l=n.prototype._manageStamp;return n.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,l.apply(this,arguments)},n}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/fit-rows",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("fitRows");return t.prototype._resetLayout=function(){this.x=0,this.y=0,this.maxY=0,this._getMeasurement("gutter","outerWidth")},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=e.size.outerWidth+this.gutter,i=this.isotope.size.innerWidth+this.gutter;0!==this.x&&t+this.x>i&&(this.x=0,this.y=this.maxY);var n={x:this.x,y:this.y};return this.maxY=Math.max(this.maxY,this.y+e.size.outerHeight),this.x+=t,n},t.prototype._getContainerSize=function(){return{height:this.maxY}},t}),function(e,t){"use strict";"function"==typeof define&&define.amd?define("isotope/js/layout-modes/vertical",["../layout-mode"],t):"object"==typeof exports?module.exports=t(require("../layout-mode")):t(e.Isotope.LayoutMode)}(window,function(e){"use strict";var t=e.create("vertical",{horizontalAlignment:0});return t.prototype._resetLayout=function(){this.y=0},t.prototype._getItemLayoutPosition=function(e){e.getSize();var t=(this.isotope.size.innerWidth-e.size.outerWidth)*this.options.horizontalAlignment,i=this.y;return this.y+=e.size.outerHeight,{x:t,y:i}},t.prototype._getContainerSize=function(){return{height:this.y}},t}),function(r,a){"use strict";"function"==typeof define&&define.amd?define(["outlayer/outlayer","get-size/get-size","matches-selector/matches-selector","fizzy-ui-utils/utils","isotope/js/item","isotope/js/layout-mode","isotope/js/layout-modes/masonry","isotope/js/layout-modes/fit-rows","isotope/js/layout-modes/vertical"],function(e,t,i,n,s,o){return a(r,e,t,i,n,s,o)}):"object"==typeof exports?module.exports=a(r,require("outlayer"),require("get-size"),require("desandro-matches-selector"),require("fizzy-ui-utils"),require("./item"),require("./layout-mode"),require("./layout-modes/masonry"),require("./layout-modes/fit-rows"),require("./layout-modes/vertical")):r.Isotope=a(r,r.Outlayer,r.getSize,r.matchesSelector,r.fizzyUIUtils,r.Isotope.Item,r.Isotope.LayoutMode)}(window,function(e,n,t,i,o,s,r){function a(a,l){return function(e,t){for(var i=0,n=a.length;i<n;i++){var s=a[i],o=e.sortData[s],r=t.sortData[s];if(r<o||o<r)return(r<o?1:-1)*((void 0!==l[s]?l[s]:l)?1:-1)}return 0}}var l=e.jQuery,c=String.prototype.trim?function(e){return e.trim()}:function(e){return e.replace(/^\s+|\s+$/g,"")},u=document.documentElement.textContent?function(e){return e.textContent}:function(e){return e.innerText},h=n.create("isotope",{layoutMode:"masonry",isJQueryFiltering:!0,sortAscending:!0});h.Item=s,h.LayoutMode=r,h.prototype._create=function(){for(var e in this.itemGUID=0,this._sorters={},this._getSorters(),n.prototype._create.call(this),this.modes={},this.filteredItems=this.items,this.sortHistory=["original-order"],r.modes)this._initLayoutMode(e)},h.prototype.reloadItems=function(){this.itemGUID=0,n.prototype.reloadItems.call(this)},h.prototype._itemize=function(){for(var e=n.prototype._itemize.apply(this,arguments),t=0,i=e.length;t<i;t++){e[t].id=this.itemGUID++}return this._updateItemsSortData(e),e},h.prototype._initLayoutMode=function(e){var t=r.modes[e],i=this.options[e]||{};this.options[e]=t.options?o.extend(t.options,i):i,this.modes[e]=new t(this)},h.prototype.layout=function(){return!this._isLayoutInited&&this.options.isInitLayout?void this.arrange():void this._layout()},h.prototype._layout=function(){var e=this._getIsInstant();this._resetLayout(),this._manageStamps(),this.layoutItems(this.filteredItems,e),this._isLayoutInited=!0},h.prototype.arrange=function(e){function t(){n.reveal(i.needReveal),n.hide(i.needHide)}this.option(e),this._getIsInstant();var i=this._filter(this.items);this.filteredItems=i.matches;var n=this;this._bindArrangeComplete(),this._isInstant?this._noTransition(t):t(),this._sort(),this._layout()},h.prototype._init=h.prototype.arrange,h.prototype._getIsInstant=function(){var e=void 0!==this.options.isLayoutInstant?this.options.isLayoutInstant:!this._isLayoutInited;return this._isInstant=e},h.prototype._bindArrangeComplete=function(){function e(){t&&i&&n&&s.dispatchEvent("arrangeComplete",null,[s.filteredItems])}var t,i,n,s=this;this.once("layoutComplete",function(){t=!0,e()}),this.once("hideComplete",function(){i=!0,e()}),this.once("revealComplete",function(){n=!0,e()})},h.prototype._filter=function(e){var t=this.options.filter;t=t||"*";for(var i=[],n=[],s=[],o=this._getFilterTest(t),r=0,a=e.length;r<a;r++){var l=e[r];if(!l.isIgnored){var c=o(l);c&&i.push(l),c&&l.isHidden?n.push(l):c||l.isHidden||s.push(l)}}return{matches:i,needReveal:n,needHide:s}},h.prototype._getFilterTest=function(t){return l&&this.options.isJQueryFiltering?function(e){return l(e.element).is(t)}:"function"==typeof t?function(e){return t(e.element)}:function(e){return i(e.element,t)}},h.prototype.updateSortData=function(e){var t;e?(e=o.makeArray(e),t=this.getItems(e)):t=this.items,this._getSorters(),this._updateItemsSortData(t)},h.prototype._getSorters=function(){var e=this.options.getSortData;for(var t in e){var i=e[t];this._sorters[t]=d(i)}},h.prototype._updateItemsSortData=function(e){for(var t=e&&e.length,i=0;t&&i<t;i++){e[i].updateSortData()}};var d=function(){function e(e){if("string"!=typeof e)return e;var t=c(e).split(" "),i=t[0],n=i.match(/^\[(.+)\]$/),s=r(n&&n[1],i),o=h.sortDataParsers[t[1]];return o?function(e){return e&&o(s(e))}:function(e){return e&&s(e)}}function r(t,i){return t?function(e){return e.getAttribute(t)}:function(e){var t=e.querySelector(i);return t&&u(t)}}return e}();h.sortDataParsers={parseInt:function(e){return parseInt(e,10)},parseFloat:function(e){return parseFloat(e)}},h.prototype._sort=function(){var e=this.options.sortBy;if(e){var t=a([].concat.apply(e,this.sortHistory),this.options.sortAscending);this.filteredItems.sort(t),e!=this.sortHistory[0]&&this.sortHistory.unshift(e)}},h.prototype._mode=function(){var e=this.options.layoutMode,t=this.modes[e];if(!t)throw new Error("No layout mode: "+e);return t.options=this.options[e],t},h.prototype._resetLayout=function(){n.prototype._resetLayout.call(this),this._mode()._resetLayout()},h.prototype._getItemLayoutPosition=function(e){return this._mode()._getItemLayoutPosition(e)},h.prototype._manageStamp=function(e){this._mode()._manageStamp(e)},h.prototype._getContainerSize=function(){return this._mode()._getContainerSize()},h.prototype.needsResizeLayout=function(){return this._mode().needsResizeLayout()},h.prototype.appended=function(e){var t=this.addItems(e);if(t.length){var i=this._filterRevealAdded(t);this.filteredItems=this.filteredItems.concat(i)}},h.prototype.prepended=function(e){var t=this._itemize(e);if(t.length){this._resetLayout(),this._manageStamps();var i=this._filterRevealAdded(t);this.layoutItems(this.filteredItems),this.filteredItems=i.concat(this.filteredItems),this.items=t.concat(this.items)}},h.prototype._filterRevealAdded=function(e){var t=this._filter(e);return this.hide(t.needHide),this.reveal(t.matches),this.layoutItems(t.matches,!0),t.matches},h.prototype.insert=function(e){var t=this.addItems(e);if(t.length){var i,n,s=t.length;for(i=0;i<s;i++)n=t[i],this.element.appendChild(n.element);var o=this._filter(t).matches;for(i=0;i<s;i++)t[i].isLayoutInstant=!0;for(this.arrange(),i=0;i<s;i++)delete t[i].isLayoutInstant;this.reveal(o)}};var p=h.prototype.remove;return h.prototype.remove=function(e){e=o.makeArray(e);var t=this.getItems(e);p.call(this,e);var i=t&&t.length;if(i)for(var n=0;n<i;n++){var s=t[n];o.removeFrom(this.filteredItems,s)}},h.prototype.shuffle=function(){for(var e=0,t=this.items.length;e<t;e++){this.items[e].sortData.random=Math.random()}this.options.sortBy="random",this._sort(),this._layout()},h.prototype._noTransition=function(e){var t=this.options.transitionDuration;this.options.transitionDuration=0;var i=e.call(this);return this.options.transitionDuration=t,i},h.prototype.getFilteredItemElements=function(){for(var e=[],t=0,i=this.filteredItems.length;t<i;t++)e.push(this.filteredItems[t].element);return e},h}),function(n){n.version={versionStr:"2.3.1",major:parseInt("2",10),minor:parseInt("3",10),revision:parseInt("1",10)};var e,t={"[object Boolean]":"boolean","[object Number]":"number","[object String]":"string","[object Function]":"function","[object Array]":"array","[object Date]":"date","[object RegExp]":"regexp","[object Object]":"object"},i=Object.prototype.toString,s=Object.prototype.hasOwnProperty;n.isFunction=function(e){return"function"===n.type(e)},n.isArray=Array.isArray||function(e){return"array"===n.type(e)},n.isWindow=function(e){return e&&"object"==typeof e&&"setInterval"in e},n.type=function(e){return null==e?String(e):t[i.call(e)]||"object"},n.isPlainObject=function(e){if(!e||"object"!==OpenSeadragon.type(e)||e.nodeType||n.isWindow(e))return!1;if(e.constructor&&!s.call(e,"constructor")&&!s.call(e.constructor.prototype,"isPrototypeOf"))return!1;var t;for(var i in e)t=i;return void 0===t||s.call(e,t)},n.isEmptyObject=function(e){for(var t in e)return!1;return!0},n.freezeObject=function(e){return Object.freeze?n.freezeObject=Object.freeze:n.freezeObject=function(e){return e},n.freezeObject(e)},n.supportsCanvas=(e=document.createElement("canvas"),!(!n.isFunction(e.getContext)||!e.getContext("2d"))),n.isCanvasTainted=function(e){var t=!1;try{e.getContext("2d").getImageData(0,0,1,1)}catch(e){t=!0}return t},n.pixelDensityRatio=function(){if(n.supportsCanvas){var e=document.createElement("canvas").getContext("2d"),t=window.devicePixelRatio||1,i=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return Math.max(t,1)/i}return 1}()}(OpenSeadragon),function($){function getOffsetParent(e,t){return t&&e!=document.body?document.body:e.offsetParent}$.extend=function(e,t){var i,n,s,o,r,a,l=e||{},c=arguments.length,u=!1,h=1;for("boolean"==typeof l&&(u=l,l=t||{},h=2),"object"==typeof l||OpenSeadragon.isFunction(l)||(l={}),c===h&&(l=this,--h);h<c;h++)if(null!==(i=arguments[h])||void 0!==i)for(n in i)s=l[n],l!==(o=i[n])&&(u&&o&&(OpenSeadragon.isPlainObject(o)||(r=OpenSeadragon.isArray(o)))?(r?(r=!1,a=s&&OpenSeadragon.isArray(s)?s:[]):a=s&&OpenSeadragon.isPlainObject(s)?s:{},l[n]=OpenSeadragon.extend(u,a,o)):void 0!==o&&(l[n]=o));return l};var isIOSDevice=function(){if("object"!=typeof navigator)return!1;var e=navigator.userAgent;return"string"==typeof e&&(-1!==e.indexOf("iPhone")||-1!==e.indexOf("iPad")||-1!==e.indexOf("iPod"))};$.extend($,{DEFAULT_SETTINGS:{xmlPath:null,tileSources:null,tileHost:null,initialPage:0,crossOriginPolicy:!1,ajaxWithCredentials:!1,loadTilesWithAjax:!1,ajaxHeaders:{},panHorizontal:!0,panVertical:!0,constrainDuringPan:!1,wrapHorizontal:!1,wrapVertical:!1,visibilityRatio:.5,minPixelRatio:.5,defaultZoomLevel:0,minZoomLevel:null,maxZoomLevel:null,homeFillsViewer:!1,clickTimeThreshold:300,clickDistThreshold:5,dblClickTimeThreshold:300,dblClickDistThreshold:20,springStiffness:6.5,animationTime:1.2,gestureSettingsMouse:{scrollToZoom:!0,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsTouch:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsPen:{scrollToZoom:!1,clickToZoom:!0,dblClickToZoom:!1,pinchToZoom:!1,flickEnabled:!1,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},gestureSettingsUnknown:{scrollToZoom:!1,clickToZoom:!1,dblClickToZoom:!0,pinchToZoom:!0,flickEnabled:!0,flickMinSpeed:120,flickMomentum:.25,pinchRotate:!1},zoomPerClick:2,zoomPerScroll:1.2,zoomPerSecond:1,blendTime:0,alwaysBlend:!1,autoHideControls:!0,immediateRender:!1,minZoomImageRatio:.9,maxZoomPixelRatio:1.1,smoothTileEdgesMinZoom:1.1,iOSDevice:isIOSDevice(),pixelsPerWheelLine:40,autoResize:!0,preserveImageSizeOnResize:!1,minScrollDeltaTime:50,showSequenceControl:!0,sequenceControlAnchor:null,preserveViewport:!1,preserveOverlays:!1,navPrevNextWrap:!1,showNavigationControl:!0,navigationControlAnchor:null,showZoomControl:!0,showHomeControl:!0,showFullPageControl:!0,showRotationControl:!1,controlsFadeDelay:2e3,controlsFadeLength:1500,mouseNavEnabled:!0,showNavigator:!1,navigatorId:null,navigatorPosition:null,navigatorSizeRatio:.2,navigatorMaintainSizeRatio:!1,navigatorTop:null,navigatorLeft:null,navigatorHeight:null,navigatorWidth:null,navigatorAutoResize:!0,navigatorAutoFade:!0,navigatorRotate:!0,degrees:0,opacity:1,preload:!1,compositeOperation:null,placeholderFillStyle:null,showReferenceStrip:!1,referenceStripScroll:"horizontal",referenceStripElement:null,referenceStripHeight:null,referenceStripWidth:null,referenceStripPosition:"BOTTOM_LEFT",referenceStripSizeRatio:.2,collectionRows:3,collectionColumns:0,collectionLayout:"horizontal",collectionMode:!1,collectionTileSize:800,collectionTileMargin:80,imageLoaderLimit:0,maxImageCacheCount:200,timeout:3e4,useCanvas:!0,prefixUrl:"/images/",navImages:{zoomIn:{REST:"zoomin_rest.png",GROUP:"zoomin_grouphover.png",HOVER:"zoomin_hover.png",DOWN:"zoomin_pressed.png"},zoomOut:{REST:"zoomout_rest.png",GROUP:"zoomout_grouphover.png",HOVER:"zoomout_hover.png",DOWN:"zoomout_pressed.png"},home:{REST:"home_rest.png",GROUP:"home_grouphover.png",HOVER:"home_hover.png",DOWN:"home_pressed.png"},fullpage:{REST:"fullpage_rest.png",GROUP:"fullpage_grouphover.png",HOVER:"fullpage_hover.png",DOWN:"fullpage_pressed.png"},rotateleft:{REST:"rotateleft_rest.png",GROUP:"rotateleft_grouphover.png",HOVER:"rotateleft_hover.png",DOWN:"rotateleft_pressed.png"},rotateright:{REST:"rotateright_rest.png",GROUP:"rotateright_grouphover.png",HOVER:"rotateright_hover.png",DOWN:"rotateright_pressed.png"},previous:{REST:"previous_rest.png",GROUP:"previous_grouphover.png",HOVER:"previous_hover.png",DOWN:"previous_pressed.png"},next:{REST:"next_rest.png",GROUP:"next_grouphover.png",HOVER:"next_hover.png",DOWN:"next_pressed.png"}},debugMode:!1,debugGridColor:["#437AB2","#1B9E77","#D95F02","#7570B3","#E7298A","#66A61E","#E6AB02","#A6761D","#666666"]},SIGNAL:"----seadragon----",delegate:function(t,i){return function(){var e=arguments;return void 0===e&&(e=[]),i.apply(t,e)}},BROWSERS:{UNKNOWN:0,IE:1,FIREFOX:2,SAFARI:3,CHROME:4,OPERA:5},getElement:function(e){return"string"==typeof e&&(e=document.getElementById(e)),e},getElementPosition:function(e){var t,i,n=new $.Point;for(i=getOffsetParent(e=$.getElement(e),t="fixed"==$.getElementStyle(e).position);i;)n.x+=e.offsetLeft,n.y+=e.offsetTop,t&&(n=n.plus($.getPageScroll())),i=getOffsetParent(e=i,t="fixed"==$.getElementStyle(e).position);return n},getElementOffset:function(e){var t,i,n=(e=$.getElement(e))&&e.ownerDocument,s={top:0,left:0};return n?(t=n.documentElement,"undefined"!=typeof e.getBoundingClientRect&&(s=e.getBoundingClientRect()),i=n==n.window?n:9===n.nodeType&&(n.defaultView||n.parentWindow),new $.Point(s.left+(i.pageXOffset||t.scrollLeft)-(t.clientLeft||0),s.top+(i.pageYOffset||t.scrollTop)-(t.clientTop||0))):new $.Point},getElementSize:function(e){return e=$.getElement(e),new $.Point(e.clientWidth,e.clientHeight)},getElementStyle:document.documentElement.currentStyle?function(e){return(e=$.getElement(e)).currentStyle}:function(e){return e=$.getElement(e),window.getComputedStyle(e,"")},getCssPropertyWithVendorPrefix:function(e){var a={};return $.getCssPropertyWithVendorPrefix=function(e){if(void 0!==a[e])return a[e];var t=document.createElement("div").style,i=null;if(void 0!==t[e])i=e;else for(var n=["Webkit","Moz","MS","O","webkit","moz","ms","o"],s=$.capitalizeFirstLetter(e),o=0;o<n.length;o++){var r=n[o]+s;if(void 0!==t[r]){i=r;break}}return a[e]=i},$.getCssPropertyWithVendorPrefix(e)},capitalizeFirstLetter:function(e){return e.charAt(0).toUpperCase()+e.slice(1)},positiveModulo:function(e,t){var i=e%t;return i<0&&(i+=t),i},pointInElement:function(e,t){e=$.getElement(e);var i=$.getElementOffset(e),n=$.getElementSize(e);return t.x>=i.x&&t.x<i.x+n.x&&t.y<i.y+n.y&&t.y>=i.y},getEvent:function(e){return $.getEvent=e?function(e){return e}:function(){return window.event},$.getEvent(e)},getMousePosition:function(e){if("number"==typeof e.pageX)$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.pageX,t.y=e.pageY,t};else{if("number"!=typeof e.clientX)throw new Error("Unknown event mouse position, no known technique.");$.getMousePosition=function(e){var t=new $.Point;return e=$.getEvent(e),t.x=e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,t.y=e.clientY+document.body.scrollTop+document.documentElement.scrollTop,t}}return $.getMousePosition(e)},getPageScroll:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.pageXOffset)$.getPageScroll=function(){return new $.Point(window.pageXOffset,window.pageYOffset)};else if(t.scrollLeft||t.scrollTop)$.getPageScroll=function(){return new $.Point(document.body.scrollLeft,document.body.scrollTop)};else{if(!e.scrollLeft&&!e.scrollTop)return new $.Point(0,0);$.getPageScroll=function(){return new $.Point(document.documentElement.scrollLeft,document.documentElement.scrollTop)}}return $.getPageScroll()},setPageScroll:function(e){if("undefined"!=typeof window.scrollTo)$.setPageScroll=function(e){window.scrollTo(e.x,e.y)};else{var t=$.getPageScroll();if(t.x===e.x&&t.y===e.y)return;document.body.scrollLeft=e.x,document.body.scrollTop=e.y;var i=$.getPageScroll();if(i.x!==t.x&&i.y!==t.y)return void($.setPageScroll=function(e){document.body.scrollLeft=e.x,document.body.scrollTop=e.y});if(document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y,(i=$.getPageScroll()).x!==t.x&&i.y!==t.y)return void($.setPageScroll=function(e){document.documentElement.scrollLeft=e.x,document.documentElement.scrollTop=e.y});$.setPageScroll=function(){}}return $.setPageScroll(e)},getWindowSize:function(){var e=document.documentElement||{},t=document.body||{};if("number"==typeof window.innerWidth)$.getWindowSize=function(){return new $.Point(window.innerWidth,window.innerHeight)};else if(e.clientWidth||e.clientHeight)$.getWindowSize=function(){return new $.Point(document.documentElement.clientWidth,document.documentElement.clientHeight)};else{if(!t.clientWidth&&!t.clientHeight)throw new Error("Unknown window size, no known technique.");$.getWindowSize=function(){return new $.Point(document.body.clientWidth,document.body.clientHeight)}}return $.getWindowSize()},makeCenteredNode:function(e){e=$.getElement(e);var t=[$.makeNeutralElement("div"),$.makeNeutralElement("div"),$.makeNeutralElement("div")];return $.extend(t[0].style,{display:"table",height:"100%",width:"100%"}),$.extend(t[1].style,{display:"table-row"}),$.extend(t[2].style,{display:"table-cell",verticalAlign:"middle",textAlign:"center"}),t[0].appendChild(t[1]),t[1].appendChild(t[2]),t[2].appendChild(e),t[0]},makeNeutralElement:function(e){var t=document.createElement(e),i=t.style;return i.background="transparent none",i.border="none",i.margin="0px",i.padding="0px",i.position="static",t},now:function(){return Date.now?$.now=Date.now:$.now=function(){return(new Date).getTime()},$.now()},makeTransparentImage:function(e){return $.makeTransparentImage=function(e){var t=$.makeNeutralElement("img");return t.src=e,t},$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<7&&($.makeTransparentImage=function(e){var t=$.makeNeutralElement("img"),i=null;return(i=$.makeNeutralElement("span")).style.display="inline-block",t.onload=function(){i.style.width=i.style.width||t.width+"px",i.style.height=i.style.height||t.height+"px",t.onload=null,t=null},t.src=e,i.style.filter="progid:DXImageTransform.Microsoft.AlphaImageLoader(src='"+e+"', sizingMethod='scale')",i}),$.makeTransparentImage(e)},setElementOpacity:function(e,t,i){var n;e=$.getElement(e),i&&!$.Browser.alpha&&(t=Math.round(t)),$.Browser.opacity?e.style.opacity=t<1?t:"":t<1?(n="alpha(opacity="+Math.round(100*t)+")",e.style.filter=n):e.style.filter=""},setElementTouchActionNone:function(e){"undefined"!=typeof(e=$.getElement(e)).style.touchAction?e.style.touchAction="none":"undefined"!=typeof e.style.msTouchAction&&(e.style.msTouchAction="none")},addClass:function(e,t){(e=$.getElement(e)).className?-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=" "+t):e.className=t},indexOf:function(e,t,i){return Array.prototype.indexOf?this.indexOf=function(e,t,i){return e.indexOf(t,i)}:this.indexOf=function(e,t,i){var n,s,o=i||0;if(!e)throw new TypeError;if(0===(s=e.length)||s<=o)return-1;for(o<0&&(o=s-Math.abs(o)),n=o;n<s;n++)if(e[n]===t)return n;return-1},this.indexOf(e,t,i)},removeClass:function(e,t){var i,n,s=[];for(i=(e=$.getElement(e)).className.split(/\s+/),n=0;n<i.length;n++)i[n]&&i[n]!==t&&s.push(i[n]);e.className=s.join(" ")},addEvent:function(){if(window.addEventListener)return function(e,t,i,n){(e=$.getElement(e)).addEventListener(t,i,n)};if(window.attachEvent)return function(e,t,i){(e=$.getElement(e)).attachEvent("on"+t,i)};throw new Error("No known event model.")}(),removeEvent:function(){if(window.removeEventListener)return function(e,t,i,n){(e=$.getElement(e)).removeEventListener(t,i,n)};if(window.detachEvent)return function(e,t,i){(e=$.getElement(e)).detachEvent("on"+t,i)};throw new Error("No known event model.")}(),cancelEvent:function(e){(e=$.getEvent(e)).preventDefault?$.cancelEvent=function(e){e.preventDefault()}:$.cancelEvent=function(e){(e=$.getEvent(e)).cancel=!0,e.returnValue=!1},$.cancelEvent(e)},stopEvent:function(e){(e=$.getEvent(e)).stopPropagation?$.stopEvent=function(e){e.stopPropagation()}:$.stopEvent=function(e){(e=$.getEvent(e)).cancelBubble=!0},$.stopEvent(e)},createCallback:function(i,n){var e,s=[];for(e=2;e<arguments.length;e++)s.push(arguments[e]);return function(){var e,t=s.concat([]);for(e=0;e<arguments.length;e++)t.push(arguments[e]);return n.apply(i,t)}},getUrlParameter:function(e){var t=URLPARAMS[e];return t||null},getUrlProtocol:function(e){var t=e.match(/^([a-z]+:)\/\//i);return null===t?window.location.protocol:t[1].toLowerCase()},createAjaxRequest:function(e){var t;try{t=!!new ActiveXObject("Microsoft.XMLHTTP")}catch(e){t=!1}if(t)window.XMLHttpRequest?$.createAjaxRequest=function(e){return e?new ActiveXObject("Microsoft.XMLHTTP"):new XMLHttpRequest}:$.createAjaxRequest=function(){return new ActiveXObject("Microsoft.XMLHTTP")};else{if(!window.XMLHttpRequest)throw new Error("Browser doesn't support XMLHttpRequest.");$.createAjaxRequest=function(){return new XMLHttpRequest}}return $.createAjaxRequest(e)},makeAjaxRequest:function(e,t,i){var n,s,o;$.isPlainObject(e)&&(t=e.success,i=e.error,n=e.withCredentials,s=e.headers,o=e.responseType||null,e=e.url);var r=$.getUrlProtocol(e),a=$.createAjaxRequest("file:"===r);if(!$.isFunction(t))throw new Error("makeAjaxRequest requires a success callback");a.onreadystatechange=function(){4==a.readyState&&(a.onreadystatechange=function(){},200<=a.status&&a.status<300||0===a.status&&"http:"!==r&&"https:"!==r?t(a):($.console.log("AJAX request returned %d: %s",a.status,e),$.isFunction(i)&&i(a)))};try{if(a.open("GET",e,!0),o&&(a.responseType=o),s)for(var l in s)s.hasOwnProperty(l)&&s[l]&&a.setRequestHeader(l,s[l]);n&&(a.withCredentials=!0),a.send(null)}catch(n){var c=n.message,u=$.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<10;if(u&&"undefined"!=typeof n.number&&-2147024891==n.number&&(c+="\nSee http://msdn.microsoft.com/en-us/library/ms537505(v=vs.85).aspx#xdomain"),$.console.log("%s while making AJAX request: %s",n.name,c),a.onreadystatechange=function(){},window.XDomainRequest){var h=new XDomainRequest;if(h){h.onload=function(){$.isFunction(t)&&t({responseText:h.responseText,status:200,statusText:"OK"})},h.onerror=function(){$.isFunction(i)&&i({responseText:h.responseText,status:444,statusText:"An error happened. Due to an XDomainRequest deficiency we can not extract any information about this error. Upgrade your browser."})};try{h.open("GET",e),h.send()}catch(e){$.isFunction(i)&&i(a,n)}}}else $.isFunction(i)&&i(a,n)}return a},jsonp:function(e){var i,t=e.url,n=document.head||document.getElementsByTagName("head")[0]||document.documentElement,s=e.callbackName||"openseadragon"+$.now(),o=window[s],r="$1"+s+"$2",a=e.param||"callback",l=e.callback;t=t.replace(/(\=)\?(&|$)|\?\?/i,r),t+=(/\?/.test(t)?"&":"?")+a+"="+s,window[s]=function(e){if(o)window[s]=o;else try{delete window[s]}catch(e){}l&&$.isFunction(l)&&l(e)},i=document.createElement("script"),void 0===e.async&&!1===e.async||(i.async="async"),e.scriptCharset&&(i.charset=e.scriptCharset),i.src=t,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=void 0)},n.insertBefore(i,n.firstChild)},createFromDZI:function(){throw"OpenSeadragon.createFromDZI is deprecated, use Viewer.open."},parseXml:function(e){if(window.DOMParser)$.parseXml=function(e){return(new DOMParser).parseFromString(e,"text/xml")};else{if(!window.ActiveXObject)throw new Error("Browser doesn't support XML DOM.");$.parseXml=function(e){var t=null;return(t=new ActiveXObject("Microsoft.XMLDOM")).async=!1,t.loadXML(e),t}}return $.parseXml(e)},parseJSON:function(string){return window.JSON&&window.JSON.parse?$.parseJSON=window.JSON.parse:$.parseJSON=function(string){return eval("("+string+")")},$.parseJSON(string)},imageFormatSupported:function(e){return!!FILEFORMATS[(e=e||"").toLowerCase()]}}),$.Browser={vendor:$.BROWSERS.UNKNOWN,version:0,alpha:!0};var FILEFORMATS={bmp:!1,jpeg:!0,jpg:!0,png:!0,tif:!1,wdp:!1},URLPARAMS={};!function(){var e=navigator.appVersion,t=navigator.userAgent;switch(navigator.appName){case"Microsoft Internet Explorer":window.attachEvent&&window.ActiveXObject&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(t.substring(t.indexOf("MSIE")+5,t.indexOf(";",t.indexOf("MSIE")))));break;case"Netscape":window.addEventListener&&(0<=t.indexOf("Firefox")?($.Browser.vendor=$.BROWSERS.FIREFOX,$.Browser.version=parseFloat(t.substring(t.indexOf("Firefox")+8))):0<=t.indexOf("Safari")?($.Browser.vendor=0<=t.indexOf("Chrome")?$.BROWSERS.CHROME:$.BROWSERS.SAFARI,$.Browser.version=parseFloat(t.substring(t.substring(0,t.indexOf("Safari")).lastIndexOf("/")+1,t.indexOf("Safari")))):null!==new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(t)&&($.Browser.vendor=$.BROWSERS.IE,$.Browser.version=parseFloat(RegExp.$1)));break;case"Opera":$.Browser.vendor=$.BROWSERS.OPERA,$.Browser.version=parseFloat(e)}var i,n,s,o=window.location.search.substring(1).split("&");for(s=0;s<o.length;s++)0<(n=(i=o[s]).indexOf("="))&&(URLPARAMS[i.substring(0,n)]=decodeURIComponent(i.substring(n+1)));$.Browser.alpha=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9||$.Browser.vendor==$.BROWSERS.CHROME&&$.Browser.version<2),$.Browser.opacity=!($.Browser.vendor==$.BROWSERS.IE&&$.Browser.version<9)}();var nullfunction=function(){};$.console=window.console||{log:nullfunction,debug:nullfunction,info:nullfunction,warn:nullfunction,error:nullfunction,assert:nullfunction},function(e){var t=e.requestAnimationFrame||e.mozRequestAnimationFrame||e.webkitRequestAnimationFrame||e.msRequestAnimationFrame,i=e.cancelAnimationFrame||e.mozCancelAnimationFrame||e.webkitCancelAnimationFrame||e.msCancelAnimationFrame;if(t&&i)$.requestAnimationFrame=function(){return t.apply(e,arguments)},$.cancelAnimationFrame=function(){return i.apply(e,arguments)};else{var n,s=[],o=[],r=0;$.requestAnimationFrame=function(e){return s.push([++r,e]),n||(n=setInterval(function(){if(s.length){var e=$.now(),t=o;for(o=s,s=t;o.length;)o.shift()[1](e)}else clearInterval(n),n=void 0},20)),r},$.cancelAnimationFrame=function(e){var t,i;for(t=0,i=s.length;t<i;t+=1)if(s[t][0]===e)return void s.splice(t,1);for(t=0,i=o.length;t<i;t+=1)if(o[t][0]===e)return void o.splice(t,1)}}}(window)}(OpenSeadragon),function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.OpenSeadragon=t()}(this,function(){return OpenSeadragon}),function(e){var t={supportsFullScreen:!1,isFullScreen:function(){return!1},getFullScreenElement:function(){return null},requestFullScreen:function(){},exitFullScreen:function(){},cancelFullScreen:function(){},fullScreenEventName:"",fullScreenErrorEventName:""};document.exitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.fullscreenElement},t.requestFullScreen=function(e){return e.requestFullscreen()},t.exitFullScreen=function(){document.exitFullscreen()},t.fullScreenEventName="fullscreenchange",t.fullScreenErrorEventName="fullscreenerror"):document.msExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.msFullscreenElement},t.requestFullScreen=function(e){return e.msRequestFullscreen()},t.exitFullScreen=function(){document.msExitFullscreen()},t.fullScreenEventName="MSFullscreenChange",t.fullScreenErrorEventName="MSFullscreenError"):document.webkitExitFullscreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitFullscreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullscreen()},t.exitFullScreen=function(){document.webkitExitFullscreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.webkitCancelFullScreen?(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.webkitCurrentFullScreenElement},t.requestFullScreen=function(e){return e.webkitRequestFullScreen()},t.exitFullScreen=function(){document.webkitCancelFullScreen()},t.fullScreenEventName="webkitfullscreenchange",t.fullScreenErrorEventName="webkitfullscreenerror"):document.mozCancelFullScreen&&(t.supportsFullScreen=!0,t.getFullScreenElement=function(){return document.mozFullScreenElement},t.requestFullScreen=function(e){return e.mozRequestFullScreen()},t.exitFullScreen=function(){document.mozCancelFullScreen()},t.fullScreenEventName="mozfullscreenchange",t.fullScreenErrorEventName="mozfullscreenerror"),t.isFullScreen=function(){return null!==t.getFullScreenElement()},t.cancelFullScreen=function(){e.console.error("cancelFullScreen is deprecated. Use exitFullScreen instead."),t.exitFullScreen()},e.extend(e,t)}(OpenSeadragon),function(o){o.EventSource=function(){this.events={}},o.EventSource.prototype={addOnceHandler:function(t,i,e,n){var s=this;n=n||1;var o=0,r=function(e){++o===n&&s.removeHandler(t,r),i(e)};this.addHandler(t,r,e)},addHandler:function(e,t,i){var n=this.events[e];n||(this.events[e]=n=[]),t&&o.isFunction(t)&&(n[n.length]={handler:t,userData:i||null})},removeHandler:function(e,t){var i,n=this.events[e],s=[];if(n&&o.isArray(n)){for(i=0;i<n.length;i++)n[i].handler!==t&&s.push(n[i]);this.events[e]=s}},removeAllHandlers:function(e){if(e)this.events[e]=[];else for(var t in this.events)this.events[t]=[]},getHandler:function(e){var s=this.events[e];return s&&s.length?(s=1===s.length?[s[0]]:Array.apply(null,s),function(e,t){var i,n=s.length;for(i=0;i<n;i++)s[i]&&(t.eventSource=e,t.userData=s[i].userData,s[i].handler(t))}):null},raiseEvent:function(e,t){var i=this.getHandler(e);i&&(t||(t={}),i(this,t))}}}(OpenSeadragon),function(m){function s(e){var t,i=be[e.hash],n=i.activePointersLists.length;for(t=0;t<n;t++)0<i.activePointersLists[t].captureCount&&(m.removeEvent(m.MouseTracker.captureElement,"mousemove",i.mousemovecaptured,!0),m.removeEvent(m.MouseTracker.captureElement,"mouseup",i.mouseupcaptured,!0),m.removeEvent(m.MouseTracker.captureElement,m.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",i.pointermovecaptured,!0),m.removeEvent(m.MouseTracker.captureElement,m.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",i.pointerupcaptured,!0),m.removeEvent(m.MouseTracker.captureElement,"touchmove",i.touchmovecaptured,!0),m.removeEvent(m.MouseTracker.captureElement,"touchend",i.touchendcaptured,!0),i.activePointersLists[t].captureCount=0);for(t=0;t<n;t++)i.activePointersLists.pop()}function t(e){var t,i,n=be[e.hash];if(!n.tracking){for(i=0;i<m.MouseTracker.subscribeEvents.length;i++)t=m.MouseTracker.subscribeEvents[i],m.addEvent(e.element,t,n[t],!1);s(e),n.tracking=!0}}function i(e){var t,i,n=be[e.hash];if(n.tracking){for(i=0;i<m.MouseTracker.subscribeEvents.length;i++)t=m.MouseTracker.subscribeEvents[i],m.removeEvent(e.element,t,n[t],!1);s(e),n.tracking=!1}}function o(e,t){var i=be[e.hash];if(
"pointerevent"===t)return{upName:m.MouseTracker.unprefixedPointerEvents?"pointerup":"MSPointerUp",upHandler:i.pointerupcaptured,moveName:m.MouseTracker.unprefixedPointerEvents?"pointermove":"MSPointerMove",moveHandler:i.pointermovecaptured};if("mouse"===t)return{upName:"mouseup",upHandler:i.mouseupcaptured,moveName:"mousemove",moveHandler:i.mousemovecaptured};if("touch"===t)return{upName:"touchend",upHandler:i.touchendcaptured,moveName:"touchmove",moveHandler:i.touchmovecaptured};throw new Error("MouseTracker.getCaptureEventParams: Unknown pointer type.")}function c(e,t,i){var n,s=e.getActivePointersListByType(t);s.captureCount+=i||1,1===s.captureCount&&(m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?e.element.setCapture(!0):(n=o(e,m.MouseTracker.havePointerEvents?"pointerevent":t),xe&&fe(window.top)&&m.addEvent(window.top,n.upName,n.upHandler,!0),m.addEvent(m.MouseTracker.captureElement,n.upName,n.upHandler,!0),m.addEvent(m.MouseTracker.captureElement,n.moveName,n.moveHandler,!0)))}function l(e,t,i){var n,s=e.getActivePointersListByType(t);s.captureCount-=i||1,0===s.captureCount&&(m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?e.element.releaseCapture():(n=o(e,m.MouseTracker.havePointerEvents?"pointerevent":t),xe&&fe(window.top)&&m.removeEvent(window.top,n.upName,n.upHandler,!0),m.removeEvent(m.MouseTracker.captureElement,n.moveName,n.moveHandler,!0),m.removeEvent(m.MouseTracker.captureElement,n.upName,n.upHandler,!0)))}function n(e){var t;if(m.MouseTracker.unprefixedPointerEvents)t=e.pointerType;else switch(e.pointerType){case 2:t="touch";break;case 3:t="pen";break;case 4:t="mouse";break;default:t=""}return t}function u(e){return m.getMousePosition(e)}function r(e,t){return g(u(e),t)}function g(e,t){var i=m.getElementOffset(t);return e.minus(i)}function v(e,t){return new m.Point((e.x+t.x)/2,(e.y+t.y)/2)}function a(e,t){e.clickHandler&&m.cancelEvent(t)}function h(e,t){e.dblClickHandler&&m.cancelEvent(t)}function d(e,t){e.keyDownHandler&&(t=m.getEvent(t),e.keyDownHandler({eventSource:e,keyCode:t.keyCode?t.keyCode:t.charCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,originalEvent:t,preventDefaultAction:!1,userData:e.userData})||m.cancelEvent(t))}function p(e,t){e.keyUpHandler&&(t=m.getEvent(t),e.keyUpHandler({eventSource:e,keyCode:t.keyCode?t.keyCode:t.charCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,originalEvent:t,preventDefaultAction:!1,userData:e.userData})||m.cancelEvent(t))}function f(e,t){e.keyHandler&&(t=m.getEvent(t),e.keyHandler({eventSource:e,keyCode:t.keyCode?t.keyCode:t.charCode,ctrl:t.ctrlKey,shift:t.shiftKey,alt:t.altKey,meta:t.metaKey,originalEvent:t,preventDefaultAction:!1,userData:e.userData})||m.cancelEvent(t))}function y(e,t){e.focusHandler&&(t=m.getEvent(t),!1===e.focusHandler({eventSource:e,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t))}function _(e,t){e.blurHandler&&(t=m.getEvent(t),!1===e.blurHandler({eventSource:e,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t))}function w(e,t){x(e,t,t)}function b(e,t){var i={target:(t=m.getEvent(t)).target||t.srcElement,type:"wheel",shiftKey:t.shiftKey||!1,clientX:t.clientX,clientY:t.clientY,pageX:t.pageX?t.pageX:t.clientX,pageY:t.pageY?t.pageY:t.clientY,deltaMode:"MozMousePixelScroll"==t.type?0:1,deltaX:0,deltaZ:0};"mousewheel"==m.MouseTracker.wheelEventName?i.deltaY=-t.wheelDelta/m.DEFAULT_SETTINGS.pixelsPerWheelLine:i.deltaY=t.detail,x(e,i,t)}function x(e,t,i){var n=0;n=t.deltaY<0?1:-1,e.scrollHandler&&!1===e.scrollHandler({eventSource:e,pointerType:"mouse",position:r(t,e.element),scroll:n,shift:t.shiftKey,isTouchEvent:!1,originalEvent:i,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(i)}function S(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}function C(e,t){T(e,t=m.getEvent(t))}function E(e,t){(t=m.getEvent(t)).currentTarget===t.relatedTarget||S(t.currentTarget,t.relatedTarget)||T(e,t)}function T(e,t){ae(e,t,[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(t),currentTime:m.now()}])}function k(e,t){M(e,t=m.getEvent(t))}function R(e,t){(t=m.getEvent(t)).currentTarget===t.relatedTarget||S(t.currentTarget,t.relatedTarget)||M(e,t)}function M(e,t){le(e,t,[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(t),currentTime:m.now()}])}function P(e){return m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?1===e?0:2===e?2:4===e?1:-1:e}function N(e,t){ce(e,t=m.getEvent(t),[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(t),currentTime:m.now()}],P(t.button))&&(m.stopEvent(t),c(e,"mouse")),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler)&&m.cancelEvent(t)}function D(e,t){O(e,t)}function I(e,t){O(e,t),m.stopEvent(t)}function O(e,t){ue(e,t=m.getEvent(t),[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(t),currentTime:m.now()}],P(t.button))&&l(e,"mouse")}function L(e,t){H(e,t)}function A(e,t){H(e,t),m.stopEvent(t)}function H(e,t){he(e,t=m.getEvent(t),[{id:m.MouseTracker.mousePointerId,type:"mouse",isPrimary:!0,currentPos:u(t),currentTime:m.now()}])}function F(e,t,i){var n,s=i.getLength(),o=[];if("touch"===i.type||0<i.contacts){for(n=0;n<s;n++)o.push(i.getByIndex(n));0<o.length&&(ue(e,t,o,0),i.captureCount=1,l(e,i.type),le(e,t,o))}}function j(e,t){var i,n,s,o,r=t.changedTouches.length,a=[],l=e.getActivePointersListByType("touch");for(i=m.now(),l.getLength()>t.touches.length-r&&(m.console.warn("Tracked touch contact count doesn't match event.touches.length. Removing all tracked touch pointers."),F(e,t,l)),n=0;n<r;n++)a.push({id:t.changedTouches[n].identifier,type:"touch",currentPos:u(t.changedTouches[n]),currentTime:i});for(ae(e,t,a),n=0;n<we.length;n++)if(we[n]!==e&&we[n].isTracking()&&S(we[n].element,e.element)){for(o=[],s=0;s<r;s++)o.push({id:t.changedTouches[s].identifier,type:"touch",currentPos:u(t.changedTouches[s]),currentTime:i});ae(we[n],t,o)}ce(e,t,a,0)&&(m.stopEvent(t),c(e,"touch",r)),m.cancelEvent(t)}function z(e,t){B(e,t)}function $(e,t){B(e,t),m.stopEvent(t)}function B(e,t){var i,n,s,o,r=t.changedTouches.length,a=[];for(i=m.now(),n=0;n<r;n++)a.push({id:t.changedTouches[n].identifier,type:"touch",currentPos:u(t.changedTouches[n]),currentTime:i});for(ue(e,t,a,0)&&l(e,"touch",r),le(e,t,a),n=0;n<we.length;n++)if(we[n]!==e&&we[n].isTracking()&&S(we[n].element,e.element)){for(o=[],s=0;s<r;s++)o.push({id:t.changedTouches[s].identifier,type:"touch",currentPos:u(t.changedTouches[s]),currentTime:i});le(we[n],t,o)}m.cancelEvent(t)}function W(e,t){V(e,t)}function U(e,t){V(e,t),m.stopEvent(t)}function V(e,t){var i,n=t.changedTouches.length,s=[];for(i=0;i<n;i++)s.push({id:t.changedTouches[i].identifier,type:"touch",currentPos:u(t.changedTouches[i]),currentTime:m.now()});he(e,t,s),m.cancelEvent(t)}function q(e,t){F(e,t,e.getActivePointersListByType("touch"))}function Y(e,t){return t.stopPropagation(),t.preventDefault(),!1}function G(e,t){return t.stopPropagation(),t.preventDefault(),!1}function X(e,t){t.currentTarget===t.relatedTarget||S(t.currentTarget,t.relatedTarget)||ae(e,t,[{id:t.pointerId,type:n(t),isPrimary:t.isPrimary,currentPos:u(t),currentTime:m.now()}])}function Z(e,t){t.currentTarget===t.relatedTarget||S(t.currentTarget,t.relatedTarget)||le(e,t,[{id:t.pointerId,type:n(t),isPrimary:t.isPrimary,currentPos:u(t),currentTime:m.now()}])}function K(e,t){var i;ce(e,t,[i={id:t.pointerId,type:n(t),isPrimary:t.isPrimary,currentPos:u(t),currentTime:m.now()}],t.button)&&(m.stopEvent(t),c(e,i.type)),(e.clickHandler||e.dblClickHandler||e.pressHandler||e.dragHandler||e.dragEndHandler||e.pinchHandler)&&m.cancelEvent(t)}function Q(e,t){ee(e,t)}function J(e,t){e.getActivePointersListByType(n(t)).getById(t.pointerId)&&ee(e,t),m.stopEvent(t)}function ee(e,t){var i;ue(e,t,[i={id:t.pointerId,type:n(t),isPrimary:t.isPrimary,currentPos:u(t),currentTime:m.now()}],t.button)&&l(e,i.type)}function te(e,t){ne(e,t)}function ie(e,t){e.getActivePointersListByType(n(t)).getById(t.pointerId)&&ne(e,t),m.stopEvent(t)}function ne(e,t){he(e,t,[{id:t.pointerId,type:n(t),isPrimary:t.isPrimary,currentPos:u(t),currentTime:m.now()}])}function se(e,t){de(e,t,[{id:t.pointerId,type:n(t)}])}function oe(e,t){return t.hasOwnProperty("isPrimary")||(0===e.getLength()?t.isPrimary=!0:t.isPrimary=!1),t.speed=0,t.direction=0,t.contactPos=t.currentPos,t.contactTime=t.currentTime,t.lastPos=t.currentPos,t.lastTime=t.currentTime,e.add(t)}function re(e,t){var i,n;return e.getById(t.id)?(i=e.removeById(t.id),t.hasOwnProperty("isPrimary")||(n=e.getPrimary())||(n=e.getByIndex(0))&&(n.isPrimary=!0)):i=e.getLength(),i}function ae(e,t,i){var n,s,o,r=e.getActivePointersListByType(i[0].type),a=i.length;for(n=0;n<a;n++)s=i[n],(o=r.getById(s.id))?(o.insideElement=!0,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=s.currentPos,o.currentTime=s.currentTime,s=o):(s.captured=!1,s.insideElementPressed=!1,s.insideElement=!0,oe(r,s)),e.enterHandler&&!1===e.enterHandler({eventSource:e,pointerType:s.type,position:g(s.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:s.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===s.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t)}function le(e,t,i){var n,s,o,r=e.getActivePointersListByType(i[0].type),a=i.length;for(n=0;n<a;n++)s=i[n],(o=r.getById(s.id))&&(o.captured?(o.insideElement=!1,o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=s.currentPos,o.currentTime=s.currentTime):re(r,o),s=o),e.exitHandler&&!1===e.exitHandler({eventSource:e,pointerType:s.type,position:g(s.currentPos,e.element),buttons:r.buttons,pointers:e.getActivePointerCount(),insideElementPressed:!!o&&o.insideElementPressed,buttonDownAny:0!==r.buttons,isTouchEvent:"touch"===s.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t)}function ce(e,t,i,n){var s,o,r,a=be[e.hash],l=e.getActivePointersListByType(i[0].type),c=i.length;"undefined"!=typeof t.buttons?l.buttons=t.buttons:m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?0===n?l.buttons+=1:1===n?l.buttons+=4:2===n?l.buttons+=2:3===n?l.buttons+=8:4===n?l.buttons+=16:5===n&&(l.buttons+=32):0===n?l.buttons|=1:1===n?l.buttons|=4:2===n?l.buttons|=2:3===n?l.buttons|=8:4===n?l.buttons|=16:5===n&&(l.buttons|=32);var u=e.getActivePointersListsExceptType(i[0].type);for(s=0;s<u.length;s++)F(e,t,u[s]);if(0!==n)return e.nonPrimaryPressHandler&&!1===e.nonPrimaryPressHandler({eventSource:e,pointerType:i[0].type,position:g(i[0].currentPos,e.element),button:n,buttons:l.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),!1;for(s=0;s<c;s++)o=i[s],(r=l.getById(o.id))?(r.captured=!0,r.insideElementPressed=!0,r.insideElement=!0,r.contactPos=o.currentPos,r.contactTime=o.currentTime,r.lastPos=r.currentPos,r.lastTime=r.currentTime,r.currentPos=o.currentPos,r.currentTime=o.currentTime,o=r):(o.captured=!0,o.insideElementPressed=!0,o.insideElement=!0,oe(l,o)),l.addContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&m.MouseTracker.gesturePointVelocityTracker.addPoint(e,o),1===l.contacts?e.pressHandler&&!1===e.pressHandler({eventSource:e,pointerType:o.type,position:g(o.contactPos,e.element),buttons:l.buttons,isTouchEvent:"touch"===o.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t):2===l.contacts&&e.pinchHandler&&"touch"===o.type&&(a.pinchGPoints=l.asArray(),a.lastPinchDist=a.currentPinchDist=a.pinchGPoints[0].currentPos.distanceTo(a.pinchGPoints[1].currentPos),a.lastPinchCenter=a.currentPinchCenter=v(a.pinchGPoints[0].currentPos,a.pinchGPoints[1].currentPos));return!0}function ue(e,t,i,n){var s,o,r,a,l,c,u=be[e.hash],h=e.getActivePointersListByType(i[0].type),d=i.length,p=!1,f=!1;if("undefined"!=typeof t.buttons?h.buttons=t.buttons:m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?0===n?h.buttons-=1:1===n?h.buttons-=4:2===n?h.buttons-=2:3===n?h.buttons-=8:4===n?h.buttons-=16:5===n&&(h.buttons-=32):0===n?h.buttons^=-2:1===n?h.buttons^=-5:2===n?h.buttons^=-3:3===n?h.buttons^=-9:4===n?h.buttons^=-17:5===n&&(h.buttons^=-33),0!==n)return e.nonPrimaryReleaseHandler&&!1===e.nonPrimaryReleaseHandler({eventSource:e,pointerType:i[0].type,position:g(i[0].currentPos,e.element),button:n,buttons:h.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),F(e,t,e.getActivePointersListByType("mouse")),!1;for(r=0;r<d;r++)a=i[r],(l=h.getById(a.id))&&(l.captured&&(f=p=!(l.captured=!1)),l.lastPos=l.currentPos,l.lastTime=l.currentTime,l.currentPos=a.currentPos,l.currentTime=a.currentTime,l.insideElement||re(h,l),s=l.currentPos,o=l.currentTime,f?(h.removeContact(),(e.dragHandler||e.dragEndHandler||e.pinchHandler)&&m.MouseTracker.gesturePointVelocityTracker.removePoint(e,l),0===h.contacts?(e.releaseHandler&&!1===e.releaseHandler({eventSource:e,pointerType:l.type,position:g(s,e.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),e.dragEndHandler&&!l.currentPos.equals(l.contactPos)&&!1===e.dragEndHandler({eventSource:e,pointerType:l.type,position:g(l.currentPos,e.element),speed:l.speed,direction:l.direction,shift:t.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),(e.clickHandler||e.dblClickHandler)&&l.insideElement&&(c=o-l.contactTime<=e.clickTimeThreshold&&l.contactPos.distanceTo(s)<=e.clickDistThreshold,e.clickHandler&&!1===e.clickHandler({eventSource:e,pointerType:l.type,position:g(l.currentPos,e.element),quick:c,shift:t.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),e.dblClickHandler&&c&&(h.clicks++,1===h.clicks?(u.lastClickPos=s,u.dblClickTimeOut=setTimeout(function(){h.clicks=0},e.dblClickTimeThreshold)):2===h.clicks&&(clearTimeout(u.dblClickTimeOut),h.clicks=0,u.lastClickPos.distanceTo(s)<=e.dblClickDistThreshold&&!1===e.dblClickHandler({eventSource:e,pointerType:l.type,position:g(l.currentPos,e.element),shift:t.shiftKey,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t),u.lastClickPos=null)))):2===h.contacts&&e.pinchHandler&&"touch"===l.type&&(u.pinchGPoints=h.asArray(),u.lastPinchDist=u.currentPinchDist=u.pinchGPoints[0].currentPos.distanceTo(u.pinchGPoints[1].currentPos),u.lastPinchCenter=u.currentPinchCenter=v(u.pinchGPoints[0].currentPos,u.pinchGPoints[1].currentPos))):e.releaseHandler&&!1===e.releaseHandler({eventSource:e,pointerType:l.type,position:g(s,e.element),buttons:h.buttons,insideElementPressed:l.insideElementPressed,insideElementReleased:l.insideElement,isTouchEvent:"touch"===l.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t));return p}function he(e,t,i){var n,s,o,r,a,l=be[e.hash],c=e.getActivePointersListByType(i[0].type),u=i.length;for("undefined"!=typeof t.buttons&&(c.buttons=t.buttons),n=0;n<u;n++)s=i[n],(o=c.getById(s.id))?(s.hasOwnProperty("isPrimary")&&(o.isPrimary=s.isPrimary),o.lastPos=o.currentPos,o.lastTime=o.currentTime,o.currentPos=s.currentPos,o.currentTime=s.currentTime):(s.captured=!1,s.insideElementPressed=!1,s.insideElement=!0,oe(c,s));e.stopHandler&&"mouse"===i[0].type&&(clearTimeout(e.stopTimeOut),e.stopTimeOut=setTimeout(function(){pe(e,t,i[0].type)},e.stopDelay)),0===c.contacts?e.moveHandler&&!1===e.moveHandler({eventSource:e,pointerType:i[0].type,position:g(i[0].currentPos,e.element),buttons:c.buttons,isTouchEvent:"touch"===i[0].type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t):1===c.contacts?(e.moveHandler&&(o=c.asArray()[0],!1===e.moveHandler({eventSource:e,pointerType:o.type,position:g(o.currentPos,e.element),buttons:c.buttons,isTouchEvent:"touch"===o.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t)),e.dragHandler&&(a=(o=c.asArray()[0]).currentPos.minus(o.lastPos),!1===e.dragHandler({eventSource:e,pointerType:o.type,position:g(o.currentPos,e.element),buttons:c.buttons,delta:a,speed:o.speed,direction:o.direction,shift:t.shiftKey,isTouchEvent:"touch"===o.type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t))):2===c.contacts&&(e.moveHandler&&(r=c.asArray(),!1===e.moveHandler({eventSource:e,pointerType:r[0].type,position:g(v(r[0].currentPos,r[1].currentPos),e.element),buttons:c.buttons,isTouchEvent:"touch"===r[0].type,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t)),e.pinchHandler&&"touch"===i[0].type&&(a=l.pinchGPoints[0].currentPos.distanceTo(l.pinchGPoints[1].currentPos))!=l.currentPinchDist&&(l.lastPinchDist=l.currentPinchDist,l.currentPinchDist=a,l.lastPinchCenter=l.currentPinchCenter,l.currentPinchCenter=v(l.pinchGPoints[0].currentPos,l.pinchGPoints[1].currentPos),!1===e.pinchHandler({eventSource:e,pointerType:"touch",gesturePoints:l.pinchGPoints,lastCenter:g(l.lastPinchCenter,e.element),center:g(l.currentPinchCenter,e.element),lastDistance:l.lastPinchDist,distance:l.currentPinchDist,shift:t.shiftKey,originalEvent:t,preventDefaultAction:!1,userData:e.userData})&&m.cancelEvent(t)))}function de(e,t,i){ue(e,t,i,0),le(e,t,i)}function pe(e,t,i){e.stopHandler&&e.stopHandler({eventSource:e,pointerType:i,position:r(t,e.element),buttons:e.getActivePointersListByType(i).buttons,isTouchEvent:"touch"===i,originalEvent:t,preventDefaultAction:!1,userData:e.userData})}function fe(e){try{return e.addEventListener&&e.removeEventListener}catch(e){return!1}}var me,ge,ve,ye,_e,e,we=[],be={};m.MouseTracker=function(e){we.push(this);var t=arguments;m.isPlainObject(e)||(e={element:t[0],clickTimeThreshold:t[1],clickDistThreshold:t[2]}),this.hash=Math.random(),this.element=m.getElement(e.element),this.clickTimeThreshold=e.clickTimeThreshold||m.DEFAULT_SETTINGS.clickTimeThreshold,this.clickDistThreshold=e.clickDistThreshold||m.DEFAULT_SETTINGS.clickDistThreshold,this.dblClickTimeThreshold=e.dblClickTimeThreshold||m.DEFAULT_SETTINGS.dblClickTimeThreshold,this.dblClickDistThreshold=e.dblClickDistThreshold||m.DEFAULT_SETTINGS.dblClickDistThreshold,this.userData=e.userData||null,this.stopDelay=e.stopDelay||50,this.enterHandler=e.enterHandler||null,this.exitHandler=e.exitHandler||null,this.pressHandler=e.pressHandler||null,this.nonPrimaryPressHandler=e.nonPrimaryPressHandler||null,this.releaseHandler=e.releaseHandler||null,this.nonPrimaryReleaseHandler=e.nonPrimaryReleaseHandler||null,this.moveHandler=e.moveHandler||null,this.scrollHandler=e.scrollHandler||null,this.clickHandler=e.clickHandler||null,this.dblClickHandler=e.dblClickHandler||null,this.dragHandler=e.dragHandler||null,this.dragEndHandler=e.dragEndHandler||null,this.pinchHandler=e.pinchHandler||null,this.stopHandler=e.stopHandler||null,this.keyDownHandler=e.keyDownHandler||null,this.keyUpHandler=e.keyUpHandler||null,this.keyHandler=e.keyHandler||null,this.focusHandler=e.focusHandler||null,this.blurHandler=e.blurHandler||null;var i=this;be[this.hash]={click:function(e){a(i,e)},dblclick:function(e){h(i,e)},keydown:function(e){d(i,e)},keyup:function(e){p(i,e)},keypress:function(e){f(i,e)},focus:function(e){y(i,e)},blur:function(e){_(i,e)},wheel:function(e){w(i,e)},mousewheel:function(e){b(i,e)},DOMMouseScroll:function(e){b(i,e)},MozMousePixelScroll:function(e){b(i,e)},mouseenter:function(e){C(i,e)},mouseleave:function(e){k(i,e)},mouseover:function(e){E(i,e)},mouseout:function(e){R(i,e)},mousedown:function(e){N(i,e)},mouseup:function(e){D(i,e)},mouseupcaptured:function(e){I(i,e)},mousemove:function(e){L(i,e)},mousemovecaptured:function(e){A(i,e)},touchstart:function(e){j(i,e)},touchend:function(e){z(i,e)},touchendcaptured:function(e){$(i,e)},touchmove:function(e){W(i,e)},touchmovecaptured:function(e){U(i,e)},touchcancel:function(e){q(i,e)},gesturestart:function(e){Y(i,e)},gesturechange:function(e){G(i,e)},pointerover:function(e){X(i,e)},MSPointerOver:function(e){X(i,e)},pointerout:function(e){Z(i,e)},MSPointerOut:function(e){Z(i,e)},pointerdown:function(e){K(i,e)},MSPointerDown:function(e){K(i,e)},pointerup:function(e){Q(i,e)},MSPointerUp:function(e){Q(i,e)},pointermove:function(e){te(i,e)},MSPointerMove:function(e){te(i,e)},pointercancel:function(e){se(i,e)},MSPointerCancel:function(e){se(i,e)},pointerupcaptured:function(e){J(i,e)},pointermovecaptured:function(e){ie(i,e)},tracking:!1,activePointersLists:[],lastClickPos:null,dblClickTimeOut:null,pinchGPoints:[],lastPinchDist:0,currentPinchDist:0,lastPinchCenter:null,currentPinchCenter:null},e.startDisabled||this.setTracking(!0)},m.MouseTracker.prototype={destroy:function(){var e;for(i(this),this.element=null,e=0;e<we.length;e++)if(we[e]===this){we.splice(e,1);break}be[this.hash]=null,delete be[this.hash]},isTracking:function(){return be[this.hash].tracking},setTracking:function(e){return e?t(this):i(this),this},getActivePointersListsExceptType:function(e){for(var t=be[this.hash],i=[],n=0;n<t.activePointersLists.length;++n)t.activePointersLists[n].type!==e&&i.push(t.activePointersLists[n]);return i},getActivePointersListByType:function(e){var t,i,n=be[this.hash],s=n.activePointersLists.length;for(t=0;t<s;t++)if(n.activePointersLists[t].type===e)return n.activePointersLists[t];return i=new m.MouseTracker.GesturePointList(e),n.activePointersLists.push(i),i},getActivePointerCount:function(){var e,t=be[this.hash],i=t.activePointersLists.length,n=0;for(e=0;e<i;e++)n+=t.activePointersLists[e].getLength();return n},enterHandler:function(){},exitHandler:function(){},pressHandler:function(){},nonPrimaryPressHandler:function(){},releaseHandler:function(){},nonPrimaryReleaseHandler:function(){},moveHandler:function(){},scrollHandler:function(){},clickHandler:function(){},dblClickHandler:function(){},dragHandler:function(){},dragEndHandler:function(){},pinchHandler:function(){},stopHandler:function(){},keyDownHandler:function(){},keyUpHandler:function(){},keyHandler:function(){},focusHandler:function(){},blurHandler:function(){}},m.MouseTracker.resetAllMouseTrackers=function(){for(var e=0;e<we.length;e++)we[e].isTracking()&&(we[e].setTracking(!1),we[e].setTracking(!0))},m.MouseTracker.gesturePointVelocityTracker=(me=[],ve=ge=0,ye=function(e,t){return e.hash.toString()+t.type+t.id.toString()},_e=function(){var e,t,i,n,s,o,r=me.length,a=m.now();for(n=a-ve,ve=a,e=0;e<r;e++)(i=(t=me[e]).gPoint).direction=Math.atan2(i.currentPos.y-t.lastPos.y,i.currentPos.x-t.lastPos.x),s=t.lastPos.distanceTo(i.currentPos),t.lastPos=i.currentPos,o=1e3*s/(n+1),i.speed=.75*o+.25*i.speed},{addPoint:function(e,t){var i=ye(e,t);me.push({guid:i,gPoint:t,lastPos:t.currentPos}),1===me.length&&(ve=m.now(),ge=window.setInterval(_e,50))},removePoint:function(e,t){var i,n=ye(e,t),s=me.length;for(i=0;i<s;i++)if(me[i].guid===n){me.splice(i,1),0==--s&&window.clearInterval(ge);break}}}),m.MouseTracker.captureElement=document,m.MouseTracker.wheelEventName=m.Browser.vendor==m.BROWSERS.IE&&8<m.Browser.version||"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",m.MouseTracker.supportsMouseCapture=(e=document.createElement("div"),m.isFunction(e.setCapture)&&m.isFunction(e.releaseCapture)),m.MouseTracker.subscribeEvents=["click","dblclick","keydown","keyup","keypress","focus","blur",m.MouseTracker.wheelEventName],"DOMMouseScroll"==m.MouseTracker.wheelEventName&&m.MouseTracker.subscribeEvents.push("MozMousePixelScroll"),window.PointerEvent&&(window.navigator.pointerEnabled||m.Browser.vendor!==m.BROWSERS.IE)?(m.MouseTracker.havePointerEvents=!0,m.MouseTracker.subscribeEvents.push("pointerover","pointerout","pointerdown","pointerup","pointermove","pointercancel"),m.MouseTracker.unprefixedPointerEvents=!0,navigator.maxTouchPoints?m.MouseTracker.maxTouchPoints=navigator.maxTouchPoints:m.MouseTracker.maxTouchPoints=0,m.MouseTracker.haveMouseEnter=!1):window.MSPointerEvent&&window.navigator.msPointerEnabled?(m.MouseTracker.havePointerEvents=!0,m.MouseTracker.subscribeEvents.push("MSPointerOver","MSPointerOut","MSPointerDown","MSPointerUp","MSPointerMove","MSPointerCancel"),m.MouseTracker.unprefixedPointerEvents=!1,navigator.msMaxTouchPoints?m.MouseTracker.maxTouchPoints=navigator.msMaxTouchPoints:m.MouseTracker.maxTouchPoints=0,m.MouseTracker.haveMouseEnter=!1):(m.MouseTracker.havePointerEvents=!1,m.Browser.vendor===m.BROWSERS.IE&&m.Browser.version<9?(m.MouseTracker.subscribeEvents.push("mouseenter","mouseleave"),m.MouseTracker.haveMouseEnter=!0):(m.MouseTracker.subscribeEvents.push("mouseover","mouseout"),m.MouseTracker.haveMouseEnter=!1),m.MouseTracker.subscribeEvents.push("mousedown","mouseup","mousemove"),"ontouchstart"in window&&m.MouseTracker.subscribeEvents.push("touchstart","touchend","touchmove","touchcancel"),"ongesturestart"in window&&m.MouseTracker.subscribeEvents.push("gesturestart","gesturechange"),m.MouseTracker.mousePointerId="legacy-mouse",m.MouseTracker.maxTouchPoints=10),m.MouseTracker.GesturePointList=function(e){this._gPoints=[],this.type=e,this.buttons=0,this.contacts=0,this.clicks=0,this.captureCount=0},m.MouseTracker.GesturePointList.prototype={getLength:function(){return this._gPoints.length},asArray:function(){return this._gPoints},add:function(e){return this._gPoints.push(e)},removeById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e){this._gPoints.splice(t,1);break}return this._gPoints.length},getByIndex:function(e){return e<this._gPoints.length?this._gPoints[e]:null},getById:function(e){var t,i=this._gPoints.length;for(t=0;t<i;t++)if(this._gPoints[t].id===e)return this._gPoints[t];return null},getPrimary:function(){var e,t=this._gPoints.length;for(e=0;e<t;e++)if(this._gPoints[e].isPrimary)return this._gPoints[e];return null},addContact:function(){++this.contacts,1<this.contacts&&("mouse"===this.type||"pen"===this.type)&&(this.contacts=1)},removeContact:function(){--this.contacts,this.contacts<0&&(this.contacts=0)}};var xe=function(){try{return window.self!==window.top}catch(m){return!0}}()}(OpenSeadragon),function(s){s.ControlAnchor={NONE:0,TOP_LEFT:1,TOP_RIGHT:2,BOTTOM_RIGHT:3,BOTTOM_LEFT:4,ABSOLUTE:5},s.Control=function(e,t,i){var n=e.parentNode;"number"==typeof t&&(s.console.error("Passing an anchor directly into the OpenSeadragon.Control constructor is deprecated; please use an options object instead.  Support for this deprecated variant is scheduled for removal in December 2013"),t={anchor:t}),t.attachToViewer="undefined"==typeof t.attachToViewer||t.attachToViewer,this.autoFade="undefined"==typeof t.autoFade||t.autoFade,this.element=e,this.anchor=t.anchor,this.container=i,this.anchor==s.ControlAnchor.ABSOLUTE?(this.wrapper=s.makeNeutralElement("div"),this.wrapper.style.position="absolute",this.wrapper.style.top="number"==typeof t.top?t.top+"px":t.top,this.wrapper.style.left="number"==typeof t.left?t.left+"px":t.left,this.wrapper.style.height="number"==typeof t.height?t.height+"px":t.height,this.wrapper.style.width="number"==typeof t.width?t.width+"px":t.width,this.wrapper.style.margin="0px",this.wrapper.style.padding="0px",this.element.style.position="relative",this.element.style.top="0px",this.element.style.left="0px",this.element.style.height="100%",this.element.style.width="100%"):(this.wrapper=s.makeNeutralElement("div"),this.wrapper.style.display="inline-block",this.anchor==s.ControlAnchor.NONE&&(this.wrapper.style.width=this.wrapper.style.height="100%")),this.wrapper.appendChild(this.element),t.attachToViewer?this.anchor==s.ControlAnchor.TOP_RIGHT||this.anchor==s.ControlAnchor.BOTTOM_RIGHT?this.container.insertBefore(this.wrapper,this.container.firstChild):this.container.appendChild(this.wrapper):n.appendChild(this.wrapper)},s.Control.prototype={destroy:function(){this.wrapper.removeChild(this.element),this.container.removeChild(this.wrapper)},isVisible:function(){return"none"!=this.wrapper.style.display},setVisible:function(e){this.wrapper.style.display=e?this.anchor==s.ControlAnchor.ABSOLUTE?"block":"inline-block":"none"},setOpacity:function(e){this.element[s.SIGNAL]&&s.Browser.vendor==s.BROWSERS.IE?s.setElementOpacity(this.element,e,!0):s.setElementOpacity(this.wrapper,e,!0)}}}(OpenSeadragon),function(s){function n(e,t){var i,n=e.controls;for(i=n.length-1;0<=i;i--)if(n[i].element==t)return i;return-1}s.ControlDock=function(e){var t,i,n=["topleft","topright","bottomright","bottomleft"];for(s.extend(!0,this,{id:"controldock-"+s.now()+"-"+Math.floor(1e6*Math.random()),container:s.makeNeutralElement("div"),controls:[]},e),this.container.onsubmit=function(){return!1},this.element&&(this.element=s.getElement(this.element),this.element.appendChild(this.container),this.element.style.position="relative",this.container.style.width="100%",this.container.style.height="100%"),i=0;i<n.length;i++)t=n[i],this.controls[t]=s.makeNeutralElement("div"),this.controls[t].style.position="absolute",t.match("left")&&(this.controls[t].style.left="0px"),t.match("right")&&(this.controls[t].style.right="0px"),t.match("top")&&(this.controls[t].style.top="0px"),t.match("bottom")&&(this.controls[t].style.bottom="0px");this.container.appendChild(this.controls.topleft),this.container.appendChild(this.controls.topright),this.container.appendChild(this.controls.bottomright),this.container.appendChild(this.controls.bottomleft)},s.ControlDock.prototype={addControl:function(e,t){var i=null;if(!(0<=n(this,e=s.getElement(e)))){switch(t.anchor){case s.ControlAnchor.TOP_RIGHT:i=this.controls.topright,e.style.position="relative",e.style.paddingRight="0px",e.style.paddingTop="0px";break;case s.ControlAnchor.BOTTOM_RIGHT:i=this.controls.bottomright,e.style.position="relative",e.style.paddingRight="0px",e.style.paddingBottom="0px";break;case s.ControlAnchor.BOTTOM_LEFT:i=this.controls.bottomleft,e.style.position="relative",e.style.paddingLeft="0px",e.style.paddingBottom="0px";break;case s.ControlAnchor.TOP_LEFT:i=this.controls.topleft,e.style.position="relative",e.style.paddingLeft="0px",e.style.paddingTop="0px";break;case s.ControlAnchor.ABSOLUTE:i=this.container,e.style.margin="0px",e.style.padding="0px";break;default:case s.ControlAnchor.NONE:i=this.container,e.style.margin="0px",e.style.padding="0px"}this.controls.push(new s.Control(e,t,i)),e.style.display="inline-block"}},removeControl:function(e){var t=n(this,e=s.getElement(e));return 0<=t&&(this.controls[t].destroy(),this.controls.splice(t,1)),this},clearControls:function(){for(;0<this.controls.length;)this.controls.pop().destroy();return this},areControlsEnabled:function(){var e;for(e=this.controls.length-1;0<=e;e--)if(this.controls[e].isVisible())return!0;return!1},setControlsEnabled:function(e){var t;for(t=this.controls.length-1;0<=t;t--)this.controls[t].setVisible(e);return this}}}(OpenSeadragon),function(e){e.Placement=e.freezeObject({CENTER:0,TOP_LEFT:1,TOP:2,TOP_RIGHT:3,RIGHT:4,BOTTOM_RIGHT:5,BOTTOM:6,BOTTOM_LEFT:7,LEFT:8,properties:{0:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1},1:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},2:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!0,isVerticallyCentered:!1,isBottom:!1},3:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!0,isVerticallyCentered:!1,isBottom:!1},4:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!0,isBottom:!1},5:{isLeft:!1,isHorizontallyCentered:!1,isRight:!0,isTop:!1,isVerticallyCentered:!1,isBottom:!0},6:{isLeft:!1,isHorizontallyCentered:!0,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},7:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!1,isBottom:!0},8:{isLeft:!0,isHorizontallyCentered:!1,isRight:!1,isTop:!1,isVerticallyCentered:!0,isBottom:!1}}})}(OpenSeadragon),function(f){function u(e){return e=f.getElement(e),new f.Point(0===e.clientWidth?1:e.clientWidth,0===e.clientHeight?1:e.clientHeight)}function e(i,n,s,o,r){function a(e,t){e.ready?o(e):(e.addHandler("ready",function(){o(e)}),e.addHandler("open-failed",function(e){r({message:e.message,source:t})}))}var l=i;if("string"==f.type(n))if(n.match(/^\s*<.*>\s*$/))n=f.parseXml(n);else if(n.match(/^\s*[\{\[].*[\}\]]\s*$/))try{var e=f.parseJSON(n);n=e}catch(f){}setTimeout(function(){if("string"==f.type(n))(n=new f.TileSource({url:n,crossOriginPolicy:void 0!==s.crossOriginPolicy?s.crossOriginPolicy:i.crossOriginPolicy,ajaxWithCredentials:i.ajaxWithCredentials,ajaxHeaders:i.ajaxHeaders,useCanvas:i.useCanvas,success:function(e){o(e.tileSource)}})).addHandler("open-failed",function(e){r(e)});else if(
f.isPlainObject(n)||n.nodeType)if(void 0!==n.crossOriginPolicy||void 0===s.crossOriginPolicy&&void 0===i.crossOriginPolicy||(n.crossOriginPolicy=void 0!==s.crossOriginPolicy?s.crossOriginPolicy:i.crossOriginPolicy),void 0===n.ajaxWithCredentials&&(n.ajaxWithCredentials=i.ajaxWithCredentials),void 0===n.useCanvas&&(n.useCanvas=i.useCanvas),f.isFunction(n.getTileUrl)){var e=new f.TileSource(n);e.getTileUrl=n.getTileUrl,o(e)}else{var t=f.TileSource.determineType(l,n);if(!t)return void r({message:"Unable to load TileSource",source:n});a(new t(t.prototype.configure.apply(l,[n])),n)}else a(n,n)})}function h(e,t){if(t instanceof f.Overlay)return t;var i=null;if(t.element)i=f.getElement(t.element);else{var n=t.id?t.id:"openseadragon-overlay-"+Math.floor(1e7*Math.random());(i=f.getElement(t.id))||((i=document.createElement("a")).href="#/overlay/"+n),i.id=n,f.addClass(i,t.className?t.className:"openseadragon-overlay")}var s=t.location,o=t.width,r=t.height;if(!s){var a=t.x,l=t.y;if(void 0!==t.px){var c=e.viewport.imageToViewportRectangle(new f.Rect(t.px,t.py,o||0,r||0));a=c.x,l=c.y,o=void 0!==o?c.width:void 0,r=void 0!==r?c.height:void 0}s=new f.Point(a,l)}var u=t.placement;return u&&"string"===f.type(u)&&(u=f.Placement[t.placement.toUpperCase()]),new f.Overlay({element:i,location:s,placement:u,onDraw:t.onDraw,checkResize:t.checkResize,width:o,height:r,rotationMode:t.rotationMode})}function r(e,t){var i;for(i=e.length-1;0<=i;i--)if(e[i].element===t)return i;return-1}function a(e,t){return f.requestAnimationFrame(function(){t(e)})}function n(e){f.requestAnimationFrame(function(){t(e)})}function d(e){e.autoHideControls&&(e.controlsShouldFade=!0,e.controlsFadeBeginTime=f.now()+e.controlsFadeDelay,window.setTimeout(function(){n(e)},e.controlsFadeDelay))}function t(e){var t,i;if(e.controlsShouldFade){for(t=1-(f.now()-e.controlsFadeBeginTime)/e.controlsFadeLength,t=Math.min(1,t),t=Math.max(0,t),i=e.controls.length-1;0<=i;i--)e.controls[i].autoFade&&e.controls[i].setOpacity(t);0<t&&n(e)}}function p(e){var t;for(e.controlsShouldFade=!1,t=e.controls.length-1;0<=t;t--)e.controls[t].setOpacity(1)}function m(){p(this)}function g(){d(this)}function l(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(0,-40))),this.viewport.applyConstraints(),!1;case 40:return e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(0,40))),this.viewport.applyConstraints(),!1;case 37:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(-40,0))),this.viewport.applyConstraints(),!1;case 39:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function c(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 43:case 61:return this.viewport.zoomBy(1.1),this.viewport.applyConstraints(),!1;case 45:return this.viewport.zoomBy(.9),this.viewport.applyConstraints(),!1;case 48:return this.viewport.goHome(),this.viewport.applyConstraints(),!1;case 119:case 87:return e.shift?this.viewport.zoomBy(1.1):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(0,-40))),this.viewport.applyConstraints(),!1;case 115:case 83:return e.shift?this.viewport.zoomBy(.9):this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(0,40))),this.viewport.applyConstraints(),!1;case 97:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(-40,0))),this.viewport.applyConstraints(),!1;case 100:return this.viewport.panBy(this.viewport.deltaPointsFromPixels(new f.Point(40,0))),this.viewport.applyConstraints(),!1;default:return!0}}function v(e){document.activeElement==this.canvas||this.canvas.focus();var t={tracker:e.eventSource,position:e.position,quick:e.quick,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};this.raiseEvent("canvas-click",t),!t.preventDefaultAction&&this.viewport&&e.quick&&this.gestureSettingsByDeviceType(e.pointerType).clickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints())}function y(e){!e.preventDefaultAction&&this.viewport&&this.gestureSettingsByDeviceType(e.pointerType).dblClickToZoom&&(this.viewport.zoomBy(e.shift?1/this.zoomPerClick:this.zoomPerClick,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-double-click",{tracker:e.eventSource,position:e.position,shift:e.shift,originalEvent:e.originalEvent})}function _(e){var t,i={tracker:e.eventSource,position:e.position,delta:e.delta,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent,preventDefaultAction:e.preventDefaultAction};if(this.raiseEvent("canvas-drag",i),!i.preventDefaultAction&&this.viewport){if(t=this.gestureSettingsByDeviceType(e.pointerType),this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.constrainDuringPan){var n=this.viewport.deltaPointsFromPixels(e.delta.negate());this.viewport.centerSpringX.target.value+=n.x,this.viewport.centerSpringY.target.value+=n.y;var s=this.viewport.getBounds(),o=this.viewport.getConstrainedBounds();this.viewport.centerSpringX.target.value-=n.x,this.viewport.centerSpringY.target.value-=n.y,s.x!=o.x&&(e.delta.x=0),s.y!=o.y&&(e.delta.y=0)}this.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta.negate()),t.flickEnabled&&!this.constrainDuringPan)}}function w(e){if(!e.preventDefaultAction&&this.viewport){var t=this.gestureSettingsByDeviceType(e.pointerType);if(t.flickEnabled&&e.speed>=t.flickMinSpeed){var i=0;this.panHorizontal&&(i=t.flickMomentum*e.speed*Math.cos(e.direction));var n=0;this.panVertical&&(n=t.flickMomentum*e.speed*Math.sin(e.direction));var s=this.viewport.pixelFromPoint(this.viewport.getCenter(!0)),o=this.viewport.pointFromPixel(new f.Point(s.x-i,s.y-n));this.viewport.panTo(o,!1)}this.viewport.applyConstraints()}this.raiseEvent("canvas-drag-end",{tracker:e.eventSource,position:e.position,speed:e.speed,direction:e.direction,shift:e.shift,originalEvent:e.originalEvent})}function b(e){this.raiseEvent("canvas-enter",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function x(e){window.location!=window.parent.location&&f.MouseTracker.resetAllMouseTrackers(),this.raiseEvent("canvas-exit",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function S(e){this.raiseEvent("canvas-press",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function C(e){this.raiseEvent("canvas-release",{tracker:e.eventSource,pointerType:e.pointerType,position:e.position,insideElementPressed:e.insideElementPressed,insideElementReleased:e.insideElementReleased,originalEvent:e.originalEvent})}function E(e){this.raiseEvent("canvas-nonprimary-press",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function T(e){this.raiseEvent("canvas-nonprimary-release",{tracker:e.eventSource,position:e.position,pointerType:e.pointerType,button:e.button,buttons:e.buttons,originalEvent:e.originalEvent})}function k(e){var t,i,n;if(!e.preventDefaultAction&&this.viewport&&((t=this.gestureSettingsByDeviceType(e.pointerType)).pinchToZoom&&(i=this.viewport.pointFromPixel(e.center,!0),n=this.viewport.pointFromPixel(e.lastCenter,!0).minus(i),this.panHorizontal||(n.x=0),this.panVertical||(n.y=0),this.viewport.zoomBy(e.distance/e.lastDistance,i,!0),this.viewport.panBy(n,!0),this.viewport.applyConstraints()),t.pinchRotate)){var s=Math.atan2(e.gesturePoints[0].currentPos.y-e.gesturePoints[1].currentPos.y,e.gesturePoints[0].currentPos.x-e.gesturePoints[1].currentPos.x),o=Math.atan2(e.gesturePoints[0].lastPos.y-e.gesturePoints[1].lastPos.y,e.gesturePoints[0].lastPos.x-e.gesturePoints[1].lastPos.x);this.viewport.setRotation(this.viewport.getRotation()+(s-o)*(180/Math.PI))}return this.raiseEvent("canvas-pinch",{tracker:e.eventSource,gesturePoints:e.gesturePoints,lastCenter:e.lastCenter,center:e.center,lastDistance:e.lastDistance,distance:e.distance,shift:e.shift,originalEvent:e.originalEvent}),!1}function R(e){var t,i,n;if((n=f.now())-this._lastScrollTime>this.minScrollDeltaTime){if(this._lastScrollTime=n,!e.preventDefaultAction&&this.viewport&&(t=this.gestureSettingsByDeviceType(e.pointerType)).scrollToZoom&&(i=Math.pow(this.zoomPerScroll,e.scroll),this.viewport.zoomBy(i,this.viewport.pointFromPixel(e.position,!0)),this.viewport.applyConstraints()),this.raiseEvent("canvas-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),t&&t.scrollToZoom)return!1}else if((t=this.gestureSettingsByDeviceType(e.pointerType))&&t.scrollToZoom)return!1}function M(e){q[this.hash].mouseInside=!0,p(this),this.raiseEvent("container-enter",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function P(e){e.pointers<1&&(q[this.hash].mouseInside=!1,q[this.hash].animating||d(this)),this.raiseEvent("container-exit",{tracker:e.eventSource,position:e.position,buttons:e.buttons,pointers:e.pointers,insideElementPressed:e.insideElementPressed,buttonDownAny:e.buttonDownAny,originalEvent:e.originalEvent})}function N(e){i(e),e.isOpen()?e._updateRequestId=a(e,N):e._updateRequestId=!1}function i(e){if(!e._opening){if(e.autoResize){var t=u(e.container),i=q[e.hash].prevContainerSize;if(!t.equals(i)){var n=e.viewport;if(e.preserveImageSizeOnResize){var s=i.x/t.x,o=n.getZoom()*s,r=n.getCenter();n.resize(t,!1),n.zoomTo(o,null,!0),n.panTo(r,!0)}else{var a=n.getBounds();n.resize(t,!0),n.fitBoundsWithConstraints(a,!0)}q[e.hash].prevContainerSize=t,q[e.hash].forceRedraw=!0}}var l=e.viewport.update(),c=e.world.update()||l;l&&e.raiseEvent("viewport-change"),e.referenceStrip&&(c=e.referenceStrip.update(e.viewport)||c),!q[e.hash].animating&&c&&(e.raiseEvent("animation-start"),p(e)),(c||q[e.hash].forceRedraw||e.world.needsDraw())&&(D(e),e._drawOverlays(),e.navigator&&e.navigator.update(e.viewport),q[e.hash].forceRedraw=!1,c&&e.raiseEvent("animation")),q[e.hash].animating&&!c&&(e.raiseEvent("animation-finish"),q[e.hash].mouseInside||d(e)),q[e.hash].animating=c}}function D(e){e.imageLoader.clear(),e.drawer.clear(),e.world.draw(),e.raiseEvent("update-viewport",{})}function I(e,t){return e?e+t:t}function O(){q[this.hash].lastZoomTime=f.now(),q[this.hash].zoomFactor=this.zoomPerSecond,q[this.hash].zooming=!0,s(this)}function L(){q[this.hash].lastZoomTime=f.now(),q[this.hash].zoomFactor=1/this.zoomPerSecond,q[this.hash].zooming=!0,s(this)}function A(){q[this.hash].zooming=!1}function s(e){f.requestAnimationFrame(f.delegate(e,o))}function o(){var e,t,i;q[this.hash].zooming&&this.viewport&&(t=(e=f.now())-q[this.hash].lastZoomTime,i=Math.pow(q[this.hash].zoomFactor,t/1e3),this.viewport.zoomBy(i),this.viewport.applyConstraints(),q[this.hash].lastZoomTime=e,s(this))}function H(){this.viewport&&(q[this.hash].zooming=!1,this.viewport.zoomBy(this.zoomPerClick/1),this.viewport.applyConstraints())}function F(){this.viewport&&(q[this.hash].zooming=!1,this.viewport.zoomBy(1/this.zoomPerClick),this.viewport.applyConstraints())}function j(){this.buttons.emulateEnter(),this.buttons.emulateExit()}function z(){this.viewport&&this.viewport.goHome()}function $(){this.isFullPage()&&!f.isFullScreen()?this.setFullPage(!1):this.setFullScreen(!this.isFullPage()),this.buttons&&this.buttons.emulateExit(),this.fullPageButton.element.focus(),this.viewport&&this.viewport.applyConstraints()}function B(){if(this.viewport){var e=this.viewport.getRotation();0===e?e=270:e-=90,this.viewport.setRotation(e)}}function W(){if(this.viewport){var e=this.viewport.getRotation();270===e?e=0:e+=90,this.viewport.setRotation(e)}}function U(){var e=this._sequenceIndex-1;this.navPrevNextWrap&&e<0&&(e+=this.tileSources.length),this.goToPage(e)}function V(){var e=this._sequenceIndex+1;this.navPrevNextWrap&&e>=this.tileSources.length&&(e=0),this.goToPage(e)}var q={},Y=1;f.Viewer=function(e){var t,i,n,s=arguments,o=this;if(f.isPlainObject(e)||(e={id:s[0],xmlPath:1<s.length?s[1]:void 0,prefixUrl:2<s.length?s[2]:void 0,controls:3<s.length?s[3]:void 0,overlays:4<s.length?s[4]:void 0}),e.config&&(f.extend(!0,e,e.config),delete e.config),f.extend(!0,this,{id:e.id,hash:e.hash||Y++,initialPage:0,element:null,container:null,canvas:null,overlays:[],overlaysContainer:null,previousBody:[],customControls:[],source:null,drawer:null,world:null,viewport:null,navigator:null,collectionViewport:null,collectionDrawer:null,navImages:null,buttons:null,profiler:null},f.DEFAULT_SETTINGS,e),"undefined"==typeof this.hash)throw new Error("A hash must be defined, either by specifying options.id or options.hash.");for("undefined"!=typeof q[this.hash]&&f.console.warn("Hash "+this.hash+" has already been used."),q[this.hash]={fsBoundsDelta:new f.Point(1,1),prevContainerSize:null,animating:!1,forceRedraw:!1,mouseInside:!1,group:null,zooming:!1,zoomFactor:null,lastZoomTime:null,fullPage:!1,onfullscreenchange:null},this._sequenceIndex=0,this._firstOpen=!0,this._updateRequestId=null,this._loadQueue=[],this.currentOverlays=[],this._lastScrollTime=f.now(),f.EventSource.call(this),this.addHandler("open-failed",function(e){var t=f.getString("Errors.OpenFailed",e.eventSource,e.message);o._showMessage(t)}),f.ControlDock.call(this,e),this.xmlPath&&(this.tileSources=[this.xmlPath]),this.element=this.element||document.getElementById(this.id),this.canvas=f.makeNeutralElement("div"),this.canvas.className="openseadragon-canvas",(i=this.canvas.style).width="100%",i.height="100%",i.overflow="hidden",i.position="absolute",i.top="0px",i.left="0px",f.setElementTouchActionNone(this.canvas),""!==e.tabIndex&&(this.canvas.tabIndex=void 0===e.tabIndex?0:e.tabIndex),this.container.className="openseadragon-container",(n=this.container.style).width="100%",n.height="100%",n.position="relative",n.overflow="hidden",n.left="0px",n.top="0px",n.textAlign="left",this.container.insertBefore(this.canvas,this.container.firstChild),this.element.appendChild(this.container),this.bodyWidth=document.body.style.width,this.bodyHeight=document.body.style.height,this.bodyOverflow=document.body.style.overflow,this.docOverflow=document.documentElement.style.overflow,this.innerTracker=new f.MouseTracker({element:this.canvas,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,keyDownHandler:f.delegate(this,l),keyHandler:f.delegate(this,c),clickHandler:f.delegate(this,v),dblClickHandler:f.delegate(this,y),dragHandler:f.delegate(this,_),dragEndHandler:f.delegate(this,w),enterHandler:f.delegate(this,b),exitHandler:f.delegate(this,x),pressHandler:f.delegate(this,S),releaseHandler:f.delegate(this,C),nonPrimaryPressHandler:f.delegate(this,E),nonPrimaryReleaseHandler:f.delegate(this,T),scrollHandler:f.delegate(this,R),pinchHandler:f.delegate(this,k)}),this.outerTracker=new f.MouseTracker({element:this.container,startDisabled:!this.mouseNavEnabled,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,dblClickTimeThreshold:this.dblClickTimeThreshold,dblClickDistThreshold:this.dblClickDistThreshold,enterHandler:f.delegate(this,M),exitHandler:f.delegate(this,P)}),this.toolbar&&(this.toolbar=new f.ControlDock({element:this.toolbar})),this.bindStandardControls(),q[this.hash].prevContainerSize=u(this.container),this.world=new f.World({viewer:this}),this.world.addHandler("add-item",function(){o.source=o.world.getItemAt(0).source,q[o.hash].forceRedraw=!0,o._updateRequestId||(o._updateRequestId=a(o,N))}),this.world.addHandler("remove-item",function(){o.world.getItemCount()?o.source=o.world.getItemAt(0).source:o.source=null,q[o.hash].forceRedraw=!0}),this.world.addHandler("metrics-change",function(){o.viewport&&o.viewport._setContentBounds(o.world.getHomeBounds(),o.world.getContentFactor())}),this.world.addHandler("item-index-change",function(){o.source=o.world.getItemAt(0).source}),this.viewport=new f.Viewport({containerSize:q[this.hash].prevContainerSize,springStiffness:this.springStiffness,animationTime:this.animationTime,minZoomImageRatio:this.minZoomImageRatio,maxZoomPixelRatio:this.maxZoomPixelRatio,visibilityRatio:this.visibilityRatio,wrapHorizontal:this.wrapHorizontal,wrapVertical:this.wrapVertical,defaultZoomLevel:this.defaultZoomLevel,minZoomLevel:this.minZoomLevel,maxZoomLevel:this.maxZoomLevel,viewer:this,degrees:this.degrees,navigatorRotate:this.navigatorRotate,homeFillsViewer:this.homeFillsViewer,margins:this.viewportMargins}),this.viewport._setContentBounds(this.world.getHomeBounds(),this.world.getContentFactor()),this.imageLoader=new f.ImageLoader({jobLimit:this.imageLoaderLimit,timeout:e.timeout}),this.tileCache=new f.TileCache({maxImageCacheCount:this.maxImageCacheCount}),this.drawer=new f.Drawer({viewer:this,viewport:this.viewport,element:this.canvas,debugGridColor:this.debugGridColor}),this.overlaysContainer=f.makeNeutralElement("div"),this.canvas.appendChild(this.overlaysContainer),this.drawer.canRotate()||(this.rotateLeft&&(t=this.buttons.buttons.indexOf(this.rotateLeft),this.buttons.buttons.splice(t,1),this.buttons.element.removeChild(this.rotateLeft.element)),this.rotateRight&&(t=this.buttons.buttons.indexOf(this.rotateRight),this.buttons.buttons.splice(t,1),this.buttons.element.removeChild(this.rotateRight.element))),this.showNavigator&&(this.navigator=new f.Navigator({id:this.navigatorId,position:this.navigatorPosition,sizeRatio:this.navigatorSizeRatio,maintainSizeRatio:this.navigatorMaintainSizeRatio,top:this.navigatorTop,left:this.navigatorLeft,width:this.navigatorWidth,height:this.navigatorHeight,autoResize:this.navigatorAutoResize,autoFade:this.navigatorAutoFade,prefixUrl:this.prefixUrl,viewer:this,navigatorRotate:this.navigatorRotate,crossOriginPolicy:this.crossOriginPolicy})),this.sequenceMode&&this.bindSequenceControls(),this.tileSources&&this.open(this.tileSources),t=0;t<this.customControls.length;t++)this.addControl(this.customControls[t].id,{anchor:this.customControls[t].anchor});f.requestAnimationFrame(function(){d(o)})},f.extend(f.Viewer.prototype,f.EventSource.prototype,f.ControlDock.prototype,{isOpen:function(){return!!this.world.getItemCount()},openDzi:function(e){return f.console.error("[Viewer.openDzi] this function is deprecated; use Viewer.open() instead."),this.open(e)},openTileSource:function(e){return f.console.error("[Viewer.openTileSource] this function is deprecated; use Viewer.open() instead."),this.open(e)},open:function(i,e){var s=this;if(this.close(),i)if(this.sequenceMode&&f.isArray(i))this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),void 0===e||isNaN(e)||(this.initialPage=e),this.tileSources=i,this._sequenceIndex=Math.max(0,Math.min(this.tileSources.length-1,this.initialPage)),this.tileSources.length&&(this.open(this.tileSources[this._sequenceIndex]),this.showReferenceStrip&&this.addReferenceStrip()),this._updateSequenceButtons(this._sequenceIndex);else if(f.isArray(i)||(i=[i]),i.length){this._opening=!0;for(var o,n=i.length,r=0,a=0,l=function(){if(r+a===n)if(r){!s._firstOpen&&s.preserveViewport||(s.viewport.goHome(!0),s.viewport.update()),s._firstOpen=!1;var e=i[0];if(e.tileSource&&(e=e.tileSource),s.overlays&&!s.preserveOverlays)for(var t=0;t<s.overlays.length;t++)s.currentOverlays[t]=h(s,s.overlays[t]);s._drawOverlays(),s._opening=!1,s.raiseEvent("open",{source:e})}else s._opening=!1,s.raiseEvent("open-failed",o)},t=function(i){f.isPlainObject(i)&&i.tileSource||(i={tileSource:i}),void 0!==i.index&&(f.console.error("[Viewer.open] setting indexes here is not supported; use addTiledImage instead"),delete i.index),void 0===i.collectionImmediately&&(i.collectionImmediately=!0);var n=i.success;i.success=function(e){if(r++,i.tileSource.overlays)for(var t=0;t<i.tileSource.overlays.length;t++)s.addOverlay(i.tileSource.overlays[t]);n&&n(e),l()};var t=i.error;i.error=function(e){a++,o||(o=e),t&&t(e),l()},s.addTiledImage(i)},c=0;c<i.length;c++)t(i[c]);return this}},close:function(){return q[this.hash]&&(this._opening=!1,this.navigator&&this.navigator.close(),this.preserveOverlays||(this.clearOverlays(),this.overlaysContainer.innerHTML=""),q[this.hash].animating=!1,this.world.removeAll(),this.imageLoader.clear(),this.raiseEvent("close")),this},destroy:function(){if(q[this.hash]){if(this.close(),this.clearOverlays(),this.overlaysContainer.innerHTML="",this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null),null!==this._updateRequestId&&(f.cancelAnimationFrame(this._updateRequestId),this._updateRequestId=null),this.drawer&&this.drawer.destroy(),this.removeAllHandlers(),this.element)for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);this.innerTracker&&this.innerTracker.destroy(),this.outerTracker&&this.outerTracker.destroy(),q[this.hash]=null,delete q[this.hash],this.canvas=null,this.container=null,this.element=null}},isMouseNavEnabled:function(){return this.innerTracker.isTracking()},setMouseNavEnabled:function(e){return this.innerTracker.setTracking(e),this.outerTracker.setTracking(e),this.raiseEvent("mouse-enabled",{enabled:e}),this},areControlsEnabled:function(){var e,t=this.controls.length;for(e=0;e<this.controls.length;e++)t=t&&this.controls[e].isVisibile();return t},setControlsEnabled:function(e){return e?p(this):d(this),this.raiseEvent("controls-enabled",{enabled:e}),this},setDebugMode:function(e){for(var t=0;t<this.world.getItemCount();t++)this.world.getItemAt(t).debugMode=e;this.debugMode=e,this.forceRedraw()},isFullPage:function(){return q[this.hash].fullPage},setFullPage:function(e){var t,i,n=document.body,s=n.style,o=document.documentElement.style,r=this;if(e==this.isFullPage())return this;var a={fullPage:e,preventDefaultAction:!1};if(this.raiseEvent("pre-full-page",a),a.preventDefaultAction)return this;if(e){for(this.elementSize=f.getElementSize(this.element),this.pageScroll=f.getPageScroll(),this.elementMargin=this.element.style.margin,this.element.style.margin="0",this.elementPadding=this.element.style.padding,this.element.style.padding="0",this.bodyMargin=s.margin,this.docMargin=o.margin,s.margin="0",o.margin="0",this.bodyPadding=s.padding,this.docPadding=o.padding,s.padding="0",o.padding="0",this.bodyWidth=s.width,this.docWidth=o.width,s.width="100%",o.width="100%",this.bodyHeight=s.height,this.docHeight=o.height,s.height="100%",o.height="100%",this.previousBody=[],q[this.hash].prevElementParent=this.element.parentNode,q[this.hash].prevNextSibling=this.element.nextSibling,q[this.hash].prevElementWidth=this.element.style.width,q[this.hash].prevElementHeight=this.element.style.height,t=n.childNodes.length,i=0;i<t;i++)this.previousBody.push(n.childNodes[0]),n.removeChild(n.childNodes[0]);this.toolbar&&this.toolbar.element&&(this.toolbar.parentNode=this.toolbar.element.parentNode,this.toolbar.nextSibling=this.toolbar.element.nextSibling,n.appendChild(this.toolbar.element),f.addClass(this.toolbar.element,"fullpage")),f.addClass(this.element,"fullpage"),n.appendChild(this.element),this.element.style.height=f.getWindowSize().y+"px",this.element.style.width=f.getWindowSize().x+"px",this.toolbar&&this.toolbar.element&&(this.element.style.height=f.getElementSize(this.element).y-f.getElementSize(this.toolbar.element).y+"px"),q[this.hash].fullPage=!0,f.delegate(this,M)({})}else{for(this.element.style.margin=this.elementMargin,this.element.style.padding=this.elementPadding,s.margin=this.bodyMargin,o.margin=this.docMargin,s.padding=this.bodyPadding,o.padding=this.docPadding,s.width=this.bodyWidth,o.width=this.docWidth,s.height=this.bodyHeight,o.height=this.docHeight,n.removeChild(this.element),t=this.previousBody.length,i=0;i<t;i++)n.appendChild(this.previousBody.shift());f.removeClass(this.element,"fullpage"),q[this.hash].prevElementParent.insertBefore(this.element,q[this.hash].prevNextSibling),this.toolbar&&this.toolbar.element&&(n.removeChild(this.toolbar.element),f.removeClass(this.toolbar.element,"fullpage"),this.toolbar.parentNode.insertBefore(this.toolbar.element,this.toolbar.nextSibling),delete this.toolbar.parentNode,delete this.toolbar.nextSibling),this.element.style.width=q[this.hash].prevElementWidth,this.element.style.height=q[this.hash].prevElementHeight;var l=0,c=function(){f.setPageScroll(r.pageScroll);var e=f.getPageScroll();++l<10&&(e.x!==r.pageScroll.x||e.y!==r.pageScroll.y)&&f.requestAnimationFrame(c)};f.requestAnimationFrame(c),q[this.hash].fullPage=!1,f.delegate(this,P)({})}return this.navigator&&this.viewport&&this.navigator.update(this.viewport),this.raiseEvent("full-page",{fullPage:e}),this},setFullScreen:function(e){var t=this;if(!f.supportsFullScreen)return this.setFullPage(e);if(f.isFullScreen()===e)return this;var i={fullScreen:e,preventDefaultAction:!1};if(this.raiseEvent("pre-full-screen",i),i.preventDefaultAction)return this;if(e){if(this.setFullPage(!0),!this.isFullPage())return this;this.fullPageStyleWidth=this.element.style.width,this.fullPageStyleHeight=this.element.style.height,this.element.style.width="100%",this.element.style.height="100%";var n=function(){var e=f.isFullScreen();e||(f.removeEvent(document,f.fullScreenEventName,n),f.removeEvent(document,f.fullScreenErrorEventName,n),t.setFullPage(!1),t.isFullPage()&&(t.element.style.width=t.fullPageStyleWidth,t.element.style.height=t.fullPageStyleHeight)),t.navigator&&t.viewport&&t.navigator.update(t.viewport),t.raiseEvent("full-screen",{fullScreen:e})};f.addEvent(document,f.fullScreenEventName,n),f.addEvent(document,f.fullScreenErrorEventName,n),f.requestFullScreen(document.body)}else f.exitFullScreen();return this},isVisible:function(){return"hidden"!=this.container.style.visibility},setVisible:function(e){return this.container.style.visibility=e?"":"hidden",this.raiseEvent("visible",{visible:e}),this},addTiledImage:function(i){function t(e){for(var t=0;t<o._loadQueue.length;t++)if(o._loadQueue[t]===r){o._loadQueue.splice(t,1);break}0===o._loadQueue.length&&s(r),o.raiseEvent("add-item-failed",e),i.error&&i.error(e)}function s(e){o.collectionMode&&(o.world.arrange({immediately:e.options.collectionImmediately,rows:o.collectionRows,columns:o.collectionColumns,layout:o.collectionLayout,tileSize:o.collectionTileSize,tileMargin:o.collectionTileMargin}),o.world.setAutoRefigureSizes(!0))}function n(){for(var e,t,i;o._loadQueue.length&&(e=o._loadQueue[0]).tileSource;){if(o._loadQueue.splice(0,1),e.options.replace){var n=o.world.getIndexOfItem(e.options.replaceItem);-1!=n&&(e.options.index=n),o.world.removeItem(e.options.replaceItem)}t=new f.TiledImage({viewer:o,source:e.tileSource,viewport:o.viewport,drawer:o.drawer,tileCache:o.tileCache,imageLoader:o.imageLoader,x:e.options.x,y:e.options.y,width:e.options.width,height:e.options.height,fitBounds:e.options.fitBounds,fitBoundsPlacement:e.options.fitBoundsPlacement,clip:e.options.clip,placeholderFillStyle:e.options.placeholderFillStyle,opacity:e.options.opacity,preload:e.options.preload,degrees:e.options.degrees,compositeOperation:e.options.compositeOperation,springStiffness:o.springStiffness,animationTime:o.animationTime,minZoomImageRatio:o.minZoomImageRatio,wrapHorizontal:o.wrapHorizontal,wrapVertical:o.wrapVertical,immediateRender:o.immediateRender,blendTime:o.blendTime,alwaysBlend:o.alwaysBlend,minPixelRatio:o.minPixelRatio,smoothTileEdgesMinZoom:o.smoothTileEdgesMinZoom,iOSDevice:o.iOSDevice,crossOriginPolicy:e.options.crossOriginPolicy,ajaxWithCredentials:e.options.ajaxWithCredentials,loadTilesWithAjax:e.options.loadTilesWithAjax,ajaxHeaders:e.options.ajaxHeaders,debugMode:o.debugMode}),o.collectionMode&&o.world.setAutoRefigureSizes(!1),o.world.addItem(t,{index:e.options.index}),0===o._loadQueue.length&&s(e),1!==o.world.getItemCount()||o.preserveViewport||o.viewport.goHome(!0),o.navigator&&(i=f.extend({},e.options,{replace:!1,originalTiledImage:t,tileSource:e.tileSource}),o.navigator.addTiledImage(i)),e.options.success&&e.options.success({item:t})}}f.console.assert(i,"[Viewer.addTiledImage] options is required"),f.console.assert(i.tileSource,"[Viewer.addTiledImage] options.tileSource is required"),f.console.assert(!i.replace||-1<i.index&&i.index<this.world.getItemCount(),"[Viewer.addTiledImage] if options.replace is used, options.index must be a valid index in Viewer.world");var o=this;i.replace&&(i.replaceItem=o.world.getItemAt(i.index)),this._hideMessage(),void 0===i.placeholderFillStyle&&(i.placeholderFillStyle=this.placeholderFillStyle),void 0===i.opacity&&(i.opacity=this.opacity),void 0===i.preload&&(i.preload=this.preload),void 0===i.compositeOperation&&(i.compositeOperation=this.compositeOperation),void 0===i.crossOriginPolicy&&(i.crossOriginPolicy=void 0!==i.tileSource.crossOriginPolicy?i.tileSource.crossOriginPolicy:this.crossOriginPolicy),void 0===i.ajaxWithCredentials&&(i.ajaxWithCredentials=this.ajaxWithCredentials),void 0===i.loadTilesWithAjax&&(i.loadTilesWithAjax=this.loadTilesWithAjax),void 0===i.ajaxHeaders||null===i.ajaxHeaders?i.ajaxHeaders=this.ajaxHeaders:f.isPlainObject(i.ajaxHeaders)&&f.isPlainObject(this.ajaxHeaders)&&(i.ajaxHeaders=f.extend({},this.ajaxHeaders,i.ajaxHeaders));var r={options:i};f.isArray(i.tileSource)?setTimeout(function(){t({message:"[Viewer.addTiledImage] Sequences can not be added; add them one at a time instead.",source:i.tileSource,options:i})}):(this._loadQueue.push(r),e(this,i.tileSource,i,function(e){r.tileSource=e,n()},function(e){e.options=i,t(e),n()}))},addSimpleImage:function(e){f.console.assert(e,"[Viewer.addSimpleImage] options is required"),f.console.assert(e.url,"[Viewer.addSimpleImage] options.url is required");var t=f.extend({},e,{tileSource:{type:"image",url:e.url}});delete t.url,this.addTiledImage(t)},addLayer:function(t){var i=this;f.console.error("[Viewer.addLayer] this function is deprecated; use Viewer.addTiledImage() instead.");var e=f.extend({},t,{success:function(e){i.raiseEvent("add-layer",{options:t,drawer:e.item})},error:function(e){i.raiseEvent("add-layer-failed",e)}});return this.addTiledImage(e),this},getLayerAtLevel:function(e){return f.console.error("[Viewer.getLayerAtLevel] this function is deprecated; use World.getItemAt() instead."),this.world.getItemAt(e)},getLevelOfLayer:function(e){return f.console.error("[Viewer.getLevelOfLayer] this function is deprecated; use World.getIndexOfItem() instead."),this.world.getIndexOfItem(e)},getLayersCount:function(){return f.console.error("[Viewer.getLayersCount] this function is deprecated; use World.getItemCount() instead."),this.world.getItemCount()},setLayerLevel:function(e,t){return f.console.error("[Viewer.setLayerLevel] this function is deprecated; use World.setItemIndex() instead."),this.world.setItemIndex(e,t)},removeLayer:function(e){return f.console.error("[Viewer.removeLayer] this function is deprecated; use World.removeItem() instead."),this.world.removeItem(e)},forceRedraw:function(){return q[this.hash].forceRedraw=!0,this},bindSequenceControls:function(){var e=f.delegate(this,m),t=f.delegate(this,g),i=f.delegate(this,V),n=f.delegate(this,U),s=this.navImages,o=!0;return this.showSequenceControl&&((this.previousButton||this.nextButton)&&(o=!1),this.previousButton=new f.Button({element:this.previousButton?f.getElement(this.previousButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.PreviousPage"),srcRest:I(this.prefixUrl,s.previous.REST),srcGroup:I(this.prefixUrl,s.previous.GROUP),srcHover:I(this.prefixUrl,s.previous.HOVER),srcDown:I(this.prefixUrl,s.previous.DOWN),onRelease:n,onFocus:e,onBlur:t}),this.nextButton=new f.Button({element:this.nextButton?f.getElement(this.nextButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.NextPage"),srcRest:I(this.prefixUrl,s.next.REST),srcGroup:I(this.prefixUrl,s.next.GROUP),srcHover:I(this.prefixUrl,s.next.HOVER),srcDown:I(this.prefixUrl,s.next.DOWN),onRelease:i,onFocus:e,onBlur:t}),this.navPrevNextWrap||this.previousButton.disable(),
this.tileSources&&this.tileSources.length||this.nextButton.disable(),o&&(this.paging=new f.ButtonGroup({buttons:[this.previousButton,this.nextButton],clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.pagingControl=this.paging.element,this.toolbar?this.toolbar.addControl(this.pagingControl,{anchor:f.ControlAnchor.BOTTOM_RIGHT}):this.addControl(this.pagingControl,{anchor:this.sequenceControlAnchor||f.ControlAnchor.TOP_LEFT}))),this},bindStandardControls:function(){var e=f.delegate(this,O),t=f.delegate(this,A),i=f.delegate(this,H),n=f.delegate(this,L),s=f.delegate(this,F),o=f.delegate(this,z),r=f.delegate(this,$),a=f.delegate(this,B),l=f.delegate(this,W),c=f.delegate(this,m),u=f.delegate(this,g),h=this.navImages,d=[],p=!0;return this.showNavigationControl&&((this.zoomInButton||this.zoomOutButton||this.homeButton||this.fullPageButton||this.rotateLeftButton||this.rotateRightButton)&&(p=!1),this.showZoomControl&&(d.push(this.zoomInButton=new f.Button({element:this.zoomInButton?f.getElement(this.zoomInButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.ZoomIn"),srcRest:I(this.prefixUrl,h.zoomIn.REST),srcGroup:I(this.prefixUrl,h.zoomIn.GROUP),srcHover:I(this.prefixUrl,h.zoomIn.HOVER),srcDown:I(this.prefixUrl,h.zoomIn.DOWN),onPress:e,onRelease:t,onClick:i,onEnter:e,onExit:t,onFocus:c,onBlur:u})),d.push(this.zoomOutButton=new f.Button({element:this.zoomOutButton?f.getElement(this.zoomOutButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.ZoomOut"),srcRest:I(this.prefixUrl,h.zoomOut.REST),srcGroup:I(this.prefixUrl,h.zoomOut.GROUP),srcHover:I(this.prefixUrl,h.zoomOut.HOVER),srcDown:I(this.prefixUrl,h.zoomOut.DOWN),onPress:n,onRelease:t,onClick:s,onEnter:n,onExit:t,onFocus:c,onBlur:u}))),this.showHomeControl&&d.push(this.homeButton=new f.Button({element:this.homeButton?f.getElement(this.homeButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.Home"),srcRest:I(this.prefixUrl,h.home.REST),srcGroup:I(this.prefixUrl,h.home.GROUP),srcHover:I(this.prefixUrl,h.home.HOVER),srcDown:I(this.prefixUrl,h.home.DOWN),onRelease:o,onFocus:c,onBlur:u})),this.showFullPageControl&&d.push(this.fullPageButton=new f.Button({element:this.fullPageButton?f.getElement(this.fullPageButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.FullPage"),srcRest:I(this.prefixUrl,h.fullpage.REST),srcGroup:I(this.prefixUrl,h.fullpage.GROUP),srcHover:I(this.prefixUrl,h.fullpage.HOVER),srcDown:I(this.prefixUrl,h.fullpage.DOWN),onRelease:r,onFocus:c,onBlur:u})),this.showRotationControl&&(d.push(this.rotateLeftButton=new f.Button({element:this.rotateLeftButton?f.getElement(this.rotateLeftButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.RotateLeft"),srcRest:I(this.prefixUrl,h.rotateleft.REST),srcGroup:I(this.prefixUrl,h.rotateleft.GROUP),srcHover:I(this.prefixUrl,h.rotateleft.HOVER),srcDown:I(this.prefixUrl,h.rotateleft.DOWN),onRelease:a,onFocus:c,onBlur:u})),d.push(this.rotateRightButton=new f.Button({element:this.rotateRightButton?f.getElement(this.rotateRightButton):null,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,tooltip:f.getString("Tooltips.RotateRight"),srcRest:I(this.prefixUrl,h.rotateright.REST),srcGroup:I(this.prefixUrl,h.rotateright.GROUP),srcHover:I(this.prefixUrl,h.rotateright.HOVER),srcDown:I(this.prefixUrl,h.rotateright.DOWN),onRelease:l,onFocus:c,onBlur:u}))),p&&(this.buttons=new f.ButtonGroup({buttons:d,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold}),this.navControl=this.buttons.element,this.addHandler("open",f.delegate(this,j)),this.toolbar?this.toolbar.addControl(this.navControl,{anchor:this.navigationControlAnchor||f.ControlAnchor.TOP_LEFT}):this.addControl(this.navControl,{anchor:this.navigationControlAnchor||f.ControlAnchor.TOP_LEFT}))),this},currentPage:function(){return this._sequenceIndex},goToPage:function(e){return this.tileSources&&0<=e&&e<this.tileSources.length&&(this.raiseEvent("page",{page:e}),this._sequenceIndex=e,this._updateSequenceButtons(e),this.open(this.tileSources[e]),this.referenceStrip&&this.referenceStrip.setFocus(e)),this},addOverlay:function(e,t,i,n){var s;if(s=f.isPlainObject(e)?e:{element:e,location:t,placement:i,onDraw:n},e=f.getElement(s.element),0<=r(this.currentOverlays,e))return this;var o=h(this,s);return this.currentOverlays.push(o),o.drawHTML(this.overlaysContainer,this.viewport),this.raiseEvent("add-overlay",{element:e,location:s.location,placement:s.placement}),this},updateOverlay:function(e,t,i){var n;return e=f.getElement(e),0<=(n=r(this.currentOverlays,e))&&(this.currentOverlays[n].update(t,i),q[this.hash].forceRedraw=!0,this.raiseEvent("update-overlay",{element:e,location:t,placement:i})),this},removeOverlay:function(e){var t;return e=f.getElement(e),0<=(t=r(this.currentOverlays,e))&&(this.currentOverlays[t].destroy(),this.currentOverlays.splice(t,1),q[this.hash].forceRedraw=!0,this.raiseEvent("remove-overlay",{element:e})),this},clearOverlays:function(){for(;0<this.currentOverlays.length;)this.currentOverlays.pop().destroy();return q[this.hash].forceRedraw=!0,this.raiseEvent("clear-overlay",{}),this},getOverlayById:function(e){var t;return e=f.getElement(e),0<=(t=r(this.currentOverlays,e))?this.currentOverlays[t]:null},_updateSequenceButtons:function(e){this.nextButton&&(this.tileSources&&this.tileSources.length-1!==e?this.nextButton.enable():this.navPrevNextWrap||this.nextButton.disable()),this.previousButton&&(0<e?this.previousButton.enable():this.navPrevNextWrap||this.previousButton.disable())},_showMessage:function(e){this._hideMessage();var t=f.makeNeutralElement("div");t.appendChild(document.createTextNode(e)),this.messageDiv=f.makeCenteredNode(t),f.addClass(this.messageDiv,"openseadragon-message"),this.container.appendChild(this.messageDiv)},_hideMessage:function(){var e=this.messageDiv;e&&(e.parentNode.removeChild(e),delete this.messageDiv)},gestureSettingsByDeviceType:function(e){switch(e){case"mouse":return this.gestureSettingsMouse;case"touch":return this.gestureSettingsTouch;case"pen":return this.gestureSettingsPen;default:return this.gestureSettingsUnknown}},_drawOverlays:function(){var e,t=this.currentOverlays.length;for(e=0;e<t;e++)this.currentOverlays[e].drawHTML(this.overlaysContainer,this.viewport)},_cancelPendingImages:function(){this._loadQueue=[]},removeReferenceStrip:function(){this.showReferenceStrip=!1,this.referenceStrip&&(this.referenceStrip.destroy(),this.referenceStrip=null)},addReferenceStrip:function(){if(this.showReferenceStrip=!0,this.sequenceMode){if(this.referenceStrip)return;this.tileSources.length&&1<this.tileSources.length&&(this.referenceStrip=new f.ReferenceStrip({id:this.referenceStripElement,position:this.referenceStripPosition,sizeRatio:this.referenceStripSizeRatio,scroll:this.referenceStripScroll,height:this.referenceStripHeight,width:this.referenceStripWidth,tileSources:this.tileSources,prefixUrl:this.prefixUrl,viewer:this}),this.referenceStrip.setFocus(this._sequenceIndex))}else f.console.warn('Attempting to display a reference strip while "sequenceMode" is off.')}})}(OpenSeadragon),function(u){function h(e){e.quick&&this.viewer.viewport&&(this.viewer.viewport.panTo(this.viewport.pointFromPixel(e.position)),this.viewer.viewport.applyConstraints())}function d(e){this.viewer.viewport&&(this.panHorizontal||(e.delta.x=0),this.panVertical||(e.delta.y=0),this.viewer.viewport.panBy(this.viewport.deltaPointsFromPixels(e.delta)),this.viewer.constrainDuringPan&&this.viewer.viewport.applyConstraints())}function p(e){e.insideElementPressed&&this.viewer.viewport&&this.viewer.viewport.applyConstraints()}function f(e){return this.viewer.raiseEvent("navigator-scroll",{tracker:e.eventSource,position:e.position,scroll:e.scroll,shift:e.shift,originalEvent:e.originalEvent}),!1}function m(e,t){e.style.webkitTransform="rotate("+t+"deg)",e.style.mozTransform="rotate("+t+"deg)",e.style.msTransform="rotate("+t+"deg)",e.style.oTransform="rotate("+t+"deg)",e.style.transform="rotate("+t+"deg)"}u.Navigator=function(e){function t(e){m(c.displayRegionContainer,e),m(c.displayRegion,-e),c.viewport.setRotation(e)}var i,n,s,o,r,a,l=e.viewer,c=this;(e.id?(this.element=document.getElementById(e.id),e.controlOptions={anchor:u.ControlAnchor.NONE,attachToViewer:!1,autoFade:!1}):(e.id="navigator-"+u.now(),this.element=u.makeNeutralElement("div"),e.controlOptions={anchor:u.ControlAnchor.TOP_RIGHT,attachToViewer:!0,autoFade:e.autoFade},e.position&&("BOTTOM_RIGHT"==e.position?e.controlOptions.anchor=u.ControlAnchor.BOTTOM_RIGHT:"BOTTOM_LEFT"==e.position?e.controlOptions.anchor=u.ControlAnchor.BOTTOM_LEFT:"TOP_RIGHT"==e.position?e.controlOptions.anchor=u.ControlAnchor.TOP_RIGHT:"TOP_LEFT"==e.position?e.controlOptions.anchor=u.ControlAnchor.TOP_LEFT:"ABSOLUTE"==e.position&&(e.controlOptions.anchor=u.ControlAnchor.ABSOLUTE,e.controlOptions.top=e.top,e.controlOptions.left=e.left,e.controlOptions.height=e.height,e.controlOptions.width=e.width))),this.element.id=e.id,this.element.className+=" navigator",(e=u.extend(!0,{sizeRatio:u.DEFAULT_SETTINGS.navigatorSizeRatio},e,{element:this.element,tabIndex:-1,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0,autoResize:e.autoResize,minZoomImageRatio:1})).minPixelRatio=this.minPixelRatio=l.minPixelRatio,u.setElementTouchActionNone(this.element),this.borderWidth=2,this.fudge=new u.Point(1,1),this.totalBorderWidths=new u.Point(2*this.borderWidth,2*this.borderWidth).minus(this.fudge),e.controlOptions.anchor!=u.ControlAnchor.NONE&&(s=this.element.style,o=this.borderWidth,s.margin="0px",s.border=o+"px solid #555",s.padding="0px",s.background="#000",s.opacity=.8,s.overflow="hidden"),this.displayRegion=u.makeNeutralElement("div"),this.displayRegion.id=this.element.id+"-displayregion",this.displayRegion.className="displayregion",r=this.displayRegion.style,a=this.borderWidth,r.position="relative",r.top="0px",r.left="0px",r.fontSize="0px",r.overflow="hidden",r.border=a+"px solid #900",r.margin="0px",r.padding="0px",r.background="transparent",r["float"]="left",r.cssFloat="left",r.styleFloat="left",r.zIndex=999999999,r.cursor="default",this.displayRegionContainer=u.makeNeutralElement("div"),this.displayRegionContainer.id=this.element.id+"-displayregioncontainer",this.displayRegionContainer.className="displayregioncontainer",this.displayRegionContainer.style.width="100%",this.displayRegionContainer.style.height="100%",l.addControl(this.element,e.controlOptions),this._resizeWithViewer=e.controlOptions.anchor!=u.ControlAnchor.ABSOLUTE&&e.controlOptions.anchor!=u.ControlAnchor.NONE,this._resizeWithViewer&&(e.width&&e.height?(this.element.style.height="number"==typeof e.height?e.height+"px":e.height,this.element.style.width="number"==typeof e.width?e.width+"px":e.width):(i=u.getElementSize(l.element),this.element.style.height=Math.round(i.y*e.sizeRatio)+"px",this.element.style.width=Math.round(i.x*e.sizeRatio)+"px",this.oldViewerSize=i),n=u.getElementSize(this.element),this.elementArea=n.x*n.y),this.oldContainerSize=new u.Point(0,0),u.Viewer.apply(this,[e]),this.displayRegionContainer.appendChild(this.displayRegion),this.element.getElementsByTagName("div")[0].appendChild(this.displayRegionContainer),e.navigatorRotate)&&(t(e.viewer.viewport?e.viewer.viewport.getRotation():e.viewer.degrees||0),e.viewer.addHandler("rotate",function(e){t(e.degrees)}));this.innerTracker.destroy(),this.innerTracker=new u.MouseTracker({element:this.element,dragHandler:u.delegate(this,d),clickHandler:u.delegate(this,h),releaseHandler:u.delegate(this,p),scrollHandler:u.delegate(this,f)}),this.addHandler("reset-size",function(){c.viewport&&c.viewport.goHome(!0)}),l.world.addHandler("item-index-change",function(t){window.setTimeout(function(){var e=c.world.getItemAt(t.previousIndex);c.world.setItemIndex(e,t.newIndex)},1)}),l.world.addHandler("remove-item",function(e){var t=e.item,i=c._getMatchingItem(t);i&&c.world.removeItem(i)}),this.update(l.viewport)},u.extend(u.Navigator.prototype,u.EventSource.prototype,u.Viewer.prototype,{updateSize:function(){if(this.viewport){var e=new u.Point(0===this.container.clientWidth?1:this.container.clientWidth,0===this.container.clientHeight?1:this.container.clientHeight);e.equals(this.oldContainerSize)||(this.viewport.resize(e,!0),this.viewport.goHome(!0),this.oldContainerSize=e,this.drawer.clear(),this.world.draw())}},update:function(e){var t,i,n,s,o,r;if(t=u.getElementSize(this.viewer.element),this._resizeWithViewer&&t.x&&t.y&&!t.equals(this.oldViewerSize)&&(this.oldViewerSize=t,this.maintainSizeRatio||!this.elementArea?(i=t.x*this.sizeRatio,n=t.y*this.sizeRatio):(i=Math.sqrt(this.elementArea*(t.x/t.y)),n=this.elementArea/i),this.element.style.width=Math.round(i)+"px",this.element.style.height=Math.round(n)+"px",this.elementArea||(this.elementArea=i*n),this.updateSize()),e&&this.viewport){s=e.getBoundsNoRotate(!0),o=this.viewport.pixelFromPointNoRotate(s.getTopLeft(),!1),r=this.viewport.pixelFromPointNoRotate(s.getBottomRight(),!1).minus(this.totalBorderWidths);var a=this.displayRegion.style;a.display=this.world.getItemCount()?"block":"none",a.top=Math.round(o.y)+"px",a.left=Math.round(o.x)+"px";var l=Math.abs(o.x-r.x),c=Math.abs(o.y-r.y);a.width=Math.round(Math.max(l,0))+"px",a.height=Math.round(Math.max(c,0))+"px"}},addTiledImage:function(e){var o=this,r=e.originalTiledImage;delete e.original;var t=u.extend({},e,{success:function(e){function t(){o._matchBounds(s,r)}function i(){o._matchOpacity(s,r)}function n(){o._matchCompositeOperation(s,r)}var s=e.item;s._originalForNavigator=r,o._matchBounds(s,r,!0),r.addHandler("bounds-change",t),r.addHandler("clip-change",t),r.addHandler("opacity-change",i),r.addHandler("composite-operation-change",n)}});return u.Viewer.prototype.addTiledImage.apply(this,[t])},_getMatchingItem:function(e){for(var t,i=this.world.getItemCount(),n=0;n<i;n++)if((t=this.world.getItemAt(n))._originalForNavigator===e)return t;return null},_matchBounds:function(e,t,i){var n=t.getBoundsNoRotate();e.setPosition(n.getTopLeft(),i),e.setWidth(n.width,i),e.setRotation(t.getRotation(),i),e.setClip(t.getClip())},_matchOpacity:function(e,t){e.setOpacity(t.opacity)},_matchCompositeOperation:function(e,t){e.setCompositeOperation(t.compositeOperation)}})}(OpenSeadragon),function(r){var a={Errors:{Dzc:"Sorry, we don't support Deep Zoom Collections!",Dzi:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",Xml:"Hmm, this doesn't appear to be a valid Deep Zoom Image.",ImageFormat:"Sorry, we don't support {0}-based Deep Zoom Images.",Security:"It looks like a security restriction stopped us from loading this Deep Zoom Image.",Status:"This space unintentionally left blank ({0} {1}).",OpenFailed:"Unable to open {0}: {1}"},Tooltips:{FullPage:"Toggle full page",Home:"Go home",ZoomIn:"Zoom in",ZoomOut:"Zoom out",NextPage:"Next page",PreviousPage:"Previous page",RotateLeft:"Rotate left",RotateRight:"Rotate right"}};r.extend(r,{getString:function(e){var t,i=e.split("."),n=null,s=arguments,o=a;for(t=0;t<i.length-1;t++)o=o[i[t]]||{};return"string"!=typeof(n=o[i[t]])&&(r.console.log("Untranslated source string:",e),n=""),n.replace(/\{\d+\}/g,function(e){var t=parseInt(e.match(/\d+/),10)+1;return t<s.length?s[t]:""})},setString:function(e,t){var i,n=e.split("."),s=a;for(i=0;i<n.length-1;i++)s[n[i]]||(s[n[i]]={}),s=s[n[i]];s[n[i]]=t}})}(OpenSeadragon),function(a){a.Point=function(e,t){this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0},a.Point.prototype={clone:function(){return new a.Point(this.x,this.y)},plus:function(e){return new a.Point(this.x+e.x,this.y+e.y)},minus:function(e){return new a.Point(this.x-e.x,this.y-e.y)},times:function(e){return new a.Point(this.x*e,this.y*e)},divide:function(e){return new a.Point(this.x/e,this.y/e)},negate:function(){return new a.Point(-this.x,-this.y)},distanceTo:function(e){return Math.sqrt(Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2))},squaredDistanceTo:function(e){return Math.pow(this.x-e.x,2)+Math.pow(this.y-e.y,2)},apply:function(e){return new a.Point(e(this.x),e(this.y))},equals:function(e){return e instanceof a.Point&&this.x===e.x&&this.y===e.y},rotate:function(e,t){var i,n;if(t=t||new a.Point(0,0),e%90==0){switch(a.positiveModulo(e,360)){case 0:i=1,n=0;break;case 90:i=0,n=1;break;case 180:i=-1,n=0;break;case 270:i=0,n=-1}}else{var s=e*Math.PI/180;i=Math.cos(s),n=Math.sin(s)}var o=i*(this.x-t.x)-n*(this.y-t.y)+t.x,r=n*(this.x-t.x)+i*(this.y-t.y)+t.y;return new a.Point(o,r)},toString:function(){return"("+Math.round(100*this.x)/100+","+Math.round(100*this.y)/100+")"}}}(OpenSeadragon),function(h){function c(e){var t,i,n=e.responseText,s=e.status;if(!e)throw new Error(h.getString("Errors.Security"));if(200!==e.status&&0!==e.status)throw t=404==(s=e.status)?"Not Found":e.statusText,new Error(h.getString("Errors.Status",s,t));if(n.match(/\s*<.*/))try{i=e.responseXML&&e.responseXML.documentElement?e.responseXML:h.parseXml(n)}catch(h){i=e.responseText}else if(n.match(/\s*[\{\[].*/))try{i=h.parseJSON(n)}catch(h){i=n}else i=n;return i}h.TileSource=function(e,t,i,n,s,o){var r,a,l=this,c=arguments;if(r=h.isPlainObject(e)?e:{width:c[0],height:c[1],tileSize:c[2],tileOverlap:c[3],minLevel:c[4],maxLevel:c[5]},h.EventSource.call(this),h.extend(!0,this,r),!this.success)for(a=0;a<arguments.length;a++)if(h.isFunction(arguments[a])){this.success=arguments[a];break}this.success&&this.addHandler("ready",function(e){l.success(e)}),"string"==h.type(e)&&(this.url=e),this.url?(this.aspectRatio=1,this.dimensions=new h.Point(10,10),this._tileWidth=0,this._tileHeight=0,this.tileOverlap=0,this.minLevel=0,this.maxLevel=0,this.ready=!1,this.getImageInfo(this.url)):(this.ready=!0,this.aspectRatio=r.width&&r.height?r.width/r.height:1,this.dimensions=new h.Point(r.width,r.height),this.tileSize?(this._tileWidth=this._tileHeight=this.tileSize,delete this.tileSize):(this.tileWidth?(this._tileWidth=this.tileWidth,delete this.tileWidth):this._tileWidth=0,this.tileHeight?(this._tileHeight=this.tileHeight,delete this.tileHeight):this._tileHeight=0),this.tileOverlap=r.tileOverlap?r.tileOverlap:0,this.minLevel=r.minLevel?r.minLevel:0,this.maxLevel=void 0!==r.maxLevel&&null!==r.maxLevel?r.maxLevel:r.width&&r.height?Math.ceil(Math.log(Math.max(r.width,r.height))/Math.log(2)):0,this.success&&h.isFunction(this.success)&&this.success(this))},h.TileSource.prototype={getTileSize:function(){return h.console.error("[TileSource.getTileSize] is deprecated.Use TileSource.getTileWidth() and TileSource.getTileHeight() instead"),this._tileWidth},getTileWidth:function(e){return this._tileWidth?this._tileWidth:this.getTileSize(e)},getTileHeight:function(e){return this._tileHeight?this._tileHeight:this.getTileSize(e)},getLevelScale:function(e){var t,i={};for(t=0;t<=this.maxLevel;t++)i[t]=1/Math.pow(2,this.maxLevel-t);return this.getLevelScale=function(e){return i[e]},this.getLevelScale(e)},getNumTiles:function(e){var t=this.getLevelScale(e),i=Math.ceil(t*this.dimensions.x/this.getTileWidth(e)),n=Math.ceil(t*this.dimensions.y/this.getTileHeight(e));return new h.Point(i,n)},getPixelRatio:function(e){var t=this.dimensions.times(this.getLevelScale(e)),i=1/t.x,n=1/t.y;return new h.Point(i,n)},getClosestLevel:function(){var e,t;for(e=this.minLevel+1;e<=this.maxLevel&&!(1<(t=this.getNumTiles(e)).x||1<t.y);e++);return e-1},getTileAtPoint:function(e,t){var i=0<=t.x&&t.x<=1&&0<=t.y&&t.y<=1/this.aspectRatio;h.console.assert(i,"[TileSource.getTileAtPoint] must be called with a valid point.");var n=this.dimensions.x*this.getLevelScale(e),s=t.x*n,o=t.y*n,r=Math.floor(s/this.getTileWidth(e)),a=Math.floor(o/this.getTileHeight(e));1<=t.x&&(r=this.getNumTiles(e).x-1);var l=1e-16;return t.y>=1/this.aspectRatio-l&&(a=this.getNumTiles(e).y-1),new h.Point(r,a)},getTileBounds:function(e,t,i){var n=this.dimensions.times(this.getLevelScale(e)),s=this.getTileWidth(e),o=this.getTileHeight(e),r=0===t?0:s*t-this.tileOverlap,a=0===i?0:o*i-this.tileOverlap,l=s+(0===t?1:2)*this.tileOverlap,c=o+(0===i?1:2)*this.tileOverlap,u=1/n.x;return l=Math.min(l,n.x-r),c=Math.min(c,n.y-a),new h.Rect(r*u,a*u,l*u,c*u)},getImageInfo:function(n){var e,i,s,o,t,r,a,l=this;n&&-1<(a=(r=(t=n.split("/"))[t.length-1]).lastIndexOf("."))&&(t[t.length-1]=r.slice(0,a)),i=function(e){"string"==typeof e&&(e=h.parseXml(e));var t=h.TileSource.determineType(l,e,n);t?(void 0===(o=t.prototype.configure.apply(l,[e,n])).ajaxWithCredentials&&(o.ajaxWithCredentials=l.ajaxWithCredentials),s=new t(o),l.ready=!0,l.raiseEvent("ready",{tileSource:s})):l.raiseEvent("open-failed",{message:"Unable to load TileSource",source:n})},n.match(/\.js$/)?(e=n.split("/").pop().replace(".js",""),h.jsonp({url:n,async:!1,callbackName:e,callback:i})):h.makeAjaxRequest({url:n,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,success:function(e){var t=c(e);i(t)},error:function(e,t){var i;try{i="HTTP "+e.status+" attempting to load TileSource"}catch(e){i=(void 0!==t&&t.toString?t.toString():"Unknown error")+" attempting to load TileSource"}l.raiseEvent("open-failed",{message:i,source:n})}})},supports:function(){return!1},configure:function(){throw new Error("Method not implemented.")},getTileUrl:function(){throw new Error("Method not implemented.")},getTileAjaxHeaders:function(){return{}},tileExists:function(e,t,i){var n=this.getNumTiles(e);return e>=this.minLevel&&e<=this.maxLevel&&0<=t&&0<=i&&t<n.x&&i<n.y}},h.extend(!0,h.TileSource.prototype,h.EventSource.prototype),h.TileSource.determineType=function(e,t,i){var n;for(n in OpenSeadragon)if(n.match(/.+TileSource$/)&&h.isFunction(OpenSeadragon[n])&&h.isFunction(OpenSeadragon[n].prototype.supports)&&OpenSeadragon[n].prototype.supports.call(e,t,i))return OpenSeadragon[n];h.console.error("No TileSource was able to open %s %s",i,t)}}(OpenSeadragon),function(f){function n(e,t){if(!t||!t.documentElement)throw new Error(f.getString("Errors.Xml"));var i,n,s,o,r,a=t.documentElement,l=a.localName||a.tagName,c=t.documentElement.namespaceURI,u=null,h=[];if("Image"==l)try{if(void 0===(o=a.getElementsByTagName("Size")[0])&&(o=a.getElementsByTagNameNS(c,"Size")[0]),u={Image:{xmlns:"http://schemas.microsoft.com/deepzoom/2008",Url:a.getAttribute("Url"),Format:a.getAttribute("Format"),DisplayRect:null,Overlap:parseInt(a.getAttribute("Overlap"),10),TileSize:parseInt(a.getAttribute("TileSize"),10),Size:{Height:parseInt(o.getAttribute("Height"),10),Width:parseInt(o.getAttribute("Width"),10)}}},!f.imageFormatSupported(u.Image.Format))throw new Error(f.getString("Errors.ImageFormat",u.Image.Format.toUpperCase()));for(void 0===(i=a.getElementsByTagName("DisplayRect"))&&(i=a.getElementsByTagNameNS(c,"DisplayRect")[0]),r=0;r<i.length;r++)void 0===(s=(n=i[r]).getElementsByTagName("Rect")[0])&&(s=n.getElementsByTagNameNS(c,"Rect")[0]),h.push({Rect:{X:parseInt(s.getAttribute("X"),10),Y:parseInt(s.getAttribute("Y"),10),Width:parseInt(s.getAttribute("Width"),10),Height:parseInt(s.getAttribute("Height"),10),MinLevel:parseInt(n.getAttribute("MinLevel"),10),MaxLevel:parseInt(n.getAttribute("MaxLevel"),10)}});return h.length&&(u.Image.DisplayRect=h),p(e,u)}catch(e){throw e instanceof Error?e:new Error(f.getString("Errors.Dzi"))}else{if("Collection"==l)throw new Error(f.getString("Errors.Dzc"));if("Error"==l){var d=a.getElementsByTagName("Message")[0].firstChild.nodeValue;throw new Error(d)}}throw new Error(f.getString("Errors.Dzi"))}function p(e,t){var i,n,s=t.Image,o=s.Url,r=s.Format,a=s.Size,l=s.DisplayRect||[],c=parseInt(a.Width,10),u=parseInt(a.Height,10),h=parseInt(s.TileSize,10),d=parseInt(s.Overlap,10),p=[];for(n=0;n<l.length;n++)i=l[n].Rect,p.push(new f.DisplayRect(parseInt(i.X,10),parseInt(i.Y,10),parseInt(i.Width,10),parseInt(i.Height,10),parseInt(i.MinLevel,10),parseInt(i.MaxLevel,10)));return f.extend(!0,{width:c,height:u,tileSize:h,tileOverlap:d,minLevel:null,maxLevel:null,tilesUrl:o,fileFormat:r,displayRects:p},t)}f.DziTileSource=function(e,t,i,n,s,o,r,a,l){var c,u,h,d;if(d=f.isPlainObject(e)?e:{width:e,height:t,tileSize:i,tileOverlap:n,tilesUrl:s,fileFormat:o,displayRects:r,minLevel:a,maxLevel:l},this._levelRects={},this.tilesUrl=d.tilesUrl,this.fileFormat=d.fileFormat,this.displayRects=d.displayRects,this.displayRects)for(c=this.displayRects.length-1;0<=c;c--)for(h=(u=this.displayRects[c]).minLevel;h<=u.maxLevel;h++)this._levelRects[h]||(this._levelRects[h]=[]),this._levelRects[h].push(u);f.TileSource.apply(this,[d])},f.extend(f.DziTileSource.prototype,f.TileSource.prototype,{supports:function(e){var t;return e.Image?t=e.Image.xmlns:e.documentElement&&("Image"!=e.documentElement.localName&&"Image"!=e.documentElement.tagName||(t=e.documentElement.namespaceURI)),-1!==(t=(t||"").toLowerCase()).indexOf("schemas.microsoft.com/deepzoom/2008")||-1!==t.indexOf("schemas.microsoft.com/deepzoom/2009")},configure:function(e,t){var i;return i=f.isPlainObject(e)?p(this,e):n(this,e),t&&!i.tilesUrl&&(i.tilesUrl=t.replace(/([^\/]+?)(\.(dzi|xml|js)?(\?[^\/]*)?)?\/?$/,"$1_files/"),-1!=t.search(/\.(dzi|xml|js)\?/)?i.queryParams=t.match(/\?.*/):i.queryParams=""),i},getTileUrl:function(e,t,i){return[this.tilesUrl,e,"/",t,"_",i,".",this.fileFormat,this.queryParams].join("")},tileExists:function(e,t,i){var n,s,o,r,a,l,c,u=this._levelRects[e];if(!u||!u.length)return!0;for(c=u.length-1;0<=c;c--)if(!(e<(n=u[c]).minLevel||e>n.maxLevel)&&(s=this.getLevelScale(e),o=n.x*s,r=n.y*s,a=o+n.width*s,l=r+n.height*s,o=Math.floor(o/this._tileWidth),r=Math.floor(r/this._tileWidth),a=Math.ceil(a/this._tileWidth),l=Math.ceil(l/this._tileWidth),o<=t&&t<a&&r<=i&&i<l))return!0;return!1}})}(OpenSeadragon),function(l){function c(e){return!(-1!=["http://library.stanford.edu/iiif/image-api/compliance.html#level0","http://library.stanford.edu/iiif/image-api/1.1/compliance.html#level0","http://iiif.io/api/image/2/level0.json"].indexOf(e[0]))||-1!=e.indexOf("sizeByW")}function u(e){for(var t=[],i=0;i<e.sizes.length;i++)t.push({url:e["@id"]+"/full/"+e.sizes[i].width+",/0/default.jpg",width:e.sizes[i].width,height:e.sizes[i].height});return t.sort(function(e,t){return e.width-t.width})}function n(e){if(!e||!e.documentElement)throw new Error(l.getString("Errors.Xml"));var t=e.documentElement,i=null;if("info"==t.tagName)try{return o(t,i={}),i}catch(e){throw e instanceof Error?e:new Error(l.getString("Errors.IIIF"))}throw new Error(l.getString("Errors.IIIF"))}function o(e,t,i){var n,s;if(3==e.nodeType&&i)(s=e.nodeValue.trim()).match(/^\d*$/)&&(s=Number(s)),t[i]?(l.isArray(t[i])||(t[i]=[t[i]]),t[i].push(s)):t[i]=s;else if(1==e.nodeType)for(n=0;n<e.childNodes.length;n++)o(e.childNodes[n],t,e.nodeName)}l.IIIFTileSource=function(e){if(l.extend(!0,this,e),!(this.height&&this.width&&this["@id"]))throw new Error("IIIF required parameters not provided.");if(e.tileSizePerScaleFactor={},this.tile_width&&this.tile_height)e.tileWidth=this.tile_width,e.tileHeight=this.tile_height;else if(this.tile_width)e.tileSize=this.tile_width;else if(this.tile_height)e.tileSize=this.tile_height;else if(this.tiles)if(1==this.tiles.length)e.tileWidth=this.tiles[0].width,e.tileHeight=this.tiles[0].height||this.tiles[0].width,this.scale_factors=this.tiles[0].scaleFactors;else{this.scale_factors=[];for(var t=0;t<this.tiles.length;t++)for(var i=0;i<this.tiles[t].scaleFactors.length;i++){var n=this.tiles[t].scaleFactors[i];this.scale_factors.push(n),e.tileSizePerScaleFactor[n]={width:this.tiles[t].width,height:this.tiles[t].height||this.tiles[t].width}}}else if(c(e.profile)){for(var s=Math.min(this.height,this.width),o=[256,512,1024],r=[],a=0;a<o.length;a++)o[a]<=s&&r.push(o[a]);0<r.length?e.tileSize=Math.max.apply(null,r):e.tileSize=s}else this.sizes&&0<this.sizes.length?(this.emulateLegacyImagePyramid=!0,e.levels=u(this),l.extend(!0,e,{width:e.levels[e.levels.length-1].width,height:e.levels[e.levels.length-1].height,tileSize:Math.max(e.height,e.width),tileOverlap:0,minLevel:0,maxLevel:e.levels.length-1}),this.levels=e.levels):l.console.error("Nothing in the info.json to construct image pyramids from");e.maxLevel||this.emulateLegacyImagePyramid||(this.scale_factors?e.maxLevel=Math.floor(Math.pow(Math.max.apply(null,this.scale_factors),.5)):e.maxLevel=Number(Math.ceil(Math.log(Math.max(this.width,this.height),2)))),l.TileSource.apply(this,[e])},l.extend(l.IIIFTileSource.prototype,l.TileSource.prototype,{supports:function(e){return!!(e.protocol&&"http://iiif.io/api/image"==e.protocol||e["@context"]&&("http://library.stanford.edu/iiif/image-api/1.1/context.json"==e["@context"]||"http://iiif.io/api/image/1/context.json"==e["@context"])||e.profile&&0===e.profile.indexOf("http://library.stanford.edu/iiif/image-api/compliance.html")||e.identifier&&e.width&&e.height||e.documentElement&&"info"==e.documentElement.tagName&&"http://library.stanford.edu/iiif/image-api/ns/"==e.documentElement.namespaceURI)},configure:function(e,t){if(l.isPlainObject(e))return e["@context"]||(e["@context"]="http://iiif.io/api/image/1.0/context.json",e["@id"]=t.replace("/info.json","")),e;var i=n(e);return i["@context"]="http://iiif.io/api/image/1.0/context.json",i["@id"]=t.replace("/info.xml",""),i},getTileWidth:function(e){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileWidth.call(this,e);var t=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[t]?this.tileSizePerScaleFactor[t].width:this._tileWidth},getTileHeight:function(e){if(this.emulateLegacyImagePyramid)return l.TileSource.prototype.getTileHeight.call(this,e);var t=Math.pow(2,this.maxLevel-e);return this.tileSizePerScaleFactor&&this.tileSizePerScaleFactor[t]?this.tileSizePerScaleFactor[t].height:this._tileHeight},getLevelScale:function(e){if(this.emulateLegacyImagePyramid){var t=NaN;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t}return l.TileSource.prototype.getLevelScale.call(this,e)},getNumTiles:function(e){return this.emulateLegacyImagePyramid?this.getLevelScale(e)?new l.Point(1,1):new l.Point(0,0):l.TileSource.prototype.getNumTiles.call(this,e)},getTileAtPoint:function(e,t){return this.emulateLegacyImagePyramid?new l.Point(0,0):l.TileSource.prototype.getTileAtPoint.call(this,e,t)},getTileUrl:function(e,t,i){if(this.emulateLegacyImagePyramid){var n=null;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(n=this.levels[e].url),n}var s,o,r,a,l,c,u,h,d,p,f,m="0",g=Math.pow(.5,this.maxLevel-e),v=Math.ceil(this.width*g),y=Math.ceil(this.height*g);return s=this.getTileWidth(e),o=this.getTileHeight(e),r=Math.ceil(s/g),a=Math.ceil(o/g),f=-1<this["@context"].indexOf("/1.0/context.json")||-1<this["@context"].indexOf("/1.1/context.json")||-1<this["@context"].indexOf("/1/context.json")?"native.jpg":"default.jpg",v<s&&y<o?(p=v+",",l="full"):(c=t*r,u=i*a,h=Math.min(r,this.width-c),d=Math.min(a,this.height-u),p=Math.ceil(h*g)+",",l=[c,u,h,d].join(",")),[this["@id"],l,p,m,f].join("/")}})}(OpenSeadragon),function(r){r.OsmTileSource=function(e,t,i,n,s){var o;(o=r.isPlainObject(e)?e:{width:e,height:t,tileSize:i,tileOverlap:n,tilesUrl:s}).width&&o.height||(o.width=65572864,o.height=65572864),o.tileSize||(o.tileSize=256,o.tileOverlap=0),o.tilesUrl||(o.tilesUrl="http://tile.openstreetmap.org/"),o.minLevel=8,r.TileSource.apply(this,[o])},r.extend(r.OsmTileSource.prototype,r.TileSource.prototype,{supports:function(e){return e.type&&"openstreetmaps"==e.type},configure:function(e){return e},getTileUrl:function(e,t,i){return this.tilesUrl+(e-8)+"/"+t+"/"+i+".png"}})}(OpenSeadragon),function(c){c.TmsTileSource=function(e,t,i,n,s){var o;o=c.isPlainObject(e)?e:{width:e,height:t,tileSize:i,tileOverlap:n,tilesUrl:s};var r,a=256*Math.ceil(o.width/256),l=256*Math.ceil(o.height/256);r=l<a?a/256:l/256,o.maxLevel=Math.ceil(Math.log(r)/Math.log(2))-1,o.tileSize=256,o.width=a,o.height=l,c.TileSource.apply(this,[o])},c.extend(c.TmsTileSource.prototype,c.TileSource.prototype,{supports:function(e){return e.type&&"tiledmapservice"==e.type},configure:function(e){return e},getTileUrl:function(e,t,i){var n=this.getNumTiles(e).y-1;return this.tilesUrl+e+"/"+t+"/"+(n-i)+".png"}})}(OpenSeadragon),function(e){e.ZoomifyTileSource=function(e){e.tileSize=256;var t={x:e.width,y:e.height};for(e.imageSizes=[{x:e.width,y:e.height}],e.gridSize=[this._getGridSize(e.width,e.height,e.tileSize)];parseInt(t.x,10)>e.tileSize||parseInt(t.y,10)>e.tileSize;)t.x=Math.floor(t.x/2),t.y=Math.floor(t.y/2),e.imageSizes.push({x:t.x,y:t.y}),e.gridSize.push(
this._getGridSize(t.x,t.y,e.tileSize));e.imageSizes.reverse(),e.gridSize.reverse(),e.minLevel=0,e.maxLevel=e.gridSize.length-1,OpenSeadragon.TileSource.apply(this,[e])},e.extend(e.ZoomifyTileSource.prototype,e.TileSource.prototype,{_getGridSize:function(e,t,i){return{x:Math.ceil(e/i),y:Math.ceil(t/i)}},_calculateAbsoluteTileNumber:function(e,t,i){for(var n=0,s={},o=0;o<e;o++)n+=(s=this.gridSize[o]).x*s.y;return n+=(s=this.gridSize[e]).x*i+t},supports:function(e){return e.type&&"zoomifytileservice"==e.type},configure:function(e){return e},getTileUrl:function(e,t,i){var n=0,s=this._calculateAbsoluteTileNumber(e,t,i);return n=Math.floor(s/256),this.tilesUrl+"TileGroup"+n+"/"+e+"-"+t+"-"+i+".jpg"}})}(OpenSeadragon),function(l){function s(e){var t,i,n=[];for(i=0;i<e.length;i++)(t=e[i]).height&&t.width&&t.url?n.push({url:t.url,width:Number(t.width),height:Number(t.height)}):l.console.error("Unsupported image format: %s",t.url?t.url:"<no URL>");return n.sort(function(e,t){return e.height-t.height})}function t(e,t){if(!t||!t.documentElement)throw new Error(l.getString("Errors.Xml"));var i,n,s=t.documentElement,o=s.tagName,r=null,a=[];if("image"==o)try{for(r={type:s.getAttribute("type"),levels:[]},a=s.getElementsByTagName("level"),n=0;n<a.length;n++)i=a[n],r.levels.push({url:i.getAttribute("url"),width:parseInt(i.getAttribute("width"),10),height:parseInt(i.getAttribute("height"),10)});return c(e,r)}catch(l){throw l instanceof Error?l:new Error("Unknown error parsing Legacy Image Pyramid XML.")}else{if("collection"==o)throw new Error("Legacy Image Pyramid Collections not yet supported.");if("error"==o)throw new Error("Error: "+t)}throw new Error("Unknown element "+o)}function c(e,t){return t.levels}l.LegacyTileSource=function(e){var t,i,n;l.isArray(e)&&(t={type:"legacy-image-pyramid",levels:e}),t.levels=s(t.levels),0<t.levels.length?(i=t.levels[t.levels.length-1].width,n=t.levels[t.levels.length-1].height):(n=i=0,l.console.error("No supported image formats found")),l.extend(!0,t,{width:i,height:n,tileSize:Math.max(n,i),tileOverlap:0,minLevel:0,maxLevel:0<t.levels.length?t.levels.length-1:0}),l.TileSource.apply(this,[t]),this.levels=t.levels},l.extend(l.LegacyTileSource.prototype,l.TileSource.prototype,{supports:function(e){return e.type&&"legacy-image-pyramid"==e.type||e.documentElement&&"legacy-image-pyramid"==e.documentElement.getAttribute("type")},configure:function(e){return l.isPlainObject(e)?c(this,e):t(this,e)},getLevelScale:function(e){var t=NaN;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(e){return this.getLevelScale(e)?new l.Point(1,1):new l.Point(0,0)},getTileUrl:function(e){var t=null;return 0<this.levels.length&&e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].url),t}})}(OpenSeadragon),function(a){a.ImageTileSource=function(e){e=a.extend({buildPyramid:!0,crossOriginPolicy:!1,ajaxWithCredentials:!1,useCanvas:!0},e),a.TileSource.apply(this,[e])},a.extend(a.ImageTileSource.prototype,a.TileSource.prototype,{supports:function(e){return e.type&&"image"===e.type},configure:function(e){return e},getImageInfo:function(e){var t=this._image=new Image,i=this;this.crossOriginPolicy&&(t.crossOrigin=this.crossOriginPolicy),this.ajaxWithCredentials&&(t.useCredentials=this.ajaxWithCredentials),a.addEvent(t,"load",function(){i.width=Object.prototype.hasOwnProperty.call(t,"naturalWidth")?t.naturalWidth:t.width,i.height=Object.prototype.hasOwnProperty.call(t,"naturalHeight")?t.naturalHeight:t.height,i.aspectRatio=i.width/i.height,i.dimensions=new a.Point(i.width,i.height),i._tileWidth=i.width,i._tileHeight=i.height,i.tileOverlap=0,i.minLevel=0,i.levels=i._buildLevels(),i.maxLevel=i.levels.length-1,i.ready=!0,i.raiseEvent("ready",{tileSource:i})}),a.addEvent(t,"error",function(){i.raiseEvent("open-failed",{message:"Error loading image at "+e,source:e})}),t.src=e},getLevelScale:function(e){var t=NaN;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].width/this.levels[this.maxLevel].width),t},getNumTiles:function(e){return this.getLevelScale(e)?new a.Point(1,1):new a.Point(0,0)},getTileUrl:function(e){var t=null;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].url),t},getContext2D:function(e){var t=null;return e>=this.minLevel&&e<=this.maxLevel&&(t=this.levels[e].context2D),t},_buildLevels:function(){var e=[{url:this._image.src,width:Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,height:Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height}];if(!this.buildPyramid||!a.supportsCanvas||!this.useCanvas)return delete this._image,e;var t=Object.prototype.hasOwnProperty.call(this._image,"naturalWidth")?this._image.naturalWidth:this._image.width,i=Object.prototype.hasOwnProperty.call(this._image,"naturalHeight")?this._image.naturalHeight:this._image.height,n=document.createElement("canvas"),s=n.getContext("2d");if(n.width=t,n.height=i,s.drawImage(this._image,0,0,t,i),e[0].context2D=s,delete this._image,a.isCanvasTainted(n))return e;for(;2<=t&&2<=i;){t=Math.floor(t/2),i=Math.floor(i/2);var o=document.createElement("canvas"),r=o.getContext("2d");o.width=t,o.height=i,r.drawImage(n,0,0,t,i),e.splice(0,0,{context2D:r,width:t,height:i}),n=o,s=r}return e}})}(OpenSeadragon),function(e){e.TileSourceCollection=function(){e.console.error("TileSourceCollection is deprecated; use World instead")}}(OpenSeadragon),function(i){function n(e){i.requestAnimationFrame(function(){t(e)})}function t(e){var t;e.shouldFade&&(t=1-(i.now()-e.fadeBeginTime)/e.fadeLength,t=Math.min(1,t),t=Math.max(0,t),e.imgGroup&&i.setElementOpacity(e.imgGroup,t,!0),0<t&&n(e))}function s(e){e.shouldFade=!0,e.fadeBeginTime=i.now()+e.fadeDelay,window.setTimeout(function(){n(e)},e.fadeDelay)}function o(e){e.shouldFade=!1,e.imgGroup&&i.setElementOpacity(e.imgGroup,1,!0)}function r(e,t){e.element.disabled||(t>=i.ButtonState.GROUP&&e.currentState==i.ButtonState.REST&&(o(e),e.currentState=i.ButtonState.GROUP),t>=i.ButtonState.HOVER&&e.currentState==i.ButtonState.GROUP&&(e.imgHover&&(e.imgHover.style.visibility=""),e.currentState=i.ButtonState.HOVER),t>=i.ButtonState.DOWN&&e.currentState==i.ButtonState.HOVER&&(e.imgDown&&(e.imgDown.style.visibility=""),e.currentState=i.ButtonState.DOWN))}function a(e,t){e.element.disabled||(t<=i.ButtonState.HOVER&&e.currentState==i.ButtonState.DOWN&&(e.imgDown&&(e.imgDown.style.visibility="hidden"),e.currentState=i.ButtonState.HOVER),t<=i.ButtonState.GROUP&&e.currentState==i.ButtonState.HOVER&&(e.imgHover&&(e.imgHover.style.visibility="hidden"),e.currentState=i.ButtonState.GROUP),t<=i.ButtonState.REST&&e.currentState==i.ButtonState.GROUP&&(s(e),e.currentState=i.ButtonState.REST))}i.ButtonState={REST:0,GROUP:1,HOVER:2,DOWN:3},i.Button=function(e){var t=this;i.EventSource.call(this),i.extend(!0,this,{tooltip:null,srcRest:null,srcGroup:null,srcHover:null,srcDown:null,clickTimeThreshold:i.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:i.DEFAULT_SETTINGS.clickDistThreshold,fadeDelay:0,fadeLength:2e3,onPress:null,onRelease:null,onClick:null,onEnter:null,onExit:null,onFocus:null,onBlur:null},e),this.element=e.element||i.makeNeutralElement("div"),e.element||(this.imgRest=i.makeTransparentImage(this.srcRest),this.imgGroup=i.makeTransparentImage(this.srcGroup),this.imgHover=i.makeTransparentImage(this.srcHover),this.imgDown=i.makeTransparentImage(this.srcDown),this.imgRest.alt=this.imgGroup.alt=this.imgHover.alt=this.imgDown.alt=this.tooltip,this.element.style.position="relative",i.setElementTouchActionNone(this.element),this.imgGroup.style.position=this.imgHover.style.position=this.imgDown.style.position="absolute",this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top="0px",this.imgGroup.style.left=this.imgHover.style.left=this.imgDown.style.left="0px",this.imgHover.style.visibility=this.imgDown.style.visibility="hidden",i.Browser.vendor==i.BROWSERS.FIREFOX&&i.Browser.version<3&&(this.imgGroup.style.top=this.imgHover.style.top=this.imgDown.style.top=""),this.element.appendChild(this.imgRest),this.element.appendChild(this.imgGroup),this.element.appendChild(this.imgHover),this.element.appendChild(this.imgDown)),this.addHandler("press",this.onPress),this.addHandler("release",this.onRelease),this.addHandler("click",this.onClick),this.addHandler("enter",this.onEnter),this.addHandler("exit",this.onExit),this.addHandler("focus",this.onFocus),this.addHandler("blur",this.onBlur),this.currentState=i.ButtonState.GROUP,this.fadeBeginTime=null,this.shouldFade=!1,this.element.style.display="inline-block",this.element.style.position="relative",this.element.title=this.tooltip,this.tracker=new i.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(e){e.insideElementPressed?(r(t,i.ButtonState.DOWN),t.raiseEvent("enter",{originalEvent:e.originalEvent})):e.buttonDownAny||r(t,i.ButtonState.HOVER)},focusHandler:function(e){this.enterHandler(e),t.raiseEvent("focus",{originalEvent:e.originalEvent})},exitHandler:function(e){a(t,i.ButtonState.GROUP),e.insideElementPressed&&t.raiseEvent("exit",{originalEvent:e.originalEvent})},blurHandler:function(e){this.exitHandler(e),t.raiseEvent("blur",{originalEvent:e.originalEvent})},pressHandler:function(e){r(t,i.ButtonState.DOWN),t.raiseEvent("press",{originalEvent:e.originalEvent})},releaseHandler:function(e){e.insideElementPressed&&e.insideElementReleased?(a(t,i.ButtonState.HOVER),t.raiseEvent("release",{originalEvent:e.originalEvent})):e.insideElementPressed?a(t,i.ButtonState.GROUP):r(t,i.ButtonState.HOVER)},clickHandler:function(e){e.quick&&t.raiseEvent("click",{originalEvent:e.originalEvent})},keyHandler:function(e){return 13!==e.keyCode||(t.raiseEvent("click",{originalEvent:e.originalEvent}),t.raiseEvent("release",{originalEvent:e.originalEvent}),!1)}}),a(this,i.ButtonState.REST)},i.extend(i.Button.prototype,i.EventSource.prototype,{notifyGroupEnter:function(){r(this,i.ButtonState.GROUP)},notifyGroupExit:function(){a(this,i.ButtonState.REST)},disable:function(){this.notifyGroupExit(),this.element.disabled=!0,i.setElementOpacity(this.element,.2,!0)},enable:function(){this.element.disabled=!1,i.setElementOpacity(this.element,1,!0),this.notifyGroupEnter()}})}(OpenSeadragon),function(s){s.ButtonGroup=function(e){s.extend(!0,this,{buttons:[],clickTimeThreshold:s.DEFAULT_SETTINGS.clickTimeThreshold,clickDistThreshold:s.DEFAULT_SETTINGS.clickDistThreshold,labelText:""},e);var t,i=this.buttons.concat([]),n=this;if(this.element=e.element||s.makeNeutralElement("div"),!e.group)for(this.label=s.makeNeutralElement("label"),this.element.style.display="inline-block",this.element.appendChild(this.label),t=0;t<i.length;t++)this.element.appendChild(i[t].element);s.setElementTouchActionNone(this.element),this.tracker=new s.MouseTracker({element:this.element,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,enterHandler:function(){var e;for(e=0;e<n.buttons.length;e++)n.buttons[e].notifyGroupEnter()},exitHandler:function(e){var t;if(!e.insideElementPressed)for(t=0;t<n.buttons.length;t++)n.buttons[t].notifyGroupExit()}})},s.ButtonGroup.prototype={emulateEnter:function(){this.tracker.enterHandler({eventSource:this.tracker})},emulateExit:function(){this.tracker.exitHandler({eventSource:this.tracker})}}}(OpenSeadragon),function(E){E.Rect=function(e,t,i,n,s){var o,r;this.x="number"==typeof e?e:0,this.y="number"==typeof t?t:0,this.width="number"==typeof i?i:0,this.height="number"==typeof n?n:0,this.degrees="number"==typeof s?s:0,this.degrees=E.positiveModulo(this.degrees,360),270<=this.degrees?(o=this.getTopRight(),this.x=o.x,this.y=o.y,r=this.height,this.height=this.width,this.width=r,this.degrees-=270):180<=this.degrees?(o=this.getBottomRight(),this.x=o.x,this.y=o.y,this.degrees-=180):90<=this.degrees&&(o=this.getBottomLeft(),this.x=o.x,this.y=o.y,r=this.height,this.height=this.width,this.width=r,this.degrees-=90)},E.Rect.fromSummits=function(e,t,i){var n=e.distanceTo(t),s=e.distanceTo(i),o=t.minus(e),r=Math.atan(o.y/o.x);return o.x<0?r+=Math.PI:o.y<0&&(r+=2*Math.PI),new E.Rect(e.x,e.y,n,s,r/Math.PI*180)},E.Rect.prototype={clone:function(){return new E.Rect(this.x,this.y,this.width,this.height,this.degrees)},getAspectRatio:function(){return this.width/this.height},getTopLeft:function(){return new E.Point(this.x,this.y)},getBottomRight:function(){return new E.Point(this.x+this.width,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getTopRight:function(){return new E.Point(this.x+this.width,this.y).rotate(this.degrees,this.getTopLeft())},getBottomLeft:function(){return new E.Point(this.x,this.y+this.height).rotate(this.degrees,this.getTopLeft())},getCenter:function(){return new E.Point(this.x+this.width/2,this.y+this.height/2).rotate(this.degrees,this.getTopLeft())},getSize:function(){return new E.Point(this.width,this.height)},equals:function(e){return e instanceof E.Rect&&this.x===e.x&&this.y===e.y&&this.width===e.width&&this.height===e.height&&this.degrees===e.degrees},times:function(e){return new E.Rect(this.x*e,this.y*e,this.width*e,this.height*e,this.degrees)},translate:function(e){return new E.Rect(this.x+e.x,this.y+e.y,this.width,this.height,this.degrees)},union:function(e){var t=this.getBoundingBox(),i=e.getBoundingBox(),n=Math.min(t.x,i.x),s=Math.min(t.y,i.y),o=Math.max(t.x+t.width,i.x+i.width),r=Math.max(t.y+t.height,i.y+i.height);return new E.Rect(n,s,o-n,r-s)},intersection:function(e){function t(e,t,i,n){var s=t.minus(e),o=n.minus(i),r=-o.x*s.y+s.x*o.y;if(0===r)return null;var a=(s.x*(e.y-i.y)-s.y*(e.x-i.x))/r,l=(o.x*(e.y-i.y)-o.y*(e.x-i.x))/r;return-c<=a&&a<=1-c&&-c<=l&&l<=1-c?new E.Point(e.x+l*s.x,e.y+l*s.y):null}var c=1e-10,i=[],n=this.getTopLeft();e.containsPoint(n,c)&&i.push(n);var s=this.getTopRight();e.containsPoint(s,c)&&i.push(s);var o=this.getBottomLeft();e.containsPoint(o,c)&&i.push(o);var r=this.getBottomRight();e.containsPoint(r,c)&&i.push(r);var a=e.getTopLeft();this.containsPoint(a,c)&&i.push(a);var l=e.getTopRight();this.containsPoint(l,c)&&i.push(l);var u=e.getBottomLeft();this.containsPoint(u,c)&&i.push(u);var h=e.getBottomRight();this.containsPoint(h,c)&&i.push(h);for(var d=this._getSegments(),p=e._getSegments(),f=0;f<d.length;f++)for(var m=d[f],g=0;g<p.length;g++){var v=p[g],y=t(m[0],m[1],v[0],v[1]);y&&i.push(y)}if(0===i.length)return null;for(var _=i[0].x,w=i[0].x,b=i[0].y,x=i[0].y,S=1;S<i.length;S++){var C=i[S];C.x<_&&(_=C.x),C.x>w&&(w=C.x),C.y<b&&(b=C.y),C.y>x&&(x=C.y)}return new E.Rect(_,b,w-_,x-b)},_getSegments:function(){var e=this.getTopLeft(),t=this.getTopRight(),i=this.getBottomLeft(),n=this.getBottomRight();return[[e,t],[t,n],[n,i],[i,e]]},rotate:function(e,t){if(0===(e=E.positiveModulo(e,360)))return this.clone();t=t||this.getCenter();var i=this.getTopLeft().rotate(e,t),n=this.getTopRight().rotate(e,t).minus(i);n=n.apply(function(e){var t=1e-15;return Math.abs(e)<t?0:e});var s=Math.atan(n.y/n.x);return n.x<0?s+=Math.PI:n.y<0&&(s+=2*Math.PI),new E.Rect(i.x,i.y,this.width,this.height,s/Math.PI*180)},getBoundingBox:function(){if(0===this.degrees)return this.clone();var e=this.getTopLeft(),t=this.getTopRight(),i=this.getBottomLeft(),n=this.getBottomRight(),s=Math.min(e.x,t.x,i.x,n.x),o=Math.max(e.x,t.x,i.x,n.x),r=Math.min(e.y,t.y,i.y,n.y),a=Math.max(e.y,t.y,i.y,n.y);return new E.Rect(s,r,o-s,a-r)},getIntegerBoundingBox:function(){var e=this.getBoundingBox(),t=Math.floor(e.x),i=Math.floor(e.y),n=Math.ceil(e.width+e.x-t),s=Math.ceil(e.height+e.y-i);return new E.Rect(t,i,n,s)},containsPoint:function(e,t){t=t||0;var i=this.getTopLeft(),n=this.getTopRight(),s=this.getBottomLeft(),o=n.minus(i),r=s.minus(i);return(e.x-i.x)*o.x+(e.y-i.y)*o.y>=-t&&(e.x-n.x)*o.x+(e.y-n.y)*o.y<=t&&(e.x-i.x)*r.x+(e.y-i.y)*r.y>=-t&&(e.x-s.x)*r.x+(e.y-s.y)*r.y<=t},toString:function(){return"["+Math.round(100*this.x)/100+", "+Math.round(100*this.y)/100+", "+Math.round(100*this.width)/100+"x"+Math.round(100*this.height)/100+", "+Math.round(100*this.degrees)/100+"deg]"}}}(OpenSeadragon),function(d){function a(e){var t=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),n=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),o=d.getElementSize(this.viewer.canvas);return this.dragging=!0,this.element&&("horizontal"==this.scroll?0<-e.delta.x?t>-(n-o.x)&&(this.element.style.marginLeft=t+2*e.delta.x+"px",c(this,o.x,t+2*e.delta.x)):-e.delta.x<0&&t<0&&(this.element.style.marginLeft=t+2*e.delta.x+"px",c(this,o.x,t+2*e.delta.x)):0<-e.delta.y?i>-(s-o.y)&&(this.element.style.marginTop=i+2*e.delta.y+"px",c(this,o.y,i+2*e.delta.y)):-e.delta.y<0&&i<0&&(this.element.style.marginTop=i+2*e.delta.y+"px",c(this,o.y,i+2*e.delta.y))),!1}function l(e){var t=Number(this.element.style.marginLeft.replace("px","")),i=Number(this.element.style.marginTop.replace("px","")),n=Number(this.element.style.width.replace("px","")),s=Number(this.element.style.height.replace("px","")),o=d.getElementSize(this.viewer.canvas);return this.element&&("horizontal"==this.scroll?0<e.scroll?t>-(n-o.x)&&(this.element.style.marginLeft=t-60*e.scroll+"px",c(this,o.x,t-60*e.scroll)):e.scroll<0&&t<0&&(this.element.style.marginLeft=t-60*e.scroll+"px",c(this,o.x,t-60*e.scroll)):e.scroll<0?i>o.y-s&&(this.element.style.marginTop=i+60*e.scroll+"px",c(this,o.y,i+60*e.scroll)):0<e.scroll&&i<0&&(this.element.style.marginTop=i+60*e.scroll+"px",c(this,o.y,i+60*e.scroll))),!1}function c(e,t,i){var n,s,o,r,a,l,c;for(n="horizontal"==e.scroll?e.panelWidth:e.panelHeight,s=Math.ceil(t/n)+5,l=s=(s=(o=Math.ceil((Math.abs(i)+t)/n)+1)-s)<0?0:s;l<o&&l<e.panels.length;l++)if(!(c=e.panels[l]).activePanel){var u,h=e.viewer.tileSources[l];u=h.referenceStripThumbnailUrl?{type:"image",url:h.referenceStripThumbnailUrl}:h,(r=new d.Viewer({id:c.id,tileSources:[u],element:c,navigatorSizeRatio:e.sizeRatio,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1,immediateRender:!0,blendTime:0,animationTime:0})).displayRegion=d.makeNeutralElement("div"),r.displayRegion.id=c.id+"-displayregion",r.displayRegion.className="displayregion",(a=r.displayRegion.style).position="relative",a.top="0px",a.left="0px",a.fontSize="0px",a.overflow="hidden",a["float"]="left",a.cssFloat="left",a.styleFloat="left",a.zIndex=999999999,a.cursor="default",a.width=e.panelWidth-4+"px",a.height=e.panelHeight-4+"px",r.displayRegion.innerTracker=new d.MouseTracker({element:r.displayRegion,startDisabled:!0}),c.getElementsByTagName("div")[0].appendChild(r.displayRegion),e.miniViewers[c.id]=r,c.activePanel=!0}}function u(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="0px":t.style.marginLeft="0px",!1}function h(e){var t=e.eventSource.element;return"horizontal"==this.scroll?t.style.marginBottom="-"+d.getElementSize(t).y/2+"px":t.style.marginLeft="-"+d.getElementSize(t).x/2+"px",!1}function p(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 38:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 40:case 37:return l.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 39:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}function f(e){if(e.preventDefaultAction||e.ctrl||e.alt||e.meta)return!0;switch(e.keyCode){case 61:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 45:return l.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 48:case 119:case 87:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;case 115:case 83:case 97:return l.call(this,{eventSource:this.tracker,position:null,scroll:-1,shift:null}),!1;case 100:return l.call(this,{eventSource:this.tracker,position:null,scroll:1,shift:null}),!1;default:return!0}}var m={};d.ReferenceStrip=function(e){var t,i,n,s=this,o=e.viewer,r=d.getElementSize(o.element);for(e.id||(e.id="referencestrip-"+d.now(),this.element=d.makeNeutralElement("div"),this.element.id=e.id,this.element.className="referencestrip"),e=d.extend(!0,{sizeRatio:d.DEFAULT_SETTINGS.referenceStripSizeRatio,position:d.DEFAULT_SETTINGS.referenceStripPosition,scroll:d.DEFAULT_SETTINGS.referenceStripScroll,clickTimeThreshold:d.DEFAULT_SETTINGS.clickTimeThreshold},e,{element:this.element,showNavigator:!1,mouseNavEnabled:!1,showNavigationControl:!1,showSequenceControl:!1}),d.extend(this,e),m[this.id]={animating:!1},this.minPixelRatio=this.viewer.minPixelRatio,(i=this.element.style).marginTop="0px",i.marginRight="0px",i.marginBottom="0px",i.marginLeft="0px",i.left="0px",i.bottom="0px",i.border="0px",i.background="#000",i.position="relative",d.setElementTouchActionNone(this.element),d.setElementOpacity(this.element,.8),this.viewer=o,this.innerTracker=new d.MouseTracker({element:this.element,dragHandler:d.delegate(this,a),scrollHandler:d.delegate(this,l),enterHandler:d.delegate(this,u),exitHandler:d.delegate(this,h),keyDownHandler:d.delegate(this,p),keyHandler:d.delegate(this,f)}),e.width&&e.height?(this.element.style.width=e.width+"px",this.element.style.height=e.height+"px",o.addControl(this.element,{anchor:d.ControlAnchor.BOTTOM_LEFT})):"horizontal"==e.scroll?(this.element.style.width=r.x*e.sizeRatio*o.tileSources.length+12*o.tileSources.length+"px",this.element.style.height=r.y*e.sizeRatio+"px",o.addControl(this.element,{anchor:d.ControlAnchor.BOTTOM_LEFT})):(this.element.style.height=r.y*e.sizeRatio*o.tileSources.length+12*o.tileSources.length+"px",this.element.style.width=r.x*e.sizeRatio+"px",o.addControl(this.element,{anchor:d.ControlAnchor.TOP_LEFT})),this.panelWidth=r.x*this.sizeRatio+8,this.panelHeight=r.y*this.sizeRatio+8,this.panels=[],this.miniViewers={},n=0;n<o.tileSources.length;n++)(t=d.makeNeutralElement("div")).id=this.element.id+"-"+n,t.style.width=s.panelWidth+"px",t.style.height=s.panelHeight+"px",t.style.display="inline",t.style["float"]="left",t.style.cssFloat="left",t.style.styleFloat="left",t.style.padding="2px",d.setElementTouchActionNone(t),t.innerTracker=new d.MouseTracker({element:t,clickTimeThreshold:this.clickTimeThreshold,clickDistThreshold:this.clickDistThreshold,pressHandler:function(e){e.eventSource.dragging=d.now()},releaseHandler:function(e){var t=e.eventSource,i=t.element.id,n=Number(i.split("-")[2]),s=d.now();e.insideElementPressed&&e.insideElementReleased&&t.dragging&&s-t.dragging<t.clickTimeThreshold&&(t.dragging=null,o.goToPage(n))}}),this.element.appendChild(t),t.activePanel=!1,this.panels.push(t);c(this,"vertical"==this.scroll?r.y:r.x,0),this.setFocus(0)},d.extend(d.ReferenceStrip.prototype,d.EventSource.prototype,d.Viewer.prototype,{setFocus:function(e){var t,i=d.getElement(this.element.id+"-"+e),n=d.getElementSize(this.viewer.canvas),s=Number(this.element.style.width.replace("px","")),o=Number(this.element.style.height.replace("px","")),r=-Number(this.element.style.marginLeft.replace("px","")),a=-Number(this.element.style.marginTop.replace("px",""));this.currentSelected!==i&&(this.currentSelected&&(this.currentSelected.style.background="#000"),this.currentSelected=i,this.currentSelected.style.background="#999","horizontal"==this.scroll?(t=Number(e)*(this.panelWidth+3))>r+n.x-this.panelWidth?(t=Math.min(t,s-n.x),this.element.style.marginLeft=-t+"px",c(this,n.x,-t)):t<r&&(t=Math.max(0,t-n.x/2),this.element.style.marginLeft=-t+"px",c(this,n.x,-t)):(t=Number(e)*(this.panelHeight+3))>a+n.y-this.panelHeight?(t=Math.min(t,o-n.y),this.element.style.marginTop=-t+"px",c(this,n.y,-t)):t<a&&(t=Math.max(0,t-n.y/2),this.element.style.marginTop=-t+"px",c(this,n.y,-t)),this.currentPage=e,u.call(this,{eventSource:this.innerTracker}))},update:function(){return!!m[this.id].animating&&(d.console.log("image reference strip update"),!0)},destroy:function(){if(this.miniViewers)for(var e in this.miniViewers)this.miniViewers[e].destroy();this.element&&this.element.parentNode.removeChild(this.element)}})}(OpenSeadragon),function(r){r.DisplayRect=function(e,t,i,n,s,o){r.Rect.apply(this,[e,t,i,n]),this.minLevel=s,this.maxLevel=o},r.extend(r.DisplayRect.prototype,r.Rect.prototype)}(OpenSeadragon),function(s){function o(e,t){return(1-Math.exp(e*-t))/(1-Math.exp(-e))}s.Spring=function(e){var t=arguments;"object"!=typeof e&&(e={initial:t.length&&"number"==typeof t[0]?t[0]:void 0,springStiffness:1<t.length?t[1].springStiffness:5,animationTime:1<t.length?t[1].animationTime:1.5}),s.console.assert("number"==typeof e.springStiffness&&0!==e.springStiffness,"[OpenSeadragon.Spring] options.springStiffness must be a non-zero number"),s.console.assert("number"==typeof e.animationTime&&0<=e.animationTime,"[OpenSeadragon.Spring] options.animationTime must be a number greater than or equal to 0"),e.exponential&&(this._exponential=!0,delete e.exponential),s.extend(!0,this,e),this.current={value:"number"==typeof this.initial?this.initial:this._exponential?0:1,time:s.now()},s.console.assert(!this._exponential||0!==this.current.value,"[OpenSeadragon.Spring] value must be non-zero for exponential springs"),this.start={value:this.current.value,time:this.current.time},this.target={value:this.current.value,time:this.current.time},this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},s.Spring.prototype={resetTo:function(e){s.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.resetTo] target must be non-zero for exponential springs"),this.start.value=this.target.value=this.current.value=e,this.start.time=this.target.time=this.current.time=s.now(),this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},springTo:function(e){s.console.assert(!this._exponential||0!==e,"[OpenSeadragon.Spring.springTo] target must be non-zero for exponential springs"),this.start.value=this.current.value,this.start.time=this.current.time,this.target.value=e,this.target.time=this.start.time+1e3*this.animationTime,this._exponential&&(this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},shiftBy:function(e){this.start.value+=e,this.target.value+=e,this._exponential&&(s.console.assert(0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.shiftBy] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value))},setExponential:function(e){this._exponential=e,this._exponential&&(s.console.assert(0!==this.current.value&&0!==this.target.value&&0!==this.start.value,"[OpenSeadragon.Spring.setExponential] spring value must be non-zero for exponential springs"),this.start._logValue=Math.log(this.start.value),this.target._logValue=Math.log(this.target.value),this.current._logValue=Math.log(this.current.value))},update:function(){var e,t;this.current.time=s.now(),this._exponential?(e=this.start._logValue,t=this.target._logValue):(e=this.start.value,t=this.target.value);var i=this.current.time>=this.target.time?t:e+(t-e)*o(this.springStiffness,(this.current.time-this.start.time)/(this.target.time-this.start.time)),n=this.current.value;return this._exponential?this.current.value=Math.exp(i):this.current.value=i,n!=this.current.value},isAtTargetValue:function(){return this.current.value===this.target.value}}}(OpenSeadragon),function(t){function s(e){t.extend(!0,this,{timeout:t.DEFAULT_SETTINGS.timeout,jobId:null},e),this.image=null}function o(e,t,i){e.jobsInProgress--,(!e.jobLimit||e.jobsInProgress<e.jobLimit)&&0<e.jobQueue.length&&(e.jobQueue.shift().start(),e.jobsInProgress++),i(t.image,t.errorMsg,t.request)}s.prototype={errorMsg:null,start:function(){var o=this,e=this.abort;this.image=new Image,this.image.onload=function(){o.finish(!0)},this.image.onabort=this.image.onerror=function(){o.errorMsg="Image load aborted",o.finish(!1)},this.jobId=window.setTimeout(function(){o.errorMsg="Image load exceeded timeout",o.finish(!1)},this.timeout),this.loadWithAjax?(this.request=t.makeAjaxRequest({url:this.src,withCredentials:this.ajaxWithCredentials,headers:this.ajaxHeaders,responseType:"arraybuffer",success:function(e){var t;try{t=new window.Blob([e.response])}catch(o){var i=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder;if("TypeError"===o.name&&i){var n=new i;n.append(e.response),t=n.getBlob()}}0===t.size&&(o.errorMsg="Empty image response.",o.finish(!1));var s=(window.URL||window.webkitURL).createObjectURL(t);o.image.src=s},error:function(){o.errorMsg="Image load aborted - XHR error",o.finish(!1)}}),this.abort=function(){o.request.abort(),"function"==typeof e&&e()}):(!1!==this.crossOriginPolicy&&(this.image.crossOrigin=this.crossOriginPolicy),this.image.src=this.src)},finish:function(e){this.image.onload=this.image.onerror=this.image.onabort=null,e||(this.image=null),this.jobId&&window.clearTimeout(this.jobId),this.callback(this)}},t.ImageLoader=function(e){t.extend(!0,this,{jobLimit:t.DEFAULT_SETTINGS.imageLoaderLimit,timeout:t.DEFAULT_SETTINGS.timeout,jobQueue:[],jobsInProgress:0},e)},t.ImageLoader.prototype={addJob:function(t){var i=this,e=function(e){o(i,e,t.callback)},n=new s({src:t.src,loadWithAjax:t.loadWithAjax,ajaxHeaders:t.loadWithAjax?t.ajaxHeaders:null,crossOriginPolicy:t.crossOriginPolicy,ajaxWithCredentials:t.ajaxWithCredentials,callback:e,abort:t.abort,timeout:this.timeout});!this.jobLimit||this.jobsInProgress<this.jobLimit?(n.start(),this.jobsInProgress++):this.jobQueue.push(n)},clear:function(){for(var e=0;e<this.jobQueue.length;e++){var t=this.jobQueue[e];"function"==typeof t.abort&&t.abort()}this.jobQueue=[]}}}(OpenSeadragon),function(a){a.Tile=function(e,t,i,n,s,o,r,a,l){this.level=e,this.x=t,this.y=i,this.bounds=n,this.exists=s,this.url=o,this.context2D=r,this.loadWithAjax=a,this.ajaxHeaders=l,this.ajaxHeaders?this.cacheKey=this.url+"+"+JSON.stringify(this.ajaxHeaders):this.cacheKey=this.url,this.loaded=!1,this.loading=!1,this.element=null,this.imgElement=null,this.image=null,this.style=null,this.position=null,this.size=null,this.blendStart=null,this.opacity=null,this.squaredDistance=null,this.visibility=null,this.beingDrawn=!1,this.lastTouchTime=0,this.isRightMost=!1,this.isBottomMost=!1},a.Tile.prototype={toString:function(){return this.level+"/"+this.x+"_"+this.y},_hasTransparencyChannel:function(){return!!this.context2D||this.url.match(".png")},drawHTML:function(e){this.cacheImageRecord?this.loaded?(this.element||(this.element=a.makeNeutralElement("div"),this.imgElement=this.cacheImageRecord.getImage().cloneNode(),this.imgElement.style.msInterpolationMode="nearest-neighbor",this.imgElement.style.width="100%",this.imgElement.style.height="100%",this.style=this.element.style,this.style.position="absolute"),this.element.parentNode!=e&&e.appendChild(this.element),this.imgElement.parentNode!=this.element&&this.element.appendChild(this.imgElement),this.style.top=this.position.y+"px",this.style.left=this.position.x+"px",this.style.height=this.size.y+"px",this.style.width=this.size.x+"px",a.setElementOpacity(this.element,this.opacity)):a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString()):a.console.warn("[Tile.drawHTML] attempting to draw tile %s when it's not cached",this.toString())},drawCanvas:function(e,t,i,n){var s,o=this.position.times(a.pixelDensityRatio),r=this.size.times(a.pixelDensityRatio);this.context2D||this.cacheImageRecord?(s=this.context2D||this.cacheImageRecord.getRenderedContext(),this.loaded&&s?(e.save(),e.globalAlpha=this.opacity,"number"==typeof i&&1!==i&&(o=o.times(i),r=r.times(i)),n instanceof a.Point&&(o=o.plus(n)),1===e.globalAlpha&&this._hasTransparencyChannel()&&e.clearRect(o.x+1,o.y+1,r.x-2,r.y-2),t({context:e,tile:this,rendered:s}),e.drawImage(s.canvas,0,0,s.canvas.width,s.canvas.height,o.x,o.y,r.x,r.y),e.restore()):a.console.warn("Attempting to draw tile %s when it's not yet loaded.",this.toString())):a.console.warn("[Tile.drawCanvas] attempting to draw tile %s when it's not cached",this.toString())},getScaleForEdgeSmoothing:function(){var e;if(this.cacheImageRecord)e=this.cacheImageRecord.getRenderedContext();else{if(!this.context2D)return a.console.warn("[Tile.drawCanvas] attempting to get tile scale %s when tile's not cached",this.toString()),1;e=this.context2D}return e.canvas.width/(this.size.x*a.pixelDensityRatio)},getTranslationForEdgeSmoothing:function(e,t,i){var n=Math.max(1,Math.ceil((i.x-t.x)/2)),s=Math.max(1,Math.ceil((
i.y-t.y)/2));return new a.Point(n,s).minus(this.position.times(a.pixelDensityRatio).times(e||1).apply(function(e){return e%1}))},unload:function(){this.imgElement&&this.imgElement.parentNode&&this.imgElement.parentNode.removeChild(this.imgElement),this.element&&this.element.parentNode&&this.element.parentNode.removeChild(this.element),this.element=null,this.imgElement=null,this.loaded=!1,this.loading=!1}}}(OpenSeadragon),function(u){u.OverlayPlacement=u.Placement,u.OverlayRotationMode=u.freezeObject({NO_ROTATION:1,EXACT:2,BOUNDING_BOX:3}),u.Overlay=function(e,t,i){var n;n=u.isPlainObject(e)?e:{element:e,location:t,placement:i},this.element=n.element,this.style=n.element.style,this._init(n)},u.Overlay.prototype={_init:function(e){this.location=e.location,this.placement=void 0===e.placement?u.Placement.TOP_LEFT:e.placement,this.onDraw=e.onDraw,this.checkResize=void 0===e.checkResize||e.checkResize,this.width=void 0===e.width?null:e.width,this.height=void 0===e.height?null:e.height,this.rotationMode=e.rotationMode||u.OverlayRotationMode.EXACT,this.location instanceof u.Rect&&(this.width=this.location.width,this.height=this.location.height,this.location=this.location.getTopLeft(),this.placement=u.Placement.TOP_LEFT),this.scales=null!==this.width&&null!==this.height,this.bounds=new u.Rect(this.location.x,this.location.y,this.width,this.height),this.position=this.location},adjust:function(e,t){var i=u.Placement.properties[this.placement];i&&(i.isHorizontallyCentered?e.x-=t.x/2:i.isRight&&(e.x-=t.x),i.isVerticallyCentered?e.y-=t.y/2:i.isBottom&&(e.y-=t.y))},destroy:function(){var e=this.element,t=this.style;e.parentNode&&(e.parentNode.removeChild(e),e.prevElementParent&&(t.display="none",document.body.appendChild(e))),this.onDraw=null,t.top="",t.left="",t.position="",null!==this.width&&(t.width=""),null!==this.height&&(t.height="");var i=u.getCssPropertyWithVendorPrefix("transformOrigin"),n=u.getCssPropertyWithVendorPrefix("transform");i&&n&&(t[i]="",t[n]="")},drawHTML:function(e,t){var i=this.element;i.parentNode!==e&&(i.prevElementParent=i.parentNode,i.prevNextSibling=i.nextSibling,e.appendChild(i),this.style.position="absolute",this.size=u.getElementSize(i));var n=this._getOverlayPositionAndSize(t),s=n.position,o=this.size=n.size,r=n.rotate;if(this.onDraw)this.onDraw(s,o,this.element);else{var a=this.style;a.left=s.x+"px",a.top=s.y+"px",null!==this.width&&(a.width=o.x+"px"),null!==this.height&&(a.height=o.y+"px");var l=u.getCssPropertyWithVendorPrefix("transformOrigin"),c=u.getCssPropertyWithVendorPrefix("transform");l&&c&&(r?(a[l]=this._getTransformOrigin(),a[c]="rotate("+r+"deg)"):(a[l]="",a[c]="")),"none"!==a.display&&(a.display="block")}},_getOverlayPositionAndSize:function(e){var t=e.pixelFromPoint(this.location,!0),i=this._getSizeInPixels(e);this.adjust(t,i);var n=0;if(e.degrees&&this.rotationMode!==u.OverlayRotationMode.NO_ROTATION)if(this.rotationMode===u.OverlayRotationMode.BOUNDING_BOX&&null!==this.width&&null!==this.height){var s=new u.Rect(t.x,t.y,i.x,i.y),o=this._getBoundingBox(s,e.degrees);t=o.getTopLeft(),i=o.getSize()}else n=e.degrees;return{position:t,size:i,rotate:n}},_getSizeInPixels:function(e){var t=this.size.x,i=this.size.y;if(null!==this.width||null!==this.height){var n=e.deltaPixelsFromPointsNoRotate(new u.Point(this.width||0,this.height||0),!0);null!==this.width&&(t=n.x),null!==this.height&&(i=n.y)}if(this.checkResize&&(null===this.width||null===this.height)){var s=this.size=u.getElementSize(this.element);null===this.width&&(t=s.x),null===this.height&&(i=s.y)}return new u.Point(t,i)},_getBoundingBox:function(e,t){var i=this._getPlacementPoint(e);return e.rotate(t,i).getBoundingBox()},_getPlacementPoint:function(e){var t=new u.Point(e.x,e.y),i=u.Placement.properties[this.placement];return i&&(i.isHorizontallyCentered?t.x+=e.width/2:i.isRight&&(t.x+=e.width),i.isVerticallyCentered?t.y+=e.height/2:i.isBottom&&(t.y+=e.height)),t},_getTransformOrigin:function(){var e="",t=u.Placement.properties[this.placement];return t&&(t.isLeft?e="left":t.isRight&&(e="right"),t.isTop?e+=" top":t.isBottom&&(e+=" bottom")),e},update:function(e,t){var i=u.isPlainObject(e)?e:{location:e,placement:t};this._init({location:i.location||this.location,placement:void 0!==i.placement?i.placement:this.placement,onDraw:i.onDraw||this.onDraw,checkResize:i.checkResize||this.checkResize,width:void 0!==i.width?i.width:this.width,height:void 0!==i.height?i.height:this.height,rotationMode:i.rotationMode||this.rotationMode})},getBounds:function(e){u.console.assert(e,"A viewport must now be passed to Overlay.getBounds.");var t=this.width,i=this.height;if(null===t||null===i){var n=e.deltaPointsFromPixelsNoRotate(this.size,!0);null===t&&(t=n.x),null===i&&(i=n.y)}var s=this.location.clone();return this.adjust(s,new u.Point(t,i)),this._adjustBoundsForRotation(e,new u.Rect(s.x,s.y,t,i))},_adjustBoundsForRotation:function(e,t){if(!e||0===e.degrees||this.rotationMode===u.OverlayRotationMode.EXACT)return t;if(this.rotationMode!==u.OverlayRotationMode.BOUNDING_BOX)return t.rotate(-e.degrees,this._getPlacementPoint(t));if(null===this.width||null===this.height)return t;var i=this._getOverlayPositionAndSize(e);return e.viewerElementToViewportRectangle(new u.Rect(i.position.x,i.position.y,i.size.x,i.size.y))}}}(OpenSeadragon),function(h){h.Drawer=function(e){h.console.assert(e.viewer,"[Drawer] options.viewer is required");var t=arguments;if(h.isPlainObject(e)||(e={source:t[0],viewport:t[1],element:t[2]}),h.console.assert(e.viewport,"[Drawer] options.viewport is required"),h.console.assert(e.element,"[Drawer] options.element is required"),e.source&&h.console.error("[Drawer] options.source is no longer accepted; use TiledImage instead"),this.viewer=e.viewer,this.viewport=e.viewport,this.debugGridColor="string"==typeof e.debugGridColor?[e.debugGridColor]:e.debugGridColor||h.DEFAULT_SETTINGS.debugGridColor,e.opacity&&h.console.error("[Drawer] options.opacity is no longer accepted; set the opacity on the TiledImage instead"),this.useCanvas=h.supportsCanvas&&(!this.viewer||this.viewer.useCanvas),this.container=h.getElement(e.element),this.canvas=h.makeNeutralElement(this.useCanvas?"canvas":"div"),this.context=this.useCanvas?this.canvas.getContext("2d"):null,this.sketchCanvas=null,this.sketchContext=null,this.element=this.container,this.container.dir="ltr",this.useCanvas){var i=this._calculateCanvasSize();this.canvas.width=i.x,this.canvas.height=i.y}this.canvas.style.width="100%",this.canvas.style.height="100%",this.canvas.style.position="absolute",h.setElementOpacity(this.canvas,this.opacity,!0),this.container.style.textAlign="left",this.container.appendChild(this.canvas)},h.Drawer.prototype={addOverlay:function(e,t,i,n){return h.console.error("drawer.addOverlay is deprecated. Use viewer.addOverlay instead."),this.viewer.addOverlay(e,t,i,n),this},updateOverlay:function(e,t,i){return h.console.error("drawer.updateOverlay is deprecated. Use viewer.updateOverlay instead."),this.viewer.updateOverlay(e,t,i),this},removeOverlay:function(e){return h.console.error("drawer.removeOverlay is deprecated. Use viewer.removeOverlay instead."),this.viewer.removeOverlay(e),this},clearOverlays:function(){return h.console.error("drawer.clearOverlays is deprecated. Use viewer.clearOverlays instead."),this.viewer.clearOverlays(),this},setOpacity:function(e){h.console.error("drawer.setOpacity is deprecated. Use tiledImage.setOpacity instead.");for(var t=this.viewer.world,i=0;i<t.getItemCount();i++)t.getItemAt(i).setOpacity(e);return this},getOpacity:function(){h.console.error("drawer.getOpacity is deprecated. Use tiledImage.getOpacity instead.");for(var e=this.viewer.world,t=0,i=0;i<e.getItemCount();i++){var n=e.getItemAt(i).getOpacity();t<n&&(t=n)}return t},needsUpdate:function(){return h.console.error("[Drawer.needsUpdate] this function is deprecated. Use World.needsDraw instead."),this.viewer.world.needsDraw()},numTilesLoaded:function(){return h.console.error("[Drawer.numTilesLoaded] this function is deprecated. Use TileCache.numTilesLoaded instead."),this.viewer.tileCache.numTilesLoaded()},reset:function(){return h.console.error("[Drawer.reset] this function is deprecated. Use World.resetItems instead."),this.viewer.world.resetItems(),this},update:function(){return h.console.error("[Drawer.update] this function is deprecated. Use Drawer.clear and World.draw instead."),this.clear(),this.viewer.world.draw(),this},canRotate:function(){return this.useCanvas},destroy:function(){this.canvas.width=1,this.canvas.height=1,this.sketchCanvas=null,this.sketchContext=null},clear:function(){if(this.canvas.innerHTML="",this.useCanvas){var e=this._calculateCanvasSize();if((this.canvas.width!=e.x||this.canvas.height!=e.y)&&(this.canvas.width=e.x,this.canvas.height=e.y,null!==this.sketchCanvas)){var t=this._calculateSketchCanvasSize();this.sketchCanvas.width=t.x,this.sketchCanvas.height=t.y}this._clear()}},_clear:function(e,t){if(this.useCanvas){var i=this._getContext(e);if(t)i.clearRect(t.x,t.y,t.width,t.height);else{var n=i.canvas;i.clearRect(0,0,n.width,n.height)}}},viewportToDrawerRectangle:function(e){var t=this.viewport.pixelFromPointNoRotate(e.getTopLeft(),!0),i=this.viewport.deltaPixelsFromPointsNoRotate(e.getSize(),!0);return new h.Rect(t.x*h.pixelDensityRatio,t.y*h.pixelDensityRatio,i.x*h.pixelDensityRatio,i.y*h.pixelDensityRatio)},drawTile:function(e,t,i,n,s){if(h.console.assert(e,"[Drawer.drawTile] tile is required"),h.console.assert(t,"[Drawer.drawTile] drawingHandler is required"),this.useCanvas){var o=this._getContext(i);n=n||1,e.drawCanvas(o,t,n,s)}else e.drawHTML(this.canvas)},_getContext:function(t){var e=this.context;if(t){if(null===this.sketchCanvas){this.sketchCanvas=document.createElement("canvas");var i=this._calculateSketchCanvasSize();if(this.sketchCanvas.width=i.x,this.sketchCanvas.height=i.y,this.sketchContext=this.sketchCanvas.getContext("2d"),0===this.viewport.getRotation()){var n=this;this.viewer.addHandler("rotate",function t(){if(0!==n.viewport.getRotation()){n.viewer.removeHandler("rotate",t);var e=n._calculateSketchCanvasSize();n.sketchCanvas.width=e.x,n.sketchCanvas.height=e.y}})}}e=this.sketchContext}return e},saveContext:function(e){this.useCanvas&&this._getContext(e).save()},restoreContext:function(e){this.useCanvas&&this._getContext(e).restore()},setClip:function(e,t){if(this.useCanvas){var i=this._getContext(t);i.beginPath(),i.rect(e.x,e.y,e.width,e.height),i.clip()}},drawRectangle:function(e,t,i){if(this.useCanvas){var n=this._getContext(i);n.save(),n.fillStyle=t,n.fillRect(e.x,e.y,e.width,e.height),n.restore()}},blendSketch:function(e,t,i,n){var s=e;if(h.isPlainObject(s)||(s={opacity:e,scale:t,translate:i,compositeOperation:n}),this.useCanvas&&this.sketchCanvas){e=s.opacity,n=s.compositeOperation;var o=s.bounds;if(this.context.save(),this.context.globalAlpha=e,n&&(this.context.globalCompositeOperation=n),o)o.x<0&&(o.width+=o.x,o.x=0),o.x+o.width>this.canvas.width&&(o.width=this.canvas.width-o.x),o.y<0&&(o.height+=o.y,o.y=0),o.y+o.height>this.canvas.height&&(o.height=this.canvas.height-o.y),this.context.drawImage(this.sketchCanvas,o.x,o.y,o.width,o.height,o.x,o.y,o.width,o.height);else{t=s.scale||1;var r=(i=s.translate)instanceof h.Point?i:new h.Point(0,0),a=0,l=0;if(i){var c=this.sketchCanvas.width-this.canvas.width,u=this.sketchCanvas.height-this.canvas.height;a=Math.round(c/2),l=Math.round(u/2)}this.context.drawImage(this.sketchCanvas,r.x-a*t,r.y-l*t,(this.canvas.width+2*a)*t,(this.canvas.height+2*l)*t,-a,-l,this.canvas.width+2*a,this.canvas.height+2*l)}this.context.restore()}},drawDebugInfo:function(e,t,i,n){if(this.useCanvas){var s=this.viewer.world.getIndexOfItem(n)%this.debugGridColor.length,o=this.context;o.save(),o.lineWidth=2*h.pixelDensityRatio,o.font="small-caps bold "+13*h.pixelDensityRatio+"px arial",o.strokeStyle=this.debugGridColor[s],o.fillStyle=this.debugGridColor[s],0!==this.viewport.degrees&&this._offsetForRotation({degrees:this.viewport.degrees}),n.getRotation(!0)%360!=0&&this._offsetForRotation({degrees:n.getRotation(!0),point:n.viewport.pixelFromPointNoRotate(n._getRotationPoint(!0),!0)}),o.strokeRect(e.position.x*h.pixelDensityRatio,e.position.y*h.pixelDensityRatio,e.size.x*h.pixelDensityRatio,e.size.y*h.pixelDensityRatio);var r=(e.position.x+e.size.x/2)*h.pixelDensityRatio,a=(e.position.y+e.size.y/2)*h.pixelDensityRatio;o.translate(r,a),o.rotate(Math.PI/180*-this.viewport.degrees),o.translate(-r,-a),0===e.x&&0===e.y&&(o.fillText("Zoom: "+this.viewport.getZoom(),e.position.x*h.pixelDensityRatio,(e.position.y-30)*h.pixelDensityRatio),o.fillText("Pan: "+this.viewport.getBounds().toString(),e.position.x*h.pixelDensityRatio,(e.position.y-20)*h.pixelDensityRatio)),o.fillText("Level: "+e.level,(e.position.x+10)*h.pixelDensityRatio,(e.position.y+20)*h.pixelDensityRatio),o.fillText("Column: "+e.x,(e.position.x+10)*h.pixelDensityRatio,(e.position.y+30)*h.pixelDensityRatio),o.fillText("Row: "+e.y,(e.position.x+10)*h.pixelDensityRatio,(e.position.y+40)*h.pixelDensityRatio),o.fillText("Order: "+i+" of "+t,(e.position.x+10)*h.pixelDensityRatio,(e.position.y+50)*h.pixelDensityRatio),o.fillText("Size: "+e.size.toString(),(e.position.x+10)*h.pixelDensityRatio,(e.position.y+60)*h.pixelDensityRatio),o.fillText("Position: "+e.position.toString(),(e.position.x+10)*h.pixelDensityRatio,(e.position.y+70)*h.pixelDensityRatio),0!==this.viewport.degrees&&this._restoreRotationChanges(),n.getRotation(!0)%360!=0&&this._restoreRotationChanges(),o.restore()}},debugRect:function(e){if(this.useCanvas){var t=this.context;t.save(),t.lineWidth=2*h.pixelDensityRatio,t.strokeStyle=this.debugGridColor[0],t.fillStyle=this.debugGridColor[0],t.strokeRect(e.x*h.pixelDensityRatio,e.y*h.pixelDensityRatio,e.width*h.pixelDensityRatio,e.height*h.pixelDensityRatio),t.restore()}},getCanvasSize:function(e){var t=this._getContext(e).canvas;return new h.Point(t.width,t.height)},getCanvasCenter:function(){return new h.Point(this.canvas.width/2,this.canvas.height/2)},_offsetForRotation:function(e){var t=e.point?e.point.times(h.pixelDensityRatio):this.getCanvasCenter(),i=this._getContext(e.useSketch);i.save(),i.translate(t.x,t.y),i.rotate(Math.PI/180*e.degrees),i.translate(-t.x,-t.y)},_restoreRotationChanges:function(e){this._getContext(e).restore()},_calculateCanvasSize:function(){var e=h.pixelDensityRatio,t=this.viewport.getContainerSize();return{x:t.x*e,y:t.y*e}},_calculateSketchCanvasSize:function(){var e=this._calculateCanvasSize();if(0===this.viewport.getRotation())return e;var t=Math.ceil(Math.sqrt(e.x*e.x+e.y*e.y));return{x:t,y:t}}}}(OpenSeadragon),function(p){p.Viewport=function(e){var t=arguments;t.length&&t[0]instanceof p.Point&&(e={containerSize:t[0],contentSize:t[1],config:t[2]}),e.config&&(p.extend(!0,e,e.config),delete e.config),this._margins=p.extend({left:0,top:0,right:0,bottom:0},e.margins||{}),delete e.margins,p.extend(!0,this,{containerSize:null,contentSize:null,zoomPoint:null,viewer:null,springStiffness:p.DEFAULT_SETTINGS.springStiffness,animationTime:p.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:p.DEFAULT_SETTINGS.minZoomImageRatio,maxZoomPixelRatio:p.DEFAULT_SETTINGS.maxZoomPixelRatio,visibilityRatio:p.DEFAULT_SETTINGS.visibilityRatio,wrapHorizontal:p.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:p.DEFAULT_SETTINGS.wrapVertical,defaultZoomLevel:p.DEFAULT_SETTINGS.defaultZoomLevel,minZoomLevel:p.DEFAULT_SETTINGS.minZoomLevel,maxZoomLevel:p.DEFAULT_SETTINGS.maxZoomLevel,degrees:p.DEFAULT_SETTINGS.degrees,homeFillsViewer:p.DEFAULT_SETTINGS.homeFillsViewer},e),this._updateContainerInnerSize(),this.centerSpringX=new p.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.centerSpringY=new p.Spring({initial:0,springStiffness:this.springStiffness,animationTime:this.animationTime}),this.zoomSpring=new p.Spring({exponential:!0,initial:1,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,this._setContentBounds(new p.Rect(0,0,1,1),1),this.goHome(!0),this.update()},p.Viewport.prototype={resetContentSize:function(e){return p.console.assert(e,"[Viewport.resetContentSize] contentSize is required"),p.console.assert(e instanceof p.Point,"[Viewport.resetContentSize] contentSize must be an OpenSeadragon.Point"),p.console.assert(0<e.x,"[Viewport.resetContentSize] contentSize.x must be greater than 0"),p.console.assert(0<e.y,"[Viewport.resetContentSize] contentSize.y must be greater than 0"),this._setContentBounds(new p.Rect(0,0,1,e.y/e.x),e.x),this},setHomeBounds:function(e,t){p.console.error("[Viewport.setHomeBounds] this function is deprecated; The content bounds should not be set manually."),this._setContentBounds(e,t)},_setContentBounds:function(e,t){p.console.assert(e,"[Viewport._setContentBounds] bounds is required"),p.console.assert(e instanceof p.Rect,"[Viewport._setContentBounds] bounds must be an OpenSeadragon.Rect"),p.console.assert(0<e.width,"[Viewport._setContentBounds] bounds.width must be greater than 0"),p.console.assert(0<e.height,"[Viewport._setContentBounds] bounds.height must be greater than 0"),this._contentBoundsNoRotate=e.clone(),this._contentSizeNoRotate=this._contentBoundsNoRotate.getSize().times(t),this._contentBounds=e.rotate(this.degrees).getBoundingBox(),this._contentSize=this._contentBounds.getSize().times(t),this._contentAspectRatio=this._contentSize.x/this._contentSize.y,this.viewer&&this.viewer.raiseEvent("reset-size",{contentSize:this._contentSizeNoRotate.clone(),contentFactor:t,homeBounds:this._contentBoundsNoRotate.clone(),contentBounds:this._contentBounds.clone()})},getHomeZoom:function(){if(this.defaultZoomLevel)return this.defaultZoomLevel;var e=this._contentAspectRatio/this.getAspectRatio();return(this.homeFillsViewer?1<=e?e:1:1<=e?1:e)/this._contentBounds.width},getHomeBounds:function(){return this.getHomeBoundsNoRotate().rotate(-this.getRotation())},getHomeBoundsNoRotate:function(){var e=this._contentBounds.getCenter(),t=1/this.getHomeZoom(),i=t/this.getAspectRatio();return new p.Rect(e.x-t/2,e.y-i/2,t,i)},goHome:function(e){return this.viewer&&this.viewer.raiseEvent("home",{immediately:e}),this.fitBounds(this.getHomeBounds(),e)},getMinZoom:function(){var e=this.getHomeZoom();return this.minZoomLevel?this.minZoomLevel:this.minZoomImageRatio*e},getMaxZoom:function(){var e=this.maxZoomLevel;return e||(e=this._contentSize.x*this.maxZoomPixelRatio/this._containerInnerSize.x,e/=this._contentBounds.width),Math.max(e,this.getHomeZoom())},getAspectRatio:function(){return this._containerInnerSize.x/this._containerInnerSize.y},getContainerSize:function(){return new p.Point(this.containerSize.x,this.containerSize.y)},getMargins:function(){return p.extend({},this._margins)},setMargins:function(e){p.console.assert("object"===p.type(e),"[Viewport.setMargins] margins must be an object"),this._margins=p.extend({left:0,top:0,right:0,bottom:0},e),this._updateContainerInnerSize(),this.viewer&&this.viewer.forceRedraw()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(-this.getRotation())},getBoundsNoRotate:function(e){var t=this.getCenter(e),i=1/this.getZoom(e),n=i/this.getAspectRatio();return new p.Rect(t.x-i/2,t.y-n/2,i,n)},getBoundsWithMargins:function(e){return this.getBoundsNoRotateWithMargins(e).rotate(-this.getRotation(),this.getCenter(e))},getBoundsNoRotateWithMargins:function(e){var t=this.getBoundsNoRotate(e),i=this._containerInnerSize.x*this.getZoom(e);return t.x-=this._margins.left/i,t.y-=this._margins.top/i,t.width+=(this._margins.left+this._margins.right)/i,t.height+=(this._margins.top+this._margins.bottom)/i,t},getCenter:function(e){var t,i,n,s,o,r,a=new p.Point(this.centerSpringX.current.value,this.centerSpringY.current.value),l=new p.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return e?a:this.zoomPoint?(t=this.pixelFromPoint(this.zoomPoint,!0),s=(n=1/(i=this.getZoom()))/this.getAspectRatio(),o=new p.Rect(a.x-n/2,a.y-s/2,n,s),r=this._pixelFromPoint(this.zoomPoint,o).minus(t).divide(this._containerInnerSize.x*i),l.plus(r)):l},getZoom:function(e){return e?this.zoomSpring.current.value:this.zoomSpring.target.value},_applyZoomConstraints:function(e){return Math.max(Math.min(e,this.getMaxZoom()),this.getMinZoom())},_applyBoundaryConstraints:function(e){var t=new p.Rect(e.x,e.y,e.width,e.height);if(this.wrapHorizontal);else{var i=this.visibilityRatio*t.width,n=t.x+t.width,s=this._contentBoundsNoRotate.x+this._contentBoundsNoRotate.width,o=this._contentBoundsNoRotate.x-n+i,r=s-t.x-i;i>this._contentBoundsNoRotate.width?t.x+=(o+r)/2:r<0?t.x+=r:0<o&&(t.x+=o)}if(this.wrapVertical);else{var a=this.visibilityRatio*t.height,l=t.y+t.height,c=this._contentBoundsNoRotate.y+this._contentBoundsNoRotate.height,u=this._contentBoundsNoRotate.y-l+a,h=c-t.y-a;a>this._contentBoundsNoRotate.height?t.y+=(u+h)/2:h<0?t.y+=h:0<u&&(t.y+=u)}return t},_raiseConstraintsEvent:function(e){this.viewer&&this.viewer.raiseEvent("constrain",{immediately:e})},applyConstraints:function(e){var t=this.getZoom(),i=this._applyZoomConstraints(t);t!==i&&this.zoomTo(i,this.zoomPoint,e);var n=this.getBoundsNoRotate(),s=this._applyBoundaryConstraints(n);return this._raiseConstraintsEvent(e),(n.x!==s.x||n.y!==s.y||e)&&this.fitBounds(s.rotate(-this.getRotation()),e),this},ensureVisible:function(e){return this.applyConstraints(e)},_fitBounds:function(e,t){var i=(t=t||{}).immediately||!1,n=t.constraints||!1,s=this.getAspectRatio(),o=e.getCenter(),r=new p.Rect(e.x,e.y,e.width,e.height,e.degrees+this.getRotation()).getBoundingBox();r.getAspectRatio()>=s?r.height=r.width/s:r.width=r.height*s,r.x=o.x-r.width/2,r.y=o.y-r.height/2;var a=1/r.width;if(n){var l=r.getAspectRatio(),c=this._applyZoomConstraints(a);a!==c&&(a=c,r.width=1/a,r.x=o.x-r.width/2,r.height=r.width/l,r.y=o.y-r.height/2),o=(r=this._applyBoundaryConstraints(r)).getCenter(),this._raiseConstraintsEvent(i)}if(i)return this.panTo(o,!0),this.zoomTo(a,null,!0);this.panTo(this.getCenter(!0),!0),this.zoomTo(this.getZoom(!0),null,!0);var u=this.getBounds(),h=this.getZoom();if(0===h||Math.abs(a/h-1)<1e-8)return this.zoomTo(a,!0),this.panTo(o,i);var d=(r=r.rotate(-this.getRotation())).getTopLeft().times(a).minus(u.getTopLeft().times(h)).divide(a-h);return this.zoomTo(a,d,i)},fitBounds:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!1})},fitBoundsWithConstraints:function(e,t){return this._fitBounds(e,{immediately:t,constraints:!0})},fitVertically:function(e){var t=new p.Rect(this._contentBounds.x+this._contentBounds.width/2,this._contentBounds.y,0,this._contentBounds.height);return this.fitBounds(t,e)},fitHorizontally:function(e){var t=new p.Rect(this._contentBounds.x,this._contentBounds.y+this._contentBounds.height/2,this._contentBounds.width,0);return this.fitBounds(t,e)},getConstrainedBounds:function(e){var t;return t=this.getBounds(e),this._applyBoundaryConstraints(t)},panBy:function(e,t){var i=new p.Point(this.centerSpringX.target.value,this.centerSpringY.target.value);return this.panTo(i.plus(e),t)},panTo:function(e,t){return t?(this.centerSpringX.resetTo(e.x),this.centerSpringY.resetTo(e.y)):(this.centerSpringX.springTo(e.x),this.centerSpringY.springTo(e.y)),this.viewer&&this.viewer.raiseEvent("pan",{center:e,immediately:t}),this},zoomBy:function(e,t,i){return this.zoomTo(this.zoomSpring.target.value*e,t,i)},zoomTo:function(e,t,i){var n=this;return this.zoomPoint=t instanceof p.Point&&!isNaN(t.x)&&!isNaN(t.y)?t:null,i?this._adjustCenterSpringsForZoomPoint(function(){n.zoomSpring.resetTo(e)}):this.zoomSpring.springTo(e),this.viewer&&this.viewer.raiseEvent("zoom",{zoom:e,refPoint:t,immediately:i}),this},setRotation:function(e){return this.viewer&&this.viewer.drawer.canRotate()&&(this.degrees=p.positiveModulo(e,360),this._setContentBounds(this.viewer.world.getHomeBounds(),this.viewer.world.getContentFactor()),this.viewer.forceRedraw(),this.viewer.raiseEvent("rotate",{degrees:e})),this},getRotation:function(){return this.degrees},resize:function(e,t){var i,n=this.getBoundsNoRotate(),s=n;return this.containerSize.x=e.x,this.containerSize.y=e.y,this._updateContainerInnerSize(),t&&(i=e.x/this.containerSize.x,s.width=n.width*i,s.height=s.width/this.getAspectRatio()),this.viewer&&this.viewer.raiseEvent("resize",{newContainerSize:e,maintain:t}),this.fitBounds(s,!0)},_updateContainerInnerSize:function(){this._containerInnerSize=new p.Point(Math.max(1,this.containerSize.x-(this._margins.left+this._margins.right)),Math.max(1,this.containerSize.y-(this._margins.top+this._margins.bottom)))},update:function(){var e=this;this._adjustCenterSpringsForZoomPoint(function(){e.zoomSpring.update()}),this.centerSpringX.update(),this.centerSpringY.update();var t=this.centerSpringX.current.value!==this._oldCenterX||this.centerSpringY.current.value!==this._oldCenterY||this.zoomSpring.current.value!==this._oldZoom;return this._oldCenterX=this.centerSpringX.current.value,this._oldCenterY=this.centerSpringY.current.value,this._oldZoom=this.zoomSpring.current.value,t},_adjustCenterSpringsForZoomPoint:function(e){if(this.zoomPoint){var t=this.pixelFromPoint(this.zoomPoint,!0);e();var i=this.pixelFromPoint(this.zoomPoint,!0).minus(t),n=this.deltaPointsFromPixels(i,!0);this.centerSpringX.shiftBy(n.x),this.centerSpringY.shiftBy(n.y),this.zoomSpring.isAtTargetValue()&&(this.zoomPoint=null)}else e()},deltaPixelsFromPointsNoRotate:function(e,t){return e.times(this._containerInnerSize.x*this.getZoom(t))},deltaPixelsFromPoints:function(e,t){return this.deltaPixelsFromPointsNoRotate(e.rotate(this.getRotation()),t)},deltaPointsFromPixelsNoRotate:function(e,t){return e.divide(this._containerInnerSize.x*this.getZoom(t))},deltaPointsFromPixels:function(e,t){return this.deltaPointsFromPixelsNoRotate(e,t).rotate(-this.getRotation())},pixelFromPointNoRotate:function(e,t){return this._pixelFromPointNoRotate(e,this.getBoundsNoRotate(t))},pixelFromPoint:function(e,t){return this._pixelFromPoint(e,this.getBoundsNoRotate(t))},_pixelFromPointNoRotate:function(e,t){return e.minus(t.getTopLeft()).times(this._containerInnerSize.x/t.width).plus(new p.Point(this._margins.left,this._margins.top))},_pixelFromPoint:function(e,t){return this._pixelFromPointNoRotate(e.rotate(this.getRotation(),this.getCenter(!0)),t)},pointFromPixelNoRotate:function(e,t){var i=this.getBoundsNoRotate(t);return e.minus(new p.Point(this._margins.left,this._margins.top)).divide(this._containerInnerSize.x/i.width).plus(i.getTopLeft())},pointFromPixel:function(e,t){return this.pointFromPixelNoRotate(e,t).rotate(-this.getRotation(),this.getCenter(!0))},_viewportToImageDelta:function(e,t){var i=this._contentBoundsNoRotate.width;return new p.Point(e*this._contentSizeNoRotate.x/i,t*this._contentSizeNoRotate.x/i)},viewportToImageCoordinates:function(e,t){if(e instanceof p.Point)return this.viewportToImageCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(1<i)p.console.error("[Viewport.viewportToImageCoordinates] is not accurate with multi-image; use TiledImage.viewportToImageCoordinates instead.");else if(1===i){return this.viewer.world.getItemAt(0).viewportToImageCoordinates(e,t,!0)}}return this._viewportToImageDelta(e-this._contentBoundsNoRotate.x,t-this._contentBoundsNoRotate.y)},_imageToViewportDelta:function(e,t){var i=this._contentBoundsNoRotate.width;return new p.Point(e/this._contentSizeNoRotate.x*i,t/this._contentSizeNoRotate.x*i)},imageToViewportCoordinates:function(e,t){if(e instanceof p.Point)return this.imageToViewportCoordinates(e.x,e.y);if(this.viewer){var i=this.viewer.world.getItemCount();if(1<i)p.console.error("[Viewport.imageToViewportCoordinates] is not accurate with multi-image; use TiledImage.imageToViewportCoordinates instead.");else if(1===i){return this.viewer.world.getItemAt(0).imageToViewportCoordinates(e,t,!0)}}var n=this._imageToViewportDelta(e,t);return n.x+=this._contentBoundsNoRotate.x,n.y+=this._contentBoundsNoRotate.y,n},imageToViewportRectangle:function(e,t,i,n){var s=e;if(s instanceof p.Rect||(s=new p.Rect(e,t,i,n)),this.viewer){var o=this.viewer.world.getItemCount();if(1<o)p.console.error("[Viewport.imageToViewportRectangle] is not accurate with multi-image; use TiledImage.imageToViewportRectangle instead.");else if(1===o){return this.viewer.world.getItemAt(0).imageToViewportRectangle(e,t,i,n,!0)}}var r=this.imageToViewportCoordinates(s.x,s.y),a=this._imageToViewportDelta(s.width,s.height);return new p.Rect(r.x,r.y,a.x,a.y,s.degrees)},viewportToImageRectangle:function(e,t,i,n){var s=e;if(s instanceof p.Rect||(s=new p.Rect(e,t,i,n)),this.viewer){var o=this.viewer.world.getItemCount();if(1<o)p.console.error("[Viewport.viewportToImageRectangle] is not accurate with multi-image; use TiledImage.viewportToImageRectangle instead.");else if(1===o){return this.viewer.world.getItemAt(0).viewportToImageRectangle(e,t,i,n,!0)}}var r=this.viewportToImageCoordinates(s.x,s.y),a=this._viewportToImageDelta(s.width,s.height);return new p.Rect(r.x,r.y,a.x,a.y,s.degrees)},viewerElementToImageCoordinates:function(e){var t=this.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){p.console.assert(this.viewer,"[Viewport.windowToImageCoordinates] the viewport must have a viewer.");var t=e.minus(p.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return p.console.assert(this.viewer,"[Viewport.imageToWindowCoordinates] the viewport must have a viewer."),this.imageToViewerElementCoordinates(e).plus(p.getElementPosition(this.viewer.element))},viewerElementToViewportCoordinates:function(e){return this.pointFromPixel(e,!0)},viewportToViewerElementCoordinates:function(e){return this.pixelFromPoint(e,!0)},viewerElementToViewportRectangle:function(e){return p.Rect.fromSummits(this.pointFromPixel(e.getTopLeft(),!0),this.pointFromPixel(e.getTopRight(),!0),this.pointFromPixel(e.getBottomLeft(),!0))},viewportToViewerElementRectangle:function(e){return p.Rect.fromSummits(this.pixelFromPoint(e.getTopLeft(),!0),this.pixelFromPoint(e.getTopRight(),!0),this.pixelFromPoint(e.getBottomLeft(),!0))},windowToViewportCoordinates:function(e){p.console.assert(this.viewer,"[Viewport.windowToViewportCoordinates] the viewport must have a viewer.");var t=e.minus(p.getElementPosition(this.viewer.element));return this.viewerElementToViewportCoordinates(t)},viewportToWindowCoordinates:function(e){return p.console.assert(this.viewer,"[Viewport.viewportToWindowCoordinates] the viewport must have a viewer."),this.viewportToViewerElementCoordinates(e).plus(p.getElementPosition(this.viewer.element))},viewportToImageZoom:function(e){if(this.viewer){var t=this.viewer.world.getItemCount();if(1<t)p.console.error("[Viewport.viewportToImageZoom] is not accurate with multi-image.");else if(1===t){return this.viewer.world.getItemAt(0).viewportToImageZoom(e)}}var i=this._contentSizeNoRotate.x;return e*(this._containerInnerSize.x/i*this._contentBoundsNoRotate.width)},imageToViewportZoom:function(e){if(this.viewer){var t=this.viewer.world.getItemCount();if(1<t)p.console.error("[Viewport.imageToViewportZoom] is not accurate with multi-image.");else if(1===t){return this.viewer.world.getItemAt(0).imageToViewportZoom(e)}}return e*(this._contentSizeNoRotate.x/this._containerInnerSize.x/this._contentBoundsNoRotate.width)}}}(OpenSeadragon),function(y){function m(e,t,i,n,s,o,r,a,l){var c=r.getBoundingBox().getTopLeft(),u=r.getBoundingBox().getBottomRight();e.viewer&&e.viewer.raiseEvent("update-level",{tiledImage:e,havedrawn:t,level:n,opacity:s,visibility:o,drawArea:r,topleft:c,bottomright:u,currenttime:a,best:l}),T(e.coverage,n),T(e.loadingCoverage,n);for(var h=e._getCornerTiles(n,c,u),d=h.topLeft,p=h.bottomRight,f=e.source.getNumTiles(n),m=e.viewport.pixelFromPoint(e.viewport.getCenter()),g=d.x;g<=p.x;g++)for(var v=d.y;v<=p.y;v++){if(!e.wrapHorizontal&&!e.wrapVertical){var y=e.source.getTileBounds(n,g,v);if(null===r.intersection(y))continue}l=_(e,i,t,g,v,n,s,o,m,f,a,l)}return l}function _(e,t,i,n,s,o,r,a,l,c,u,h){var d=g(n,s,o,e,e.source,e.tilesMatrix,u,c,e._worldWidthCurrent,e._worldHeightCurrent),p=i;e.viewer&&e.viewer.raiseEvent("update-tile",{tiledImage:e,tile:d}),E(e.coverage,o,n,s,!1);var f=d.loaded||d.loading||C(e.loadingCoverage,o,n,s);if(E(e.loadingCoverage,o,n,s,f),!d.exists)return h;if(t&&!p&&(C(e.coverage,o,n,s)?E(e.coverage,o,n,s,!0):p=!0),!p)return h;if(b(d,e.source.tileOverlap,e.viewport,l,a,e),!d.loaded)if(d.context2D)w(e,d);else{var m=e._tileCache.getImageRecord(d.cacheKey);if(m)w(e,d,m.getImage())}d.loaded?x(e,d,n,s,o,r,u)&&(e._needsDraw=!0
):d.loading?e._tilesLoading++:f||(h=k(h,d));return h}function g(e,t,i,n,s,o,r,a,l,c){var u,h,d,p,f,m,g,v;return o[i]||(o[i]={}),o[i][e]||(o[i][e]={}),o[i][e][t]||(u=(a.x+e%a.x)%a.x,h=(a.y+t%a.y)%a.y,d=s.getTileBounds(i,u,h),p=s.tileExists(i,u,h),f=s.getTileUrl(i,u,h),n.loadTilesWithAjax?(m=s.getTileAjaxHeaders(i,u,h),y.isPlainObject(n.ajaxHeaders)&&(m=y.extend({},n.ajaxHeaders,m))):m=null,g=s.getContext2D?s.getContext2D(i,u,h):void 0,d.x+=(e-u)/a.x,d.y+=c/l*((t-h)/a.y),v=new y.Tile(i,e,t,d,p,f,g,n.loadTilesWithAjax,m),u===a.x-1&&(v.isRightMost=!0),h===a.y-1&&(v.isBottomMost=!0),o[i][e][t]=v),(v=o[i][e][t]).lastTouchTime=r,v}function v(n,s,o){s.loading=!0,n._imageLoader.addJob({src:s.url,loadWithAjax:s.loadWithAjax,ajaxHeaders:s.ajaxHeaders,crossOriginPolicy:n.crossOriginPolicy,ajaxWithCredentials:n.ajaxWithCredentials,callback:function(e,t,i){r(n,s,o,e,t,i)},abort:function(){s.loading=!1}})}function r(t,i,e,n,s,o){if(n)if(e<t.lastResetTime)y.console.log("Ignoring tile %s loaded before reset: %s",i,i.url),i.loading=!1;else{var r=function(){var e=t.source.getClosestLevel();w(t,i,n,e,o)};t._midDraw?window.setTimeout(r,1):r()}else y.console.log("Tile %s failed to load: %s - error: %s",i,i.url,s),t.viewer.raiseEvent("tile-load-failed",{tile:i,tiledImage:t,time:e,message:s,tileRequest:o}),i.loading=!1,i.exists=!1}function w(e,t,i,n,s){function o(){return a++,r}function r(){0===--a&&(t.loading=!1,t.loaded=!0,t.context2D||e._tileCache.cacheTile({image:i,tile:t,cutoff:n,tiledImage:e}),e._needsDraw=!0)}var a=0;e.viewer.raiseEvent("tile-loaded",{tile:t,tiledImage:e,tileRequest:s,image:i,getCompletionCallback:o}),o()()}function b(e,t,i,n,s,o){var r=e.bounds.getTopLeft();r.x*=o._scaleSpring.current.value,r.y*=o._scaleSpring.current.value,r.x+=o._xSpring.current.value,r.y+=o._ySpring.current.value;var a=e.bounds.getSize();a.x*=o._scaleSpring.current.value,a.y*=o._scaleSpring.current.value;var l=i.pixelFromPointNoRotate(r,!0),c=i.pixelFromPointNoRotate(r,!1),u=i.deltaPixelsFromPointsNoRotate(a,!0),h=i.deltaPixelsFromPointsNoRotate(a,!1),d=c.plus(h.divide(2)),p=n.squaredDistanceTo(d);t||(u=u.plus(new y.Point(1,1))),e.isRightMost&&o.wrapHorizontal&&(u.x+=.75),e.isBottomMost&&o.wrapVertical&&(u.y+=.75),e.position=l,e.size=u,e.squaredDistance=p,e.visibility=s}function x(e,t,i,n,s,o,r){var a,l,c=1e3*e.blendTime;if(t.blendStart||(t.blendStart=r),a=r-t.blendStart,l=c?Math.min(1,a/c):1,e.alwaysBlend&&(l*=o),t.opacity=l,e.lastDrawn.push(t),1==l)E(e.coverage,s,i,n,!0),e._hasOpaqueTile=!0;else if(a<c)return!0;return!1}function S(e,t,i,n){var s,o,r,a;if(!e[t])return!1;if(void 0!==i&&void 0!==n)return void 0===e[t][i]||void 0===e[t][i][n]||!0===e[t][i][n];for(r in s=e[t])if(s.hasOwnProperty(r))for(a in o=s[r])if(o.hasOwnProperty(a)&&!o[a])return!1;return!0}function C(e,t,i,n){return void 0===i||void 0===n?S(e,t+1):S(e,t+1,2*i,2*n)&&S(e,t+1,2*i,2*n+1)&&S(e,t+1,2*i+1,2*n)&&S(e,t+1,2*i+1,2*n+1)}function E(e,t,i,n,s){e[t]?(e[t][i]||(e[t][i]={}),e[t][i][n]=s):y.console.warn("Setting coverage for a tile before its level's coverage has been reset: %s",t)}function T(e,t){e[t]={}}function k(e,t){return e?t.visibility>e.visibility?t:t.visibility==e.visibility&&t.squaredDistance<e.squaredDistance?t:e:t}function R(e,t){if(0!==e.opacity&&(0!==t.length||e.placeholderFillStyle)){var i,n,s,o=t[0];o&&(i=e.opacity<1||e.compositeOperation&&"source-over"!==e.compositeOperation||!e._isBottomItem()&&o._hasTransparencyChannel());var r,a=e.viewport.getZoom(!0),l=e.viewportToImageZoom(a);1<t.length&&l>e.smoothTileEdgesMinZoom&&!e.iOSDevice&&e.getRotation(!0)%360==0&&y.supportsCanvas&&(i=!0,n=o.getScaleForEdgeSmoothing(),s=o.getTranslationForEdgeSmoothing(n,e._drawer.getCanvasSize(!1),e._drawer.getCanvasSize(!0))),i&&(n||(r=e.viewport.viewportToViewerElementRectangle(e.getClippedBounds(!0)).getIntegerBoundingBox().times(y.pixelDensityRatio)),e._drawer._clear(!0,r)),n||(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:i}),e.getRotation(!0)%360!=0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:i}));var c=!1;if(e._clip){e._drawer.saveContext(i);var u=e.imageToViewportRectangle(e._clip,!0);u=u.rotate(-e.getRotation(!0),e._getRotationPoint(!0));var h=e._drawer.viewportToDrawerRectangle(u);n&&(h=h.times(n)),s&&(h=h.translate(s)),e._drawer.setClip(h,i),c=!0}if(e.placeholderFillStyle&&!1===e._hasOpaqueTile){var d=e._drawer.viewportToDrawerRectangle(e.getBounds(!0));n&&(d=d.times(n)),s&&(d=d.translate(s));var p=null;p="function"==typeof e.placeholderFillStyle?e.placeholderFillStyle(e,e._drawer.context):e.placeholderFillStyle,e._drawer.drawRectangle(d,p,i)}for(var f=t.length-1;0<=f;f--)o=t[f],e._drawer.drawTile(o,e._drawingHandler,i,n,s),o.beingDrawn=!0,e.viewer&&e.viewer.raiseEvent("tile-drawn",{tiledImage:e,tile:o});c&&e._drawer.restoreContext(i),n||(e.getRotation(!0)%360!=0&&e._drawer._restoreRotationChanges(i),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(i)),i&&(n&&(0!==e.viewport.degrees&&e._drawer._offsetForRotation({degrees:e.viewport.degrees,useSketch:!1}),e.getRotation(!0)%360!=0&&e._drawer._offsetForRotation({degrees:e.getRotation(!0),point:e.viewport.pixelFromPointNoRotate(e._getRotationPoint(!0),!0),useSketch:!1})),e._drawer.blendSketch({opacity:e.opacity,scale:n,translate:s,compositeOperation:e.compositeOperation,bounds:r}),n&&(e.getRotation(!0)%360!=0&&e._drawer._restoreRotationChanges(!1),0!==e.viewport.degrees&&e._drawer._restoreRotationChanges(!1))),M(e,t)}}function M(e,t){if(e.debugMode)for(var i=t.length-1;0<=i;i--){var n=t[i];try{e._drawer.drawDebugInfo(n,t.length,i,e)}catch(e){y.console.error(e)}}}y.TiledImage=function(e){var t=this;y.console.assert(e.tileCache,"[TiledImage] options.tileCache is required"),y.console.assert(e.drawer,"[TiledImage] options.drawer is required"),y.console.assert(e.viewer,"[TiledImage] options.viewer is required"),y.console.assert(e.imageLoader,"[TiledImage] options.imageLoader is required"),y.console.assert(e.source,"[TiledImage] options.source is required"),y.console.assert(!e.clip||e.clip instanceof y.Rect,"[TiledImage] options.clip must be an OpenSeadragon.Rect if present"),y.EventSource.call(this),this._tileCache=e.tileCache,delete e.tileCache,this._drawer=e.drawer,delete e.drawer,this._imageLoader=e.imageLoader,delete e.imageLoader,e.clip instanceof y.Rect&&(this._clip=e.clip.clone()),delete e.clip;var i=e.x||0;delete e.x;var n=e.y||0;delete e.y,this.normHeight=e.source.dimensions.y/e.source.dimensions.x,this.contentAspectX=e.source.dimensions.x/e.source.dimensions.y;var s=1;e.width?(s=e.width,delete e.width,e.height&&(y.console.error("specifying both width and height to a tiledImage is not supported"),delete e.height)):e.height&&(s=e.height/this.normHeight,delete e.height);var o=e.fitBounds;delete e.fitBounds;var r=e.fitBoundsPlacement||OpenSeadragon.Placement.CENTER;delete e.fitBoundsPlacement;var a=e.degrees||0;delete e.degrees,y.extend(!0,this,{viewer:null,tilesMatrix:{},coverage:{},loadingCoverage:{},lastDrawn:[],lastResetTime:0,_midDraw:!1,_needsDraw:!0,_hasOpaqueTile:!1,_tilesLoading:0,springStiffness:y.DEFAULT_SETTINGS.springStiffness,animationTime:y.DEFAULT_SETTINGS.animationTime,minZoomImageRatio:y.DEFAULT_SETTINGS.minZoomImageRatio,wrapHorizontal:y.DEFAULT_SETTINGS.wrapHorizontal,wrapVertical:y.DEFAULT_SETTINGS.wrapVertical,immediateRender:y.DEFAULT_SETTINGS.immediateRender,blendTime:y.DEFAULT_SETTINGS.blendTime,alwaysBlend:y.DEFAULT_SETTINGS.alwaysBlend,minPixelRatio:y.DEFAULT_SETTINGS.minPixelRatio,smoothTileEdgesMinZoom:y.DEFAULT_SETTINGS.smoothTileEdgesMinZoom,iOSDevice:y.DEFAULT_SETTINGS.iOSDevice,debugMode:y.DEFAULT_SETTINGS.debugMode,crossOriginPolicy:y.DEFAULT_SETTINGS.crossOriginPolicy,ajaxWithCredentials:y.DEFAULT_SETTINGS.ajaxWithCredentials,placeholderFillStyle:y.DEFAULT_SETTINGS.placeholderFillStyle,opacity:y.DEFAULT_SETTINGS.opacity,preload:y.DEFAULT_SETTINGS.preload,compositeOperation:y.DEFAULT_SETTINGS.compositeOperation},e),this._preload=this.preload,delete this.preload,this._fullyLoaded=!1,this._xSpring=new y.Spring({initial:i,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._ySpring=new y.Spring({initial:n,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._scaleSpring=new y.Spring({initial:s,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._degreesSpring=new y.Spring({initial:a,springStiffness:this.springStiffness,animationTime:this.animationTime}),this._updateForScale(),o&&this.fitBounds(o,r,!0),this._drawingHandler=function(e){t.viewer.raiseEvent("tile-drawing",y.extend({tiledImage:t},e))}},y.extend(y.TiledImage.prototype,y.EventSource.prototype,{needsDraw:function(){return this._needsDraw},getFullyLoaded:function(){return this._fullyLoaded},_setFullyLoaded:function(e){e!==this._fullyLoaded&&(this._fullyLoaded=e,this.raiseEvent("fully-loaded-change",{fullyLoaded:this._fullyLoaded}))},reset:function(){this._tileCache.clearTilesFor(this),this.lastResetTime=y.now(),this._needsDraw=!0},update:function(){var e=this._xSpring.update(),t=this._ySpring.update(),i=this._scaleSpring.update(),n=this._degreesSpring.update();return!!(e||t||i||n)&&(this._updateForScale(),this._needsDraw=!0)},draw:function(){(0!==this.opacity||this._preload)&&(this._midDraw=!0,this._updateViewport(),this._midDraw=!1)},destroy:function(){this.reset()},getBounds:function(e){return this.getBoundsNoRotate(e).rotate(this.getRotation(e),this._getRotationPoint(e))},getBoundsNoRotate:function(e){return e?new y.Rect(this._xSpring.current.value,this._ySpring.current.value,this._worldWidthCurrent,this._worldHeightCurrent):new y.Rect(this._xSpring.target.value,this._ySpring.target.value,this._worldWidthTarget,this._worldHeightTarget)},getWorldBounds:function(){return y.console.error("[TiledImage.getWorldBounds] is deprecated; use TiledImage.getBounds instead"),this.getBounds()},getClippedBounds:function(e){var t=this.getBoundsNoRotate(e);if(this._clip){var i=(e?this._worldWidthCurrent:this._worldWidthTarget)/this.source.dimensions.x,n=this._clip.times(i);t=new y.Rect(t.x+n.x,t.y+n.y,n.width,n.height)}return t.rotate(this.getRotation(e),this._getRotationPoint(e))},getContentSize:function(){return new y.Point(this.source.dimensions.x,this.source.dimensions.y)},_viewportToImageDelta:function(e,t,i){var n=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new y.Point(e*(this.source.dimensions.x/n),t*(this.source.dimensions.y*this.contentAspectX/n))},viewportToImageCoordinates:function(e,t,i){var n;return e instanceof y.Point?(i=t,n=e):n=new y.Point(e,t),n=n.rotate(-this.getRotation(i),this._getRotationPoint(i)),i?this._viewportToImageDelta(n.x-this._xSpring.current.value,n.y-this._ySpring.current.value):this._viewportToImageDelta(n.x-this._xSpring.target.value,n.y-this._ySpring.target.value)},_imageToViewportDelta:function(e,t,i){var n=i?this._scaleSpring.current.value:this._scaleSpring.target.value;return new y.Point(e/this.source.dimensions.x*n,t/this.source.dimensions.y/this.contentAspectX*n)},imageToViewportCoordinates:function(e,t,i){e instanceof y.Point&&(i=t,t=e.y,e=e.x);var n=this._imageToViewportDelta(e,t);return i?(n.x+=this._xSpring.current.value,n.y+=this._ySpring.current.value):(n.x+=this._xSpring.target.value,n.y+=this._ySpring.target.value),n.rotate(this.getRotation(i),this._getRotationPoint(i))},imageToViewportRectangle:function(e,t,i,n,s){var o=e;o instanceof y.Rect?s=t:o=new y.Rect(e,t,i,n);var r=this.imageToViewportCoordinates(o.getTopLeft(),s),a=this._imageToViewportDelta(o.width,o.height,s);return new y.Rect(r.x,r.y,a.x,a.y,o.degrees+this.getRotation(s))},viewportToImageRectangle:function(e,t,i,n,s){var o=e;e instanceof y.Rect?s=t:o=new y.Rect(e,t,i,n);var r=this.viewportToImageCoordinates(o.getTopLeft(),s),a=this._viewportToImageDelta(o.width,o.height,s);return new y.Rect(r.x,r.y,a.x,a.y,o.degrees-this.getRotation(s))},viewerElementToImageCoordinates:function(e){var t=this.viewport.pointFromPixel(e,!0);return this.viewportToImageCoordinates(t)},imageToViewerElementCoordinates:function(e){var t=this.imageToViewportCoordinates(e);return this.viewport.pixelFromPoint(t,!0)},windowToImageCoordinates:function(e){var t=e.minus(OpenSeadragon.getElementPosition(this.viewer.element));return this.viewerElementToImageCoordinates(t)},imageToWindowCoordinates:function(e){return this.imageToViewerElementCoordinates(e).plus(OpenSeadragon.getElementPosition(this.viewer.element))},_viewportToTiledImageRectangle:function(e){var t=this._scaleSpring.current.value;return e=e.rotate(-this.getRotation(!0),this._getRotationPoint(!0)),new y.Rect((e.x-this._xSpring.current.value)/t,(e.y-this._ySpring.current.value)/t,e.width/t,e.height/t,e.degrees)},viewportToImageZoom:function(e){return this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x*e},imageToViewportZoom:function(e){return e/(this._scaleSpring.current.value*this.viewport._containerInnerSize.x/this.source.dimensions.x)},setPosition:function(e,t){var i=this._xSpring.target.value===e.x&&this._ySpring.target.value===e.y;if(t){if(i&&this._xSpring.current.value===e.x&&this._ySpring.current.value===e.y)return;this._xSpring.resetTo(e.x),this._ySpring.resetTo(e.y),this._needsDraw=!0}else{if(i)return;this._xSpring.springTo(e.x),this._ySpring.springTo(e.y),this._needsDraw=!0}i||this._raiseBoundsChange()},setWidth:function(e,t){this._setScale(e,t)},setHeight:function(e,t){this._setScale(e/this.normHeight,t)},fitBounds:function(e,t,i){t=t||y.Placement.CENTER;var n=y.Placement.properties[t],s=this.contentAspectX,o=0,r=0,a=1,l=1;if(this._clip&&(s=this._clip.getAspectRatio(),a=this._clip.width/this.source.dimensions.x,l=this._clip.height/this.source.dimensions.y,e.getAspectRatio()>s?(o=this._clip.x/this._clip.height*e.height,r=this._clip.y/this._clip.height*e.height):(o=this._clip.x/this._clip.width*e.width,r=this._clip.y/this._clip.width*e.width)),e.getAspectRatio()>s){var c=e.height/l,u=0;n.isHorizontallyCentered?u=(e.width-e.height*s)/2:n.isRight&&(u=e.width-e.height*s),this.setPosition(new y.Point(e.x-o+u,e.y-r),i),this.setHeight(c,i)}else{var h=e.width/a,d=0;n.isVerticallyCentered?d=(e.height-e.width/s)/2:n.isBottom&&(d=e.height-e.width/s),this.setPosition(new y.Point(e.x-o,e.y-r+d),i),this.setWidth(h,i)}},getClip:function(){return this._clip?this._clip.clone():null},setClip:function(e){y.console.assert(!e||e instanceof y.Rect,"[TiledImage.setClip] newClip must be an OpenSeadragon.Rect or null"),e instanceof y.Rect?this._clip=e.clone():this._clip=null,this._needsDraw=!0,this.raiseEvent("clip-change")},getOpacity:function(){return this.opacity},setOpacity:function(e){e!==this.opacity&&(this.opacity=e,this._needsDraw=!0,this.raiseEvent("opacity-change",{opacity:this.opacity}))},getPreload:function(){return this._preload},setPreload:function(e){this._preload=!!e,this._needsDraw=!0},getRotation:function(e){return e?this._degreesSpring.current.value:this._degreesSpring.target.value},setRotation:function(e,t){this._degreesSpring.target.value===e&&this._degreesSpring.isAtTargetValue()||(t?this._degreesSpring.resetTo(e):this._degreesSpring.springTo(e),this._needsDraw=!0,this._raiseBoundsChange())},_getRotationPoint:function(e){return this.getBoundsNoRotate(e).getCenter()},getCompositeOperation:function(){return this.compositeOperation},setCompositeOperation:function(e){e!==this.compositeOperation&&(this.compositeOperation=e,this._needsDraw=!0,this.raiseEvent("composite-operation-change",{compositeOperation:this.compositeOperation}))},_setScale:function(e,t){var i=this._scaleSpring.target.value===e;if(t){if(i&&this._scaleSpring.current.value===e)return;this._scaleSpring.resetTo(e),this._updateForScale(),this._needsDraw=!0}else{if(i)return;this._scaleSpring.springTo(e),this._updateForScale(),this._needsDraw=!0}i||this._raiseBoundsChange()},_updateForScale:function(){this._worldWidthTarget=this._scaleSpring.target.value,this._worldHeightTarget=this.normHeight*this._scaleSpring.target.value,this._worldWidthCurrent=this._scaleSpring.current.value,this._worldHeightCurrent=this.normHeight*this._scaleSpring.current.value},_raiseBoundsChange:function(){this.raiseEvent("bounds-change")},_isBottomItem:function(){return this.viewer.world.getItemAt(0)===this},_getLevelsInterval:function(){var e=Math.max(this.source.minLevel,Math.floor(Math.log(this.minZoomImageRatio)/Math.log(2))),t=this.viewport.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(0),!0).x*this._scaleSpring.current.value,i=Math.min(Math.abs(this.source.maxLevel),Math.abs(Math.floor(Math.log(t/this.minPixelRatio)/Math.log(2))));return{lowestLevel:e=Math.min(e,i),highestLevel:i}},_updateViewport:function(){for(this._needsDraw=!1,this._tilesLoading=0,this.loadingCoverage={};0<this.lastDrawn.length;){this.lastDrawn.pop().beingDrawn=!1}var e=this.viewport,t=this._viewportToTiledImageRectangle(e.getBoundsWithMargins(!0));if(!this.wrapHorizontal&&!this.wrapVertical){var i=this._viewportToTiledImageRectangle(this.getClippedBounds(!0));if(null===(t=t.intersection(i)))return}for(var n=this._getLevelsInterval(),s=n.lowestLevel,o=n.highestLevel,r=null,a=!1,l=y.now(),c=o;s<=c;c--){var u=!1,h=e.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(c),!0).x*this._scaleSpring.current.value;if(c===s||!a&&h>=this.minPixelRatio)a=u=!0;else if(!a)continue;var d=e.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(c),!1).x*this._scaleSpring.current.value,p=e.deltaPixelsFromPointsNoRotate(this.source.getPixelRatio(Math.max(this.source.getClosestLevel(),0)),!1).x*this._scaleSpring.current.value,f=this.immediateRender?1:p;if(r=m(this,a,u,c,Math.min(1,(h-.5)/.5),f/Math.abs(f-d),t,l,r),S(this.coverage,c))break}R(this,this.lastDrawn),r&&!r.context2D?(v(this,r,l),this._needsDraw=!0,this._setFullyLoaded(!1)):this._setFullyLoaded(0===this._tilesLoading)},_getCornerTiles:function(e,t,i){var n,s,o,r;this.wrapHorizontal?(n=y.positiveModulo(t.x,1),s=y.positiveModulo(i.x,1)):(n=Math.max(0,t.x),s=Math.min(1,i.x));var a=1/this.source.aspectRatio;this.wrapVertical?(o=y.positiveModulo(t.y,a),r=y.positiveModulo(i.y,a)):(o=Math.max(0,t.y),r=Math.min(a,i.y));var l=this.source.getTileAtPoint(e,new y.Point(n,o)),c=this.source.getTileAtPoint(e,new y.Point(s,r)),u=this.source.getNumTiles(e);return this.wrapHorizontal&&(l.x+=u.x*Math.floor(t.x),c.x+=u.x*Math.floor(i.x)),this.wrapVertical&&(l.y+=u.y*Math.floor(t.y/a),c.y+=u.y*Math.floor(i.y/a)),{topLeft:l,bottomRight:c}}})}(OpenSeadragon),function(f){var m=function(e){f.console.assert(e,"[TileCache.cacheTile] options is required"),f.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),f.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required"),this.tile=e.tile,this.tiledImage=e.tiledImage},g=function(e){f.console.assert(e,"[ImageRecord] options is required"),f.console.assert(e.image,"[ImageRecord] options.image is required"),this._image=e.image,this._tiles=[]};g.prototype={destroy:function(){this._image=null,this._renderedContext=null,this._tiles=null},getImage:function(){return this._image},getRenderedContext:function(){if(!this._renderedContext){var e=document.createElement("canvas");e.width=this._image.width,e.height=this._image.height,this._renderedContext=e.getContext("2d"),this._renderedContext.drawImage(this._image,0,0),this._image=null}return this._renderedContext},setRenderedContext:function(e){f.console.error("ImageRecord.setRenderedContext is deprecated. The rendered context should be created by the ImageRecord itself when calling ImageRecord.getRenderedContext."),this._renderedContext=e},addTile:function(e){f.console.assert(e,"[ImageRecord.addTile] tile is required"),this._tiles.push(e)},removeTile:function(e){for(var t=0;t<this._tiles.length;t++)if(this._tiles[t]===e)return void this._tiles.splice(t,1);f.console.warn("[ImageRecord.removeTile] trying to remove unknown tile",e)},getTileCount:function(){return this._tiles.length}},f.TileCache=function(e){e=e||{},this._maxImageCacheCount=e.maxImageCacheCount||f.DEFAULT_SETTINGS.maxImageCacheCount,this._tilesLoaded=[],this._imagesLoaded=[],this._imagesLoadedCount=0},f.TileCache.prototype={numTilesLoaded:function(){return this._tilesLoaded.length},cacheTile:function(e){f.console.assert(e,"[TileCache.cacheTile] options is required"),f.console.assert(e.tile,"[TileCache.cacheTile] options.tile is required"),f.console.assert(e.tile.cacheKey,"[TileCache.cacheTile] options.tile.cacheKey is required"),f.console.assert(e.tiledImage,"[TileCache.cacheTile] options.tiledImage is required");var t=e.cutoff||0,i=this._tilesLoaded.length,n=this._imagesLoaded[e.tile.cacheKey];if(n||(f.console.assert(e.image,"[TileCache.cacheTile] options.image is required to create an ImageRecord"),n=this._imagesLoaded[e.tile.cacheKey]=new g({image:e.image}),this._imagesLoadedCount++),n.addTile(e.tile),e.tile.cacheImageRecord=n,this._imagesLoadedCount>this._maxImageCacheCount){for(var s,o,r,a,l,c,u=null,h=-1,d=null,p=this._tilesLoaded.length-1;0<=p;p--)(s=(c=this._tilesLoaded[p]).tile).level<=t||s.beingDrawn||(u?(a=s.lastTouchTime,o=u.lastTouchTime,l=s.level,r=u.level,(a<o||a==o&&r<l)&&(u=s,h=p,d=c)):(u=s,h=p,d=c));u&&0<=h&&(this._unloadTile(d),i=h)}this._tilesLoaded[i]=new m({tile:e.tile,tiledImage:e.tiledImage})},clearTilesFor:function(e){var t;f.console.assert(e,"[TileCache.clearTilesFor] tiledImage is required");for(var i=0;i<this._tilesLoaded.length;++i)(t=this._tilesLoaded[i]).tiledImage===e&&(this._unloadTile(t),this._tilesLoaded.splice(i,1),i--)},getImageRecord:function(e){return f.console.assert(e,"[TileCache.getImageRecord] cacheKey is required"),this._imagesLoaded[e]},_unloadTile:function(e){f.console.assert(e,"[TileCache._unloadTile] tileRecord is required");var t=e.tile,i=e.tiledImage;t.unload(),t.cacheImageRecord=null;var n=this._imagesLoaded[t.cacheKey];n.removeTile(t),n.getTileCount()||(n.destroy(),delete this._imagesLoaded[t.cacheKey],this._imagesLoadedCount--),i.viewer.raiseEvent("tile-unloaded",{tile:t,tiledImage:i})}}}(OpenSeadragon),function(g){g.World=function(e){var t=this;g.console.assert(e.viewer,"[World] options.viewer is required"),g.EventSource.call(this),this.viewer=e.viewer,this._items=[],this._needsDraw=!1,this._autoRefigureSizes=!0,this._needsSizesFigured=!1,this._delegatedFigureSizes=function(){t._autoRefigureSizes?t._figureSizes():t._needsSizesFigured=!0},this._figureSizes()},g.extend(g.World.prototype,g.EventSource.prototype,{addItem:function(e,t){if(g.console.assert(e,"[World.addItem] item is required"),g.console.assert(e instanceof g.TiledImage,"[World.addItem] only TiledImages supported at this time"),void 0!==(t=t||{}).index){var i=Math.max(0,Math.min(this._items.length,t.index));this._items.splice(i,0,e)}else this._items.push(e);this._autoRefigureSizes?this._figureSizes():this._needsSizesFigured=!0,this._needsDraw=!0,e.addHandler("bounds-change",this._delegatedFigureSizes),e.addHandler("clip-change",this._delegatedFigureSizes),this.raiseEvent("add-item",{item:e})},getItemAt:function(e){return g.console.assert(void 0!==e,"[World.getItemAt] index is required"),this._items[e]},getIndexOfItem:function(e){return g.console.assert(e,"[World.getIndexOfItem] item is required"),g.indexOf(this._items,e)},getItemCount:function(){return this._items.length},setItemIndex:function(e,t){g.console.assert(e,"[World.setItemIndex] item is required"),g.console.assert(void 0!==t,"[World.setItemIndex] index is required");var i=this.getIndexOfItem(e);if(t>=this._items.length)throw new Error("Index bigger than number of layers.");t!==i&&-1!==i&&(this._items.splice(i,1),this._items.splice(t,0,e),this._needsDraw=!0,this.raiseEvent("item-index-change",{item:e,previousIndex:i,newIndex:t}))},removeItem:function(e){g.console.assert(e,"[World.removeItem] item is required");var t=g.indexOf(this._items,e);-1!==t&&(e.removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy(),this._items.splice(t,1),this._figureSizes(),this._needsDraw=!0,this._raiseRemoveItem(e))},removeAll:function(){var e,t;for(this.viewer._cancelPendingImages(),t=0;t<this._items.length;t++)(e=this._items[t]).removeHandler("bounds-change",this._delegatedFigureSizes),e.removeHandler("clip-change",this._delegatedFigureSizes),e.destroy();var i=this._items;for(this._items=[],this._figureSizes(),this._needsDraw=!0,t=0;t<i.length;t++)e=i[t],this._raiseRemoveItem(e)},resetItems:function(){for(var e=0;e<this._items.length;e++)this._items[e].reset()},update:function(){for(var e=!1,t=0;t<this._items.length;t++)e=this._items[t].update()||e;return e},draw:function(){for(var e=0;e<this._items.length;e++)this._items[e].draw();this._needsDraw=!1},needsDraw:function(){for(var e=0;e<this._items.length;e++)if(this._items[e].needsDraw())return!0;return this._needsDraw},getHomeBounds:function(){return this._homeBounds.clone()},getContentFactor:function(){return this._contentFactor},setAutoRefigureSizes:function(e){(this._autoRefigureSizes=e)&this._needsSizesFigured&&(this._figureSizes(),this._needsSizesFigured=!1)},arrange:function(e){var t,i=(e=e||{}).immediately||!1,n=e.layout||g.DEFAULT_SETTINGS.collectionLayout,s=e.rows||g.DEFAULT_SETTINGS.collectionRows,o=e.columns||g.DEFAULT_SETTINGS.collectionColumns,r=e.tileSize||g.DEFAULT_SETTINGS.collectionTileSize,a=r+(e.tileMargin||g.DEFAULT_SETTINGS.collectionTileMargin);t=!e.rows&&o?o:Math.ceil(this._items.length/s);var l,c,u,h,d,p=0,f=0;this.setAutoRefigureSizes(!1);for(var m=0;m<this._items.length;m++)m&&m%t==0&&("horizontal"===n?(f+=a,p=0):(p+=a,f=0)),h=(u=(c=(l=this._items[m]).getBounds()).width>c.height?r:r*(c.width/c.height))*(c.height/c.width),d=new g.Point(p+(r-u)/2,f+(r-h)/2),l.setPosition(d,i),l.setWidth(u,i),"horizontal"===n?p+=a:f+=a;this.setAutoRefigureSizes(!0)},_figureSizes:function(){var e=this._homeBounds?this._homeBounds.clone():null,t=this._contentSize?this._contentSize.clone():null,i=this._contentFactor||0;if(this._items.length){var n=this._items[0],s=n.getBounds();this._contentFactor=n.getContentSize().x/s.width;for(var o=n.getClippedBounds().getBoundingBox(),r=o.x,a=o.y,l=o.x+o.width,c=o.y+o.height,u=1;u<this._items.length;u++)s=(n=this._items[u]).getBounds(),this._contentFactor=Math.max(this._contentFactor,n.getContentSize().x/s.width),o=n.getClippedBounds().getBoundingBox(),r=Math.min(r,o.x),a=Math.min(a,o.y),l=Math.max(l,o.x+o.width),c=Math.max(c,o.y+o.height);this._homeBounds=new g.Rect(r,a,l-r,c-a),this._contentSize=new g.Point(this._homeBounds.width*this._contentFactor,this._homeBounds.height*this._contentFactor)}else this._homeBounds=new g.Rect(0,0,1,1),this._contentSize=new g.Point(1,1),this._contentFactor=1;this._contentFactor===i&&this._homeBounds.equals(e)&&this._contentSize.equals(t)||this.raiseEvent("metrics-change",{})},_raiseRemoveItem:function(e){this.raiseEvent("remove-item",{item:e})}})}(OpenSeadragon),function(e){function i(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")}function t(e,t){(n(e,t)?o:s)(e,t)}var n,s,o;"classList"in document.documentElement?(n=function(e,t){return e.classList.contains(t)},s=function(e,t){e.classList.add(t)},o=function(e,t){e.classList.remove(t)}):(n=function(e,t){return i(t).test(e.className)},s=function(e,t){n(e,t)||(e.className=e.className+" "+t)},o=function(e,t){e.className=e.className.replace(i(t)," ")});var r={hasClass:n,addClass:s,removeClass:o,toggleClass:t,has:n,add:s,remove:o,toggle:t};"function"==typeof define&&define.amd?define("classie/classie",r):"object"==typeof exports?module.exports=r:e.classie=r}(window),function(e,t){"function"==typeof define&&define.amd?define("packery/js/rect",t):"object"==typeof exports?module.exports=t():(e.Packery=e.Packery||{},e.Packery.Rect=t())}(window,function(){function a(e){for(var t in a.defaults)this[t]=a.defaults[t];for(t in e)this[t]=e[t]}return((window.Packery=function(){}).Rect=a).defaults={x:0,y:0,width:0,height:0},a.prototype.contains=function(e){var t=e.width||0,i=e.height||0;return this.x<=e.x&&this.y<=e.y&&this.x+this.width>=e.x+t&&this.y+this.height>=e.y+i},a.prototype.overlaps=function(e){var t=this.x+this.width,i=this.y+this.height,n=e.x+e.width,s=e.y+e.height;return this.x<n&&t>e.x&&this.y<s&&i>e.y},a.prototype.getMaximalFreeRects=function(e){if(!this.overlaps(e))return!1;var t,i=[],n=this.x+this.width,s=this.y+this.height,o=e.x+e.width,r=e.y+e.height;return this.y<e.y&&(t=new a({x:this.x,y:this.y,width:this.width,height:e.y-this.y}),i.push(t)),o<n&&(t=new a({x:o,y:this.y,width:n-o,height:this.height}),i.push(t)),r<s&&(t=new a({x:this.x,y:r,width:this.width,height:s-r}),i.push(t)),this.x<e.x&&(t=new a({x:this.x,y:this.y,width:e.x-this.x,height:this.height}),i.push(t)),i},a.prototype.canFit=function(e){return this.width>=e.width&&this.height>=e.height},a}),function(e,t){if("function"==typeof define&&define.amd)define("packery/js/packer",["./rect"],t);else if("object"==typeof exports)module.exports=t(require("./rect"));else{var i=e.Packery=e.Packery||{};i.Packer=t(i.Rect)}}(window,function(t){function e(e,t,i){this.width=e||0,this.height=t||0,this.sortDirection=i||"downwardLeftToRight",this.reset()}e.prototype.reset=function(){this.spaces=[],this.newSpaces=[];var e=new t({x:0,y:0,width:this.width,height:this.height});this.spaces.push(e),this.sorter=i[this.sortDirection]||i.downwardLeftToRight},e.prototype.pack=function(e){for(var t=0,i=this.spaces.length;t<i;t++){var n=this.spaces[t];if(n.canFit(e)){this.placeInSpace(e,n);break}}},e.prototype.placeInSpace=function(e,t){e.x=t.x,e.y=t.y,this.placed(e)},e.prototype.placed=function(e){for(var t=[],i=0,n=this.spaces.length;i<n;i++){var s=this.spaces[i],o=s.getMaximalFreeRects(e);o?t.push.apply(t,o):t.push(s)}this.spaces=t,this.mergeSortSpaces()},e.prototype.mergeSortSpaces=function(){e.mergeRects(this.spaces),this.spaces.sort(this.sorter)},e.prototype.addSpace=function(e){this.spaces.push(e),this.mergeSortSpaces()},e.mergeRects=function(e){for(var t=0,i=e.length;t<i;t++){var n=e[t];if(n){var s=e.slice(0);s.splice(t,1);for(var o=0,r=0,a=s.length;r<a;r++){var l=s[r],c=r<t?0:1;n.contains(l)&&(e.splice(r+c-o,1),o++)}}}return e};var i={downwardLeftToRight:function(e,t){return e.y-t.y||e.x-t.x},rightwardTopToBottom:function(e,t){return e.x-t.x||e.y-t.y}};return e}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/item",["get-style-property/get-style-property","outlayer/outlayer","./rect"],t):"object"==typeof exports?module.exports=t(require("desandro-get-style-property"),require("outlayer"),require("./rect")):e.Packery.Item=t(e.getStyleProperty,e.Outlayer,e.Packery.Rect)}(window,function(e,t,i){var n=e("transform"),s=function(){t.Item.apply(this,arguments)};s.prototype=new t.Item;var o=s.prototype._create;return s.prototype._create=function(){o.call(this),this.rect=new i,this.placeRect=new i},s.prototype.dragStart=function(){this.getPosition(),this.removeTransitionStyles(),this.isTransitioning&&n&&(this.element.style[n]="none"),this.getSize(),this.isPlacing=!0,this.needsPositioning=!1,this.positionPlaceRect(this.position.x,this.position.y),this.isTransitioning=!1,this.didDrag=!1},s.prototype.dragMove=function(e,t){this.didDrag=!0;var i=this.layout.size;e-=i.paddingLeft,t-=i.paddingTop,this.positionPlaceRect(e,t)},s.prototype.dragStop=function(){this.getPosition();var e=this.position.x!=this.placeRect.x,t=this.position.y!=this.placeRect.y;this.needsPositioning=e||t,this.didDrag=!1},s.prototype.positionPlaceRect=function(e,t,i){this.placeRect.x=this.getPlaceRectCoord(e,!0),this.placeRect.y=this.getPlaceRectCoord(t,!1,i)},s.prototype.getPlaceRectCoord=function(e,t,i){var n,s=t?"Width":"Height",o=this.size["outer"+s],r=this.layout[t?"columnWidth":"rowHeight"],a=this.layout.size["inner"+s];if(t||(a=Math.max(a,this.layout.maxY),this.layout.rowHeight||(a-=this.layout.gutter)),r){var l;r+=this.layout.gutter,a+=t?this.layout.gutter:0,e=Math.round(e/r),l=this.layout.options.isHorizontal?t?"ceil":"floor":t?"floor":"ceil";var c=Math[l](a/r);n=c-=Math.ceil(o/r)}else n=a-o;return e=i?e:Math.min(e,n),e*=r||1,Math.max(0,e)},s.prototype.copyPlaceRectPosition=function(){this.rect.x=this.placeRect.x,this.rect.y=this.placeRect.y},s.prototype.removeElem=function(){this.element.parentNode.removeChild(this.element),this.layout.packer.addSpace(this.rect),this.emitEvent("remove",[this])},s}),function(e,t){"function"==typeof define&&define.amd?define("packery/js/packery",["classie/classie","get-size/get-size","outlayer/outlayer","./rect","./packer","./item"],t):"object"==typeof exports?module.exports=t(require("desandro-classie"),require("get-size"),require("outlayer"),require("./rect"),require("./packer"),require("./item")):e.Packery=t(e.classie,e.getSize,e.Outlayer,
e.Packery.Rect,e.Packery.Packer,e.Packery.Item)}(window,function(r,o,e,s,t,i){function n(e,t){return e.position.y-t.position.y||e.position.x-t.position.x}function a(e,t){return e.position.x-t.position.x||e.position.y-t.position.y}s.prototype.canFit=function(e){return this.width>=e.width-1&&this.height>=e.height-1};var l=e.create("packery");return l.Item=i,l.prototype._create=function(){e.prototype._create.call(this),this.packer=new t,this.stamp(this.options.stamped);var i=this;this.handleDraggabilly={dragStart:function(){i.itemDragStart(this.element)},dragMove:function(){i.itemDragMove(this.element,this.position.x,this.position.y)},dragEnd:function(){i.itemDragEnd(this.element)}},this.handleUIDraggable={start:function(e){i.itemDragStart(e.currentTarget)},drag:function(e,t){i.itemDragMove(e.currentTarget,t.position.left,t.position.top)},stop:function(e){i.itemDragEnd(e.currentTarget)}}},l.prototype._resetLayout=function(){this.getSize(),this._getMeasurements();var e=this.packer;this.options.isHorizontal?(e.width=Number.POSITIVE_INFINITY,e.height=this.size.innerHeight+this.gutter,e.sortDirection="rightwardTopToBottom"):(e.width=this.size.innerWidth+this.gutter,e.height=Number.POSITIVE_INFINITY,e.sortDirection="downwardLeftToRight"),e.reset(),this.maxY=0,this.maxX=0},l.prototype._getMeasurements=function(){this._getMeasurement("columnWidth","width"),this._getMeasurement("rowHeight","height"),this._getMeasurement("gutter","width")},l.prototype._getItemLayoutPosition=function(e){return this._packItem(e),e.rect},l.prototype._packItem=function(e){this._setRectSize(e.element,e.rect),this.packer.pack(e.rect),this._setMaxXY(e.rect)},l.prototype._setMaxXY=function(e){this.maxX=Math.max(e.x+e.width,this.maxX),this.maxY=Math.max(e.y+e.height,this.maxY)},l.prototype._setRectSize=function(e,t){var i=o(e),n=i.outerWidth,s=i.outerHeight;(n||s)&&(n=this._applyGridGutter(n,this.columnWidth),s=this._applyGridGutter(s,this.rowHeight)),t.width=Math.min(n,this.packer.width),t.height=Math.min(s,this.packer.height)},l.prototype._applyGridGutter=function(e,t){if(!t)return e+this.gutter;var i=e%(t+=this.gutter);return Math[i&&i<1?"round":"ceil"](e/t)*t},l.prototype._getContainerSize=function(){return this.options.isHorizontal?{width:this.maxX-this.gutter}:{height:this.maxY-this.gutter}},l.prototype._manageStamp=function(e){var t,i=this.getItem(e);if(i&&i.isPlacing)t=i.placeRect;else{var n=this._getElementOffset(e);t=new s({x:this.options.isOriginLeft?n.left:n.right,y:this.options.isOriginTop?n.top:n.bottom})}this._setRectSize(e,t),this.packer.placed(t),this._setMaxXY(t)},l.prototype.sortItemsByPosition=function(){var e=this.options.isHorizontal?a:n;this.items.sort(e)},l.prototype.fit=function(e,t,i){var n=this.getItem(e);n&&(this._getMeasurements(),this.stamp(n.element),n.getSize(),n.isPlacing=!0,t=void 0===t?n.rect.x:t,i=void 0===i?n.rect.y:i,n.positionPlaceRect(t,i,!0),this._bindFitEvents(n),n.moveTo(n.placeRect.x,n.placeRect.y),this.layout(),this.unstamp(n.element),this.sortItemsByPosition(),n.isPlacing=!1,n.copyPlaceRectPosition())},l.prototype._bindFitEvents=function(e){function t(){2==++n&&i.emitEvent("fitComplete",[e])}var i=this,n=0;e.on("layout",function(){return t(),!0}),this.on("layoutComplete",function(){return t(),!0})},l.prototype.resize=function(){var e=o(this.element),t=this.size&&e,i=this.options.isHorizontal?"innerHeight":"innerWidth";t&&e[i]==this.size[i]||this.layout()},l.prototype.itemDragStart=function(e){this.stamp(e);var t=this.getItem(e);t&&t.dragStart()},l.prototype.itemDragMove=function(e,t,i){function n(){o.layout(),delete o.dragTimeout}var s=this.getItem(e);s&&s.dragMove(t,i);var o=this;this.clearDragTimeout(),this.dragTimeout=setTimeout(n,40)},l.prototype.clearDragTimeout=function(){this.dragTimeout&&clearTimeout(this.dragTimeout)},l.prototype.itemDragEnd=function(e){var t,i=this.getItem(e);if(i&&(t=i.didDrag,i.dragStop()),i&&(t||i.needsPositioning)){r.add(i.element,"is-positioning-post-drag");var n=this._getDragEndLayoutComplete(e,i);i.needsPositioning?(i.on("layout",n),i.moveTo(i.placeRect.x,i.placeRect.y)):i&&i.copyPlaceRectPosition(),this.clearDragTimeout(),this.on("layoutComplete",n),this.layout()}else this.unstamp(e)},l.prototype._getDragEndLayoutComplete=function(e,t){var i=t&&t.needsPositioning,n=0,s=i?2:1,o=this;return function(){return++n!=s||(t&&(r.remove(t.element,"is-positioning-post-drag"),t.isPlacing=!1,t.copyPlaceRectPosition()),o.unstamp(e),o.sortItemsByPosition(),i&&o.emitEvent("dragItemPositioned",[t])),!0}},l.prototype.bindDraggabillyEvents=function(e){e.on("dragStart",this.handleDraggabilly.dragStart),e.on("dragMove",this.handleDraggabilly.dragMove),e.on("dragEnd",this.handleDraggabilly.dragEnd)},l.prototype.bindUIDraggableEvents=function(e){e.on("dragstart",this.handleUIDraggable.start).on("drag",this.handleUIDraggable.drag).on("dragstop",this.handleUIDraggable.stop)},l.Rect=s,l.Packer=t,l}),function(e,t){"function"==typeof define&&define.amd?define(["isotope/js/layout-mode","packery/js/packery","get-size/get-size"],t):"object"==typeof exports?module.exports=t(require("isotope-layout/js/layout-mode"),require("packery"),require("get-size")):t(e.Isotope.LayoutMode,e.Packery,e.getSize)}(window,function(e,t,n){function i(e,t){for(var i in t)e[i]=t[i];return e}var s=e.create("packery"),o=s.prototype._getElementOffset,r=s.prototype._getMeasurement;i(s.prototype,t.prototype),s.prototype._getElementOffset=o,s.prototype._getMeasurement=r;var a=s.prototype._resetLayout;s.prototype._resetLayout=function(){this.packer=this.packer||new t.Packer,a.apply(this,arguments)};var l=s.prototype._getItemLayoutPosition;s.prototype._getItemLayoutPosition=function(e){return e.rect=e.rect||new t.Rect,l.call(this,e)};var c=s.prototype._manageStamp;return s.prototype._manageStamp=function(){this.options.isOriginLeft=this.isotope.options.isOriginLeft,this.options.isOriginTop=this.isotope.options.isOriginTop,c.apply(this,arguments)},s.prototype.needsResizeLayout=function(){var e=n(this.element),t=this.size&&e,i=this.options.isHorizontal?"innerHeight":"innerWidth";return t&&e[i]!=this.size[i]},s}),function(i){i.fn.equalHeights=function(e,t){return tallest=e||0,this.each(function(){i(this).outerHeight()>tallest&&(tallest=i(this).outerHeight())}),t&&tallest>t&&(tallest=t),this.each(function(){i(this).css({"min-height":tallest})})}}(jQuery),function(e){e.fn.unequalHeights=function(){this.each(function(){e(this).css({"min-height":0})})}}(jQuery),function(a){a.viewportSize={},a.viewportSize.getHeight=function(){return e("Height")},a.viewportSize.getWidth=function(){return e("Width")};var e=function(e){var t,i,n,s=e.toLowerCase(),o=a.document,r=o.documentElement;return a["inner"+e]===undefined?t=r["client"+e]:a["inner"+e]!=r["client"+e]?((i=o.createElement("body")).id="vpw-test-b",i.style.cssText="overflow:scroll",(n=o.createElement("div")).id="vpw-test-d",n.style.cssText="position:absolute;top:-1000px",n.innerHTML="<style>@media("+s+":"+r["client"+e]+"px){body#vpw-test-b div#vpw-test-d{"+s+":7px!important}}</style>",i.appendChild(n),r.insertBefore(i,o.head),t=7==n["offset"+e]?r["client"+e]:a["inner"+e],r.removeChild(i)):t=a["inner"+e],t}}(this),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):jQuery.sammy=window.Sammy=e(jQuery)}(function(m){var a,l="([^/]+)",c=/:([\w\d]+)/g,r=/\?([^#]*)?$/,u=function(e){return Array.prototype.slice.call(e)},h=function(e){return"[object Function]"===Object.prototype.toString.call(e)},d=function(e){return"[object Array]"===Object.prototype.toString.call(e)},p=function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},g=function(e){return decodeURIComponent((e||"").replace(/\+/g," "))},i=encodeURIComponent,e=function(e){return String(e).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},t=function(e){return function(){return this.route.apply(this,[e].concat(Array.prototype.slice.call(arguments)))}},n={},f=!(!window.history||!history.pushState),s=[];return(a=function(){var i,e,t=u(arguments);return a.apps=a.apps||{},0===t.length||t[0]&&h(t[0])?a.apply(a,["body"].concat(t)):"string"==typeof(e=t.shift())?((i=a.apps[e]||new a.Application).element_selector=e,0<t.length&&m.each(t,function(e,t){i.use(t)}),i.element_selector!=e&&delete a.apps[e],a.apps[i.element_selector]=i):void 0}).VERSION="0.7.6",a.addLogger=function(e){s.push(e)},a.log=function(){var i=u(arguments);i.unshift("["+Date()+"]"),m.each(s,function(e,t){t.apply(a,i)})},"undefined"!=typeof window.console?"function"==typeof window.console.log&&h(window.console.log.apply)?a.addLogger(function(){window.console.log.apply(window.console,arguments)}):a.addLogger(function(){window.console.log(arguments)}):"undefined"!=typeof console&&a.addLogger(function(){console.log.apply(console,arguments)}),m.extend(a,{makeArray:u,isFunction:h,isArray:d}),a.Object=function(e){return m.extend(this,e||{})},m.extend(a.Object.prototype,{escapeHTML:e,h:e,toHash:function(){var i={};return m.each(this,function(e,t){h(t)||(i[e]=t)}),i},toHTML:function(){var i="";return m.each(this,function(e,t){h(t)||(i+="<strong>"+e+"</strong> "+t+"<br />")}),i},keys:function(e){var t=[];for(var i in this)h(this[i])&&e||t.push(i);return t},has:function(e){return this[e]&&""!==m.trim(this[e].toString())},join:function(){var e=u(arguments),t=e.shift();return e.join(t)},log:function(){a.log.apply(a,arguments)},toString:function(i){var n=[];return m.each(this,function(e,t){h(t)&&!i||n.push('"'+e+'": '+t.toString())}),"Sammy.Object: {"+n.join(",")+"}"}}),a.targetIsThisWindow=function o(e,t){var i=m(e.target).closest(t);if(0===i.length)return!0;var n=i.attr("target");return!n||n===window.name||"_self"===n||"_blank"!==n&&("top"===n&&window===window.top)},a.DefaultLocationProxy=function(e,t){this.app=e,this.is_native=!1,this.has_history=f,this._startPolling(t)},a.DefaultLocationProxy.fullPath=function(e){var t=e.toString().match(/^[^#]*(#.+)$/),i=t?t[1]:"";return[e.pathname,e.search,i].join("")},m.extend(a.DefaultLocationProxy.prototype,{bind:function(){var s=this,o=this.app,r=a.DefaultLocationProxy;m(window).bind("hashchange."+this.app.eventNamespace(),function(e,t){!1!==s.is_native||t||(s.is_native=!0,window.clearInterval(r._interval),r._interval=null),o.trigger("location-changed")}),f&&!o.disable_push_state&&(m(window).bind("popstate."+this.app.eventNamespace(),function(){o.trigger("location-changed")}),m(document).delegate("a","click.history-"+this.app.eventNamespace(),function(e){if(!(e.isDefaultPrevented()||e.metaKey||e.ctrlKey)){var t,i,n=r.fullPath(this);return(this.hostname?this.hostname:(t=this,(i=document.createElement("a")).href=t.href,i.hostname))==window.location.hostname&&o.lookupRoute("get",n)&&a.targetIsThisWindow(e,"a")?(e.preventDefault(),s.setLocation(n),!1):void 0}})),r._bindings||(r._bindings=0),r._bindings++},unbind:function(){m(window).unbind("hashchange."+this.app.eventNamespace()),m(window).unbind("popstate."+this.app.eventNamespace()),m(document).undelegate("a","click.history-"+this.app.eventNamespace()),a.DefaultLocationProxy._bindings--,a.DefaultLocationProxy._bindings<=0&&(window.clearInterval(a.DefaultLocationProxy._interval),a.DefaultLocationProxy._interval=null)},getLocation:function(){return a.DefaultLocationProxy.fullPath(window.location)},setLocation:function(e){if(/^([^#\/]|$)/.test(e)&&(e=f&&!this.app.disable_push_state?"/"+e:"#!/"+e),e!=this.getLocation()){if(!f||this.app.disable_push_state||!/^\//.test(e))return window.location=e;history.pushState({path:e},window.title,e),this.app.trigger("location-changed")}},_startPolling:function(e){var t=this;if(!a.DefaultLocationProxy._interval){e||(e=10);var i=function(){var e=t.getLocation();"undefined"!=typeof a.DefaultLocationProxy._last_location&&e==a.DefaultLocationProxy._last_location||window.setTimeout(function(){m(window).trigger("hashchange",[!0])},0),a.DefaultLocationProxy._last_location=e};i(),a.DefaultLocationProxy._interval=window.setInterval(i,e)}}}),a.Application=function(e){var i=this;this.routes={},this.listeners=new a.Object({}),this.arounds=[],this.befores=[],this.namespace=(new Date).getTime()+"-"+parseInt(1e3*Math.random(),10),this.context_prototype=function(){a.EventContext.apply(this,arguments)},this.context_prototype.prototype=new a.EventContext,h(e)&&e.apply(this,[this]),this._location_proxy||this.setLocationProxy(new a.DefaultLocationProxy(this,this.run_interval_every)),this.debug&&this.bindToAllEvents(function(e,t){i.log(i.toString(),e.cleaned_type,t||{})})},a.Application.prototype=m.extend({},a.Object.prototype,{ROUTE_VERBS:["get","post","put","delete"],APP_EVENTS:["run","unload","lookup-route","run-route","route-found","event-context-before","event-context-after","changed","error","check-form-submission","redirect","location-changed"],_last_route:null,_location_proxy:null,_running:!1,element_selector:"body",debug:!1,raise_errors:!1,run_interval_every:50,disable_push_state:!1,template_engine:null,toString:function(){return"Sammy.Application:"+this.element_selector},$element:function(e){return e?m(this.element_selector).find(e):m(this.element_selector)},use:function(){var e=u(arguments),t=e.shift(),i=t||"";try{e.unshift(this),"string"==typeof t&&(i="Sammy."+t,t=a[t]),t.apply(this,e)}catch(n){void 0===t?this.error("Plugin Error: called use() but plugin ("+i.toString()+") is not defined",n):h(t)?this.error("Plugin Error",n):this.error("Plugin Error: called use() but '"+i.toString()+"' is not a function",n)}return this},setLocationProxy:function(e){var t=this._location_proxy;this._location_proxy=e,this.isRunning()&&(t&&t.unbind(),this._location_proxy.bind())},log:function(){a.log.apply(a,Array.prototype.concat.apply([this.element_selector],arguments))},route:function(e,i){var n,t,s=this,o=[],r=Array.prototype.slice.call(arguments,2);if(0===r.length&&h(i)&&(r=[i],i=e,e="any"),e=e.toLowerCase(),i.constructor==String){for(c.lastIndex=0;null!==(t=c.exec(i));)o.push(t[1]);i=new RegExp(i.replace(c,l)+"$")}return m.each(r,function(e,t){"string"==typeof t&&(r[e]=s[t])}),n=function(e){var t={verb:e,path:i,callback:r,param_names:o};s.routes[e]=s.routes[e]||[],s.routes[e].push(t)},"any"===e?m.each(this.ROUTE_VERBS,function(e,t){n(t)}):n(e),this},get:t("get"),post:t("post"),put:t("put"),del:t("delete"),any:t("any"),mapRoutes:function(e){var i=this;return m.each(e,function(e,t){i.route.apply(i,t)}),this},eventNamespace:function(){return["sammy-app",this.namespace].join("-")},bind:function(e,t,o){var r=this;void 0===o&&(o=t);var i=function(e,t){var i,n,s;i=e,(s=t)&&s.context?(n=s.context,delete s.context):n=new r.context_prototype(r,"bind",i.type,s,i.target),i.cleaned_type=i.type.replace(r.eventNamespace(),""),o.apply(n,[i,s])};return this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(i),this.isRunning()&&this._listen(e,i),this},trigger:function(e,t){return this.$element().trigger([e,this.eventNamespace()].join("."),[t]),this},refresh:function(){return this.last_location=null,this.trigger("location-changed"),this},before:function(e,t){return h(e)&&(t=e,e={}),this.befores.push([e,t]),this},after:function(e){return this.bind("event-context-after",e)},around:function(e){return this.arounds.push(e),this},onComplete:function(e){return this._onComplete=e,this},isRunning:function(){return this._running},helpers:function(e){return m.extend(this.context_prototype.prototype,e),this},helper:function(e,t){return this.context_prototype.prototype[e]=t,this},run:function(e){if(this.isRunning())return!1;var n=this;return m.each(this.listeners.toHash(),function(i,e){m.each(e,function(e,t){n._listen(i,t)})}),this.trigger("run",{start_url:e}),this._running=!0,this.last_location=null,/\#(.+)/.test(this.getLocation())||void 0===e||this.setLocation(e),this._checkLocation(),this._location_proxy.bind(),this.bind("location-changed",function(){n._checkLocation()}),this.bind("submit",function(e){return!a.targetIsThisWindow(e,"form")||!1===n._checkFormSubmission(m(e.target).closest("form"))&&e.preventDefault()}),m(window).bind("unload",function(){n.unload()}),this.trigger("changed")},unload:function(){if(!this.isRunning())return!1;var n=this;return this.trigger("unload"),this._location_proxy.unbind(),this.$element().unbind("submit").removeClass(n.eventNamespace()),m.each(this.listeners.toHash(),function(i,e){m.each(e,function(e,t){n._unlisten(i,t)})}),this._running=!1,this},destroy:function(){return this.unload(),delete a.apps[this.element_selector],this},bindToAllEvents:function(i){var n=this;return m.each(this.APP_EVENTS,function(e,t){n.bind(t,i)}),m.each(this.listeners.keys(!0),function(e,t){-1==m.inArray(t,n.APP_EVENTS)&&n.bind(t,i)}),this},routablePath:function(e){return e.replace(r,"")},lookupRoute:function(e,t){var i,n,s=this,o=!1,r=0;if("undefined"!=typeof this.routes[e])for(i=this.routes[e].length;r<i;r++)if(n=this.routes[e][r],s.routablePath(t).match(n.path)){o=n;break}return o},runRoute:function(e,t,i,n){var s,o,r,a,l,c,u,h,d=this,p=this.lookupRoute(e,t);if(this.debug&&this.log("runRoute",[e,t].join(" ")),this.trigger("run-route",{verb:e,path:t,params:i}),void 0===i&&(i={}),m.extend(i,this._parseQueryString(t)),p){this.trigger("route-found",{route:p}),null!==(u=p.path.exec(this.routablePath(t)))&&(u.shift(),m.each(u,function(e,t){p.param_names[e]?i[p.param_names[e]]=g(t):(i.splat||(i.splat=[]),i.splat.push(g(t)))})),s=new this.context_prototype(this,e,t,i,n),r=this.arounds.slice(0),a=this.befores.slice(0),c=[s],i.splat&&(c=c.concat(i.splat)),o=function(){for(var e,t,i;0<a.length;)if(l=a.shift(),d.contextMatchesOptions(s,l[0])&&!1===(e=l[1].apply(s,[s])))return!1;return d.last_route=p,s.trigger("event-context-before",{context:s}),"function"==typeof p.callback&&(p.callback=[p.callback]),p.callback&&p.callback.length&&(t=-1,i=function(){t++,p.callback[t]?e=p.callback[t].apply(s,c):d._onComplete&&(d._onComplete,1)&&d._onComplete(s)},c.push(i),i()),s.trigger("event-context-after",{context:s}),e},m.each(r.reverse(),function(e,t){var i=o;o=function(){return t.apply(s,[i])}});try{h=o()}catch(f){this.error(["500 Error",e,t].join(" "),f)}return h}return this.notFound(e,t)},contextMatchesOptions:function(e,t,i){var n=t;if(("string"==typeof n||p(n))&&(n={path:n}),void 0===i&&(i=!0),m.isEmptyObject(n))return!0;if(d(n.path)){var s,o,r,a;for(s=[],o=0,a=n.path.length;o<a;o+=1)r=m.extend({},n,{path:n.path[o]}),s.push(this.contextMatchesOptions(e,r));var l=-1<m.inArray(!0,s);return i?l:!l}if(n.only)return this.contextMatchesOptions(e,n.only,!0);if(n.except)return this.contextMatchesOptions(e,n.except,!1);var c=!0,u=!0;return n.path&&(p(n.path)||(n.path=new RegExp(n.path.toString()+"$")),c=n.path.test(e.path)),n.verb&&(u="string"==typeof n.verb?n.verb===e.verb:-1<n.verb.indexOf(e.verb)),i?u&&c:!(u&&c)},getLocation:function(){return this._location_proxy.getLocation()},setLocation:function(e){return this._location_proxy.setLocation(e)},swap:function(e,t){var i=this.$element().html(e);return h(t)&&t(e),i},templateCache:function(e,t){return void 0!==t?n[e]=t:n[e]},clearTemplateCache:function(){return n={}},notFound:function(e,t){var i=this.error(["404 Not Found",e,t].join(" "));return"get"!==e||i},error:function(e,t){if(t||(t=new Error),t.message=[e,t.message].join(" "),this.trigger("error",{message:t.message,error:t}),this.raise_errors)throw t;this.log(t.message,t)},_checkLocation:function(){var e,t;return e=this.getLocation(),this.last_location&&"get"==this.last_location[0]&&this.last_location[1]==e||(this.last_location=["get",e],t=this.runRoute("get",e)),t},_getFormVerb:function(e){var t,i,n=m(e);return 0<(i=n.find('input[name="_method"]')).length&&(t=i.val()),t||(t=n[0].getAttribute("method")),t&&""!==t||(t="get"),m.trim(t.toString().toLowerCase())},_checkFormSubmission:function(e){var t,i,n,s,o;return this.trigger("check-form-submission",{form:e}),i=(t=m(e)).attr("action")||"",n=this._getFormVerb(t),this.debug&&this.log("_checkFormSubmission",t,i,n),"get"===n?(""!==(s=this._serializeFormParams(t))&&(i+="?"+s),this.setLocation(i),o=!1):(s=m.extend({},this._parseFormParams(t)),o=this.runRoute(n,i,s,e.get(0))),void 0!==o&&o},_serializeFormParams:function(e){var t,i="",n=e.serializeArray();if(0<n.length)for(i=this._encodeFormPair(n[0].name,n[0].value),t=1;t<n.length;t++)i=i+"&"+this._encodeFormPair(n[t].name,n[t].value);return i},_encodeFormPair:function(e,t){return i(e)+"="+i(t)},_parseFormParams:function(e){var t,i={},n=e.serializeArray();for(t=0;t<n.length;t++)i=this._parseParamPair(i,n[t].name,n[t].value);return i},_parseQueryString:function(e){var t,i,n,s,o={};if((t=e.match(r))&&t[1])for(i=t[1].split("&"),s=0;s<i.length;s++)n=i[s].split("="),o=this._parseParamPair(o,g(n[0]),g(n[1]||""));return o},_parseParamPair:function(e,t,i){return"undefined"!=typeof e[t]?d(e[t])?e[t].push(i):e[t]=[e[t],i]:e[t]=i,e},_listen:function(e,t){return this.$element().bind([e,this.eventNamespace()].join("."),t)},_unlisten:function(e,t){return this.$element().unbind([e,this.eventNamespace()].join("."),t)}}),a.RenderContext=function(e){this.event_context=e,this.callbacks=[],this.previous_content=null,this.content=null,this.next_engine=!1,this.waiting=!1},a.RenderContext.prototype=m.extend({},a.Object.prototype,{then:function(t){if(!h(t)){if(!("string"==typeof t&&t in this.event_context))return this;var i=this.event_context[t];t=function(e){return i.apply(this.event_context,[e])}}var n=this;return this.waiting?this.callbacks.push(t):(this.wait(),window.setTimeout(function(){var e=t.apply(n,[n.content,n.previous_content]);!1!==e&&n.next(e)},0)),this},wait:function(){this.waiting=!0},next:function(e){this.waiting=!1,void 0!==e&&(this.previous_content=this.content,this.content=e),0<this.callbacks.length&&this.then(this.callbacks.shift())},load:function(n,s,o){var r=this;return this.then(function(){var t,e,i;return h(s)?(o=s,s={}):s=m.extend({},s),o&&this.then(o),"string"==typeof n?(i=n.match(/\.json(\?|$)/)||s.json,t=i?!0===s.cache:!1!==s.cache,r.next_engine=r.event_context.engineFor(n),delete s.cache,delete s.json,s.engine&&(r.next_engine=s.engine,delete s.engine),t&&(e=this.event_context.app.templateCache(n))?e:(this.wait(),m.ajax(m.extend({url:n,data:{},dataType:i?"json":"text",type:"get",success:function(e){t&&r.event_context.app.templateCache(n,e),r.next(e)}},s)),!1)):n.nodeType?n.innerHTML:n.selector?(r.next_engine=n.attr("data-engine"),!1===s.clone?n.remove()[0].innerHTML.toString():n[0].innerHTML.toString()):void 0})},loadPartials:function(i){var e;if(i)for(e in this.partials=this.partials||{},i)!function(e,t){e.load(i[t]).then(function(e){this.partials[t]=e})}(this,e);return this},render:function(e,t,i,n){return h(e)&&!t?this.then(e):(h(t)?(n=i,i=t,t=null):i&&!h(i)&&(n=i,i=null),this.loadPartials(n).load(e).interpolate(t,e).then(i))},partial:function(e,t,i,n){return h(i)?this.render(e,t,n).swap(i):h(t)?this.render(e,{},i).swap(t):this.render(e,t,i).swap()},send:function(){var t=this,e=u(arguments),i=e.shift();return d(e[0])&&(e=e[0]),this.then(function(){return e.push(function(e){t.next(e)}),t.wait(),i.apply(i,e),!1})},collect:function(e,o,t){var r=this,i=function(){h(e)&&(o=e,e=this.content);var n=[],s=!1;return m.each(e,function(e,t){var i=o.apply(r,[e,t]);return i.jquery&&1==i.length&&(i=i[0],s=!0),n.push(i),i}),s?n:n.join("")};return t?i():this.then(i)},renderEach:function(r,a,e,l){return d(a)&&(l=e,e=a,a=null),this.load(r).then(function(s){var o=this;if(e||(e=d(this.previous_content)?this.previous_content:[]),!l)return this.collect(e,function(e,t){var i={},n=this.next_engine||r;return a?i[a]=t:i=t,this.event_context.interpolate(s,i,n)},!0);m.each(e,function(e,t){var i={},n=this.next_engine||r;a?i[a]=t:i=t,l(t,o.event_context.interpolate(s,i,n))})})},interpolate:function(n,s,o){var r=this;return this.then(function(e,t){!n&&t&&(n=t),this.next_engine&&(s=this.next_engine,this.next_engine=!1);var i=r.event_context.interpolate(e,n,s,this.partials);return o?t+i:i})},swap:function(t){return this.then(function(e){return this.event_context.swap(e,t),e}).trigger("changed",{})},appendTo:function(t){return this.then(function(e){m(t).append(e)}).trigger("changed",{})},prependTo:function(t){return this.then(function(e){m(t).prepend(e)}).trigger("changed",{})},replace:function(t){return this.then(function(e){m(t).html(e)}).trigger("changed",{})},trigger:function(t,i){return this.then(function(e){return void 0===i&&(i={content:e}),this.event_context.trigger(t,i),e})}}),a.EventContext=function(e,t,i,n,s){this.app=e,this.verb=t,this.path=i,this.params=new a.Object(n),this.target=s},a.EventContext.prototype=m.extend({},a.Object.prototype,{$element:function(){return this.app.$element(u(arguments).shift())},engineFor:function(e){var t,i=this;return h(e)?e:((t=(e=(e||i.app.template_engine).toString()).match(/\.([^\.\?\#]+)(\?|$)/))&&(e=t[1]),e&&h(i[e])?i[e]:i.app.template_engine?this.engineFor(i.app.template_engine):function(e){return e})},interpolate:function(e,t,i,n){return this.engineFor(i).apply(this,[e,t,n])},render:function(e,t,i,n){return new a.RenderContext(this).render(e,t,i,n)},renderEach:function(e,t,i,n){return new a.RenderContext(this).renderEach(e,t,i,n)},load:function(e,t,i){return new a.RenderContext(this).load(e,t,i)},loadPartials:function(e){return new a.RenderContext(this).loadPartials(e)},partial:function(e,t,i,n){return new a.RenderContext(this).partial(e,t,i,n)},send:function(){var e=new a.RenderContext(this);return e.send.apply(e,arguments)},redirect:function(){var e,t=u(arguments),i=this.app.getLocation(),n=t.length;if(1<n){for(var s=0,o=[],r=[],a={},l=!1;s<n;s++)"string"==typeof t[s]?o.push(t[s]):(m.extend(a,t[s]),l=!0);if(e=o.join("/"),l){for(var c in a)r.push(this.app._encodeFormPair(c,a[c]));e+="?"+r.join("&")}}else e=t[0];this.trigger("redirect",{to:e}),this.app.last_location=[this.verb,this.path],this.app.setLocation(e),new RegExp(e).test(i)&&this.app.trigger("location-changed")},trigger:function(e,t){return void 0===t&&(t={}),t.context||(t.context=this),this.app.trigger(e,t)},eventNamespace:function(){return this.app.eventNamespace()},swap:function(e,t){return this.app.swap(e,t)},notFound:function(){return this.app.notFound(this.verb,this.path)},json:function(e){return m.parseJSON(e)},toString:function(){return"Sammy.EventContext: "+[this.verb,this.path,this.params].join(" ")}}),a}),function(){var r=[].slice;String.prototype.autoLink=function(){var t,n,s,e,i,o;return i=/(^|[\s\n]|<br\/?>)((?:https?|ftp):\/\/[\-A-Z0-9+\u0026\u2019@#\/%?=()~_|!:,.;]*[\-A-Z0-9+\u0026@#\/%=~()_|])/gi,0<(e=1<=arguments.length?r.call(arguments,0):[]).length?(s=e[0],n=function(){var e;for(t in e=[],s)o=s[t],"callback"!==t&&e.push(" "+t+"='"+o+"'");return e}().join(""),this.replace(i,function(e,t,i){return""+t+(("function"==typeof s.callback?s.callback(i):void 0)||"<a href='"+i+"'"+n+">"+i+"</a>")})):this.replace(i,"$1<a href='$2'>$2</a>")}}.call(this),function(a,l){function n(e,t){var i,n,s,o=e.nodeName.toLowerCase();return"area"===o?(n=(i=e.parentNode).name,!(!e.href||!n||"map"!==i.nodeName.toLowerCase())&&(!!(s=a("img[usemap=#"+n+"]")[0])&&r(s))):(/input|select|textarea|button|object/.test(o)?!e.disabled:"a"===o&&e.href||t)&&r(e)}function r(e){return a.expr.filters.visible(e)&&!a(e).parents().addBack().filter(function(){return"hidden"===a.css(this,"visibility")}).length}var e,t,i=0,s=/^ui-id-\d+$/;a.ui=a.ui||{},a.extend(a.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),a.fn.extend({focus:(e=a.fn.focus,function(t,i){return"number"==typeof t?this.each(function(){var e=this;setTimeout(function(){a(e).focus(),i&&i.call(e)},t)}):e.apply(this,arguments)}),scrollParent:function(){var e;return e=a.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(a.css(this,"position"))&&/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(a.css(this,"overflow")+a.css(this,"overflow-y")+a.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?a(document):e},zIndex:function(e){if(e!==l)return this.css("zIndex",e);if(this.length)for(var t,i,n=a(this[0]);n.length&&n[0]!==document;){if(("absolute"===(t=n.css("position"))||"relative"===t||"fixed"===t)&&(i=parseInt(n.css("zIndex"),10),!isNaN(i)&&0!==i))return i;n=n.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){s.test(this.id)&&a(this).removeAttr("id")})}}),a.extend(a.expr[":"],{data:a.expr.createPseudo?a.expr.createPseudo(function(t){return function(e){return!!a.data(e,t)}}):function(e,t,i){return!!a.data(e,i[3])},focusable:function(e){return n(e,!isNaN(a.attr(e,"tabindex")))},tabbable:function(e){var t=a.attr(e,"tabindex"),i=isNaN(t);return(i||0<=t)&&n(e,!i)}}),a("<a>").outerWidth(1).jquery||a.each(["Width","Height"],function(e,i){function n(e,t,i,n){return a.each(s,function(){t-=parseFloat(a.css(e,"padding"+this))||0,i&&(t-=parseFloat(a.css(e,"border"+this+"Width"))||0),n&&(t-=parseFloat(a.css(e,"margin"+this))||0)}),t}var s="Width"===i?["Left","Right"]:["Top","Bottom"],o=i.toLowerCase(),r={innerWidth:a.fn.innerWidth,innerHeight:a.fn.innerHeight,outerWidth:a.fn.outerWidth,outerHeight:a.fn.outerHeight};a.fn["inner"+i]=function(e){return e===l?r["inner"+i].call(this):this.each(function(){a(this).css(o,n(this,e)+"px")})},a.fn["outer"+i]=function(e,t){return"number"!=typeof e?r["outer"+i].call(this,e):this.each(function(){a(this).css(o,n(this,e,!0,t)+"px")})}}),a.fn.addBack||(a.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),a("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(a.fn.removeData=(t=a.fn.removeData,function(e){return arguments.length?t.call(this,a.camelCase(e)):t.call(this)})),a.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),a.support.selectstart="onselectstart"in document.createElement("div"),a.fn.extend({disableSelection:function(){return this.bind((a.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(e){e.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),a.extend(a.ui,{plugin:{add:function(e,t,i){var n,s=a.ui[e].prototype;for(n in i)s.plugins[n]=s.plugins[n]||[],s.plugins[n].push([t,i[n]])},call:function(e,t,i){var n,s=e.plugins[t];if(s&&e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType)for(n=0;n<s.length;n++)e.options[s[n][0]]&&s[n][1].apply(e.element,i)}},hasScroll:function(e,t){if("hidden"===a(e).css("overflow"))return!1;var i=t&&"left"===t?"scrollLeft":"scrollTop",n=!1;return 0<e[i]||(e[i]=1,n=0<e[i],e[i]=0,n)}})}(jQuery),function(u,a){var i=0,l=Array.prototype.slice,s=u.cleanData;u.cleanData=function(e){for(var t,i=0;null!=(t=e[i]);i++)try{u(t).triggerHandler("remove")}catch(n){}s(e)},u.widget=function(e,i,t){var n,s,o,r,a={},l=e.split(".")[0];e=e.split(".")[1],n=l+"-"+e,t||(t=i,i=u.Widget),u.expr[":"][n.toLowerCase()]=function(e){return!!u.data(e,n)},u[l]=u[l]||{},s=u[l][e],o=u[l][e]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},u.extend(o,s,{version:t.version,_proto:u.extend({},t),_childConstructors:[]}),(r=new i).options=u.widget.extend({},r.options),u.each(t,function(t,n){var s,o;u.isFunction(n)?a[t]=(s=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)},function(){var e,t=this._super,i=this._superApply;return this._super=s,this._superApply=o,e=n.apply(this,arguments),this._super=t,this._superApply=i,e}):a[t]=n}),o.prototype=u.widget.extend(r,{widgetEventPrefix:s?r.widgetEventPrefix:e},a,{constructor:o,namespace:l,widgetName:e,widgetFullName:n}),s?(u.each(s._childConstructors,function(e,t){var i=t.prototype;u.widget(i.namespace+"."+i.widgetName,o,t._proto)}),delete s._childConstructors):i._childConstructors.push(o),u.widget.bridge(e,o)},u.widget.extend=function(e){for(var t,i,n=l.call(arguments,1),s=0,o=n.length;s<o;s++)for(t in n[s])i=n[s][t],n[s].hasOwnProperty(t)&&i!==a&&(u.isPlainObject(i)?e[t]=u.isPlainObject(e[t])?u.widget.extend({},e[t],i):u.widget.extend({},i):e[t]=i);return e},u.widget.bridge=function(o,t){var r=t.prototype.widgetFullName||o;u.fn[o]=function(i){var e="string"==typeof i,n=l.call(arguments,1),s=this;return i=!e&&n.length?u.widget.extend.apply(null,[i].concat(n)):i,e?this.each(function(){var e,t=u.data(this,r);return t?u.isFunction(t[i])&&"_"!==i.charAt(0)?(e=t[i].apply(t,n)
)!==t&&e!==a?(s=e&&e.jquery?s.pushStack(e.get()):e,!1):void 0:u.error("no such method '"+i+"' for "+o+" widget instance"):u.error("cannot call methods on "+o+" prior to initialization; attempted to call method '"+i+"'")}):this.each(function(){var e=u.data(this,r);e?e.option(i||{})._init():u.data(this,r,new t(i,this))}),s}},u.Widget=function(){},u.Widget._childConstructors=[],u.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,t){t=u(t||this.defaultElement||this)[0],this.element=u(t),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=u.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=u(),this.hoverable=u(),this.focusable=u(),t!==this&&(u.data(t,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===t&&this.destroy()}}),this.document=u(t.style?t.ownerDocument:t.document||t),this.window=u(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:u.noop,_getCreateEventData:u.noop,_create:u.noop,_init:u.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(u.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:u.noop,widget:function(){return this.element},option:function(e,t){var i,n,s,o=e;if(0===arguments.length)return u.widget.extend({},this.options);if("string"==typeof e)if(o={},e=(i=e.split(".")).shift(),i.length){for(n=o[e]=u.widget.extend({},this.options[e]),s=0;s<i.length-1;s++)n[i[s]]=n[i[s]]||{},n=n[i[s]];if(e=i.pop(),t===a)return n[e]===a?null:n[e];n[e]=t}else{if(t===a)return this.options[e]===a?null:this.options[e];o[e]=t}return this._setOptions(o),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!t).attr("aria-disabled",t),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(r,a,e){var l,c=this;"boolean"!=typeof r&&(e=a,a=r,r=!1),e?(a=l=u(a),this.bindings=this.bindings.add(a)):(e=a,a=this.element,l=this.widget()),u.each(e,function(e,t){function i(){if(r||!0!==c.options.disabled&&!u(this).hasClass("ui-state-disabled"))return("string"==typeof t?c[t]:t).apply(c,arguments)}"string"!=typeof t&&(i.guid=t.guid=t.guid||i.guid||u.guid++);var n=e.match(/^(\w+)\s*(.*)$/),s=n[1]+c.eventNamespace,o=n[2];o?l.delegate(o,s,i):a.bind(s,i)})},_off:function(e,t){t=(t||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,e.unbind(t).undelegate(t)},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){u(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){u(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){u(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){u(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,t,i){var n,s,o=this.options[e];if(i=i||{},(t=u.Event(t)).type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),t.target=this.element[0],s=t.originalEvent)for(n in s)n in t||(t[n]=s[n]);return this.element.trigger(t,i),!(u.isFunction(o)&&!1===o.apply(this.element[0],[t].concat(i))||t.isDefaultPrevented())}},u.each({show:"fadeIn",hide:"fadeOut"},function(o,r){u.Widget.prototype["_"+o]=function(t,e,i){"string"==typeof e&&(e={effect:e});var n,s=e?!0===e||"number"==typeof e?r:e.effect||r:o;"number"==typeof(e=e||{})&&(e={duration:e}),n=!u.isEmptyObject(e),e.complete=i,e.delay&&t.delay(e.delay),n&&u.effects&&u.effects.effect[s]?t[o](e):s!==o&&t[s]?t[s](e.duration,e.easing,i):t.queue(function(e){u(this)[o](),i&&i.call(t[0]),e()})}})}(jQuery),function(s){var o=!1;s(document).mouseup(function(){o=!1}),s.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(e){if(!0===s.data(e.target,t.widgetName+".preventClickEvent"))return s.removeData(e.target,t.widgetName+".preventClickEvent"),e.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&s(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!o){this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var t=this,i=1===e.which,n=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&s(e.target).closest(this.options.cancel).length;return!(i&&!n&&this._mouseCapture(e))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){t.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),!0):(!0===s.data(e.target,this.widgetName+".preventClickEvent")&&s.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return t._mouseMove(e)},this._mouseUpDelegate=function(e){return t._mouseUp(e)},s(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),o=!0))}},_mouseMove:function(e){return s.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return s(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&s.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(_){_.widget("ui.draggable",_.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var t=this.options;return!(this.helper||t.disabled||0<_(e.target).closest(".ui-resizable-handle").length)&&(this.handle=this._getHandle(e),!!this.handle&&(_(!0===t.iframeFix?"iframe":t.iframeFix).each(function(){_("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(_(this).offset()).appendTo("body")}),!0))},_mouseStart:function(e){var t=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),_.ui.ddmanager&&(_.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,_.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,t.cursorAt&&this._adjustOffsetFromHelper(t.cursorAt),this._setContainment(),!1===this._trigger("start",e)?(this._clear(),!1):(this._cacheHelperProportions(),_.ui.ddmanager&&!t.dropBehaviour&&_.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),_.ui.ddmanager&&_.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,t){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!t){var i=this._uiHash();if(!1===this._trigger("drag",e,i))return this._mouseUp({}),!1;this.position=i.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),_.ui.ddmanager&&_.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var t=this,i=!1;return _.ui.ddmanager&&!this.options.dropBehaviour&&(i=_.ui.ddmanager.drop(this,e)),this.dropped&&(i=this.dropped,this.dropped=!1),("original"!==this.options.helper||_.contains(this.element[0].ownerDocument,this.element[0]))&&("invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||_.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?_(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==t._trigger("stop",e)&&t._clear()}):!1!==this._trigger("stop",e)&&this._clear()),!1},_mouseUp:function(e){return _("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),_.ui.ddmanager&&_.ui.ddmanager.dragStop(this,e),_.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return!this.options.handle||!!_(e.target).closest(this.element.find(this.options.handle)).length},_createHelper:function(e){var t=this.options,i=_.isFunction(t.helper)?_(t.helper.apply(this.element[0],[e])):"clone"===t.helper?this.element.clone().removeAttr("id"):this.element;return i.parents("body").length||i.appendTo("parent"===t.appendTo?this.element[0].parentNode:t.appendTo),i[0]===this.element[0]||/(fixed|absolute)/.test(i.css("position"))||i.css("position","absolute"),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),_.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&_.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&_.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;n.containment?"window"!==n.containment?"document"!==n.containment?n.containment.constructor!==Array?("parent"===n.containment&&(n.containment=this.helper[0].parentNode),(i=(t=_(n.containment))[0])&&(e="hidden"!==t.css("overflow"),this.containment=[(parseInt(t.css("borderLeftWidth"),10)||0)+(parseInt(t.css("paddingLeft"),10)||0),(parseInt(t.css("borderTopWidth"),10)||0)+(parseInt(t.css("paddingTop"),10)||0),(e?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(t.css("borderRightWidth"),10)||0)-(parseInt(t.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(t.css("borderBottomWidth"),10)||0)-(parseInt(t.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=t)):this.containment=n.containment:this.containment=[0,0,_(document).width()-this.helperProportions.width-this.margins.left,(_(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[_(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,_(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,_(window).scrollLeft()+_(window).width()-this.helperProportions.width-this.margins.left,_(window).scrollTop()+(_(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:n.scrollTop(),left:n.scrollLeft()}),{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*i}},_generatePosition:function(e){var t,i,n,s,o=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&_.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=e.pageX,l=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(i=this.relative_container.offset(),t=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):t=this.containment,e.pageX-this.offset.click.left<t[0]&&(a=t[0]+this.offset.click.left),e.pageY-this.offset.click.top<t[1]&&(l=t[1]+this.offset.click.top),e.pageX-this.offset.click.left>t[2]&&(a=t[2]+this.offset.click.left),e.pageY-this.offset.click.top>t[3]&&(l=t[3]+this.offset.click.top)),o.grid&&(n=o.grid[1]?this.originalPageY+Math.round((l-this.originalPageY)/o.grid[1])*o.grid[1]:this.originalPageY,l=t?n-this.offset.click.top>=t[1]||n-this.offset.click.top>t[3]?n:n-this.offset.click.top>=t[1]?n-o.grid[1]:n+o.grid[1]:n,s=o.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/o.grid[0])*o.grid[0]:this.originalPageX,a=t?s-this.offset.click.left>=t[0]||s-this.offset.click.left>t[2]?s:s-this.offset.click.left>=t[0]?s-o.grid[0]:s+o.grid[0]:s)),{top:l-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,t,i){return i=i||this._uiHash(),_.ui.plugin.call(this,e,[t,i]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),_.Widget.prototype._trigger.call(this,e,t,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),_.ui.plugin.add("draggable","connectToSortable",{start:function(t,e){var i=_(this).data("ui-draggable"),n=i.options,s=_.extend({},e,{item:i.element});i.sortables=[],_(n.connectToSortable).each(function(){var e=_.data(this,"ui-sortable");e&&!e.options.disabled&&(i.sortables.push({instance:e,shouldRevert:e.options.revert}),e.refreshPositions(),e._trigger("activate",t,s))})},stop:function(e,t){var i=_(this).data("ui-draggable"),n=_.extend({},t,{item:i.element});_.each(i.sortables,function(){this.instance.isOver?(this.instance.isOver=0,i.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===i.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,n))})},drag:function(i,n){var s=_(this).data("ui-draggable"),o=this;_.each(s.sortables,function(){var e=!1,t=this;this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(e=!0,_.each(s.sortables,function(){return this.instance.positionAbs=s.positionAbs,this.instance.helperProportions=s.helperProportions,this.instance.offset.click=s.offset.click,this!==t&&this.instance._intersectsWith(this.instance.containerCache)&&_.contains(t.instance.element[0],this.instance.element[0])&&(e=!1),e})),e?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=_(o).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return n.helper[0]},i.target=this.instance.currentItem[0],this.instance._mouseCapture(i,!0),this.instance._mouseStart(i,!0,!0),this.instance.offset.click.top=s.offset.click.top,this.instance.offset.click.left=s.offset.click.left,this.instance.offset.parent.left-=s.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=s.offset.parent.top-this.instance.offset.parent.top,s._trigger("toSortable",i),s.dropped=this.instance.element,s.currentItem=s.element,this.instance.fromOutside=s),this.instance.currentItem&&this.instance._mouseDrag(i)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",i,this.instance._uiHash(this.instance)),this.instance._mouseStop(i,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),s._trigger("fromSortable",i),s.dropped=!1)})}}),_.ui.plugin.add("draggable","cursor",{start:function(){var e=_("body"),t=_(this).data("ui-draggable").options;e.css("cursor")&&(t._cursor=e.css("cursor")),e.css("cursor",t.cursor)},stop:function(){var e=_(this).data("ui-draggable").options;e._cursor&&_("body").css("cursor",e._cursor)}}),_.ui.plugin.add("draggable","opacity",{start:function(e,t){var i=_(t.helper),n=_(this).data("ui-draggable").options;i.css("opacity")&&(n._opacity=i.css("opacity")),i.css("opacity",n.opacity)},stop:function(e,t){var i=_(this).data("ui-draggable").options;i._opacity&&_(t.helper).css("opacity",i._opacity)}}),_.ui.plugin.add("draggable","scroll",{start:function(){var e=_(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var t=_(this).data("ui-draggable"),i=t.options,n=!1;t.scrollParent[0]!==document&&"HTML"!==t.scrollParent[0].tagName?(i.axis&&"x"===i.axis||(t.overflowOffset.top+t.scrollParent[0].offsetHeight-e.pageY<i.scrollSensitivity?t.scrollParent[0].scrollTop=n=t.scrollParent[0].scrollTop+i.scrollSpeed:e.pageY-t.overflowOffset.top<i.scrollSensitivity&&(t.scrollParent[0].scrollTop=n=t.scrollParent[0].scrollTop-i.scrollSpeed)),i.axis&&"y"===i.axis||(t.overflowOffset.left+t.scrollParent[0].offsetWidth-e.pageX<i.scrollSensitivity?t.scrollParent[0].scrollLeft=n=t.scrollParent[0].scrollLeft+i.scrollSpeed:e.pageX-t.overflowOffset.left<i.scrollSensitivity&&(t.scrollParent[0].scrollLeft=n=t.scrollParent[0].scrollLeft-i.scrollSpeed))):(i.axis&&"x"===i.axis||(e.pageY-_(document).scrollTop()<i.scrollSensitivity?n=_(document).scrollTop(_(document).scrollTop()-i.scrollSpeed):_(window).height()-(e.pageY-_(document).scrollTop())<i.scrollSensitivity&&(n=_(document).scrollTop(_(document).scrollTop()+i.scrollSpeed))),i.axis&&"y"===i.axis||(e.pageX-_(document).scrollLeft()<i.scrollSensitivity?n=_(document).scrollLeft(_(document).scrollLeft()-i.scrollSpeed):_(window).width()-(e.pageX-_(document).scrollLeft())<i.scrollSensitivity&&(n=_(document).scrollLeft(_(document).scrollLeft()+i.scrollSpeed)))),!1!==n&&_.ui.ddmanager&&!i.dropBehaviour&&_.ui.ddmanager.prepareOffsets(t,e)}}),_.ui.plugin.add("draggable","snap",{start:function(){var i=_(this).data("ui-draggable"),e=i.options;i.snapElements=[],_(e.snap.constructor!==String?e.snap.items||":data(ui-draggable)":e.snap).each(function(){var e=_(this),t=e.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:e.outerWidth(),height:e.outerHeight(),top:t.top,left:t.left})})},drag:function(e,t){var i,n,s,o,r,a,l,c,u,h,d=_(this).data("ui-draggable"),p=d.options,f=p.snapTolerance,m=t.offset.left,g=m+d.helperProportions.width,v=t.offset.top,y=v+d.helperProportions.height;for(u=d.snapElements.length-1;0<=u;u--)a=(r=d.snapElements[u].left)+d.snapElements[u].width,c=(l=d.snapElements[u].top)+d.snapElements[u].height,g<r-f||a+f<m||y<l-f||c+f<v||!_.contains(d.snapElements[u].item.ownerDocument,d.snapElements[u].item)?(d.snapElements[u].snapping&&d.options.snap.release&&d.options.snap.release.call(d.element,e,_.extend(d._uiHash(),{snapItem:d.snapElements[u].item})),d.snapElements[u].snapping=!1):("inner"!==p.snapMode&&(i=Math.abs(l-y)<=f,n=Math.abs(c-v)<=f,s=Math.abs(r-g)<=f,o=Math.abs(a-m)<=f,i&&(t.position.top=d._convertPositionTo("relative",{top:l-d.helperProportions.height,left:0}).top-d.margins.top),n&&(t.position.top=d._convertPositionTo("relative",{top:c,left:0}).top-d.margins.top),s&&(t.position.left=d._convertPositionTo("relative",{top:0,left:r-d.helperProportions.width}).left-d.margins.left),o&&(t.position.left=d._convertPositionTo("relative",{top:0,left:a}).left-d.margins.left)),h=i||n||s||o,"outer"!==p.snapMode&&(i=Math.abs(l-v)<=f,n=Math.abs(c-y)<=f,s=Math.abs(r-m)<=f,o=Math.abs(a-g)<=f,i&&(t.position.top=d._convertPositionTo("relative",{top:l,left:0}).top-d.margins.top),n&&(t.position.top=d._convertPositionTo("relative",{top:c-d.helperProportions.height,left:0}).top-d.margins.top),s&&(t.position.left=d._convertPositionTo("relative",{top:0,left:r}).left-d.margins.left),o&&(t.position.left=d._convertPositionTo("relative",{top:0,left:a-d.helperProportions.width}).left-d.margins.left)),!d.snapElements[u].snapping&&(i||n||s||o||h)&&d.options.snap.snap&&d.options.snap.snap.call(d.element,e,_.extend(d._uiHash(),{snapItem:d.snapElements[u].item})),d.snapElements[u].snapping=i||n||s||o||h)}}),_.ui.plugin.add("draggable","stack",{start:function(){var t,e=this.data("ui-draggable").options,i=_.makeArray(_(e.stack)).sort(function(e,t){return(parseInt(_(e).css("zIndex"),10)||0)-(parseInt(_(t).css("zIndex"),10)||0)});i.length&&(t=parseInt(_(i[0]).css("zIndex"),10)||0,_(i).each(function(e){_(this).css("zIndex",t+e)}),this.css("zIndex",t+i.length))}}),_.ui.plugin.add("draggable","zIndex",{start:function(e,t){var i=_(t.helper),n=_(this).data("ui-draggable").options;i.css("zIndex")&&(n._zIndex=i.css("zIndex")),i.css("zIndex",n.zIndex)},stop:function(e,t){var i=_(this).data("ui-draggable").options;i._zIndex&&_(t.helper).css("zIndex",i._zIndex)}})}(jQuery),function(a){function d(e,t,i){return t<e&&e<t+i}a.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,t=e.accept;this.isover=!1,this.isout=!0,this.accept=a.isFunction(t)?t:function(e){return e.is(t)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},a.ui.ddmanager.droppables[e.scope]=a.ui.ddmanager.droppables[e.scope]||[],a.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,t=a.ui.ddmanager.droppables[this.options.scope];e<t.length;e++)t[e]===this&&t.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,t){"accept"===e&&(this.accept=a.isFunction(t)?t:function(e){return e.is(t)}),a.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var t=a.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),t&&this._trigger("activate",e,this.ui(t))},_deactivate:function(e){var t=a.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),t&&this._trigger("deactivate",e,this.ui(t))},_over:function(e){var t=a.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(t)))},_out:function(e){var t=a.ui.ddmanager.current;t&&(t.currentItem||t.element)[0]!==this.element[0]&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(t)))},_drop:function(e,t){var i=t||a.ui.ddmanager.current,n=!1;return!(!i||(i.currentItem||i.element)[0]===this.element[0])&&(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=a.data(this,"ui-droppable");if(e.options.greedy&&!e.options.disabled&&e.options.scope===i.options.scope&&e.accept.call(e.element[0],i.currentItem||i.element)&&a.ui.intersect(i,a.extend(e,{offset:e.element.offset()}),e.options.tolerance))return!(n=!0)}),!n&&(!!this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(i)),this.element)))},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),a.ui.intersect=function(e,t,i){if(!t.offset)return!1;var n,s=(e.positionAbs||e.position.absolute).left,o=s+e.helperProportions.width,r=(e.positionAbs||e.position.absolute).top,a=r+e.helperProportions.height,l=t.offset.left,c=l+t.proportions.width,u=t.offset.top,h=u+t.proportions.height;switch(i){case"fit":return l<=s&&o<=c&&u<=r&&a<=h;case"intersect":return l<s+e.helperProportions.width/2&&o-e.helperProportions.width/2<c&&u<r+e.helperProportions.height/2&&a-e.helperProportions.height/2<h;case"pointer":return n=(e.positionAbs||e.position.absolute).left+(e.clickOffset||e.offset.click).left,d((e.positionAbs||e.position.absolute).top+(e.clickOffset||e.offset.click).top,u,t.proportions.height)&&d(n,l,t.proportions.width);case"touch":return(u<=r&&r<=h||u<=a&&a<=h||r<u&&h<a)&&(l<=s&&s<=c||l<=o&&o<=c||s<l&&c<o);default:return!1}},a.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,t){var i,n,s=a.ui.ddmanager.droppables[e.options.scope]||[],o=t?t.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();e:for(i=0;i<s.length;i++)if(!(s[i].options.disabled||e&&!s[i].accept.call(s[i].element[0],e.currentItem||e.element))){for(n=0;n<r.length;n++)if(r[n]===s[i].element[0]){s[i].proportions.height=0;continue e}s[i].visible="none"!==s[i].element.css("display"),s[i].visible&&("mousedown"===o&&s[i]._activate.call(s[i],t),s[i].offset=s[i].element.offset(),s[i].proportions={width:s[i].element[0].offsetWidth,height:s[i].element[0].offsetHeight})}},drop:function(e,t){var i=!1;return a.each((a.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&a.ui.intersect(e,this,this.options.tolerance)&&(i=this._drop.call(this,t)||i),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,t)))}),i},dragStart:function(e,t){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,t)})},drag:function(o,r){o.options.refreshPositions&&a.ui.ddmanager.prepareOffsets(o,r),a.each(a.ui.ddmanager.droppables[o.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var e,t,i,n=a.ui.intersect(o,this,this.options.tolerance),s=!n&&this.isover?"isout":n&&!this.isover?"isover":null;s&&(this.options.greedy&&(t=this.options.scope,(i=this.element.parents(":data(ui-droppable)").filter(function(){return a.data(this,"ui-droppable").options.scope===t})).length&&((e=a.data(i[0],"ui-droppable")).greedyChild="isover"===s)),e&&"isover"===s&&(e.isover=!1,e.isout=!0,e._out.call(e,r)),this[s]=!0,this["isout"===s?"isover":"isout"]=!1,this["isover"===s?"_over":"_out"].call(this,r),e&&"isout"===s&&(e.isout=!1,e.isover=!0,e._over.call(e,r)))}})},dragStop:function(e,t){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||a.ui.ddmanager.prepareOffsets(e,t)}}}(jQuery),function(v){function d(e){return parseInt(e,10)||0}function h(e){return!isNaN(parseInt(e,10))}v.widget("ui.resizable",v.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,t,i,n,s=this,o=this.options;if(this.element.addClass("ui-resizable"),v.extend(this,{_aspectRatio:!!o.aspectRatio,aspectRatio:o.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:o.helper||o.ghost||o.animate?o.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(v("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,
marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=o.handles||(v(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},t=0;t<e.length;t++)i=v.trim(e[t]),(n=v("<div class='ui-resizable-handle "+("ui-resizable-"+i)+"'></div>")).css({zIndex:o.zIndex}),"se"===i&&n.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[i]=".ui-resizable-"+i,this.element.append(n);this._renderAxis=function(e){var t,i,n,s;for(t in e=e||this.element,this.handles)this.handles[t].constructor===String&&(this.handles[t]=v(this.handles[t],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(i=v(this.handles[t],this.element),s=/sw|ne|nw|se|n|s/.test(t)?i.outerHeight():i.outerWidth(),n=["padding",/ne|nw|n/.test(t)?"Top":/se|sw|s/.test(t)?"Bottom":/^e$/.test(t)?"Right":"Left"].join(""),e.css(n,s),this._proportionallyResize()),v(this.handles[t]).length},this._renderAxis(this.element),this._handles=v(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){s.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),v(this.element).addClass("ui-resizable-autohide").mouseenter(function(){o.disabled||(v(this).removeClass("ui-resizable-autohide"),s._handles.show())}).mouseleave(function(){o.disabled||s.resizing||(v(this).addClass("ui-resizable-autohide"),s._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,t=function(e){v(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_mouseCapture:function(e){var t,i,n=!1;for(t in this.handles)((i=v(this.handles[t])[0])===e.target||v.contains(i,e.target))&&(n=!0);return!this.options.disabled&&n},_mouseStart:function(e){var t,i,n,s=this.options,o=this.element.position(),r=this.element;return this.resizing=!0,/absolute/.test(r.css("position"))?r.css({position:"absolute",top:r.css("top"),left:r.css("left")}):r.is(".ui-draggable")&&r.css({position:"absolute",top:o.top,left:o.left}),this._renderProxy(),t=d(this.helper.css("left")),i=d(this.helper.css("top")),s.containment&&(t+=v(s.containment).scrollLeft()||0,i+=v(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:t,top:i},this.size=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.originalPosition={left:t,top:i},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalMousePosition={left:e.pageX,top:e.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,n=v(".ui-resizable-"+this.axis).css("cursor"),v("body").css("cursor","auto"===n?this.axis+"-resize":n),r.addClass("ui-resizable-resizing"),this._propagate("start",e),!0},_mouseDrag:function(e){var t,i=this.helper,n={},s=this.originalMousePosition,o=this.axis,r=this.position.top,a=this.position.left,l=this.size.width,c=this.size.height,u=e.pageX-s.left||0,h=e.pageY-s.top||0,d=this._change[o];return d&&(t=d.apply(this,[e,u,h]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(t=this._updateRatio(t,e)),t=this._respectSize(t,e),this._updateCache(t),this._propagate("resize",e),this.position.top!==r&&(n.top=this.position.top+"px"),this.position.left!==a&&(n.left=this.position.left+"px"),this.size.width!==l&&(n.width=this.size.width+"px"),this.size.height!==c&&(n.height=this.size.height+"px"),i.css(n),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),v.isEmptyObject(n)||this._trigger("resize",e,this.ui())),!1},_mouseStop:function(e){this.resizing=!1;var t,i,n,s,o,r,a,l=this.options,c=this;return this._helper&&(n=(i=(t=this._proportionallyResizeElements).length&&/textarea/i.test(t[0].nodeName))&&v.ui.hasScroll(t[0],"left")?0:c.sizeDiff.height,s=i?0:c.sizeDiff.width,o={width:c.helper.width()-s,height:c.helper.height()-n},r=parseInt(c.element.css("left"),10)+(c.position.left-c.originalPosition.left)||null,a=parseInt(c.element.css("top"),10)+(c.position.top-c.originalPosition.top)||null,l.animate||this.element.css(v.extend(o,{top:a,left:r})),c.helper.height(c.size.height),c.helper.width(c.size.width),this._helper&&!l.animate&&this._proportionallyResize()),v("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(e){var t,i,n,s,o,r=this.options;o={minWidth:h(r.minWidth)?r.minWidth:0,maxWidth:h(r.maxWidth)?r.maxWidth:Infinity,minHeight:h(r.minHeight)?r.minHeight:0,maxHeight:h(r.maxHeight)?r.maxHeight:Infinity},(this._aspectRatio||e)&&(t=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,s=o.maxWidth/this.aspectRatio,t>o.minWidth&&(o.minWidth=t),n>o.minHeight&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),s<o.maxHeight&&(o.maxHeight=s)),this._vBoundaries=o},_updateCache:function(e){this.offset=this.helper.offset(),h(e.left)&&(this.position.left=e.left),h(e.top)&&(this.position.top=e.top),h(e.height)&&(this.size.height=e.height),h(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return h(e.height)?e.width=e.height*this.aspectRatio:h(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=h(e.width)&&t.maxWidth&&t.maxWidth<e.width,s=h(e.height)&&t.maxHeight&&t.maxHeight<e.height,o=h(e.width)&&t.minWidth&&t.minWidth>e.width,r=h(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return o&&(e.width=t.minWidth),r&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),s&&(e.height=t.maxHeight),o&&c&&(e.left=a-t.minWidth),n&&c&&(e.left=a-t.maxWidth),r&&u&&(e.top=l-t.minHeight),s&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var e,t,i,n,s,o=this.helper||this.element;for(e=0;e<this._proportionallyResizeElements.length;e++){if(s=this._proportionallyResizeElements[e],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],t=0;t<i.length;t++)this.borderDif[t]=(parseInt(i[t],10)||0)+(parseInt(n[t],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,t=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||v("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++t.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize;return{left:this.originalPosition.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize;return{top:this.originalPosition.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(e,t,i){return v.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},sw:function(e,t,i){return v.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,t,i]))},ne:function(e,t,i){return v.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,t,i]))},nw:function(e,t,i){return v.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,t,i]))}},_propagate:function(e,t){v.ui.plugin.call(this,e,[t,this.ui()]),"resize"!==e&&this._trigger(e,t,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),v.ui.plugin.add("resizable","animate",{stop:function(t){var i=v(this).data("ui-resizable"),e=i.options,n=i._proportionallyResizeElements,s=n.length&&/textarea/i.test(n[0].nodeName),o=s&&v.ui.hasScroll(n[0],"left")?0:i.sizeDiff.height,r=s?0:i.sizeDiff.width,a={width:i.size.width-r,height:i.size.height-o},l=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,c=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(v.extend(a,c&&l?{top:c,left:l}:{}),{duration:e.animateDuration,easing:e.animateEasing,step:function(){var e={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};n&&n.length&&v(n[0]).css({width:e.width,height:e.height}),i._updateCache(e),i._propagate("resize",t)}})}}),v.ui.plugin.add("resizable","containment",{start:function(){var i,n,e,t,s,o,r,a=v(this).data("ui-resizable"),l=a.options,c=a.element,u=l.containment,h=u instanceof v?u.get(0):/parent/.test(u)?c.parent().get(0):u;h&&(a.containerElement=v(h),/document/.test(u)||u===document?(a.containerOffset={left:0,top:0},a.containerPosition={left:0,top:0},a.parentData={element:v(document),left:0,top:0,width:v(document).width(),height:v(document).height()||document.body.parentNode.scrollHeight}):(i=v(h),n=[],v(["Top","Right","Left","Bottom"]).each(function(e,t){n[e]=d(i.css("padding"+t))}),a.containerOffset=i.offset(),a.containerPosition=i.position(),a.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},e=a.containerOffset,t=a.containerSize.height,s=a.containerSize.width,o=v.ui.hasScroll(h,"left")?h.scrollWidth:s,r=v.ui.hasScroll(h)?h.scrollHeight:t,a.parentData={element:h,left:e.left,top:e.top,width:o,height:r}))},resize:function(e){var t,i,n,s,o=v(this).data("ui-resizable"),r=o.options,a=o.containerOffset,l=o.position,c=o._aspectRatio||e.shiftKey,u={top:0,left:0},h=o.containerElement;h[0]!==document&&/static/.test(h.css("position"))&&(u=a),l.left<(o._helper?a.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-a.left:o.position.left-u.left),c&&(o.size.height=o.size.width/o.aspectRatio),o.position.left=r.helper?a.left:0),l.top<(o._helper?a.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-a.top:o.position.top),c&&(o.size.width=o.size.height*o.aspectRatio),o.position.top=o._helper?a.top:0),o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top,t=Math.abs((o._helper,o.offset.left-u.left+o.sizeDiff.width)),i=Math.abs((o._helper?o.offset.top-u.top:o.offset.top-a.top)+o.sizeDiff.height),n=o.containerElement.get(0)===o.element.parent().get(0),s=/relative|absolute/.test(o.containerElement.css("position")),n&&s&&(t-=o.parentData.left),t+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-t,c&&(o.size.height=o.size.width/o.aspectRatio)),i+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-i,c&&(o.size.width=o.size.height*o.aspectRatio))},stop:function(){var e=v(this).data("ui-resizable"),t=e.options,i=e.containerOffset,n=e.containerPosition,s=e.containerElement,o=v(e.helper),r=o.offset(),a=o.outerWidth()-e.sizeDiff.width,l=o.outerHeight()-e.sizeDiff.height;e._helper&&!t.animate&&/relative/.test(s.css("position"))&&v(this).css({left:r.left-n.left-i.left,width:a,height:l}),e._helper&&!t.animate&&/static/.test(s.css("position"))&&v(this).css({left:r.left-n.left-i.left,width:a,height:l})}}),v.ui.plugin.add("resizable","alsoResize",{start:function(){var e=v(this).data("ui-resizable").options,t=function(e){v(e).each(function(){var e=v(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof e.alsoResize||e.alsoResize.parentNode?t(e.alsoResize):e.alsoResize.length?(e.alsoResize=e.alsoResize[0],t(e.alsoResize)):v.each(e.alsoResize,function(e){t(e)})},resize:function(e,o){var t=v(this).data("ui-resizable"),i=t.options,n=t.originalSize,s=t.originalPosition,r={height:t.size.height-n.height||0,width:t.size.width-n.width||0,top:t.position.top-s.top||0,left:t.position.left-s.left||0},a=function(e,i){v(e).each(function(){var e=v(this),n=v(this).data("ui-resizable-alsoresize"),s={},t=i&&i.length?i:e.parents(o.originalElement[0]).length?["width","height"]:["width","height","top","left"];v.each(t,function(e,t){var i=(n[t]||0)+(r[t]||0);i&&0<=i&&(s[t]=i||null)}),e.css(s)})};"object"!=typeof i.alsoResize||i.alsoResize.nodeType?a(i.alsoResize):v.each(i.alsoResize,function(e,t){a(e,t)})},stop:function(){v(this).removeData("resizable-alsoresize")}}),v.ui.plugin.add("resizable","ghost",{start:function(){var e=v(this).data("ui-resizable"),t=e.options,i=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:i.height,width:i.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof t.ghost?t.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=v(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=v(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),v.ui.plugin.add("resizable","grid",{resize:function(){var e=v(this).data("ui-resizable"),t=e.options,i=e.size,n=e.originalSize,s=e.originalPosition,o=e.axis,r="number"==typeof t.grid?[t.grid,t.grid]:t.grid,a=r[0]||1,l=r[1]||1,c=Math.round((i.width-n.width)/a)*a,u=Math.round((i.height-n.height)/l)*l,h=n.width+c,d=n.height+u,p=t.maxWidth&&t.maxWidth<h,f=t.maxHeight&&t.maxHeight<d,m=t.minWidth&&t.minWidth>h,g=t.minHeight&&t.minHeight>d;t.grid=r,m&&(h+=a),g&&(d+=l),p&&(h-=a),f&&(d-=l),/^(se|s|e)$/.test(o)?(e.size.width=h,e.size.height=d):/^(ne)$/.test(o)?(e.size.width=h,e.size.height=d,e.position.top=s.top-u):(/^(sw)$/.test(o)?(e.size.width=h,e.size.height=d):(e.size.width=h,e.size.height=d,e.position.top=s.top-u),e.position.left=s.left-c)}})}(jQuery),function(c){c.widget("ui.selectable",c.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,t=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){(e=c(t.options.filter,t.element[0])).addClass("ui-selectee"),e.each(function(){var e=c(this),t=e.offset();c.data(this,"selectable-item",{element:this,$element:e,left:t.left,top:t.top,right:t.left+e.outerWidth(),bottom:t.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=c("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(i){var n=this,e=this.options;this.opos=[i.pageX,i.pageY],this.options.disabled||(this.selectees=c(e.filter,this.element[0]),this._trigger("start",i),c(e.appendTo).append(this.helper),this.helper.css({left:i.pageX,top:i.pageY,width:0,height:0}),e.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var e=c.data(this,"selectable-item");e.startselected=!0,i.metaKey||i.ctrlKey||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element}))}),c(i.target).parents().addBack().each(function(){var e,t=c.data(this,"selectable-item");if(t)return e=!i.metaKey&&!i.ctrlKey||!t.$element.hasClass("ui-selected"),t.$element.removeClass(e?"ui-unselecting":"ui-selected").addClass(e?"ui-selecting":"ui-unselecting"),t.unselecting=!e,t.selecting=e,(t.selected=e)?n._trigger("selecting",i,{selecting:t.element}):n._trigger("unselecting",i,{unselecting:t.element}),!1}))},_mouseDrag:function(i){if(this.dragged=!0,!this.options.disabled){var e,n=this,s=this.options,o=this.opos[0],r=this.opos[1],a=i.pageX,l=i.pageY;return a<o&&(e=a,a=o,o=e),l<r&&(e=l,l=r,r=e),this.helper.css({left:o,top:r,width:a-o,height:l-r}),this.selectees.each(function(){var e=c.data(this,"selectable-item"),t=!1;e&&e.element!==n.element[0]&&("touch"===s.tolerance?t=!(e.left>a||e.right<o||e.top>l||e.bottom<r):"fit"===s.tolerance&&(t=e.left>o&&e.right<a&&e.top>r&&e.bottom<l),t?(e.selected&&(e.$element.removeClass("ui-selected"),e.selected=!1),e.unselecting&&(e.$element.removeClass("ui-unselecting"),e.unselecting=!1),e.selecting||(e.$element.addClass("ui-selecting"),e.selecting=!0,n._trigger("selecting",i,{selecting:e.element}))):(e.selecting&&((i.metaKey||i.ctrlKey)&&e.startselected?(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.$element.addClass("ui-selected"),e.selected=!0):(e.$element.removeClass("ui-selecting"),e.selecting=!1,e.startselected&&(e.$element.addClass("ui-unselecting"),e.unselecting=!0),n._trigger("unselecting",i,{unselecting:e.element}))),e.selected&&(i.metaKey||i.ctrlKey||e.startselected||(e.$element.removeClass("ui-selected"),e.selected=!1,e.$element.addClass("ui-unselecting"),e.unselecting=!0,n._trigger("unselecting",i,{unselecting:e.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,c(".ui-unselecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-unselecting"),e.unselecting=!1,e.startselected=!1,i._trigger("unselected",t,{unselected:e.element})}),c(".ui-selecting",this.element[0]).each(function(){var e=c.data(this,"selectable-item");e.$element.removeClass("ui-selecting").addClass("ui-selected"),e.selecting=!1,e.selected=!0,e.startselected=!0,i._trigger("selected",t,{selected:e.element})}),this._trigger("stop",t),this.helper.remove(),!1}})}(jQuery),function(p){function f(e,t,i){return t<e&&e<t+i}function m(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))}p.widget("ui.sortable",p.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var e=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=!!this.items.length&&("x"===e.axis||m(this.items[0].item)),this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var e=this.items.length-1;0<=e;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,t){"disabled"===e?(this.options[e]=t,this.widget().toggleClass("ui-sortable-disabled",!!t)):p.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,t){var i=null,n=!1,s=this;return!this.reverting&&(!this.options.disabled&&"static"!==this.options.type&&(this._refreshItems(e),p(e.target).parents().each(function(){if(p.data(this,s.widgetName+"-item")===s)return i=p(this),!1}),p.data(e.target,s.widgetName+"-item")===s&&(i=p(e.target)),!!i&&(!(this.options.handle&&!t&&(p(this.options.handle,i).find("*").addBack().each(function(){this===e.target&&(n=!0)}),!n))&&(this.currentItem=i,this._removeCurrentsFromItems(),!0))))},_mouseStart:function(e,t,i){var n,s,o=this.options;if((this.currentContainer=this).refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},p.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,o.cursorAt&&this._adjustOffsetFromHelper(o.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),o.containment&&this._setContainment(),o.cursor&&"auto"!==o.cursor&&(s=this.document.find("body"),this.storedCursor=s.css("cursor"),s.css("cursor",o.cursor),this.storedStylesheet=p("<style>*{ cursor: "+o.cursor+" !important; }</style>").appendTo(s)),o.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",o.opacity)),o.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",o.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!i)for(n=this.containers.length-1;0<=n;n--)this.containers[n]._trigger("activate",e,this._uiHash(this));return p.ui.ddmanager&&(p.ui.ddmanager.current=this),p.ui.ddmanager&&!o.dropBehaviour&&p.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var t,i,n,s,o=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<o.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+o.scrollSpeed:e.pageY-this.overflowOffset.top<o.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-o.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<o.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+o.scrollSpeed:e.pageX-this.overflowOffset.left<o.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-o.scrollSpeed)):(e.pageY-p(document).scrollTop()<o.scrollSensitivity?r=p(document).scrollTop(p(document).scrollTop()-o.scrollSpeed):p(window).height()-(e.pageY-p(document).scrollTop())<o.scrollSensitivity&&(r=p(document).scrollTop(p(document).scrollTop()+o.scrollSpeed)),e.pageX-p(document).scrollLeft()<o.scrollSensitivity?r=p(document).scrollLeft(p(document).scrollLeft()-o.scrollSpeed):p(window).width()-(e.pageX-p(document).scrollLeft())<o.scrollSensitivity&&(r=p(document).scrollLeft(p(document).scrollLeft()+o.scrollSpeed))),!1!==r&&p.ui.ddmanager&&!o.dropBehaviour&&p.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t=this.items.length-1;0<=t;t--)if(n=(i=this.items[t]).item[0],(s=this._intersectsWithPointer(i))&&i.instance===this.currentContainer&&!(n===this.currentItem[0]||this.placeholder[1===s?"next":"prev"]()[0]===n||p.contains(this.placeholder[0],n)||"semi-dynamic"===this.options.type&&p.contains(this.element[0],n))){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(i))break;this._rearrange(e,i),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),p.ui.ddmanager&&p.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,t){if(e){if(p.ui.ddmanager&&!this.options.dropBehaviour&&p.ui.ddmanager.drop(this,e),this.options.revert){var i=this,n=this.placeholder.offset(),s=this.options.axis,o={};s&&"x"!==s||(o.left=n.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(o.top=n.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,p(this.helper).animate(o,parseInt(this.options.revert,10)||500,function(){i._clear(e)})}else this._clear(e,t);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;0<=e;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),p.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?p(this.domPosition.prev).after(this.currentItem):p(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var e=this._getItemsAsjQuery(t&&t.connected),i=[];return t=t||{},p(e).each(function(){var e=(p(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);e&&i.push((t.key||e[1]+"[]")+"="+(t.key&&t.expression?e[1]:e[2]))}),!i.length&&t.key&&i.push(t.key+"="),i.join("&")},toArray:function(e){var t=this._getItemsAsjQuery(e&&e.connected),i=[];return e=e||{},t.each(function(){i.push(p(e.item||this).attr(e.attribute||"id")||"")}),i},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=e.left,r=o+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,h="x"===this.options.axis||a<n+c&&n+c<l,d="y"===this.options.axis||o<t+u&&t+u<r,p=h&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:o<t+this.helperProportions.width/2&&i-this.helperProportions.width/2<r&&a<n+this.helperProportions.height/2&&s-this.helperProportions.height/2<l},_intersectsWithPointer:function(e){var t="x"===this.options.axis||f(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||f(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return!!n&&(this.floating?o&&"right"===o||"down"===s?2:1:s&&("down"===s?2:1))},_intersectsWithSides:function(e){var t=f(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=f(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return this.floating&&s?"right"===s&&i||"left"===s&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(0<e?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(0<e?"right":"left")},refresh:function(e){return this._refreshItems(e),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(e){var t,i,n,s,o=[],r=[],a=this._connectWith();if(a&&e)for(t=a.length-1;0<=t;t--)for(i=(n=p(a[t])).length-1;0<=i;i--)(s=p.data(n[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&r.push([p.isFunction(s.options.items)?s.options.items.call(s.element):p(s.options.items,s.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),s]);for(r.push([p.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):p(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),t=r.length-1;0<=t;t--)r[t][0].each(function(){o.push(this)});return p(o)},_removeCurrentsFromItems:function(){var i=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=p.grep(this.items,function(e){for(var t=0;t<i.length;t++)if(i[t]===e.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var t,i,n,s,o,r,a,l,c=this.items,u=[[p.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):p(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(t=h.length-1;0<=t;t--)for(i=(n=p(h[t])).length-1;0<=i;i--)(s=p.data(n[i],this.widgetFullName))&&s!==this&&!s.options.disabled&&(u.push([p.isFunction(s.options.items)?s.options.items.call(s.element[0],e,{item:this.currentItem}):p(s.options.items,s.element),s]),this.containers.push(s));for(t=u.length-1;0<=t;t--)for(o=u[t][1],i=0,l=(r=u[t][0]).length;i<l;i++)(a=p(r[i])).data(this.widgetName+"-item",o),c.push({item:a,instance:o,width:0,height:0,left:0,top:0})},refreshPositions:function(e){var t,i,n,s;for(this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset()),t=this.items.length-1;0<=t;t--)(i=this.items[t]).instance!==this.currentContainer&&this.currentContainer&&i.item[0]!==this.currentItem[0]||(n=this.options.toleranceElement?p(this.options.toleranceElement,i.item):i.item,e||(i.width=n.outerWidth(),i.height=n.outerHeight()),s=n.offset(),i.left=s.left,i.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(t=this.containers.length-1;0<=t;t--)s=this.containers[t].element.offset(),this.containers[t].containerCache.left=s.left,this.containers[t].containerCache.top=s.top,this.containers[t].containerCache.width=this.containers[t].element.outerWidth(),this.containers[t].containerCache.height=this.containers[t].element.outerHeight();return this},_createPlaceholder:function(i){var n,s=(i=i||this).options;s.placeholder&&s.placeholder.constructor!==String||(n=s.placeholder,s.placeholder={element:function(){var e=i.currentItem[0].nodeName.toLowerCase(),t=p("<"+e+">",i.document[0]).addClass(n||i.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===e?i.currentItem.children().each(function(){p("<td>&#160;</td>",i.document[0]).attr("colspan",p(this).attr("colspan")||1).appendTo(t)}):"img"===e&&t.attr("src",i.currentItem.attr("src")),n||t.css("visibility","hidden"),t},update:function(e,t){n&&!s.forcePlaceholderSize||(t.height()||t.height(i.currentItem.innerHeight()-parseInt(
i.currentItem.css("paddingTop")||0,10)-parseInt(i.currentItem.css("paddingBottom")||0,10)),t.width()||t.width(i.currentItem.innerWidth()-parseInt(i.currentItem.css("paddingLeft")||0,10)-parseInt(i.currentItem.css("paddingRight")||0,10)))}}),i.placeholder=p(s.placeholder.element.call(i.element,i.currentItem)),i.currentItem.after(i.placeholder),s.placeholder.update(i,i.placeholder)},_contactContainers:function(e){var t,i,n,s,o,r,a,l,c,u,h=null,d=null;for(t=this.containers.length-1;0<=t;t--)if(!p.contains(this.currentItem[0],this.containers[t].element[0]))if(this._intersectsWith(this.containers[t].containerCache)){if(h&&p.contains(this.containers[t].element[0],h.element[0]))continue;h=this.containers[t],d=t}else this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",e,this._uiHash(this)),this.containers[t].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[d].containerCache.over||(this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1);else{for(n=1e4,s=null,o=(u=h.floating||m(this.currentItem))?"left":"top",r=u?"width":"height",a=this.positionAbs[o]+this.offset.click[o],i=this.items.length-1;0<=i;i--)p.contains(this.containers[d].element[0],this.items[i].item[0])&&this.items[i].item[0]!==this.currentItem[0]&&(u&&!f(this.positionAbs.top+this.offset.click.top,this.items[i].top,this.items[i].height)||(l=this.items[i].item.offset()[o],c=!1,Math.abs(l-a)>Math.abs(l+this.items[i][r]-a)&&(c=!0,l+=this.items[i][r]),Math.abs(l-a)<n&&(n=Math.abs(l-a),s=this.items[i],this.direction=c?"up":"down")));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[d])return;s?this._rearrange(e,s,null,!0):this._rearrange(e,null,this.containers[d].element,!0),this._trigger("change",e,this._uiHash()),this.containers[d]._trigger("change",e,this._uiHash(this)),this.currentContainer=this.containers[d],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[d]._trigger("over",e,this._uiHash(this)),this.containers[d].containerCache.over=1}},_createHelper:function(e){var t=this.options,i=p.isFunction(t.helper)?p(t.helper.apply(this.element[0],[e,this.currentItem])):"clone"===t.helper?this.currentItem.clone():this.currentItem;return i.parents("body").length||p("parent"!==t.appendTo?t.appendTo:this.currentItem[0].parentNode)[0].appendChild(i[0]),i[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),i[0].style.width&&!t.forceHelperSize||i.width(this.currentItem.width()),i[0].style.height&&!t.forceHelperSize||i.height(this.currentItem.height()),i},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),p.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&p.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&p.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,t,i,n=this.options;"parent"===n.containment&&(n.containment=this.helper[0].parentNode),"document"!==n.containment&&"window"!==n.containment||(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,p("document"===n.containment?document:window).width()-this.helperProportions.width-this.margins.left,(p("document"===n.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(n.containment)||(e=p(n.containment)[0],t=p(n.containment).offset(),i="hidden"!==p(e).css("overflow"),this.containment=[t.left+(parseInt(p(e).css("borderLeftWidth"),10)||0)+(parseInt(p(e).css("paddingLeft"),10)||0)-this.margins.left,t.top+(parseInt(p(e).css("borderTopWidth"),10)||0)+(parseInt(p(e).css("paddingTop"),10)||0)-this.margins.top,t.left+(i?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(p(e).css("borderLeftWidth"),10)||0)-(parseInt(p(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,t.top+(i?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(p(e).css("borderTopWidth"),10)||0)-(parseInt(p(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&p.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(n[0].tagName);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:n.scrollTop())*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:n.scrollLeft())*i}},_generatePosition:function(e){var t,i,n=this.options,s=e.pageX,o=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&p.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,a=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(o=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(o=this.containment[3]+this.offset.click.top)),n.grid&&(t=this.originalPageY+Math.round((o-this.originalPageY)/n.grid[1])*n.grid[1],o=this.containment?t-this.offset.click.top>=this.containment[1]&&t-this.offset.click.top<=this.containment[3]?t:t-this.offset.click.top>=this.containment[1]?t-n.grid[1]:t+n.grid[1]:t,i=this.originalPageX+Math.round((s-this.originalPageX)/n.grid[0])*n.grid[0],s=this.containment?i-this.offset.click.left>=this.containment[0]&&i-this.offset.click.left<=this.containment[2]?i:i-this.offset.click.left>=this.containment[0]?i-n.grid[0]:i+n.grid[0]:i)),{top:o-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():a?0:r.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():a?0:r.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)"auto"!==this._storedCSS[i]&&"static"!==this._storedCSS[i]||(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&n.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||n.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(n.push(function(e){this._trigger("remove",e,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;0<=i;i--)t||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!t){for(this._trigger("beforeStop",e,this._uiHash()),i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1}if(t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!t){for(i=0;i<n.length;i++)n[i].call(this,e);this._trigger("stop",e,this._uiHash())}return!(this.fromOutside=!1)},_trigger:function(){!1===p.Widget.prototype._trigger.apply(this,arguments)&&this.cancel()},_uiHash:function(e){var t=e||this;return{helper:t.helper,placeholder:t.placeholder||p([]),position:t.position,originalPosition:t.originalPosition,offset:t.positionAbs,item:t.currentItem,sender:e?e.element:null}}})}(jQuery),function(h,d){var i,a="ui-effects-";h.effects={effect:{}},function(u,h){function d(e,t,i){var n=g[t.type]||{};return null==e?i||!t.def?null:t.def:(e=n.floor?~~e:parseFloat(e),isNaN(e)?t.def:n.mod?(e+n.mod)%n.mod:e<0?0:n.max<e?n.max:e)}function a(r){var a=f(),l=a._rgba=[];return r=r.toLowerCase(),y(t,function(e,t){var i,n=t.re.exec(r),s=n&&t.parse(n),o=t.space||"rgba";if(s)return i=a[o](s),a[m[o].cache]=i[m[o].cache],l=a._rgba=i._rgba,!1}),l.length?("0,0,0,0"===l.join()&&u.extend(l,c.transparent),a):c[r]}function l(e,t,i){return 6*(i=(i+1)%1)<1?e+(t-e)*i*6:2*i<1?t:3*i<2?e+(t-e)*(2/3-i)*6:e}var c,e="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",p=/^([\-+])=\s*(\d+\.?\d*)/,t=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[e[1],e[2],e[3],e[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(e){return[2.55*e[1],2.55*e[2],2.55*e[3],e[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(e){return[e[1],e[2]/100,e[3]/100,e[4]]}}],f=u.Color=function(e,t,i,n){return new u.Color.fn.parse(e,t,i,n)},m={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},g={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},v=f.support={},i=u("<p>")[0],y=u.each;i.style.cssText="background-color:rgba(1,1,1,.5)",v.rgba=-1<i.style.backgroundColor.indexOf("rgba"),y(m,function(e,t){t.cache="_"+e,t.props.alpha={idx:3,type:"percent",def:1}}),f.fn=u.extend(f.prototype,{parse:function(s,e,t,i){if(s===h)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=u(s).css(e),e=h);var o=this,n=u.type(s),r=this._rgba=[];return e!==h&&(s=[s,e,t,i],n="array"),"string"===n?this.parse(a(s)||c._default):"array"===n?(y(m.rgba.props,function(e,t){r[t.idx]=d(s[t.idx],t)}),this):"object"===n?(y(m,s instanceof f?function(e,t){s[t.cache]&&(o[t.cache]=s[t.cache].slice())}:function(e,i){var n=i.cache;y(i.props,function(e,t){if(!o[n]&&i.to){if("alpha"===e||null==s[e])return;o[n]=i.to(o._rgba)}o[n][t.idx]=d(s[e],t,!0)}),o[n]&&u.inArray(null,o[n].slice(0,3))<0&&(o[n][3]=1,i.from&&(o._rgba=i.from(o[n])))}),this):void 0},is:function(e){var s=f(e),o=!0,r=this;return y(m,function(e,t){var i,n=s[t.cache];return n&&(i=r[t.cache]||t.to&&t.to(r._rgba)||[],y(t.props,function(e,t){if(null!=n[t.idx])return o=n[t.idx]===i[t.idx]})),o}),o},_space:function(){var i=[],n=this;return y(m,function(e,t){n[t.cache]&&i.push(e)}),i.pop()},transition:function(e,r){var a=f(e),t=a._space(),i=m[t],n=0===this.alpha()?f("transparent"):this,l=n[i.cache]||i.to(n._rgba),c=l.slice();return a=a[i.cache],y(i.props,function(e,t){var i=t.idx,n=l[i],s=a[i],o=g[t.type]||{};null!==s&&(null===n?c[i]=s:(o.mod&&(s-n>o.mod/2?n+=o.mod:n-s>o.mod/2&&(n-=o.mod)),c[i]=d((s-n)*r+n,t)))}),this[t](c)},blend:function(e){if(1===this._rgba[3])return this;var t=this._rgba.slice(),i=t.pop(),n=f(e)._rgba;return f(u.map(t,function(e,t){return(1-i)*n[t]+i*e}))},toRgbaString:function(){var e="rgba(",t=u.map(this._rgba,function(e,t){return null==e?2<t?1:0:e});return 1===t[3]&&(t.pop(),e="rgb("),e+t.join()+")"},toHslaString:function(){var e="hsla(",t=u.map(this.hsla(),function(e,t){return null==e&&(e=2<t?1:0),t&&t<3&&(e=Math.round(100*e)+"%"),e});return 1===t[3]&&(t.pop(),e="hsl("),e+t.join()+")"},toHexString:function(e){var t=this._rgba.slice(),i=t.pop();return e&&t.push(~~(255*i)),"#"+u.map(t,function(e){return 1===(e=(e||0).toString(16)).length?"0"+e:e}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),f.fn.parse.prototype=f.fn,m.hsla.to=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t,i,n=e[0]/255,s=e[1]/255,o=e[2]/255,r=e[3],a=Math.max(n,s,o),l=Math.min(n,s,o),c=a-l,u=a+l,h=.5*u;return t=l===a?0:n===a?60*(s-o)/c+360:s===a?60*(o-n)/c+120:60*(n-s)/c+240,i=0===c?0:h<=.5?c/u:c/(2-u),[Math.round(t)%360,i,h,null==r?1:r]},m.hsla.from=function(e){if(null==e[0]||null==e[1]||null==e[2])return[null,null,null,e[3]];var t=e[0]/360,i=e[1],n=e[2],s=e[3],o=n<=.5?n*(1+i):n+i-n*i,r=2*n-o;return[Math.round(255*l(r,o,t+1/3)),Math.round(255*l(r,o,t)),Math.round(255*l(r,o,t-1/3)),s]},y(m,function(l,e){var i=e.props,r=e.cache,a=e.to,c=e.from;f.fn[l]=function(e){if(a&&!this[r]&&(this[r]=a(this._rgba)),e===h)return this[r].slice();var t,n=u.type(e),s="array"===n||"object"===n?e:arguments,o=this[r].slice();return y(i,function(e,t){var i=s["object"===n?e:t.idx];null==i&&(i=o[t.idx]),o[t.idx]=d(i,t)}),c?((t=f(c(o)))[r]=o,t):f(o)},y(i,function(r,a){f.fn[r]||(f.fn[r]=function(e){var t,i=u.type(e),n="alpha"===r?this._hsla?"hsla":"rgba":l,s=this[n](),o=s[a.idx];return"undefined"===i?o:("function"===i&&(e=e.call(this,o),i=u.type(e)),null==e&&a.empty?this:("string"===i&&(t=p.exec(e))&&(e=o+parseFloat(t[2])*("+"===t[1]?1:-1)),s[a.idx]=e,this[n](s)))})})}),f.hook=function(e){var t=e.split(" ");y(t,function(e,r){u.cssHooks[r]={set:function(e,t){var i,n,s="";if("transparent"!==t&&("string"!==u.type(t)||(i=a(t)))){if(t=f(i||t),!v.rgba&&1!==t._rgba[3]){for(n="backgroundColor"===r?e.parentNode:e;(""===s||"transparent"===s)&&n&&n.style;)try{s=u.css(n,"backgroundColor"),n=n.parentNode}catch(o){}t=t.blend(s&&"transparent"!==s?s:"_default")}t=t.toRgbaString()}try{e.style[r]=t}catch(o){}}},u.fx.step[r]=function(e){e.colorInit||(e.start=f(e.elem,r),e.end=f(e.end),e.colorInit=!0),u.cssHooks[r].set(e.elem,e.start.transition(e.end,e.pos))}})},f.hook(e),u.cssHooks.borderColor={expand:function(i){var n={};return y(["Top","Right","Bottom","Left"],function(e,t){n["border"+t+"Color"]=i}),n}},c=u.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function r(e){var t,i,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,s={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)"string"==typeof n[t=n[i]]&&(s[h.camelCase(t)]=n[t]);else for(t in n)"string"==typeof n[t]&&(s[t]=n[t]);return s}function a(e,t){var i,n,s={};for(i in t)n=t[i],e[i]!==n&&(u[i]||!h.fx.step[i]&&isNaN(parseFloat(n))||(s[i]=n));return s}var o,s,l,c=["add","remove","toggle"],u={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};h.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,t){h.fx.step[t]=function(e){("none"!==e.end&&!e.setAttr||1===e.pos&&!e.setAttr)&&(jQuery.style(e.elem,t,e.end),e.setAttr=!0)}}),h.fn.addBack||(h.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),h.effects.animateClass=function(s,e,t,i){var o=h.speed(e,t,i);return this.queue(function(){var e,i=h(this),t=i.attr("class")||"",n=o.children?i.find("*").addBack():i;n=n.map(function(){return{el:h(this),start:r(this)}}),(e=function(){h.each(c,function(e,t){s[t]&&i[t+"Class"](s[t])})})(),n=n.map(function(){return this.end=r(this.el[0]),this.diff=a(this.start,this.end),this}),i.attr("class",t),n=n.map(function(){var e=this,t=h.Deferred(),i=h.extend({},o,{queue:!1,complete:function(){t.resolve(e)}});return this.el.animate(this.diff,i),t.promise()}),h.when.apply(h,n.get()).done(function(){e(),h.each(arguments,function(){var t=this.el;h.each(this.diff,function(e){t.css(e,"")})}),o.complete.call(i[0])})})},h.fn.extend({addClass:(l=h.fn.addClass,function(e,t,i,n){return t?h.effects.animateClass.call(this,{add:e},t,i,n):l.apply(this,arguments)}),removeClass:(s=h.fn.removeClass,function(e,t,i,n){return 1<arguments.length?h.effects.animateClass.call(this,{remove:e},t,i,n):s.apply(this,arguments)}),toggleClass:(o=h.fn.toggleClass,function(e,t,i,n,s){return"boolean"==typeof t||t===d?i?h.effects.animateClass.call(this,t?{add:e}:{remove:e},i,n,s):o.apply(this,arguments):h.effects.animateClass.call(this,{toggle:e},t,i,n)}),switchClass:function(e,t,i,n,s){return h.effects.animateClass.call(this,{add:t,remove:e},i,n,s)}})}(),function(){function n(e,t,i,n){return h.isPlainObject(e)&&(e=(t=e).effect),e={effect:e},null==t&&(t={}),h.isFunction(t)&&(n=t,i=null,t={}),("number"==typeof t||h.fx.speeds[t])&&(n=i,i=t,t={}),h.isFunction(i)&&(n=i,i=null),t&&h.extend(e,t),i=i||t.duration,e.duration=h.fx.off?0:"number"==typeof i?i:i in h.fx.speeds?h.fx.speeds[i]:h.fx.speeds._default,e.complete=n||t.complete,e}function i(e){return!(e&&"number"!=typeof e&&!h.fx.speeds[e])||("string"==typeof e&&!h.effects.effect[e]||(!!h.isFunction(e)||"object"==typeof e&&!e.effect))}var s,o,r;h.extend(h.effects,{version:"1.10.3",save:function(e,t){for(var i=0;i<t.length;i++)null!==t[i]&&e.data(a+t[i],e[0].style[t[i]])},restore:function(e,t){var i,n;for(n=0;n<t.length;n++)null!==t[n]&&((i=e.data(a+t[n]))===d&&(i=""),e.css(t[n],i))},setMode:function(e,t){return"toggle"===t&&(t=e.is(":hidden")?"show":"hide"),t},getBaseline:function(e,t){var i,n;switch(e[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=e[0]/t.height}switch(e[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=e[1]/t.width}return{x:n,y:i}},createWrapper:function(i){if(i.parent().is(".ui-effects-wrapper"))return i.parent();var n={width:i.outerWidth(!0),height:i.outerHeight(!0),"float":i.css("float")},e=h("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),t={width:i.width(),height:i.height()},s=document.activeElement;try{s.id}catch(o){s=document.body}return i.wrap(e),(i[0]===s||h.contains(i[0],s))&&h(s).focus(),e=i.parent(),"static"===i.css("position")?(e.css({position:"relative"}),i.css({position:"relative"})):(h.extend(n,{position:i.css("position"),zIndex:i.css("z-index")}),h.each(["top","left","bottom","right"],function(e,t){n[t]=i.css(t),isNaN(parseInt(n[t],10))&&(n[t]="auto")}),i.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),i.css(t),e.css(n).show()},removeWrapper:function(e){var t=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===t||h.contains(e[0],t))&&h(t).focus()),e},setTransition:function(n,e,s,o){return o=o||{},h.each(e,function(e,t){var i=n.cssUnit(t);0<i[0]&&(o[t]=i[0]*s+i[1])}),o}}),h.fn.extend({effect:function(){function e(e){function t(){h.isFunction(n)&&n.call(i[0]),h.isFunction(e)&&e()}var i=h(this),n=o.complete,s=o.mode;(i.is(":hidden")?"hide"===s:"show"===s)?(i[s](),t()):r.call(i[0],o,t)}var o=n.apply(this,arguments),t=o.mode,i=o.queue,r=h.effects.effect[o.effect];return h.fx.off||!r?t?this[t](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):!1===i?this.each(e):this.queue(i||"fx",e)},show:(r=h.fn.show,function(e){if(i(e))return r.apply(this,arguments);var t=n.apply(this,arguments);return t.mode="show",this.effect.call(this,t)}),hide:(o=h.fn.hide,function(e){if(i(e))return o.apply(this,arguments);var t=n.apply(this,arguments);return t.mode="hide",this.effect.call(this,t)}),toggle:(s=h.fn.toggle,function(e){if(i(e)||"boolean"==typeof e)return s.apply(this,arguments);var t=n.apply(this,arguments);return t.mode="toggle",this.effect.call(this,t)}),cssUnit:function(e){var i=this.css(e),n=[];return h.each(["em","px","%","pt"],function(e,t){0<i.indexOf(t)&&(n=[parseFloat(i),t])}),n}})}(),i={},h.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,e){i[e]=function(e){return Math.pow(e,t+2)}}),h.extend(i,{Sine:function(e){return 1-Math.cos(e*Math.PI/2)},Circ:function(e){return 1-Math.sqrt(1-e*e)},Elastic:function(e){return 0===e||1===e?e:-Math.pow(2,8*(e-1))*Math.sin((80*(e-1)-7.5)*Math.PI/15)},Back:function(e){return e*e*(3*e-2)},Bounce:function(e){for(var t,i=4;e<((t=Math.pow(2,--i))-1)/11;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*t-2)/22-e,2)}}),h.each(i,function(e,t){h.easing["easeIn"+e]=t,h.easing["easeOut"+e]=function(e){return 1-t(1-e)},h.easing["easeInOut"+e]=function(e){return e<.5?t(2*e)/2:1-t(-2*e+2)/2}})}(jQuery),function(c){var s=0,d={},p={};d.height=d.paddingTop=d.paddingBottom=d.borderTopWidth=d.borderBottomWidth="hide",p.height=p.paddingTop=p.paddingBottom=p.borderTopWidth=p.borderBottomWidth="show",c.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=c(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||!1!==e.active&&null!=e.active||(e.active=0),this._processPanels(),e.active<0&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():c(),content:this.active.length?this.active.next():c()}},_createIcons:function(){var e=this.options.icons;e&&(c("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),e=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){"active"!==e?("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||!1!==this.options.active||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),"disabled"===e&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t)):this._activate(t)},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var t=c.ui.keyCode,i=this.headers.length,n=this.headers.index(e.target),s=!1;switch(e.keyCode){case t.RIGHT:case t.DOWN:s=this.headers[(n+1)%i];break;case t.LEFT:case t.UP:s=this.headers[(n-1+i)%i];break;case t.SPACE:case t.ENTER:this._eventHandler(e);break;case t.HOME:s=this.headers[0];break;case t.END:s=this.headers[i-1]}s&&(c(e.target).attr("tabIndex",-1),c(s).attr("tabIndex",0),s.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===c.ui.keyCode.UP&&e.ctrlKey&&c(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),!1===e.active&&!0===e.collapsible||!this.headers.length?(e.active=!1,this.active=c()):!1===e.active?this._activate(0):this.active.length&&!c.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=c()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,e=this.options,t=e.heightStyle,n=this.element.parent(),o=this.accordionId="ui-accordion-"+(this.element.attr("id")||++s);this.active=this._findActive(e.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var t=c(this),i=t.attr("id"),n=t.next(),s=n.attr("id");i||(i=o+"-header-"+e,t.attr("id",i)),s||(s=o+"-panel-"+e,n.attr("id",s)),t.attr("aria-controls",s),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(e.event),"fill"===t?(i=n.height(),this.element.siblings(":visible").each(function(){var e=c(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=c(this).outerHeight(!0)}),this.headers.next().each(function(){c(this).height(Math.max(0,i-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===t&&(i=0,this.headers.next().each(function(){i=Math.max(i,c(this).css("height","").height())}).height(i))},_activate:function(e){var t=this._findActive(e)[0];t!==this.active[0]&&(t=t||this.active[0],this._eventHandler({target:t,currentTarget:t,preventDefault:c.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):c()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&c.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var t=this.options,i=this.active,n=c(e.currentTarget),s=n[0]===i[0],o=s&&t.collapsible,r=o?c():n.next(),a=i.next(),l={oldHeader:i,oldPanel:a,newHeader:o?c():n,newPanel:r};e.preventDefault(),s&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!o&&this.headers.index(n),this.active=s?c():n,this._toggle(l),i.removeClass("ui-accordion-header-active ui-state-active"),t.icons&&i.children(".ui-accordion-header-icon").removeClass(t.icons.activeHeader).addClass(t.icons.header),s||(n.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),t.icons&&n.children(".ui-accordion-header-icon").removeClass(t.icons.header).addClass(t.icons.activeHeader),n.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var t=e.newPanel,i=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=t,this.prevHide=i,this.options.animate?this._animate(t,i,e):(i.hide(),t.show(),this._toggleComplete(e)),i.attr({"aria-expanded":"false","aria-hidden":"true"}),i.prev().attr("aria-selected","false"),t.length&&i.length?i.prev().attr("tabIndex",-1):t.length&&this.headers.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1),t.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(e,i,t){var n,s,o,r=this,a=0,l=e.length&&(!i.length||e.index()<i.index()),c=this.options.animate||{},u=l&&c.down||c,h=function(){r._toggleComplete(t)};return"number"==typeof u&&(o=u),"string"==typeof u&&(s=u),s=s||u.easing||c.easing,o=o||u.duration||c.duration,i.length?e.length?(n=e.show().outerHeight(),i.animate(d,{duration:o,easing:s,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(p,{duration:o,easing:s,complete:h,step:function(e,t){t.now=Math.round(e),"height"!==t.prop?a+=t.now:"content"!==r.options.heightStyle&&(t.now=Math.round(n-i.outerHeight()-a),a=0)}})):i.animate(d,o,s,h):e.animate(p,o,s,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}})}(jQuery),function(r){var n=0;r.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var i,n,s,e=this.element[0].nodeName.toLowerCase(),t="textarea"===e,o="input"===e;this.isMultiLine=!!t||!o&&this.element.prop("isContentEditable"),this.valueMethod=this.element[t||o?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(e){if(this.element.prop("readOnly"))n=s=i=!0;else{n=s=i=!1;var t=r.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:i=!0,this._move("previousPage",e);break;case t.PAGE_DOWN:i=!0,this._move("nextPage",e);break;case t.UP:i=!0,this._keyEvent("previous",e);break;case t.DOWN:i=!0,this._keyEvent("next",e);break;case t.ENTER:case t.NUMPAD_ENTER:this.menu.active&&(i=!0,e.preventDefault(
),this.menu.select(e));break;case t.TAB:this.menu.active&&this.menu.select(e);break;case t.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(e),e.preventDefault());break;default:n=!0,this._searchTimeout(e)}}},keypress:function(e){if(i)return i=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||e.preventDefault());if(!n){var t=r.ui.keyCode;switch(e.keyCode){case t.PAGE_UP:this._move("previousPage",e);break;case t.PAGE_DOWN:this._move("nextPage",e);break;case t.UP:this._keyEvent("previous",e);break;case t.DOWN:this._keyEvent("next",e)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=r("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];r(e.target).closest(".ui-menu-item").length||this._delay(function(){var t=this;this.document.one("mousedown",function(e){e.target===t.element[0]||e.target===i||r.contains(i,e.target)||t.close()})})},menufocus:function(e,t){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){r(e.target).trigger(e.originalEvent)});var i=t.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:i})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(i.value):this.liveRegion.text(i.value)},menuselect:function(e,t){var i=t.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",e,{item:i})&&this._value(i.value),this.term=this._value(),this.close(e),this.selectedItem=i}}),this.liveRegion=r("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?r(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var i,n,s=this;r.isArray(this.options.source)?(i=this.options.source,this.source=function(e,t){t(r.ui.autocomplete.filter(i,e.term))}):"string"==typeof this.options.source?(n=this.options.source,this.source=function(e,t){s.xhr&&s.xhr.abort(),s.xhr=r.ajax({url:n,data:e,dataType:"json",success:function(e){t(e)},error:function(){t([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var t=this,i=++n;return function(e){i===n&&t.__response(e),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:r.map(e,function(e){return"string"==typeof e?{label:e,value:e}:r.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var t=this.menu.element.empty();this._renderMenu(t,e),this.isNewMenu=!0,this.menu.refresh(),t.show(),this._resizeMenu(),t.position(r.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(i,e){var n=this;r.each(e,function(e,t){n._renderItemData(i,t)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,t){return r("<li>").append(r("<a>").text(t.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())}}),r.extend(r.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,t){var i=new RegExp(r.ui.autocomplete.escapeRegex(t),"i");return r.grep(e,function(e){return i.test(e.label||e.value||e)})}}),r.widget("ui.autocomplete",r.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(1<e?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var t;this._superApply(arguments),this.options.disabled||this.cancelSearch||(t=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.text(t))}})}(jQuery),function(o){var r,a,l,c,u="ui-button ui-widget ui-state-default ui-corner-all",e="ui-state-hover ui-state-active ",h="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",d=function(){var e=o(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},p=function(e){var t=e.name,i=e.form,n=o([]);return t&&(t=t.replace(/'/g,"\\'"),n=i?o(i).find("[name='"+t+"']"):o("[name='"+t+"']",e.ownerDocument).filter(function(){return!this.form})),n};o.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,d),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,e="checkbox"===this.type||"radio"===this.type,n=e?"":"ui-state-active",s="ui-state-focus";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(u).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===r&&o(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||o(this).removeClass(n)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){t.buttonElement.addClass(s)}).bind("blur"+this.eventNamespace,function(){t.buttonElement.removeClass(s)}),e&&(this.element.bind("change"+this.eventNamespace,function(){c||t.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(e){i.disabled||(c=!1,a=e.pageX,l=e.pageY)}).bind("mouseup"+this.eventNamespace,function(e){i.disabled||a===e.pageX&&l===e.pageY||(c=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled||c)return!1}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled||c)return!1;o(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var e=t.element[0];p(e).not(e).map(function(){return o(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){if(i.disabled)return!1;o(this).addClass("ui-state-active"),r=this,t.document.one("mouseup",function(){r=null})}).bind("mouseup"+this.eventNamespace,function(){if(i.disabled)return!1;o(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){if(i.disabled)return!1;e.keyCode!==o.ui.keyCode.SPACE&&e.keyCode!==o.ui.keyCode.ENTER||o(this).addClass("ui-state-active")}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){o(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===o.ui.keyCode.SPACE&&o(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.element.is("[type=checkbox]")?this.type="checkbox":this.element.is("[type=radio]")?this.type="radio":this.element.is("input")?this.type="input":this.type="button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),(i=this.element.is(":checked"))&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(u+" "+e+" "+h).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){this._super(e,t),"disabled"!==e?this._resetButton():t?this.element.prop("disabled",!0):this.element.prop("disabled",!1)},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?p(this.element[0]).each(function(){o(this).is(":checked")?o(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):o(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"!==this.type){var e=this.buttonElement.removeClass(h),t=o("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),i=this.options.icons,n=i.primary&&i.secondary,s=[];i.primary||i.secondary?(this.options.text&&s.push("ui-button-text-icon"+(n?"s":i.primary?"-primary":"-secondary")),i.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+i.primary+"'></span>"),i.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+i.secondary+"'></span>"),this.options.text||(s.push(n?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",o.trim(t)))):s.push("ui-button-text-only"),e.addClass(s.join(" "))}else this.options.label&&this.element.val(this.options.label)}}),o.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return o(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return o(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(S,l){function e(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},S.extend(this._defaults,this.regional[""]),this.dpDiv=i(S("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function i(e){var t="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(t,"mouseout",function(){S(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).removeClass("ui-datepicker-next-hover")}).delegate(t,"mouseover",function(){S.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(S(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),S(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&S(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&S(this).addClass("ui-datepicker-next-hover"))})}function h(e,t){for(var i in S.extend(e,t),t)null==t[i]&&(e[i]=t[i]);return e}S.extend(S.ui,{datepicker:{version:"1.10.3"}});var o,d="datepicker";S.extend(e.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(e){return h(this._defaults,e||{}),this},_attachDatepicker:function(e,t){var i,n,s;n="div"===(i=e.nodeName.toLowerCase())||"span"===i,e.id||(this.uuid+=1,e.id="dp"+this.uuid),(s=this._newInst(S(e),n)).settings=S.extend({},t||{}),"input"===i?this._connectDatepicker(e,s):n&&this._inlineDatepicker(e,s)},_newInst:function(e,t){return{id:e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1"),input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:t,dpDiv:t?i(S("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,t){var i=S(e);t.append=S([]),t.trigger=S([]),i.hasClass(this.markerClassName)||(this._attachments(i,t),i.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(t),S.data(e,d,t),t.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,t){var i,n,s,o=this._get(t,"appendText"),r=this._get(t,"isRTL");t.append&&t.append.remove(),o&&(t.append=S("<span class='"+this._appendClass+"'>"+o+"</span>"),e[r?"before":"after"](t.append)),e.unbind("focus",this._showDatepicker),t.trigger&&t.trigger.remove(),"focus"!==(i=this._get(t,"showOn"))&&"both"!==i||e.focus(this._showDatepicker),"button"!==i&&"both"!==i||(n=this._get(t,"buttonText"),s=this._get(t,"buttonImage"),t.trigger=S(this._get(t,"buttonImageOnly")?S("<img/>").addClass(this._triggerClass).attr({src:s,alt:n,title:n}):S("<button type='button'></button>").addClass(this._triggerClass).html(s?S("<img/>").attr({src:s,alt:n,title:n}):n)),e[r?"before":"after"](t.trigger),t.trigger.click(function(){return S.datepicker._datepickerShowing&&S.datepicker._lastInput===e[0]?S.datepicker._hideDatepicker():(S.datepicker._datepickerShowing&&S.datepicker._lastInput!==e[0]&&S.datepicker._hideDatepicker(),S.datepicker._showDatepicker(e[0])),!1}))},_autoSize:function(e){if(this._get(e,"autoSize")&&!e.inline){var t,i,n,s,o=new Date(2009,11,20),r=this._get(e,"dateFormat");r.match(/[DM]/)&&(t=function(e){for(s=n=i=0;s<e.length;s++)e[s].length>i&&(i=e[s].length,n=s);return n},o.setMonth(t(this._get(e,r.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(t(this._get(e,r.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),e.input.attr("size",this._formatDate(e,o).length)}},_inlineDatepicker:function(e,t){var i=S(e);i.hasClass(this.markerClassName)||(i.addClass(this.markerClassName).append(t.dpDiv),S.data(e,d,t),this._setDate(t,this._getDefaultDate(t),!0),this._updateDatepicker(t),this._updateAlternate(t),t.settings.disabled&&this._disableDatepicker(e),t.dpDiv.css("display","block"))},_dialogDatepicker:function(e,t,i,n,s){var o,r,a,l,c,u=this._dialogInst;return u||(this.uuid+=1,o="dp"+this.uuid,this._dialogInput=S("<input type='text' id='"+o+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),S("body").append(this._dialogInput),(u=this._dialogInst=this._newInst(this._dialogInput,!1)).settings={},S.data(this._dialogInput[0],d,u)),h(u.settings,n||{}),t=t&&t.constructor===Date?this._formatDate(u,t):t,this._dialogInput.val(t),this._pos=s?s.length?s:[s.pageX,s.pageY]:null,this._pos||(r=document.documentElement.clientWidth,a=document.documentElement.clientHeight,l=document.documentElement.scrollLeft||document.body.scrollLeft,c=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[r/2-100+l,a/2-150+c]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),u.settings.onSelect=i,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),S.blockUI&&S.blockUI(this.dpDiv),S.data(this._dialogInput[0],d,u),this},_destroyDatepicker:function(e){var t,i=S(e),n=S.data(e,d);i.hasClass(this.markerClassName)&&(t=e.nodeName.toLowerCase(),S.removeData(e,d),"input"===t?(n.append.remove(),n.trigger.remove(),i.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):"div"!==t&&"span"!==t||i.removeClass(this.markerClassName).empty())},_enableDatepicker:function(t){var e,i,n=S(t),s=S.data(t,d);n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!1,s.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().removeClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=S.map(this._disabledInputs,function(e){return e===t?null:e}))},_disableDatepicker:function(t){var e,i,n=S(t),s=S.data(t,d);n.hasClass(this.markerClassName)&&("input"===(e=t.nodeName.toLowerCase())?(t.disabled=!0,s.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):"div"!==e&&"span"!==e||((i=n.children("."+this._inlineClass)).children().addClass("ui-state-disabled"),i.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=S.map(this._disabledInputs,function(e){return e===t?null:e}),this._disabledInputs[this._disabledInputs.length]=t)},_isDisabledDatepicker:function(e){if(!e)return!1;for(var t=0;t<this._disabledInputs.length;t++)if(this._disabledInputs[t]===e)return!0;return!1},_getInst:function(e){try{return S.data(e,d)}catch(t){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(e,t,i){var n,s,o,r,a=this._getInst(e);if(2===arguments.length&&"string"==typeof t)return"defaults"===t?S.extend({},S.datepicker._defaults):a?"all"===t?S.extend({},a.settings):this._get(a,t):null;n=t||{},"string"==typeof t&&((n={})[t]=i),a&&(this._curInst===a&&this._hideDatepicker(),s=this._getDateDatepicker(e,!0),o=this._getMinMaxDate(a,"min"),r=this._getMinMaxDate(a,"max"),h(a.settings,n),null!==o&&n.dateFormat!==l&&n.minDate===l&&(a.settings.minDate=this._formatDate(a,o)),null!==r&&n.dateFormat!==l&&n.maxDate===l&&(a.settings.maxDate=this._formatDate(a,r)),"disabled"in n&&(n.disabled?this._disableDatepicker(e):this._enableDatepicker(e)),this._attachments(S(e),a),this._autoSize(a),this._setDate(a,s),this._updateAlternate(a),this._updateDatepicker(a))},_changeDatepicker:function(e,t,i){this._optionDatepicker(e,t,i)},_refreshDatepicker:function(e){var t=this._getInst(e);t&&this._updateDatepicker(t)},_setDateDatepicker:function(e,t){var i=this._getInst(e);i&&(this._setDate(i,t),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(e,t){var i=this._getInst(e);return i&&!i.inline&&this._setDateFromField(i,t),i?this._getDate(i):null},_doKeyDown:function(e){var t,i,n,s=S.datepicker._getInst(e.target),o=!0,r=s.dpDiv.is(".ui-datepicker-rtl");if(s._keyEvent=!0,S.datepicker._datepickerShowing)switch(e.keyCode){case 9:S.datepicker._hideDatepicker(),o=!1;break;case 13:return(n=S("td."+S.datepicker._dayOverClass+":not(."+S.datepicker._currentClass+")",s.dpDiv))[0]&&S.datepicker._selectDay(e.target,s.selectedMonth,s.selectedYear,n[0]),(t=S.datepicker._get(s,"onSelect"))?(i=S.datepicker._formatDate(s),t.apply(s.input?s.input[0]:null,[i,s])):S.datepicker._hideDatepicker(),!1;case 27:S.datepicker._hideDatepicker();break;case 33:S.datepicker._adjustDate(e.target,e.ctrlKey?-S.datepicker._get(s,"stepBigMonths"):-S.datepicker._get(s,"stepMonths"),"M");break;case 34:S.datepicker._adjustDate(e.target,e.ctrlKey?+S.datepicker._get(s,"stepBigMonths"):+S.datepicker._get(s,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&S.datepicker._clearDate(e.target),o=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&S.datepicker._gotoToday(e.target),o=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,r?1:-1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&S.datepicker._adjustDate(e.target,e.ctrlKey?-S.datepicker._get(s,"stepBigMonths"):-S.datepicker._get(s,"stepMonths"),"M");break;case 38:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,-7,"D"),o=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,r?-1:1,"D"),o=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&S.datepicker._adjustDate(e.target,e.ctrlKey?+S.datepicker._get(s,"stepBigMonths"):+S.datepicker._get(s,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&S.datepicker._adjustDate(e.target,7,"D"),o=e.ctrlKey||e.metaKey;break;default:o=!1}else 36===e.keyCode&&e.ctrlKey?S.datepicker._showDatepicker(this):o=!1;o&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(e){var t,i,n=S.datepicker._getInst(e.target);if(S.datepicker._get(n,"constrainInput"))return t=S.datepicker._possibleChars(S.datepicker._get(n,"dateFormat")),i=String.fromCharCode(null==e.charCode?e.keyCode:e.charCode),e.ctrlKey||e.metaKey||i<" "||!t||-1<t.indexOf(i)},_doKeyUp:function(e){var t=S.datepicker._getInst(e.target);if(t.input.val()!==t.lastVal)try{S.datepicker.parseDate(S.datepicker._get(t,"dateFormat"),t.input?t.input.val():null,S.datepicker._getFormatConfig(t))&&(S.datepicker._setDateFromField(t),S.datepicker._updateAlternate(t),S.datepicker._updateDatepicker(t))}catch(i){}return!0},_showDatepicker:function(e){var t,i,n,s,o,r,a;("input"!==(e=e.target||e).nodeName.toLowerCase()&&(e=S("input",e.parentNode)[0]),S.datepicker._isDisabledDatepicker(e)||S.datepicker._lastInput===e)||(t=S.datepicker._getInst(e),S.datepicker._curInst&&S.datepicker._curInst!==t&&(S.datepicker._curInst.dpDiv.stop(!0,!0),t&&S.datepicker._datepickerShowing&&S.datepicker._hideDatepicker(S.datepicker._curInst.input[0])),!1!==(n=(i=S.datepicker._get(t,"beforeShow"))?i.apply(e,[e,t]):{})&&(h(t.settings,n),t.lastVal=null,S.datepicker._lastInput=e,S.datepicker._setDateFromField(t),S.datepicker._inDialog&&(e.value=""),S.datepicker._pos||(S.datepicker._pos=S.datepicker._findPos(e),S.datepicker._pos[1]+=e.offsetHeight),s=!1,S(e).parents().each(function(){return!(s|="fixed"===S(this).css("position"))}),o={left:S.datepicker._pos[0],top:S.datepicker._pos[1]},S.datepicker._pos=null,t.dpDiv.empty(),t.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),S.datepicker._updateDatepicker(t),o=S.datepicker._checkOffset(t,o,s),t.dpDiv.css({position:S.datepicker._inDialog&&S.blockUI?"static":s?"fixed":"absolute",display:"none",left:o.left+"px",top:o.top+"px"}),t.inline||(r=S.datepicker._get(t,"showAnim"),a=S.datepicker._get(t,"duration"),t.dpDiv.zIndex(S(e).zIndex()+1),S.datepicker._datepickerShowing=!0,S.effects&&S.effects.effect[r]?t.dpDiv.show(r,S.datepicker._get(t,"showOptions"),a):t.dpDiv[r||"show"](r?a:null),S.datepicker._shouldFocusInput(t)&&t.input.focus(),S.datepicker._curInst=t)))},_updateDatepicker:function(e){this.maxRows=4,(o=e).dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var t,i=this._getNumberOfMonths(e),n=i[1],s=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),1<n&&e.dpDiv.addClass("ui-datepicker-multi-"+n).css("width",s*n+"em"),e.dpDiv[(1!==i[0]||1!==i[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===S.datepicker._curInst&&S.datepicker._datepickerShowing&&S.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(t=e.yearshtml,setTimeout(function(){t===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),t=e.yearshtml=null},0))},_shouldFocusInput:function(e){return e.input&&e.input.is(":visible")&&!e.input.is(":disabled")&&!e.input.is(":focus")},_checkOffset:function(e,t,i){var n=e.dpDiv.outerWidth(),s=e.dpDiv.outerHeight(),o=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,a=document.documentElement.clientWidth+(i?0:S(document).scrollLeft()),l=document.documentElement.clientHeight+(i?0:S(document).scrollTop());return t.left-=this._get(e,"isRTL")?n-o:0,t.left-=i&&t.left===e.input.offset().left?S(document).scrollLeft():0,t.top-=i&&t.top===e.input.offset().top+r?S(document).scrollTop():0,t.left-=Math.min(t.left,t.left+n>a&&n<a?Math.abs(t.left+n-a):0),t.top-=Math.min(t.top,t.top+s>l&&s<l?Math.abs(s+r):0),t},_findPos:function(e){for(var t,i=this._getInst(e),n=this._get(i,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||S.expr.filters.hidden(e));)e=e[n?"previousSibling":"nextSibling"];return[(t=S(e).offset()).left,t.top]},_hideDatepicker:function(e){var t,i,n,s,o=this._curInst;!o||e&&o!==S.data(e,d)||this._datepickerShowing&&(t=this._get(o,"showAnim"),i=this._get(o,"duration"),n=function(){S.datepicker._tidyDialog(o)},S.effects&&(S.effects.effect[t]||S.effects[t])?o.dpDiv.hide(t,S.datepicker._get(o,"showOptions"),i,n):o.dpDiv["slideDown"===t?"slideUp":"fadeIn"===t?"fadeOut":"hide"](t?i:null,n),t||n(),this._datepickerShowing=!1,(s=this._get(o,"onClose"))&&s.apply(o.input?o.input[0]:null,[o.input?o.input.val():"",o]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),S.blockUI&&(S.unblockUI(),S("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(e){e.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(S.datepicker._curInst){var t=S(e.target),i=S.datepicker._getInst(t[0]);(t[0].id===S.datepicker._mainDivId||0!==t.parents("#"+S.datepicker._mainDivId).length||t.hasClass(S.datepicker.markerClassName)||t.closest("."+S.datepicker._triggerClass).length||!S.datepicker._datepickerShowing||S.datepicker._inDialog&&S.blockUI)&&(!t.hasClass(S.datepicker.markerClassName)||S.datepicker._curInst===i)||S.datepicker._hideDatepicker()}},_adjustDate:function(e,t,i){var n=S(e),s=this._getInst(n[0]);this._isDisabledDatepicker(n[0])||(this._adjustInstDate(s,t+("M"===i?this._get(s,"showCurrentAtPos"):0),i),this._updateDatepicker(s))},_gotoToday:function(e){var t,i=S(e),n=this._getInst(i[0]);this._get(n,"gotoCurrent")&&n.currentDay?(n.selectedDay=n.currentDay,n.drawMonth=n.selectedMonth=n.currentMonth,n.drawYear=n.selectedYear=n.currentYear):(t=new Date,n.selectedDay=t.getDate(),n.drawMonth=n.selectedMonth=t.getMonth(),n.drawYear=n.selectedYear=t.getFullYear()),this._notifyChange(n),this._adjustDate(i)},_selectMonthYear:function(e,t,i){var n=S(e),s=this._getInst(n[0]);s["selected"+("M"===i?"Month":"Year")]=s["draw"+("M"===i?"Month":"Year")]=parseInt(t.options[t.selectedIndex].value,10),this._notifyChange(s),this._adjustDate(n)},_selectDay:function(e,t,i,n){var s,o=S(e);S(n).hasClass(this._unselectableClass)||this._isDisabledDatepicker(o[0])||((s=this._getInst(o[0])).selectedDay=s.currentDay=S("a",n).html(),s.selectedMonth=s.currentMonth=t,s.selectedYear=s.currentYear=i,this._selectDate(e,this._formatDate(s,s.currentDay,s.currentMonth,s.currentYear)))},_clearDate:function(e){var t=S(e);this._selectDate(t,"")},_selectDate:function(e,t){var i,n=S(e),s=this._getInst(n[0]);t=null!=t?t:this._formatDate(s),s.input&&s.input.val(t),this._updateAlternate(s),(i=this._get(s,"onSelect"))?i.apply(s.input?s.input[0]:null,[t,s]):s.input&&s.input.trigger("change"),s.inline?this._updateDatepicker(s):(this._hideDatepicker(),this._lastInput=s.input[0],"object"!=typeof s.input[0]&&s.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var t,i,n,s=this._get(e,"altField");s&&(t=this._get(e,"altFormat")||this._get(e,"dateFormat"),i=this._getDate(e),n=this.formatDate(t,i,this._getFormatConfig(e)),S(s).each(function(){S(this).val(n)}))},noWeekends:function(e){var t=e.getDay();return[0<t&&t<6,""]},iso8601Week:function(e){var t,i=new Date(e.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),t=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((t-i)/864e5)/7)+1},parseDate:function(i,o,e){if(null==i||null==o)throw"Invalid arguments";if(""===(o="object"==typeof o?o.toString():o+""))return null;var n,t,s,r,a=0,l=(e?e.shortYearCutoff:null)||this._defaults.shortYearCutoff,c="string"!=typeof l?l:(new Date).getFullYear()%100+parseInt(l,10),u=(e?e.dayNamesShort:null)||this._defaults.dayNamesShort,h=(e?e.dayNames:null)||this._defaults.dayNames,d=(e?e.monthNamesShort:null)||this._defaults.monthNamesShort,p=(e?e.monthNames:null)||this._defaults.monthNames,f=-1,m=-1,g=-1,v=-1,y=!1
,_=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},w=function(e){var t=_(e),i=new RegExp("^\\d{1,"+("@"===e?14:"!"===e?20:"y"===e&&t?4:"o"===e?3:2)+"}"),n=o.substring(a).match(i);if(!n)throw"Missing number at position "+a;return a+=n[0].length,parseInt(n[0],10)},b=function(e,t,i){var n=-1,s=S.map(_(e)?i:t,function(e,t){return[[t,e]]}).sort(function(e,t){return-(e[1].length-t[1].length)});if(S.each(s,function(e,t){var i=t[1];if(o.substr(a,i.length).toLowerCase()===i.toLowerCase())return n=t[0],a+=i.length,!1}),-1!==n)return n+1;throw"Unknown name at position "+a},x=function(){if(o.charAt(a)!==i.charAt(n))throw"Unexpected literal at position "+a;a++};for(n=0;n<i.length;n++)if(y)"'"!==i.charAt(n)||_("'")?x():y=!1;else switch(i.charAt(n)){case"d":g=w("d");break;case"D":b("D",u,h);break;case"o":v=w("o");break;case"m":m=w("m");break;case"M":m=b("M",d,p);break;case"y":f=w("y");break;case"@":f=(r=new Date(w("@"))).getFullYear(),m=r.getMonth()+1,g=r.getDate();break;case"!":f=(r=new Date((w("!")-this._ticksTo1970)/1e4)).getFullYear(),m=r.getMonth()+1,g=r.getDate();break;case"'":_("'")?x():y=!0;break;default:x()}if(a<o.length&&(s=o.substr(a),!/^\s+/.test(s)))throw"Extra/unparsed characters found in date: "+s;if(-1===f?f=(new Date).getFullYear():f<100&&(f+=(new Date).getFullYear()-(new Date).getFullYear()%100+(f<=c?0:-100)),-1<v)for(m=1,g=v;;){if(g<=(t=this._getDaysInMonth(f,m-1)))break;m++,g-=t}if((r=this._daylightSavingAdjust(new Date(f,m-1,g))).getFullYear()!==f||r.getMonth()+1!==m||r.getDate()!==g)throw"Invalid date";return r},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:24*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925))*60*60*1e7,formatDate:function(i,e,t){if(!e)return"";var n,s=(t?t.dayNamesShort:null)||this._defaults.dayNamesShort,o=(t?t.dayNames:null)||this._defaults.dayNames,r=(t?t.monthNamesShort:null)||this._defaults.monthNamesShort,a=(t?t.monthNames:null)||this._defaults.monthNames,l=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t},c=function(e,t,i){var n=""+t;if(l(e))for(;n.length<i;)n="0"+n;return n},u=function(e,t,i,n){return l(e)?n[t]:i[t]},h="",d=!1;if(e)for(n=0;n<i.length;n++)if(d)"'"!==i.charAt(n)||l("'")?h+=i.charAt(n):d=!1;else switch(i.charAt(n)){case"d":h+=c("d",e.getDate(),2);break;case"D":h+=u("D",e.getDay(),s,o);break;case"o":h+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":h+=c("m",e.getMonth()+1,2);break;case"M":h+=u("M",e.getMonth(),r,a);break;case"y":h+=l("y")?e.getFullYear():(e.getYear()%100<10?"0":"")+e.getYear()%100;break;case"@":h+=e.getTime();break;case"!":h+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?h+="'":d=!0;break;default:h+=i.charAt(n)}return h},_possibleChars:function(i){var n,e="",t=!1,s=function(e){var t=n+1<i.length&&i.charAt(n+1)===e;return t&&n++,t};for(n=0;n<i.length;n++)if(t)"'"!==i.charAt(n)||s("'")?e+=i.charAt(n):t=!1;else switch(i.charAt(n)){case"d":case"m":case"y":case"@":e+="0123456789";break;case"D":case"M":return null;case"'":s("'")?e+="'":t=!0;break;default:e+=i.charAt(n)}return e},_get:function(e,t){return e.settings[t]!==l?e.settings[t]:this._defaults[t]},_setDateFromField:function(e,t){if(e.input.val()!==e.lastVal){var i=this._get(e,"dateFormat"),n=e.lastVal=e.input?e.input.val():null,s=this._getDefaultDate(e),o=s,r=this._getFormatConfig(e);try{o=this.parseDate(i,n,r)||s}catch(a){n=t?"":n}e.selectedDay=o.getDate(),e.drawMonth=e.selectedMonth=o.getMonth(),e.drawYear=e.selectedYear=o.getFullYear(),e.currentDay=n?o.getDate():0,e.currentMonth=n?o.getMonth():0,e.currentYear=n?o.getFullYear():0,this._adjustInstDate(e)}},_getDefaultDate:function(e){return this._restrictMinMax(e,this._determineDate(e,this._get(e,"defaultDate"),new Date))},_determineDate:function(l,e,t){var i=function(e){var t=new Date;return t.setDate(t.getDate()+e),t},n=null==e||""===e?t:"string"==typeof e?function(e){try{return S.datepicker.parseDate(S.datepicker._get(l,"dateFormat"),e,S.datepicker._getFormatConfig(l))}catch(a){}for(var t=(e.toLowerCase().match(/^c/)?S.datepicker._getDate(l):null)||new Date,i=t.getFullYear(),n=t.getMonth(),s=t.getDate(),o=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,r=o.exec(e);r;){switch(r[2]||"d"){case"d":case"D":s+=parseInt(r[1],10);break;case"w":case"W":s+=7*parseInt(r[1],10);break;case"m":case"M":n+=parseInt(r[1],10),s=Math.min(s,S.datepicker._getDaysInMonth(i,n));break;case"y":case"Y":i+=parseInt(r[1],10),s=Math.min(s,S.datepicker._getDaysInMonth(i,n))}r=o.exec(e)}return new Date(i,n,s)}(e):"number"==typeof e?isNaN(e)?t:i(e):new Date(e.getTime());return(n=n&&"Invalid Date"===n.toString()?t:n)&&(n.setHours(0),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0)),this._daylightSavingAdjust(n)},_daylightSavingAdjust:function(e){return e?(e.setHours(12<e.getHours()?e.getHours()+2:0),e):null},_setDate:function(e,t,i){var n=!t,s=e.selectedMonth,o=e.selectedYear,r=this._restrictMinMax(e,this._determineDate(e,t,new Date));e.selectedDay=e.currentDay=r.getDate(),e.drawMonth=e.selectedMonth=e.currentMonth=r.getMonth(),e.drawYear=e.selectedYear=e.currentYear=r.getFullYear(),s===e.selectedMonth&&o===e.selectedYear||i||this._notifyChange(e),this._adjustInstDate(e),e.input&&e.input.val(n?"":this._formatDate(e))},_getDate:function(e){return!e.currentYear||e.input&&""===e.input.val()?null:this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay))},_attachHandlers:function(e){var t=this._get(e,"stepMonths"),i="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){S.datepicker._adjustDate(i,-t,"M")},next:function(){S.datepicker._adjustDate(i,+t,"M")},hide:function(){S.datepicker._hideDatepicker()},today:function(){S.datepicker._gotoToday(i)},selectDay:function(){return S.datepicker._selectDay(i,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return S.datepicker._selectMonthYear(i,this,"M"),!1},selectYear:function(){return S.datepicker._selectMonthYear(i,this,"Y"),!1}};S(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(e){var t,i,n,s,o,r,a,l,c,u,h,d,p,f,m,g,v,y,_,w,b,x,S,C,E,T,k,R,M,P,N,D,I,O,L,A,H,F,j,z=new Date,$=this._daylightSavingAdjust(new Date(z.getFullYear(),z.getMonth(),z.getDate())),B=this._get(e,"isRTL"),W=this._get(e,"showButtonPanel"),U=this._get(e,"hideIfNoPrevNext"),V=this._get(e,"navigationAsDateFormat"),q=this._getNumberOfMonths(e),Y=this._get(e,"showCurrentAtPos"),G=this._get(e,"stepMonths"),X=1!==q[0]||1!==q[1],Z=this._daylightSavingAdjust(e.currentDay?new Date(e.currentYear,e.currentMonth,e.currentDay):new Date(9999,9,9)),K=this._getMinMaxDate(e,"min"),Q=this._getMinMaxDate(e,"max"),J=e.drawMonth-Y,ee=e.drawYear;if(J<0&&(J+=12,ee--),Q)for(t=this._daylightSavingAdjust(new Date(Q.getFullYear(),Q.getMonth()-q[0]*q[1]+1,Q.getDate())),t=K&&t<K?K:t;this._daylightSavingAdjust(new Date(ee,J,1))>t;)--J<0&&(J=11,ee--);for(e.drawMonth=J,e.drawYear=ee,i=this._get(e,"prevText"),i=V?this.formatDate(i,this._daylightSavingAdjust(new Date(ee,J-G,1)),this._getFormatConfig(e)):i,n=this._canAdjustMonth(e,-1,ee,J)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>":U?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"e":"w")+"'>"+i+"</span></a>",s=this._get(e,"nextText"),s=V?this.formatDate(s,this._daylightSavingAdjust(new Date(ee,J+G,1)),this._getFormatConfig(e)):s,o=this._canAdjustMonth(e,1,ee,J)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>":U?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(B?"w":"e")+"'>"+s+"</span></a>",r=this._get(e,"currentText"),a=this._get(e,"gotoCurrent")&&e.currentDay?Z:$,r=V?this.formatDate(r,a,this._getFormatConfig(e)):r,l=e.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(e,"closeText")+"</button>",c=W?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(B?l:"")+(this._isInRange(e,a)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+r+"</button>":"")+(B?"":l)+"</div>":"",u=parseInt(this._get(e,"firstDay"),10),u=isNaN(u)?0:u,h=this._get(e,"showWeek"),d=this._get(e,"dayNames"),p=this._get(e,"dayNamesMin"),f=this._get(e,"monthNames"),m=this._get(e,"monthNamesShort"),g=this._get(e,"beforeShowDay"),v=this._get(e,"showOtherMonths"),y=this._get(e,"selectOtherMonths"),_=this._getDefaultDate(e),w="",x=0;x<q[0];x++){for(S="",this.maxRows=4,C=0;C<q[1];C++){if(E=this._daylightSavingAdjust(new Date(ee,J,e.selectedDay)),T=" ui-corner-all",k="",X){if(k+="<div class='ui-datepicker-group",1<q[1])switch(C){case 0:k+=" ui-datepicker-group-first",T=" ui-corner-"+(B?"right":"left");break;case q[1]-1:k+=" ui-datepicker-group-last",T=" ui-corner-"+(B?"left":"right");break;default:k+=" ui-datepicker-group-middle",T=""}k+="'>"}for(k+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+T+"'>"+(/all|left/.test(T)&&0===x?B?o:n:"")+(/all|right/.test(T)&&0===x?B?n:o:"")+this._generateMonthYearHeader(e,J,ee,K,Q,0<x||0<C,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",R=h?"<th class='ui-datepicker-week-col'>"+this._get(e,"weekHeader")+"</th>":"",b=0;b<7;b++)R+="<th"+(5<=(b+u+6)%7?" class='ui-datepicker-week-end'":"")+"><span title='"+d[M=(b+u)%7]+"'>"+p[M]+"</span></th>";for(k+=R+"</tr></thead><tbody>",P=this._getDaysInMonth(ee,J),ee===e.selectedYear&&J===e.selectedMonth&&(e.selectedDay=Math.min(e.selectedDay,P)),N=(this._getFirstDayOfMonth(ee,J)-u+7)%7,D=Math.ceil((N+P)/7),I=X&&this.maxRows>D?this.maxRows:D,this.maxRows=I,O=this._daylightSavingAdjust(new Date(ee,J,1-N)),L=0;L<I;L++){for(k+="<tr>",A=h?"<td class='ui-datepicker-week-col'>"+this._get(e,"calculateWeek")(O)+"</td>":"",b=0;b<7;b++)H=g?g.apply(e.input?e.input[0]:null,[O]):[!0,""],j=(F=O.getMonth()!==J)&&!y||!H[0]||K&&O<K||Q&&Q<O,A+="<td class='"+(5<=(b+u+6)%7?" ui-datepicker-week-end":"")+(F?" ui-datepicker-other-month":"")+(O.getTime()===E.getTime()&&J===e.selectedMonth&&e._keyEvent||_.getTime()===O.getTime()&&_.getTime()===E.getTime()?" "+this._dayOverClass:"")+(j?" "+this._unselectableClass+" ui-state-disabled":"")+(F&&!v?"":" "+H[1]+(O.getTime()===Z.getTime()?" "+this._currentClass:"")+(O.getTime()===$.getTime()?" ui-datepicker-today":""))+"'"+(F&&!v||!H[2]?"":" title='"+H[2].replace(/'/g,"&#39;")+"'")+(j?"":" data-handler='selectDay' data-event='click' data-month='"+O.getMonth()+"' data-year='"+O.getFullYear()+"'")+">"+(F&&!v?"&#xa0;":j?"<span class='ui-state-default'>"+O.getDate()+"</span>":"<a class='ui-state-default"+(O.getTime()===$.getTime()?" ui-state-highlight":"")+(O.getTime()===Z.getTime()?" ui-state-active":"")+(F?" ui-priority-secondary":"")+"' href='#'>"+O.getDate()+"</a>")+"</td>",O.setDate(O.getDate()+1),O=this._daylightSavingAdjust(O);k+=A+"</tr>"}11<++J&&(J=0,ee++),S+=k+="</tbody></table>"+(X?"</div>"+(0<q[0]&&C===q[1]-1?"<div class='ui-datepicker-row-break'></div>":""):"")}w+=S}return w+=c,e._keyEvent=!1,w},_generateMonthYearHeader:function(e,t,i,n,s,o,r,a){var l,c,u,h,d,p,f,m,g=this._get(e,"changeMonth"),v=this._get(e,"changeYear"),y=this._get(e,"showMonthAfterYear"),_="<div class='ui-datepicker-title'>",w="";if(o||!g)w+="<span class='ui-datepicker-month'>"+r[t]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,w+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",u=0;u<12;u++)(!l||u>=n.getMonth())&&(!c||u<=s.getMonth())&&(w+="<option value='"+u+"'"+(u===t?" selected='selected'":"")+">"+a[u]+"</option>");w+="</select>"}if(y||(_+=w+(!o&&g&&v?"":"&#xa0;")),!e.yearshtml)if(e.yearshtml="",o||!v)_+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(h=this._get(e,"yearRange").split(":"),d=(new Date).getFullYear(),f=(p=function(e){var t=e.match(/c[+\-].*/)?i+parseInt(e.substring(1),10):e.match(/[+\-].*/)?d+parseInt(e,10):parseInt(e,10);return isNaN(t)?d:t})(h[0]),m=Math.max(f,p(h[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,e.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";f<=m;f++)e.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";e.yearshtml+="</select>",_+=e.yearshtml,e.yearshtml=null}return _+=this._get(e,"yearSuffix"),y&&(_+=(!o&&g&&v?"":"&#xa0;")+w),_+="</div>"},_adjustInstDate:function(e,t,i){var n=e.drawYear+("Y"===i?t:0),s=e.drawMonth+("M"===i?t:0),o=Math.min(e.selectedDay,this._getDaysInMonth(n,s))+("D"===i?t:0),r=this._restrictMinMax(e,this._daylightSavingAdjust(new Date(n,s,o)));e.selectedDay=r.getDate(),e.drawMonth=e.selectedMonth=r.getMonth(),e.drawYear=e.selectedYear=r.getFullYear(),"M"!==i&&"Y"!==i||this._notifyChange(e)},_restrictMinMax:function(e,t){var i=this._getMinMaxDate(e,"min"),n=this._getMinMaxDate(e,"max"),s=i&&t<i?i:t;return n&&n<s?n:s},_notifyChange:function(e){var t=this._get(e,"onChangeMonthYear");t&&t.apply(e.input?e.input[0]:null,[e.selectedYear,e.selectedMonth+1,e])},_getNumberOfMonths:function(e){var t=this._get(e,"numberOfMonths");return null==t?[1,1]:"number"==typeof t?[1,t]:t},_getMinMaxDate:function(e,t){return this._determineDate(e,this._get(e,t+"Date"),null)},_getDaysInMonth:function(e,t){return 32-this._daylightSavingAdjust(new Date(e,t,32)).getDate()},_getFirstDayOfMonth:function(e,t){return new Date(e,t,1).getDay()},_canAdjustMonth:function(e,t,i,n){var s=this._getNumberOfMonths(e),o=this._daylightSavingAdjust(new Date(i,n+(t<0?t:s[0]*s[1]),1));return t<0&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(e,o)},_isInRange:function(e,t){var i,n,s=this._getMinMaxDate(e,"min"),o=this._getMinMaxDate(e,"max"),r=null,a=null,l=this._get(e,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),r=parseInt(i[0],10),a=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(r+=n),i[1].match(/[+\-].*/)&&(a+=n)),(!s||t.getTime()>=s.getTime())&&(!o||t.getTime()<=o.getTime())&&(!r||t.getFullYear()>=r)&&(!a||t.getFullYear()<=a)},_getFormatConfig:function(e){var t=this._get(e,"shortYearCutoff");return{shortYearCutoff:t="string"!=typeof t?t:(new Date).getFullYear()%100+parseInt(t,10),dayNamesShort:this._get(e,"dayNamesShort"),dayNames:this._get(e,"dayNames"),monthNamesShort:this._get(e,"monthNamesShort"),monthNames:this._get(e,"monthNames")}},_formatDate:function(e,t,i,n){t||(e.currentDay=e.selectedDay,e.currentMonth=e.selectedMonth,e.currentYear=e.selectedYear);var s=t?"object"==typeof t?t:this._daylightSavingAdjust(new Date(n,i,t)):this._daylightSavingAdjust(new Date(e.currentYear,e.currentMonth,e.currentDay));return this.formatDate(this._get(e,"dateFormat"),s,this._getFormatConfig(e))}}),S.fn.datepicker=function(e,t){if(!this.length)return this;S.datepicker.initialized||(S(document).mousedown(S.datepicker._checkExternalClick),S.datepicker.initialized=!0),0===S("#"+S.datepicker._mainDivId).length&&S("body").append(S.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof t?S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this].concat(i)):S.datepicker._attachDatepicker(this,e)}):S.datepicker["_"+e+"Datepicker"].apply(S.datepicker,[this[0]].concat(i))},S.datepicker=new e,S.datepicker.initialized=!1,S.datepicker.uuid=(new Date).getTime(),S.datepicker.version="1.10.3"}(jQuery),function(r){var o={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},a={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};r.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var t=r(this).css(e).offset().top;t<0&&r(this).css("top",e.top-t)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&r.fn.draggable&&this._makeDraggable(),this.options.resizable&&r.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?r(e):this.document.find(e||"body").eq(0)},_destroy:function(){var e,t=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(e=t.parent.children().eq(t.index)).length&&e[0]!==this.element[0]?e.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:r.noop,enable:r.noop,close:function(e){var t=this;this._isOpen&&!1!==this._trigger("beforeClose",e)&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||r(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){t._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(e,t){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!t&&this._trigger("focus",e),i},open:function(){var e=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=r(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),this._trigger("open"))},_focusTabbable:function(){var e=this.element.find("[autofocus]");e.length||(e=this.element.find(":tabbable")),e.length||(e=this.uiDialogButtonPane.find(":tabbable")),e.length||(e=this.uiDialogTitlebarClose.filter(":tabbable")),e.length||(e=this.uiDialog),e.eq(0).focus()},_keepFocus:function(e){function t(){var e=this.document[0].activeElement;this.uiDialog[0]===e||r.contains(this.uiDialog[0],e)||this._focusTabbable()}e.preventDefault(),t.call(this),this._delay(t)},_createWrapper:function(){this.uiDialog=r("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===r.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===r.ui.keyCode.TAB){var t=this.uiDialog.find(":tabbable"),i=t.filter(":first"),n=t.filter(":last");e.target!==n[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==i[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(n.focus(1),e.preventDefault()):(i.focus(1),e.preventDefault())}},mousedown:function(e){this._moveToTop(e)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=r("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){r(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=r("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(e){e.preventDefault(),this.close(e)}}),e=r("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(e){this.options.title||e.html("&#160;"),e.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=r("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=r("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var s=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),r.isEmptyObject(e)||r.isArray(e)&&!e.length?this.uiDialog.removeClass("ui-dialog-buttons"):(r.each(e,function(e,t){var i,n;t=r.isFunction(t)?{click:t,text:e}:t,t=r.extend({type:"button"},t),i=t.click,t.click=function(){i.apply(s.element[0],arguments)},n={icons:t.icons,text:t.showText},delete t.icons,delete t.showText,r("<button></button>",t).button(n).appendTo(s.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function i(e){return{position:e.position,offset:e.offset}}var n=this,s=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,t){r(this).addClass("ui-dialog-dragging"),n._blockFrames(),n._trigger("dragStart",e,i(t))},drag:function(e,t){n._trigger("drag",e,i(t))},stop:function(e,t){s.position=[t.position.left-n.document.scrollLeft(),t.position.top-n.document.scrollTop()],r(this).removeClass("ui-dialog-dragging"),n._unblockFrames(),n._trigger("dragStop",e,i(t))}})},_makeResizable:function(){function i(e){return{originalPosition:e.originalPosition,originalSize:e.originalSize,position:e.position,size:e.size}}var n=this,s=this.options,e=s.resizable,t=this.uiDialog.css("position"),o="string"==typeof e?e:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:s.maxWidth,maxHeight:s.maxHeight,minWidth:s.minWidth,minHeight:this._minHeight(),handles:o,start:function(e,t){r(this).addClass("ui-dialog-resizing"),n._blockFrames(),n._trigger("resizeStart",e,i(t))},resize:function(e,t){n._trigger("resize",e,i(t))},stop:function(e,t){s.height=r(this).height(),s.width=r(this).width(),r(this).removeClass("ui-dialog-resizing"),n._unblockFrames(),n._trigger("resizeStop",e,i(t))}}).css("position",t)},_minHeight:function(){var e=this.options;return"auto"===e.height?e.minHeight:Math.min(e.minHeight,e.height)},_position:function(){var e=this.uiDialog.is(":visible");e||this.uiDialog.show(),this.uiDialog.position(this.options.position),e||this.uiDialog.hide()},_setOptions:function(e){var i=this,n=!1,s={};r.each(e,function(e,t){i._setOption(e,t),e in o&&(n=!0),e in a&&(s[e]=t)}),n&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(e,t){var i,n,s=this.uiDialog;"dialogClass"===e&&s.removeClass(this.options.dialogClass).addClass(t),"disabled"!==e&&(this._super(e,t),"appendTo"===e&&this.uiDialog.appendTo(this._appendTo()),"buttons"===e&&this._createButtons(),"closeText"===e&&this.uiDialogTitlebarClose.button({label:""+t}),"draggable"===e&&((i=s.is(":data(ui-draggable)"))&&!t&&s.draggable("destroy"),!i&&t&&this._makeDraggable()),"position"===e&&this._position(),"resizable"===e&&((n=s.is(":data(ui-resizable)"))&&!t&&s.resizable("destroy"),n&&"string"==typeof t&&s.resizable("option","handles",t),n||!1===t||this._makeResizable()),"title"===e&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var e,t,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),e=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),t=Math.max(0,n.minHeight-e),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-e):"none","auto"===n.height?this.element.css({minHeight:t,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-e)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=r(this);return r("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return!!r(e.target).closest(".ui-dialog").length||!!r(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=this,i=this.widgetFullName;r.ui.dialog.overlayInstances||this._delay(function(){r.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(e){t._allowInteraction(e)||(e.preventDefault(),r(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=r("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),r.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(r.ui.dialog.overlayInstances--,r.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),r.ui.dialog.overlayInstances=0,!1!==r.uiBackCompat&&r.widget("ui.dialog",r.ui.dialog,{_position:function(){var e,t=this.options.position,i=[],n=[0,0];t?(("string"==typeof t||"object"==typeof t&&"0"in t)&&(1===(i=t.split?t.split(" "):[t[0],t[1]]).length&&(i[1]=i[0]),r.each(["left","top"],function(e,t){+i[e]===i[e]&&(n[e]=i[e],i[e]=t)}),t={my:i[0]+(n[0]<0?n[0]:"+"+n[0])+" "+i[1]+(n[1]<0?n[1]:"+"+n[1]),at:i.join(" ")}),t=r.extend({},r.ui.dialog.prototype.options.position,t)):t=r.ui.dialog.prototype.options.position,(e=this.uiDialog.is(":visible"))||this.uiDialog.show(),this.uiDialog.position(t),e||this.uiDialog.hide()}})}(jQuery),function(m){var g=/up|down|vertical/,v=/up|left|vertical|horizontal/;m.effects.effect.blind=function(e,t){var i,n,s,o=m(this),r=["position","top","bottom","left","right","height","width"],a=m.effects.setMode(o,e.mode||"hide"),l=e.direction||"up",c=g.test(l),u=c?"height":"width",h=c?"top":"left",d=v.test(l),p={},f="show"===a;o.parent().is(".ui-effects-wrapper")?m.effects.save(o.parent(),r):m.effects.save(o,r),o.show(),n=(i=m.effects.createWrapper(o).css({overflow:"hidden"}))[u](),s=parseFloat(i.css(h))||0,p[u]=f?n:0,d||(o.css(c?"bottom":"right",0).css(c?"top":"left","auto").css({position:"absolute"}),p[h]=f?s:n+s),f&&(i.css(u,0),d||i.css(h,s+n)),i.animate(p,{duration:e.duration,easing:e.easing,queue:!1,complete:function(){"hide"===a&&o.hide(),m.effects.restore(o,r),m.effects.removeWrapper(o),t()}})}}(jQuery),function(w){w.effects.effect.bounce=function(e,t){var i,n,s,o=w(this),r=["position","top","bottom","left","right","height","width"],a=w.effects.setMode(o,e.mode||"effect"),l="hide"===a,c="show"===a,u=e.direction||"up",h=e.distance,d=e.times||5,p=2*d+(c||l?1:0),f=e.duration/p,m=e.easing,g="up"===u||"down"===u?"top":"left",v="up"===u||"left"===u,y=o.queue(),_=y.length;for((c||l)&&r.push("opacity"),w.effects.save(o,r),o.show(),w.effects.createWrapper(o),h||(h=o["top"===g?"outerHeight":"outerWidth"]()/3),c&&((s={opacity:1})[g]=0,o.css("opacity",0).css(g,v?2*-h:2*h).animate(s,f,m)),l&&(h/=Math.pow(2,d-1)),i=(s={})[g]=0;i<d;i++)(n={})[g]=(v?"-=":"+=")+h,o.animate(n,f,m).animate(s,f,m),h=l?2*h:h/2;l&&((n={opacity:0})[g]=(v?"-=":"+=")+h,o.animate(n,f,m)),o.queue(function(){l&&o.hide(),w.effects.restore(o,r),w.effects.removeWrapper(o),t()}),1<_&&y.splice.apply(y,[1,0].concat(y.splice(_,p+1))),o.dequeue()}}(jQuery),function(d){d.effects.effect.clip=function(e,t){var i,n,s,o=d(this),r=["position","top","bottom","left","right","height","width"],a="show"===d.effects.setMode(o,e.mode||"hide"),l="vertical"===(e.direction||"vertical"),c=l?"height":"width",u=l?"top":"left",h={};d.effects.save(o,r),o.show(),i=d.effects.createWrapper(o).css({overflow:"hidden"}),s=(n="IMG"===o[0].tagName?i:o)[c](),a&&(n.css(c,0),n.css(u,s/2)),h[c]=a?s:0,h[u]=a?0:s/2,n.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){a||o.hide(),d.effects.restore(o,r),d.effects.removeWrapper(o),t()}})}}(jQuery),function(h){h.effects.effect.drop=function(e,t){var i,n=h(this),s=["position","top","bottom","left","right","opacity","height","width"],o=h.effects.setMode(n,e.mode||"hide"),r="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a?"pos":"neg",u={opacity:r?1:0};h.effects.save(n,s),n.show(),h.effects.createWrapper(n),i=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0)/2,r&&n.css("opacity",0).css(l,"pos"===c?-i:i),u[l]=(r?"pos"===c?"+=":"-=":"pos"===c?"-=":"+=")+i,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),h.effects.restore(n,s),h.effects.removeWrapper(n),t()}})}}(jQuery),function(y){y.effects.effect.explode=function(e,t){function i(){v.push(this),v.length===u*h&&n()}function n(){d.css({visibility:"visible"}),y(v).remove(),p||d.hide(),t()}var s,o,r,a,l,c,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,h=u,d=y(this),p="show"===y.effects.setMode(d,e.mode||"hide"),f=d.show().css("visibility","hidden").offset(),m=Math.ceil(d.outerWidth()/h),g=Math.ceil(d.outerHeight()/u),v=[];for(s=0;s<u;s++)for(a=f.top+s*g,c=s-(u-1)/2,o=0;o<h;o++)r=f.left+o*m,l=o-(h-1)/2,d.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-o*m,top:-s*g}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:m,height:g,left:r+(p?l*m:0),top:a+(p?c*g:0),opacity:p?0:1}).animate({left:r+(p?0:l*m),top:a+(p?0:c*g),opacity:p?1:0},e.duration||500,e.easing,i)}}(jQuery),function(s){s.effects.effect.fade=function(e,t){var i=s(this),n=s.effects.setMode(i,e.mode||"toggle");i.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:t})}}(jQuery),function(v){v.effects.effect.fold=function(e,t){var i,n,s=v(this),o=["position","top","bottom","left","right","height","width"],r=v.effects.setMode(s,e.mode||"hide"),a="show"===r,l="hide"===r,c=e.size||15,u=/([0-9]+)%/.exec(c),h=!!e.horizFirst,d=a!==h,p=d?["width","height"]:["height","width"],f=e.duration/2,m={},g={};v.effects.save(s,o),s.show(),i=v.effects.createWrapper(s).css({overflow:"hidden"}),n=d?[i.width(),i.height()]:[i.height(),i.width()],u&&(c=parseInt(u[1],10)/100*n[l?0:1]),a&&i.css(h?{height:0,width:c}:{height:c,width:0}),m[p[0]]=a?n[0]:c,g[p[1]]=a?n[1]:0,i.animate(m,f,e.easing).animate(g,f,e.easing,function(){l&&s.hide(),v.effects.restore(s,o),v.effects.removeWrapper(s),t()})}}(jQuery),function(r){r.effects.effect.highlight=function(e,t){var i=r(this),n=["backgroundImage","backgroundColor","opacity"],s=r.effects.setMode(i,e.mode||"show"),o={backgroundColor:i.css("backgroundColor")};"hide"===s&&(o.opacity=0),r.effects.save(i,n),i.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(o,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===s&&i.hide(),r.effects.restore(i,n),t()}})}}(jQuery),function(p){p.effects.effect.pulsate=function(e,t){var i,n=p(this),s=p.effects.setMode(n,e.mode||"show"),o="show"===s,r="hide"===s,a=o||"hide"===s,l=2*(e.times||5)+(a?1:0),c=e.duration/l,u=0,h=n.queue(),d=h.length;for(!o&&n.is(":visible")||(n.css("opacity",0).show(),u=1),i=1;i<l;i++)n.animate({opacity:u},c,e.easing),u=1-u;n.animate({opacity:u},c,e.easing),n.queue(
function(){r&&n.hide(),t()}),1<d&&h.splice.apply(h,[1,0].concat(h.splice(d,l+1))),n.dequeue()}}(jQuery),function(_){_.effects.effect.puff=function(e,t){var i=_(this),n=_.effects.setMode(i,e.mode||"hide"),s="hide"===n,o=parseInt(e.percent,10)||150,r=o/100,a={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};_.extend(e,{effect:"scale",queue:!1,fade:!0,mode:n,complete:t,percent:s?o:100,from:s?a:{height:a.height*r,width:a.width*r,outerHeight:a.outerHeight*r,outerWidth:a.outerWidth*r}}),i.effect(e)},_.effects.effect.scale=function(e,t){var i=_(this),n=_.extend(!0,{},e),s=_.effects.setMode(i,e.mode||"effect"),o=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===s?0:100),r=e.direction||"both",a=e.origin,l={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},c={y:"horizontal"!==r?o/100:1,x:"vertical"!==r?o/100:1};n.effect="size",n.queue=!1,n.complete=t,"effect"!==s&&(n.origin=a||["middle","center"],n.restore=!0),n.from=e.from||("show"===s?{height:0,width:0,outerHeight:0,outerWidth:0}:l),n.to={height:l.height*c.y,width:l.width*c.x,outerHeight:l.outerHeight*c.y,outerWidth:l.outerWidth*c.x},n.fade&&("show"===s&&(n.from.opacity=0,n.to.opacity=1),"hide"===s&&(n.from.opacity=1,n.to.opacity=0)),i.effect(n)},_.effects.effect.size=function(i,e){var t,n,s,o=_(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],a=["position","top","bottom","left","right","overflow","opacity"],l=["width","height","overflow"],c=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],h=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],d=_.effects.setMode(o,i.mode||"effect"),p=i.restore||"effect"!==d,f=i.scale||"both",m=i.origin||["middle","center"],g=o.css("position"),v=p?r:a,y={height:0,width:0,outerHeight:0,outerWidth:0};"show"===d&&o.show(),t={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()},"toggle"===i.mode&&"show"===d?(o.from=i.to||y,o.to=i.from||t):(o.from=i.from||("show"===d?y:t),o.to=i.to||("hide"===d?y:t)),s={from:{y:o.from.height/t.height,x:o.from.width/t.width},to:{y:o.to.height/t.height,x:o.to.width/t.width}},"box"!==f&&"both"!==f||(s.from.y!==s.to.y&&(v=v.concat(u),o.from=_.effects.setTransition(o,u,s.from.y,o.from),o.to=_.effects.setTransition(o,u,s.to.y,o.to)),s.from.x!==s.to.x&&(v=v.concat(h),o.from=_.effects.setTransition(o,h,s.from.x,o.from),o.to=_.effects.setTransition(o,h,s.to.x,o.to))),"content"!==f&&"both"!==f||s.from.y!==s.to.y&&(v=v.concat(c).concat(l),o.from=_.effects.setTransition(o,c,s.from.y,o.from),o.to=_.effects.setTransition(o,c,s.to.y,o.to)),_.effects.save(o,v),o.show(),_.effects.createWrapper(o),o.css("overflow","hidden").css(o.from),m&&(n=_.effects.getBaseline(m,t),o.from.top=(t.outerHeight-o.outerHeight())*n.y,o.from.left=(t.outerWidth-o.outerWidth())*n.x,o.to.top=(t.outerHeight-o.to.outerHeight)*n.y,o.to.left=(t.outerWidth-o.to.outerWidth)*n.x),o.css(o.from),"content"!==f&&"both"!==f||(u=u.concat(["marginTop","marginBottom"]).concat(c),h=h.concat(["marginLeft","marginRight"]),l=r.concat(u).concat(h),o.find("*[width]").each(function(){var e=_(this),t={height:e.height(),width:e.width(),outerHeight:e.outerHeight(),outerWidth:e.outerWidth()};p&&_.effects.save(e,l),e.from={height:t.height*s.from.y,width:t.width*s.from.x,outerHeight:t.outerHeight*s.from.y,outerWidth:t.outerWidth*s.from.x},e.to={height:t.height*s.to.y,width:t.width*s.to.x,outerHeight:t.height*s.to.y,outerWidth:t.width*s.to.x},s.from.y!==s.to.y&&(e.from=_.effects.setTransition(e,u,s.from.y,e.from),e.to=_.effects.setTransition(e,u,s.to.y,e.to)),s.from.x!==s.to.x&&(e.from=_.effects.setTransition(e,h,s.from.x,e.from),e.to=_.effects.setTransition(e,h,s.to.x,e.to)),e.css(e.from),e.animate(e.to,i.duration,i.easing,function(){p&&_.effects.restore(e,l)})})),o.animate(o.to,{queue:!1,duration:i.duration,easing:i.easing,complete:function(){0===o.to.opacity&&o.css("opacity",o.from.opacity),"hide"===d&&o.hide(),_.effects.restore(o,v),p||("static"===g?o.css({position:"relative",top:o.to.top,left:o.to.left}):_.each(["top","left"],function(s,e){o.css(e,function(e,t){var i=parseInt(t,10),n=s?o.to.left:o.to.top;return"auto"===t?n+"px":i+n+"px"})})),_.effects.removeWrapper(o),e()}})}}(jQuery),function(y){y.effects.effect.shake=function(e,t){var i,n=y(this),s=["position","top","bottom","left","right","height","width"],o=y.effects.setMode(n,e.mode||"effect"),r=e.direction||"left",a=e.distance||20,l=e.times||3,c=2*l+1,u=Math.round(e.duration/c),h="up"===r||"down"===r?"top":"left",d="up"===r||"left"===r,p={},f={},m={},g=n.queue(),v=g.length;for(y.effects.save(n,s),n.show(),y.effects.createWrapper(n),p[h]=(d?"-=":"+=")+a,f[h]=(d?"+=":"-=")+2*a,m[h]=(d?"-=":"+=")+2*a,n.animate(p,u,e.easing),i=1;i<l;i++)n.animate(f,u,e.easing).animate(m,u,e.easing);n.animate(f,u,e.easing).animate(p,u/2,e.easing).queue(function(){"hide"===o&&n.hide(),y.effects.restore(n,s),y.effects.removeWrapper(n),t()}),1<v&&g.splice.apply(g,[1,0].concat(g.splice(v,c+1))),n.dequeue()}}(jQuery),function(h){h.effects.effect.slide=function(e,t){var i,n=h(this),s=["position","top","bottom","left","right","width","height"],o=h.effects.setMode(n,e.mode||"show"),r="show"===o,a=e.direction||"left",l="up"===a||"down"===a?"top":"left",c="up"===a||"left"===a,u={};h.effects.save(n,s),n.show(),i=e.distance||n["top"===l?"outerHeight":"outerWidth"](!0),h.effects.createWrapper(n).css({overflow:"hidden"}),r&&n.css(l,c?isNaN(i)?"-"+i:-i:i),u[l]=(r?c?"+=":"-=":c?"-=":"+=")+i,n.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),h.effects.restore(n,s),h.effects.removeWrapper(n),t()}})}}(jQuery),function(d){d.effects.effect.transfer=function(e,t){var i=d(this),n=d(e.to),s="fixed"===n.css("position"),o=d("body"),r=s?o.scrollTop():0,a=s?o.scrollLeft():0,l=n.offset(),c={top:l.top-r,left:l.left-a,height:n.innerHeight(),width:n.innerWidth()},u=i.offset(),h=d("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-a,height:i.innerHeight(),width:i.innerWidth(),position:s?"fixed":"absolute"}).animate(c,e.duration,e.easing,function(){h.remove(),t()})}}(jQuery),function(l){l.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,l.proxy(function(e){this.options.disabled&&e.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(e){e.preventDefault()},"click .ui-state-disabled > a":function(e){e.preventDefault()},"click .ui-menu-item:has(a)":function(e){var t=l(e.target).closest(".ui-menu-item");!this.mouseHandled&&t.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),t.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var t=l(e.currentTarget);t.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,t)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.children(".ui-menu-item").eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){l.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){l(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=l(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function t(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var i,n,s,o,r,a=!0;switch(e.keyCode){case l.ui.keyCode.PAGE_UP:this.previousPage(e);break;case l.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case l.ui.keyCode.HOME:this._move("first","first",e);break;case l.ui.keyCode.END:this._move("last","last",e);break;case l.ui.keyCode.UP:this.previous(e);break;case l.ui.keyCode.DOWN:this.next(e);break;case l.ui.keyCode.LEFT:this.collapse(e);break;case l.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case l.ui.keyCode.ENTER:case l.ui.keyCode.SPACE:this._activate(e);break;case l.ui.keyCode.ESCAPE:this.collapse(e);break;default:a=!1,n=this.previousFilter||"",s=String.fromCharCode(e.keyCode),o=!1,clearTimeout(this.filterTimer),s===n?o=!0:s=n+s,r=new RegExp("^"+t(s),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(l(this).children("a").text())}),(i=o&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(s=String.fromCharCode(e.keyCode),r=new RegExp("^"+t(s),"i"),i=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(l(this).children("a").text())})),i.length?(this.focus(e,i),1<i.length?(this.previousFilter=s,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}a&&e.preventDefault()},_activate:function(e){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,n=this.options.icons.submenu,t=this.element.find(this.options.menus);t.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=l(this),t=e.prev("a"),i=l("<span>").addClass("ui-menu-icon ui-icon "+n).data("ui-menu-submenu-carat",!0);t.attr("aria-haspopup","true").prepend(i),e.attr("aria-labelledby",t.attr("id"))}),(e=t.add(this.element)).children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=l(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!l.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){"icons"===e&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(t.submenu),this._super(e,t)},focus:function(e,t){var i,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var t,i,n,s,o,r;this._hasScroll()&&(t=parseFloat(l.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(l.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-t-i,s=this.activeMenu.scrollTop(),o=this.activeMenu.height(),r=e.height(),n<0?this.activeMenu.scrollTop(s+n):o<n+r&&this.activeMenu.scrollTop(s+n-o+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",e,{item:this.active}))},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var t=l.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(t)},collapseAll:function(t,i){clearTimeout(this.timer),this.timer=this._delay(function(){var e=i?this.element:l(t&&t.target).closest(this.element.find(".ui-menu"));e.length||(e=this.element),this._close(e),this.blur(t),this.activeMenu=e},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var n;this.active&&(n="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[t]()),this.focus(i,n)},nextPage:function(e){var t,i,n;this.active?this.isLastItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(t=l(this)).offset().top-i-n<0}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var t,i,n;this.active?this.isFirstItem()||(this._hasScroll()?(i=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return 0<(t=l(this)).offset().top-i+n}),this.focus(e,t)):this.focus(e,this.activeMenu.children(".ui-menu-item").first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||l(e.target).closest(".ui-menu-item");var t={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,t)}})}(jQuery),function(x,s){function S(e,t,i){return[parseFloat(e[0])*(c.test(e[0])?t/100:1),parseFloat(e[1])*(c.test(e[1])?i/100:1)]}function C(e,t){return parseInt(x.css(e,t),10)||0}function t(e){var t=e[0];return 9===t.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:x.isWindow(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}x.ui=x.ui||{};var o,E=Math.max,T=Math.abs,k=Math.round,n=/left|center|right/,r=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,c=/%$/,i=x.fn.position;x.position={scrollbarWidth:function(){if(o!==s)return o;var e,t,i=x("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=i.children()[0];return x("body").append(i),e=n.offsetWidth,i.css("overflow","scroll"),e===(t=n.offsetWidth)&&(t=i[0].clientWidth),i.remove(),o=e-t},getScrollInfo:function(e){var t=e.isWindow?"":e.element.css("overflow-x"),i=e.isWindow?"":e.element.css("overflow-y"),n="scroll"===t||"auto"===t&&e.width<e.element[0].scrollWidth;return{width:"scroll"===i||"auto"===i&&e.height<e.element[0].scrollHeight?x.position.scrollbarWidth():0,height:n?x.position.scrollbarWidth():0}},getWithinInfo:function(e){var t=x(e||window),i=x.isWindow(t[0]);return{element:t,isWindow:i,offset:t.offset()||{left:0,top:0},scrollLeft:t.scrollLeft(),scrollTop:t.scrollTop(),width:i?t.width():t.outerWidth(),height:i?t.height():t.outerHeight()}}},x.fn.position=function(h){if(!h||!h.of)return i.apply(this,arguments);h=x.extend({},h);var d,p,f,m,g,e,v=x(h.of),y=x.position.getWithinInfo(h.within),_=x.position.getScrollInfo(y),w=(h.collision||"flip").split(" "),b={};return e=t(v),v[0].preventDefault&&(h.at="left top"),p=e.width,f=e.height,m=e.offset,g=x.extend({},m),x.each(["my","at"],function(){var e,t,i=(h[this]||"").split(" ");1===i.length&&(i=n.test(i[0])?i.concat(["center"]):r.test(i[0])?["center"].concat(i):["center","center"]),i[0]=n.test(i[0])?i[0]:"center",i[1]=r.test(i[1])?i[1]:"center",e=a.exec(i[0]),t=a.exec(i[1]),b[this]=[e?e[0]:0,t?t[0]:0],h[this]=[l.exec(i[0])[0],l.exec(i[1])[0]]}),1===w.length&&(w[1]=w[0]),"right"===h.at[0]?g.left+=p:"center"===h.at[0]&&(g.left+=p/2),"bottom"===h.at[1]?g.top+=f:"center"===h.at[1]&&(g.top+=f/2),d=S(b.at,p,f),g.left+=d[0],g.top+=d[1],this.each(function(){var i,e,r=x(this),a=r.outerWidth(),l=r.outerHeight(),t=C(this,"marginLeft"),n=C(this,"marginTop"),s=a+t+C(this,"marginRight")+_.width,o=l+n+C(this,"marginBottom")+_.height,c=x.extend({},g),u=S(b.my,r.outerWidth(),r.outerHeight());"right"===h.my[0]?c.left-=a:"center"===h.my[0]&&(c.left-=a/2),"bottom"===h.my[1]?c.top-=l:"center"===h.my[1]&&(c.top-=l/2),c.left+=u[0],c.top+=u[1],x.support.offsetFractions||(c.left=k(c.left),c.top=k(c.top)),i={marginLeft:t,marginTop:n},x.each(["left","top"],function(e,t){x.ui.position[w[e]]&&x.ui.position[w[e]][t](c,{targetWidth:p,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:i,collisionWidth:s,collisionHeight:o,offset:[d[0]+u[0],d[1]+u[1]],my:h.my,at:h.at,within:y,elem:r})}),h.using&&(e=function(e){var t=m.left-c.left,i=t+p-a,n=m.top-c.top,s=n+f-l,o={target:{element:v,left:m.left,top:m.top,width:p,height:f},element:{element:r,left:c.left,top:c.top,width:a,height:l},horizontal:i<0?"left":0<t?"right":"center",vertical:s<0?"top":0<n?"bottom":"middle"};p<a&&T(t+i)<p&&(o.horizontal="center"),f<l&&T(n+s)<f&&(o.vertical="middle"),E(T(t),T(i))>E(T(n),T(s))?o.important="horizontal":o.important="vertical",h.using.call(this,e,o)}),r.offset(x.extend(c,{using:e}))})},x.ui.position={fit:{left:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=e.left-t.collisionPosition.marginLeft,a=s-r,l=r+t.collisionWidth-o-s;t.collisionWidth>o?0<a&&l<=0?(i=e.left+a+t.collisionWidth-o-s,e.left+=a-i):e.left=0<l&&a<=0?s:l<a?s+o-t.collisionWidth:s:0<a?e.left+=a:0<l?e.left-=l:e.left=E(e.left-r,e.left)},top:function(e,t){var i,n=t.within,s=n.isWindow?n.scrollTop:n.offset.top,o=t.within.height,r=e.top-t.collisionPosition.marginTop,a=s-r,l=r+t.collisionHeight-o-s;t.collisionHeight>o?0<a&&l<=0?(i=e.top+a+t.collisionHeight-o-s,e.top+=a-i):e.top=0<l&&a<=0?s:l<a?s+o-t.collisionHeight:s:0<a?e.top+=a:0<l?e.top-=l:e.top=E(e.top-r,e.top)}},flip:{left:function(e,t){var i,n,s=t.within,o=s.offset.left+s.scrollLeft,r=s.width,a=s.isWindow?s.scrollLeft:s.offset.left,l=e.left-t.collisionPosition.marginLeft,c=l-a,u=l+t.collisionWidth-r-a,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,d="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,p=-2*t.offset[0];c<0?((i=e.left+h+d+p+t.collisionWidth-r-o)<0||i<T(c))&&(e.left+=h+d+p):0<u&&(0<(n=e.left-t.collisionPosition.marginLeft+h+d+p-a)||T(n)<u)&&(e.left+=h+d+p)},top:function(e,t){var i,n,s=t.within,o=s.offset.top+s.scrollTop,r=s.height,a=s.isWindow?s.scrollTop:s.offset.top,l=e.top-t.collisionPosition.marginTop,c=l-a,u=l+t.collisionHeight-r-a,h="top"===t.my[1]?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,d="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,p=-2*t.offset[1];c<0?(n=e.top+h+d+p+t.collisionHeight-r-o,e.top+h+d+p>c&&(n<0||n<T(c))&&(e.top+=h+d+p)):0<u&&(i=e.top-t.collisionPosition.marginTop+h+d+p-a,e.top+h+d+p>u&&(0<i||T(i)<u)&&(e.top+=h+d+p))}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},function(){var e,t,i,n,s,o=document.getElementsByTagName("body")[0],r=document.createElement("div");for(s in e=document.createElement(o?"div":"body"),i={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},o&&x.extend(i,{position:"absolute",left:"-1000px",top:"-1000px"}),i)e.style[s]=i[s];e.appendChild(r),(t=o||document.documentElement).insertBefore(e,t.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",n=x(r).offset().left,x.support.offsetFractions=10<n&&n<11,e.innerHTML="",t.removeChild(e)}()}(jQuery),function(i,t){i.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=i("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(e){if(e===t)return this.options.value;this.options.value=this._constrainedValue(e),this._refreshValue()},_constrainedValue:function(e){return e===t&&(e=this.options.value),this.indeterminate=!1===e,"number"!=typeof e&&(e=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,e))},_setOptions:function(e){var t=e.value;delete e.value,this._super(e),this.options.value=this._constrainedValue(t),this._refreshValue()},_setOption:function(e,t){"max"===e&&(t=Math.max(this.min,t)),this._super(e,t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,t=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(t.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=i("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(u){var o=5;u.widget("ui.slider",u.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,t,i=this.options,n=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",o=[];for(t=i.values&&i.values.length||1,n.length>t&&(n.slice(t).remove(),n=n.slice(0,t)),e=n.length;e<t;e++)o.push(s);this.handles=n.add(u(o.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){u(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,t="";e.range?(!0===e.range&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:u.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=u("<div></div>").appendTo(this.element),t="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(t+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=u([])},_setupEvents:function(){var e=this.handles.add(this.range).filter("a");this._off(e),this._on(e,this._handleEvents),this._hoverable(e),this._focusable(e)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var t,i,n,s,o,r,a,l=this,c=this.options;return!c.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t),n=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var t=Math.abs(i-l.values(e));(t<n||n===t&&(e===l._lastChangedValue||l.values(e)===c.min))&&(n=t,s=u(this),o=e)}),!1!==this._start(e,o)&&(this._mouseSliding=!0,this._handleIndex=o,s.addClass("ui-state-active").focus(),r=s.offset(),a=!u(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=a?{left:0,top:0}:{left:e.pageX-r.left-s.width()/2,top:e.pageY-r.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,o,i),this._animateOff=!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,s,o;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),1<(n=i/t)&&(n=1),n<0&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&!0===this.options.range&&(0===t&&n<i||1===t&&i<n)&&(i=n),i!==this.values(t)&&((s=this.values())[t]=i,o=this._trigger("slide",e,{handle:this.handles[t],value:i,values:s}),n=this.values(t?0:1),!1!==o&&this.values(t,i,!0))):i!==this.value()&&!1!==(o=this._trigger("slide",e,{handle:this.handles[t],value:i}))&&this.value(i)},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,t){var i,n,s;if(1<arguments.length)return this.options.values[e]=this._trimAlignValue(t),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!u.isArray(e))return this.options.values&&this.options.values.length?this._values(e):this.value();for(i=this.options.values,n=e,s=0;s<i.length;s+=1)i[s]=this._trimAlignValue(n[s]),this._change(null,s);this._refreshValue()},_setOption:function(e,t){var i,n=0;switch("range"===e&&!0===this.options.range&&("min"===t?(this.options.value=this._values(0),this.options.values=null):"max"===t&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),u.isArray(this.options.values)&&(n=this.options.values.length),u.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=0;i<n;i+=1)this._change(null,i);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;n<i.length;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=0<this.options.step?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=0<i?t:-t),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var t,i,e,n,s,o=this.options.range,r=this.options,a=this,l=!this._animateOff&&r.animate,c={};this.options.values&&this.options.values.length?this.handles.each(function(e){i=(a.values(e)-a._valueMin())/(a._valueMax()-a._valueMin())*100,c["horizontal"===a.orientation?"left":"bottom"]=i+"%",u(this).stop(1,1)[l?"animate":"css"](c,r.animate),!0===a.options.range&&("horizontal"===a.orientation?(0===e&&a.range.stop(1,1)[l?"animate":"css"]({left:i+"%"},r.animate),1===e&&a.range[l?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:r.animate})):(0===e&&a.range.stop(1,1)[l?"animate":"css"]({bottom:i+"%"},r.animate),1===e&&a.range[l?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:r.animate}))),t=i}):(e=this.value(),n=this._valueMin(),s=this._valueMax(),i=s!==n?(e-n)/(s-n)*100:0,c["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[l?"animate":"css"](c,r.animate),"min"===o&&"horizontal"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({width:i+"%"},r.animate),"max"===o&&"horizontal"===this.orientation&&this.range[l?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===o&&"vertical"===this.orientation&&this.range.stop(1,1)[l?"animate":"css"]({height:i+"%"},r.animate),"max"===o&&"vertical"===this.orientation&&this.range[l?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(e){var t,i,n,s=u(e.target).data("ui-slider-handle-index");switch(e.keyCode){case u.ui.keyCode.HOME:case u.ui.keyCode.END:case u.ui.keyCode.PAGE_UP:case u.ui.keyCode.PAGE_DOWN:case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(e.preventDefault(),!this._keySliding&&(this._keySliding=!0,u(e.target).addClass("ui-state-active"),!1===this._start(e,s))
)return}switch(n=this.options.step,t=i=this.options.values&&this.options.values.length?this.values(s):this.value(),e.keyCode){case u.ui.keyCode.HOME:i=this._valueMin();break;case u.ui.keyCode.END:i=this._valueMax();break;case u.ui.keyCode.PAGE_UP:i=this._trimAlignValue(t+(this._valueMax()-this._valueMin())/o);break;case u.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(t-(this._valueMax()-this._valueMin())/o);break;case u.ui.keyCode.UP:case u.ui.keyCode.RIGHT:if(t===this._valueMax())return;i=this._trimAlignValue(t+n);break;case u.ui.keyCode.DOWN:case u.ui.keyCode.LEFT:if(t===this._valueMin())return;i=this._trimAlignValue(t-n)}this._slide(e,s,i)},click:function(e){e.preventDefault()},keyup:function(e){var t=u(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,t),this._change(e,t),u(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(o){function t(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}o.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var n={},s=this.element;return o.each(["min","max","step"],function(e,t){var i=s.attr(t);i!==undefined&&i.length&&(n[t]=i)}),n},_events:{keydown:function(e){this._start(e)&&this._keydown(e)&&e.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(this._stop(),this._refresh(),this.previous!==this.element.val()&&this._trigger("change",e))},mousewheel:function(e,t){if(t){if(!this.spinning&&!this._start(e))return!1;this._spin((0<t?1:-1)*this.options.step,e),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(e)},100),e.preventDefault()}},"mousedown .ui-spinner-button":function(e){function t(){this.element[0]===this.document[0].activeElement||(this.element.focus(),this.previous=i,this._delay(function(){this.previous=i}))}var i;i=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),t.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,t.call(this)}),!1!==this._start(e)&&this._repeat(null,o(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){if(o(e.currentTarget).hasClass("ui-state-active"))return!1!==this._start(e)&&void this._repeat(null,o(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var e=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=e.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*e.height())&&0<e.height()&&e.height(e.height()),this.options.disabled&&this.disable()},_keydown:function(e){var t=this.options,i=o.ui.keyCode;switch(e.keyCode){case i.UP:return this._repeat(null,1,e),!0;case i.DOWN:return this._repeat(null,-1,e),!0;case i.PAGE_UP:return this._repeat(null,t.page,e),!0;case i.PAGE_DOWN:return this._repeat(null,-t.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(e){return!(!this.spinning&&!1===this._trigger("start",e))&&(this.counter||(this.counter=1),this.spinning=!0)},_repeat:function(e,t,i){e=e||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,t,i)},e),this._spin(t*this.options.step,i)},_spin:function(e,t){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+e*this._increment(this.counter)),this.spinning&&!1===this._trigger("spin",t,{value:i})||(this._value(i),this.counter++)},_increment:function(e){var t=this.options.incremental;return t?o.isFunction(t)?t(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),i=t.indexOf(".");return-1===i?0:t.length-i-1},_adjustValue:function(e){var t,i,n=this.options;return i=e-(t=null!==n.min?n.min:0),e=t+(i=Math.round(i/n.step)*n.step),e=parseFloat(e.toFixed(this._precision())),null!==n.max&&e>n.max?n.max:null!==n.min&&e<n.min?n.min:e},_stop:function(e){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",e))},_setOption:function(e,t){if("culture"===e||"numberFormat"===e){var i=this._parse(this.element.val());return this.options[e]=t,void this.element.val(this._format(i))}"max"!==e&&"min"!==e&&"step"!==e||"string"==typeof t&&(t=this._parse(t)),"icons"===e&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(t.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(t.down)),this._super(e,t),"disabled"===e&&(t?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:t(function(e){this._super(e),this._value(this.element.val())}),_parse:function(e){return"string"==typeof e&&""!==e&&(e=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(e,10,this.options.culture):+e),""===e||isNaN(e)?null:e},_format:function(e){return""===e?"":window.Globalize&&this.options.numberFormat?Globalize.format(e,this.options.numberFormat,this.options.culture):e},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(e,t){var i;""!==e&&null!==(i=this._parse(e))&&(t||(i=this._adjustValue(i)),e=this._format(i)),this.element.val(e),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:t(function(e){this._stepUp(e)}),_stepUp:function(e){this._start()&&(this._spin((e||1)*this.options.step),this._stop())},stepDown:t(function(e){this._stepDown(e)}),_stepDown:function(e){this._start()&&(this._spin((e||1)*-this.options.step),this._stop())},pageUp:t(function(e){this._stepUp((e||1)*this.options.page)}),pageDown:t(function(e){this._stepDown((e||1)*this.options.page)}),value:function(e){if(!arguments.length)return this._parse(this.element.val());t(this._value).call(this,e)},widget:function(){return this.uiSpinner}})}(jQuery),function(c,n){function t(){return++e}function u(e){return 1<e.hash.length&&decodeURIComponent(e.href.replace(i,""))===decodeURIComponent(location.href.replace(i,""))}var e=0,i=/#.*$/;c.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var t=this,e=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",e.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){c(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){c(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),e.active=this._initialActive(),c.isArray(e.disabled)&&(e.disabled=c.unique(e.disabled.concat(c.map(this.tabs.filter(".ui-state-disabled"),function(e){return t.tabs.index(e)}))).sort()),!1!==this.options.active&&this.anchors.length?this.active=this._findActive(e.active):this.active=c(),this._refresh(),this.active.length&&this.load(e.active)},_initialActive:function(){var i=this.options.active,e=this.options.collapsible,n=location.hash.substring(1);return null===i&&(n&&this.tabs.each(function(e,t){if(c(t).attr("aria-controls")===n)return i=e,!1}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),null!==i&&-1!==i||(i=!!this.tabs.length&&0)),!1!==i&&-1===(i=this.tabs.index(this.tabs.eq(i)))&&(i=!e&&0),!e&&!1===i&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):c()}},_tabKeydown:function(e){var t=c(this.document[0].activeElement).closest("li"),i=this.tabs.index(t),n=!0;if(!this._handlePageNav(e)){switch(e.keyCode){case c.ui.keyCode.RIGHT:case c.ui.keyCode.DOWN:i++;break;case c.ui.keyCode.UP:case c.ui.keyCode.LEFT:n=!1,i--;break;case c.ui.keyCode.END:i=this.anchors.length-1;break;case c.ui.keyCode.HOME:i=0;break;case c.ui.keyCode.SPACE:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i);case c.ui.keyCode.ENTER:return e.preventDefault(),clearTimeout(this.activating),void this._activate(i!==this.options.active&&i);default:return}e.preventDefault(),clearTimeout(this.activating),i=this._focusNextTab(i,n),e.ctrlKey||(t.attr("aria-selected","false"),this.tabs.eq(i).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",i)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===c.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(e){return e.altKey&&e.keyCode===c.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):e.altKey&&e.keyCode===c.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):void 0},_findNextTab:function(e,t){function i(){return n<e&&(e=0),e<0&&(e=n),e}for(var n=this.tabs.length-1;-1!==c.inArray(i(),this.options.disabled);)e=t?e+1:e-1;return e},_focusNextTab:function(e,t){return e=this._findNextTab(e,t),this.tabs.eq(e).focus(),e},_setOption:function(e,t){"active"!==e?"disabled"!==e?(this._super(e,t),"collapsible"===e&&(this.element.toggleClass("ui-tabs-collapsible",t),t||!1!==this.options.active||this._activate(0)),"event"===e&&this._setupEvents(t),"heightStyle"===e&&this._setupHeightStyle(t)):this._setupDisabled(t):this._activate(t)},_tabId:function(e){return e.attr("aria-controls")||"ui-tabs-"+t()},_sanitizeSelector:function(e){return e?e.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,t=this.tablist.children(":has(a[href])");e.disabled=c.map(t.filter(".ui-state-disabled"),function(e){return t.index(e)}),this._processTabs(),!1!==e.active&&this.anchors.length?this.active.length&&!c.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=c()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=c()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var l=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return c("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=c(),this.anchors.each(function(e,t){var i,n,s,o=c(t).uniqueId().attr("id"),r=c(t).closest("li"),a=r.attr("aria-controls");u(t)?(i=t.hash,n=l.element.find(l._sanitizeSelector(i))):(i="#"+(s=l._tabId(r)),(n=l.element.find(i)).length||(n=l._createPanel(s)).insertAfter(l.panels[e-1]||l.tablist),n.attr("aria-live","polite")),n.length&&(l.panels=l.panels.add(n)),a&&r.data("ui-tabs-aria-controls",a),r.attr({"aria-controls":i.substring(1),"aria-labelledby":o}),n.attr("aria-labelledby",o)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return c("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){c.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var t,i=0;t=this.tabs[i];i++)!0===e||-1!==c.inArray(i,e)?c(t).addClass("ui-state-disabled").attr("aria-disabled","true"):c(t).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(e){e.preventDefault()}};e&&c.each(e.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,t=this.element.parent();"fill"===e?(i=t.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=c(this),t=e.css("position");"absolute"!==t&&"fixed"!==t&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=c(this).outerHeight(!0)}),this.panels.each(function(){c(this).height(Math.max(0,i-c(this).innerHeight()+c(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,c(this).height("").height())}).height(i))},_eventHandler:function(e){var t=this.options,i=this.active,n=c(e.currentTarget).closest("li"),s=n[0]===i[0],o=s&&t.collapsible,r=o?c():this._getPanelForTab(n),a=i.length?this._getPanelForTab(i):c(),l={oldTab:i,oldPanel:a,newTab:o?c():n,newPanel:r};e.preventDefault(),n.hasClass("ui-state-disabled")||n.hasClass("ui-tabs-loading")||this.running||s&&!t.collapsible||!1===this._trigger("beforeActivate",e,l)||(t.active=!o&&this.tabs.index(n),this.active=s?c():n,this.xhr&&this.xhr.abort(),a.length||r.length||c.error("jQuery UI Tabs: Mismatching fragment identifier."),r.length&&this.load(this.tabs.index(n),e),this._toggle(e,l))},_toggle:function(e,t){function i(){s.running=!1,s._trigger("activate",e,t)}function n(){t.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),o.length&&s.options.show?s._show(o,s.options.show,i):(o.show(),i())}var s=this,o=t.newPanel,r=t.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),n()}):(t.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),n()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),t.oldTab.attr("aria-selected","false"),o.length&&r.length?t.oldTab.attr("tabIndex",-1):o.length&&this.tabs.filter(function(){return 0===c(this).attr("tabIndex")}).attr("tabIndex",-1),o.attr({"aria-expanded":"true","aria-hidden":"false"}),t.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var t,i=this._findActive(e);i[0]!==this.active[0]&&(i.length||(i=this.active),t=i.find(".ui-tabs-anchor")[0],this._eventHandler({target:t,currentTarget:t,preventDefault:c.noop}))},_findActive:function(e){return!1===e?c():this.tabs.eq(e)},_getIndex:function(e){return"string"==typeof e&&(e=this.anchors.index(this.anchors.filter("[href$='"+e+"']"))),e},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){c.data(this,"ui-tabs-destroy")?c(this).remove():c(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=c(this),t=e.data("ui-tabs-aria-controls");t?e.attr("aria-controls",t).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var e=this.options.disabled;!1!==e&&(i===n?e=!1:(i=this._getIndex(i),e=c.isArray(e)?c.map(e,function(e){return e!==i?e:null}):c.map(this.tabs,function(e,t){return t!==i?t:null})),this._setupDisabled(e))},disable:function(e){var t=this.options.disabled;if(!0!==t){if(e===n)t=!0;else{if(e=this._getIndex(e),-1!==c.inArray(e,t))return;t=c.isArray(t)?c.merge([e],t).sort():[e]}this._setupDisabled(t)}},load:function(e,t){e=this._getIndex(e);var i=this,n=this.tabs.eq(e),s=n.find(".ui-tabs-anchor"),o=this._getPanelForTab(n),r={tab:n,panel:o};u(s[0])||(this.xhr=c.ajax(this._ajaxSettings(s,t,r)),this.xhr&&"canceled"!==this.xhr.statusText&&(n.addClass("ui-tabs-loading"),o.attr("aria-busy","true"),this.xhr.success(function(e){setTimeout(function(){o.html(e),i._trigger("load",t,r)},1)}).complete(function(e,t){setTimeout(function(){"abort"===t&&i.panels.stop(!1,!0),n.removeClass("ui-tabs-loading"),o.removeAttr("aria-busy"),e===i.xhr&&delete i.xhr},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href"),beforeSend:function(e,t){return s._trigger("beforeLoad",i,c.extend({jqXHR:e,ajaxSettings:t},n))}}},_getPanelForTab:function(e){var t=c(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+t))}})}(jQuery),function(l){function c(e,t){var i=(e.attr("aria-describedby")||"").split(/\s+/);i.push(t),e.data("ui-tooltip-id",t).attr("aria-describedby",l.trim(i.join(" ")))}function s(e){var t=e.data("ui-tooltip-id"),i=(e.attr("aria-describedby")||"").split(/\s+/),n=l.inArray(t,i);-1!==n&&i.splice(n,1),e.removeData("ui-tooltip-id"),(i=l.trim(i.join(" ")))?e.attr("aria-describedby",i):e.removeAttr("aria-describedby")}var n=0;l.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=l(this).attr("title")||"";return l("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,t){var i=this;if("disabled"===e)return this[t?"_disable":"_enable"](),void(this.options[e]=t);this._super(e,t),"content"===e&&l.each(this.tooltips,function(e,t){i._updateContent(t)})},_disable:function(){var n=this;l.each(this.tooltips,function(e,t){var i=l.Event("blur");i.target=i.currentTarget=t[0],n.close(i,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=l(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=l(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,t=l(e?e.target:this.element).closest(this.options.items);t.length&&!t.data("ui-tooltip-id")&&(t.attr("title")&&t.data("ui-tooltip-title",t.attr("title")),t.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&t.parents().each(function(){var e,t=l(this);t.data("ui-tooltip-open")&&((e=l.Event("blur")).target=e.currentTarget=this,i.close(e,!0)),t.attr("title")&&(t.uniqueId(),i.parents[this.id]={element:this,title:t.attr("title")},t.attr("title",""))}),this._updateContent(t,e))},_updateContent:function(t,i){var e,n=this.options.content,s=this,o=i?i.type:null;if("string"==typeof n)return this._open(i,t,n);(e=n.call(t[0],function(e){t.data("ui-tooltip-open")&&s._delay(function(){i&&(i.type=o),this._open(i,t,e)})}))&&this._open(i,t,e)},_open:function(e,i,t){function n(e){a.of=e,s.is(":hidden")||s.position(a)}var s,o,r,a=l.extend({},this.options.position);t&&((s=this._find(i)).length?s.find(".ui-tooltip-content").html(t):(i.is("[title]")&&(e&&"mouseover"===e.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),c(i,s.attr("id")),s.find(".ui-tooltip-content").html(t),this.options.track&&e&&/^mouse/.test(e.type)?(this._on(this.document,{mousemove:n}),n(e)):s.position(l.extend({of:i},this.options.position)),s.hide(),this._show(s,this.options.show),this.options.show&&this.options.show.delay&&(r=this.delayedShow=setInterval(function(){s.is(":visible")&&(n(a.of),clearInterval(r))},l.fx.interval)),this._trigger("open",e,{tooltip:s}),o={keyup:function(e){if(e.keyCode===l.ui.keyCode.ESCAPE){var t=l.Event(e);t.currentTarget=i[0],this.close(t,!0)}},remove:function(){this._removeTooltip(s)}},e&&"mouseover"!==e.type||(o.mouseleave="close"),e&&"focusin"!==e.type||(o.focusout="close"),this._on(!0,i,o)))},close:function(e){var i=this,t=l(e?e.currentTarget:this.element),n=this._find(t);this.closing||(clearInterval(this.delayedShow),t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title")),s(t),n.stop(!0),this._hide(n,this.options.hide,function(){i._removeTooltip(l(this))}),t.removeData("ui-tooltip-open"),this._off(t,"mouseleave focusout keyup"),t[0]!==this.element[0]&&this._off(t,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&l.each(this.parents,function(e,t){l(t.element).attr("title",t.title),delete i.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:n}),this.closing=!1)},_tooltip:function(e){var t="ui-tooltip-"+n++,i=l("<div>").attr({id:t,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return l("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[t]=e,i},_find:function(e){var t=e.data("ui-tooltip-id");return t?l("#"+t):l()},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var n=this;l.each(this.tooltips,function(e,t){var i=l.Event("blur");i.target=i.currentTarget=t[0],n.close(i,!0),l("#"+e).remove(),t.data("ui-tooltip-title")&&(t.attr("title",t.data("ui-tooltip-title")),t.removeData("ui-tooltip-title"))})}})}(jQuery),function(l){l.tooltipsy=function(e,t){this.options=t,this.$el=l(e),this.title=this.$el.attr("title")||"",this.$el.attr("title",""),this.random=parseInt(1e4*Math.random()),this.ready=!1,this.shown=!1,this.width=0,this.height=0,this.delaytimer=null,this.$el.data("tooltipsy",this),this.init()},l.tooltipsy.prototype={init:function(){var t,i=this,e=i.$el,n=e[0];i.settings=t=l.extend({},i.defaults,i.options),t.delay=+t.delay,"function"==typeof t.content&&i.readify(),t.showEvent===t.hideEvent&&"click"===t.showEvent?e.toggle(function(e){"click"===t.showEvent&&"A"==n.tagName&&e.preventDefault(),0<t.delay?i.delaytimer=window.setTimeout(function(){i.show(e)},t.delay):i.show(e)},function(e){"click"===t.showEvent&&"A"==n.tagName&&e.preventDefault(),window.clearTimeout(i.delaytimer),i.delaytimer=null,i.hide(e)}):e.bind(t.showEvent,function(e){"click"===t.showEvent&&"A"==n.tagName&&e.preventDefault(),i.delaytimer=window.setTimeout(function(){i.show(e)},t.delay||0)}).bind(t.hideEvent,function(e){"click"===t.showEvent&&"A"==n.tagName&&e.preventDefault(),window.clearTimeout(i.delaytimer),i.delaytimer=null,i.hide(e)})},show:function(e){!1===this.ready&&this.readify();var t=this,i=t.settings,n=t.$tipsy,s=t.$el,o=s[0],r=t.offset(o);if(!1===t.shown&&(0<function(e){var t,i=0;for(t in e)e.hasOwnProperty(t)&&i++;return i}(i.css)&&t.$tip.css(i.css),t.width=n.outerWidth(),t.height=n.outerHeight()),"cursor"===i.alignTo&&e)if((a=[e.clientX+i.offset[0],e.clientY+i.offset[1]])[0]+t.width>l(window).width())a[1],a[0];else a[1],a[0];else var a=[i.offset[0]<0?r.left-Math.abs(i.offset[0])-t.width:0===i.offset[0]?r.left-(t.width-s.outerWidth())/2:r.left+s.outerWidth()+i.offset[0],i.offset[1]<0?r.top-Math.abs(i.offset[1])-t.height:0===i.offset[1]?r.top-(t.height-t.$el.outerHeight())/2:r.top+t.$el.outerHeight()+i.offset[1]];n.css({top:a[1]+"px",left:a[0]+"px"}),t.settings.show(e,n.stop(!0,!0))},hide:function(e){var t=this;!1!==t.ready&&(e&&e.relatedTarget===t.$tip[0]?t.$tip.bind("mouseleave",function(e){e.relatedTarget!==t.$el[0]&&t.settings.hide(e,t.$tipsy.stop(!0,!0))}):t.settings.hide(e,t.$tipsy.stop(!0,!0)))},readify:function(){this.ready=!0,this.$tipsy=l('<div id="tooltipsy'+this.random+'" style="position:fixed;z-index:2147483647;display:none">').appendTo("body"),this.$tip=l('<div class="'+this.settings.className+'">').appendTo(this.$tipsy),this.$tip.data("rootel",this.$el);var e=this.$el,t=this.$tip;this.$tip.html(""!=this.settings.content?"string"==typeof this.settings.content?this.settings.content:this.settings.content(e,t):this.title)},offset:function(){return this.$el[0].getBoundingClientRect()},destroy:function(){this.$tipsy&&(this.$tipsy.remove(),l.removeData(this.$el,"tooltipsy"))},defaults:{alignTo:"element",offset:[0,-1],content:"",show:function(e,t){t.fadeIn(100)},hide:function(e,t){t.fadeOut(100)},css:{},className:"tooltipsy",delay:200,showEvent:"mouseenter",hideEvent:"mouseleave"}},l.fn.tooltipsy=function(e){return this.each(function(){new l.tooltipsy(this,e)})}}(jQuery),function(o,n,e,h){"use strict";function a(e,t,i){return setTimeout(l(e,i),t)}function s(e,t,i){return!!Array.isArray(e)&&(r(e,i[t],i),!0)}function r(e,t,i){var n;if(e)if(e.forEach)e.forEach(t,i);else if(e.length!==h)for(n=0;n<e.length;)t.call(i,e[n],n,e),n++;else for(n in e)e.hasOwnProperty(n)&&t.call(i,e[n],n,e)}function t(n,e,t){var s="DEPRECATED METHOD: "+e+"\n"+t+" AT \n";return function(){var e=new Error("get-stack-trace"),t=e&&e.stack?e.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",i=o.console&&(o.console.warn||o.console.log);return i&&i.call(o.console,s,t),n.apply(this,arguments)}}function i(e,t,i){var n,s=t.prototype;(n=e.prototype=Object.create(s)).constructor=e,n._super=s,i&&he(n,i)}function l(e,t){return function(){return e.apply(t,arguments)}}function c(e,t){return typeof e==fe?e.apply(t&&t[0]||h,t):e}function u(e,t){return e===h?t:e}function d(t,e,i){r(g(e),function(e){t.addEventListener(e,i,!1)})}function p(t,e,i){r(g(e),function(e){t.removeEventListener(e,i,!1)})}function f(e,t){for(;e;){if(e==t)return!0;e=e.parentNode}return!1}function m(e,t){return-1<e.indexOf(t)}function g(e){return e.trim().split(/\s+/g)}function v(e,t,i){if(e.indexOf&&!i)return e.indexOf(t);for(var n=0;n<e.length;){if(i&&e[n][i]==t||!i&&e[n]===t)return n;n++}return-1}function y(e){return Array.prototype.slice.call(e,0)}function _(e,i,t){for(var n=[],s=[],o=0;o<e.length;){var r=i?e[o][i]:e[o];v(s,r)<0&&n.push(e[o]),s[o]=r,o++}return t&&(n=i?n.sort(function(e,t){return e[i]>t[i]}):n.sort()),n}function w(e,t){for(var i,n,s=t[0].toUpperCase()+t.slice(1),o=0;o<de.length;){if((n=(i=de[o])?i+s:t)in e)return n;o++}return h}function b(){return we++}function x(e){var t=e.ownerDocument||e;return t.defaultView||t.parentWindow||o}function S(t,e){var i=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){c(t.options.enable,[t])&&i.handler(e)},this.init()}function C(e){var t=e.options.inputClass;return new(t||(Se?F:Ce?$:xe?W:H))(e,E)}function E(e,t,i){var n=i.pointers.length,s=i.changedPointers.length,o=t&Pe&&n-s==0,r=t&(De|Ie)&&n-s==0;i.isFirst=!!o,i.isFinal=!!r,o&&(e.session={}),i.eventType=t,T(e,i),e.emit("hammer.input",i),e.recognize(i),e.session.prevInput=i}function T(e,t){var i=e.session,n=t.pointers,s=n.length;i.firstInput||(i.firstInput=M(t)),1<s&&!i.firstMultiple?i.firstMultiple=M(t):1===s&&(i.firstMultiple=!1);var o=i.firstInput,r=i.firstMultiple,a=r?r.center:o.center,l=t.center=P(n);t.timeStamp=ve(),t.deltaTime=t.timeStamp-o.timeStamp,t.angle=O(a,l),t.distance=I(a,l),k(i,t),t.offsetDirection=D(t.deltaX,t.deltaY);var c=N(t.deltaTime,t.deltaX,t.deltaY);t.overallVelocityX=c.x,t.overallVelocityY=c.y,t.overallVelocity=ge(c.x)>ge(c.y)?c.x:c.y,t.scale=r?A(r.pointers,n):1,t.rotation=r?L(r.pointers,n):0,t.maxPointers=i.prevInput?t.pointers.length>i.prevInput.maxPointers?t.pointers.length:i.prevInput.maxPointers:t.pointers.length,R(i,t);var u=e.element;f(t.srcEvent.target,u)&&(u=t.srcEvent.target),t.target=u}function k(e,t){var i=t.center,n=e.offsetDelta||{},s=e.prevDelta||{},o=e.prevInput||{};t.eventType!==Pe&&o.eventType!==De||(s=e.prevDelta={x:o.deltaX||0,y:o.deltaY||0},n=e.offsetDelta={x:i.x,y:i.y}),t.deltaX=s.x+(i.x-n.x),t.deltaY=s.y+(i.y-n.y)}function R(e,t){var i,n,s,o,r=e.lastInterval||t,a=t.timeStamp-r.timeStamp;if(t.eventType!=Ie&&(Me<a||r.velocity===h)){var l=t.deltaX-r.deltaX,c=t.deltaY-r.deltaY,u=N(a,l,c);n=u.x,s=u.y,i=ge(u.x)>ge(u.y)?u.x:u.y,o=D(l,c),e.lastInterval=t}else i=r.velocity,n=r.velocityX,s=r.velocityY,o=r.direction;t.velocity=i,t.velocityX=n,t.velocityY=s,t.direction=o}function M(e){for(var t=[],i=0;i<e.pointers.length;)t[i]={clientX:me(e.pointers[i].clientX),clientY:me(e.pointers[i].clientY)},i++;return{timeStamp:ve(),pointers:t,center:P(t),deltaX:e.deltaX,deltaY:e.deltaY}}function P(e){var t=e.length;if(1===t)return{x:me(e[0].clientX),y:me(e[0].clientY)};for(var i=0,n=0,s=0;s<t;)i+=e[s].clientX,n+=e[s].clientY,s++;return{x:me(i/t),y:me(n/t)}}function N(e,t,i){return{x:t/e||0,y:i/e||0}}function D(e,t){return e===t?Oe:ge(e)>=ge(t)?e<0?Le:Ae:t<0?He:Fe}function I(e,t,i){i||(i=Be);var n=t[i[0]]-e[i[0]],s=t[i[1]]-e[i[1]];return Math.sqrt(n*n+s*s)}function O(e,t,i){i||(i=Be);var n=t[i[0]]-e[i[0]],s=t[i[1]]-e[i[1]];return 180*Math.atan2(s,n)/Math.PI}function L(e,t){return O(t[1],t[0],We)+O(e[1],e[0],We)}function A(e,t){return I(t[0],t[1],We)/I(e[0],e[1],We)}function H(){this.evEl=Ve,this.evWin=qe,this.pressed=!1,S.apply(this,arguments)}function F(){this.evEl=Xe,this.evWin=Ze,S.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function j(){this.evTarget=Qe,this.evWin=Je,this.started=!1,S.apply(this,arguments)}function z(e,t){var i=y(e.touches),n=y(e.changedTouches);return t&(De|Ie)&&(i=_(i.concat(n),"identifier",!0)),[i,n]}function $(){this.evTarget=tt,this.targetIds={},S.apply(this,arguments)}function B(e,t){var i=y(e.touches),n=this.targetIds;if(t&(Pe|Ne)&&1===i.length)return n[i[0].identifier]=!0,[i,i];var s,o,r=y(e.changedTouches),a=[],l=this.target;if(o=i.filter(function(e){return f(e.target,l)}),t===Pe)for(s=0;s<o.length;)n[o[s].identifier]=!0,s++;for(s=0;s<r.length;)n[r[s].identifier]&&a.push(r[s]),t&(De|Ie)&&delete n[r[s].identifier],s++;return a.length?[_(o.concat(a),"identifier",!0),a]:void 0}function W(){S.apply(this,arguments);var e=l(this.handler,this);this.touch=new $(this.manager,e),this.mouse=new H(this.manager,e),this.primaryTouch=null,this.lastTouches=[]}function U(e,t){e&Pe?(this.primaryTouch=t.changedPointers[0].identifier,V.call(this,t)):e&(De|Ie)&&V.call(this,t)}function V(e){var t=e.changedPointers[0];if(t.identifier===this.primaryTouch){var i={x:t.clientX,y:t.clientY};this.lastTouches.push(i);var n=this.lastTouches;setTimeout(function(){var e=n.indexOf(i);-1<e&&n.splice(e,1)},it)}}function q(e){for(var t=e.srcEvent.clientX,i=e.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var s=this.lastTouches[n],o=Math.abs(t-s.x),r=Math.abs(i-s.y);if(o<=nt&&r<=nt)return!0}return!1}function Y(e,t){this.manager=e,this.set(t)}function G(e){if(
m(e,ct))return ct;var t=m(e,ut),i=m(e,ht);return t&&i?ct:t||i?t?ut:ht:m(e,lt)?lt:at}function X(){if(!ot)return!1;var t={},i=o.CSS&&o.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(e){t[e]=!i||o.CSS.supports("touch-action",e)}),t}function Z(e){this.options=he({},this.defaults,e||{}),this.id=b(),this.manager=null,this.options.enable=u(this.options.enable,!0),this.state=pt,this.simultaneous={},this.requireFail=[]}function K(e){return e&yt?"cancel":e&gt?"end":e&mt?"move":e&ft?"start":""}function Q(e){return e==Fe?"down":e==He?"up":e==Le?"left":e==Ae?"right":""}function J(e,t){var i=t.manager;return i?i.get(e):e}function ee(){Z.apply(this,arguments)}function te(){ee.apply(this,arguments),this.pX=null,this.pY=null}function ie(){ee.apply(this,arguments)}function ne(){Z.apply(this,arguments),this._timer=null,this._input=null}function se(){ee.apply(this,arguments)}function oe(){ee.apply(this,arguments)}function re(){Z.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function ae(e,t){return(t=t||{}).recognizers=u(t.recognizers,ae.defaults.preset),new le(e,t)}function le(e,t){this.options=he({},ae.defaults,t||{}),this.options.inputTarget=this.options.inputTarget||e,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=e,this.input=C(this),this.touchAction=new Y(this,this.options.touchAction),ce(this,!0),r(this.options.recognizers,function(e){var t=this.add(new e[0](e[1]));e[2]&&t.recognizeWith(e[2]),e[3]&&t.requireFailure(e[3])},this)}function ce(i,n){var s,o=i.element;o.style&&(r(i.options.cssProps,function(e,t){s=w(o.style,t),n?(i.oldCssProps[s]=o.style[s],o.style[s]=e):o.style[s]=i.oldCssProps[s]||""}),n||(i.oldCssProps={}))}function ue(e,t){var i=n.createEvent("Event");i.initEvent(e,!0,!0),(i.gesture=t).target.dispatchEvent(i)}var he,de=["","webkit","Moz","MS","ms","o"],pe=n.createElement("div"),fe="function",me=Math.round,ge=Math.abs,ve=Date.now;he="function"!=typeof Object.assign?function(e){if(e===h||null===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),i=1;i<arguments.length;i++){var n=arguments[i];if(n!==h&&null!==n)for(var s in n)n.hasOwnProperty(s)&&(t[s]=n[s])}return t}:Object.assign;var ye=t(function(e,t,i){for(var n=Object.keys(t),s=0;s<n.length;)(!i||i&&e[n[s]]===h)&&(e[n[s]]=t[n[s]]),s++;return e},"extend","Use `assign`."),_e=t(function(e,t){return ye(e,t,!0)},"merge","Use `assign`."),we=1,be=/mobile|tablet|ip(ad|hone|od)|android/i,xe="ontouchstart"in o,Se=w(o,"PointerEvent")!==h,Ce=xe&&be.test(navigator.userAgent),Ee="touch",Te="pen",ke="mouse",Re="kinect",Me=25,Pe=1,Ne=2,De=4,Ie=8,Oe=1,Le=2,Ae=4,He=8,Fe=16,je=Le|Ae,ze=He|Fe,$e=je|ze,Be=["x","y"],We=["clientX","clientY"];S.prototype={handler:function(){},init:function(){this.evEl&&d(this.element,this.evEl,this.domHandler),this.evTarget&&d(this.target,this.evTarget,this.domHandler),this.evWin&&d(x(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(x(this.element),this.evWin,this.domHandler)}};var Ue={mousedown:Pe,mousemove:Ne,mouseup:De},Ve="mousedown",qe="mousemove mouseup";i(H,S,{handler:function(e){var t=Ue[e.type];t&Pe&&0===e.button&&(this.pressed=!0),t&Ne&&1!==e.which&&(t=De),this.pressed&&(t&De&&(this.pressed=!1),this.callback(this.manager,t,{pointers:[e],changedPointers:[e],pointerType:ke,srcEvent:e}))}});var Ye={pointerdown:Pe,pointermove:Ne,pointerup:De,pointercancel:Ie,pointerout:Ie},Ge={2:Ee,3:Te,4:ke,5:Re},Xe="pointerdown",Ze="pointermove pointerup pointercancel";o.MSPointerEvent&&!o.PointerEvent&&(Xe="MSPointerDown",Ze="MSPointerMove MSPointerUp MSPointerCancel"),i(F,S,{handler:function(e){var t=this.store,i=!1,n=e.type.toLowerCase().replace("ms",""),s=Ye[n],o=Ge[e.pointerType]||e.pointerType,r=o==Ee,a=v(t,e.pointerId,"pointerId");s&Pe&&(0===e.button||r)?a<0&&(t.push(e),a=t.length-1):s&(De|Ie)&&(i=!0),a<0||(t[a]=e,this.callback(this.manager,s,{pointers:t,changedPointers:[e],pointerType:o,srcEvent:e}),i&&t.splice(a,1))}});var Ke={touchstart:Pe,touchmove:Ne,touchend:De,touchcancel:Ie},Qe="touchstart",Je="touchstart touchmove touchend touchcancel";i(j,S,{handler:function(e){var t=Ke[e.type];if(t===Pe&&(this.started=!0),this.started){var i=z.call(this,e,t);t&(De|Ie)&&i[0].length-i[1].length==0&&(this.started=!1),this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:Ee,srcEvent:e})}}});var et={touchstart:Pe,touchmove:Ne,touchend:De,touchcancel:Ie},tt="touchstart touchmove touchend touchcancel";i($,S,{handler:function(e){var t=et[e.type],i=B.call(this,e,t);i&&this.callback(this.manager,t,{pointers:i[0],changedPointers:i[1],pointerType:Ee,srcEvent:e})}});var it=2500,nt=25;i(W,S,{handler:function(e,t,i){var n=i.pointerType==Ee,s=i.pointerType==ke;if(!(s&&i.sourceCapabilities&&i.sourceCapabilities.firesTouchEvents)){if(n)U.call(this,t,i);else if(s&&q.call(this,i))return;this.callback(e,t,i)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var st=w(pe.style,"touchAction"),ot=st!==h,rt="compute",at="auto",lt="manipulation",ct="none",ut="pan-x",ht="pan-y",dt=X();Y.prototype={set:function(e){e==rt&&(e=this.compute()),ot&&this.manager.element.style&&dt[e]&&(this.manager.element.style[st]=e),this.actions=e.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return r(this.manager.recognizers,function(e){c(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),G(t.join(" "))},preventDefaults:function(e){var t=e.srcEvent,i=e.offsetDirection;if(!this.manager.session.prevented){var n=this.actions,s=m(n,ct)&&!dt[ct],o=m(n,ht)&&!dt[ht],r=m(n,ut)&&!dt[ut];if(s){var a=1===e.pointers.length,l=e.distance<2,c=e.deltaTime<250;if(a&&l&&c)return}return r&&o?void 0:s||o&&i&je||r&&i&ze?this.preventSrc(t):void 0}t.preventDefault()},preventSrc:function(e){this.manager.session.prevented=!0,e.preventDefault()}};var pt=1,ft=2,mt=4,gt=8,vt=gt,yt=16,_t=32;Z.prototype={defaults:{},set:function(e){return he(this.options,e),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(e){if(s(e,"recognizeWith",this))return this;var t=this.simultaneous;return t[(e=J(e,this)).id]||(t[e.id]=e).recognizeWith(this),this},dropRecognizeWith:function(e){return s(e,"dropRecognizeWith",this)||(e=J(e,this),delete this.simultaneous[e.id]),this},requireFailure:function(e){if(s(e,"requireFailure",this))return this;var t=this.requireFail;return-1===v(t,e=J(e,this))&&(t.push(e),e.requireFailure(this)),this},dropRequireFailure:function(e){if(s(e,"dropRequireFailure",this))return this;e=J(e,this);var t=v(this.requireFail,e);return-1<t&&this.requireFail.splice(t,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(e){return!!this.simultaneous[e.id]},emit:function(t){function e(e){i.manager.emit(e,t)}var i=this,n=this.state;n<gt&&e(i.options.event+K(n)),e(i.options.event),t.additionalEvent&&e(t.additionalEvent),gt<=n&&e(i.options.event+K(n))},tryEmit:function(e){return this.canEmit()?this.emit(e):void(this.state=_t)},canEmit:function(){for(var e=0;e<this.requireFail.length;){if(!(this.requireFail[e].state&(_t|pt)))return!1;e++}return!0},recognize:function(e){var t=he({},e);return c(this.options.enable,[this,t])?(this.state&(vt|yt|_t)&&(this.state=pt),this.state=this.process(t),void(this.state&(ft|mt|gt|yt)&&this.tryEmit(t))):(this.reset(),void(this.state=_t))},process:function(){},getTouchAction:function(){},reset:function(){}},i(ee,Z,{defaults:{pointers:1},attrTest:function(e){var t=this.options.pointers;return 0===t||e.pointers.length===t},process:function(e){var t=this.state,i=e.eventType,n=t&(ft|mt),s=this.attrTest(e);return n&&(i&Ie||!s)?t|yt:n||s?i&De?t|gt:t&ft?t|mt:ft:_t}}),i(te,ee,{defaults:{event:"pan",threshold:10,pointers:1,direction:$e},getTouchAction:function(){var e=this.options.direction,t=[];return e&je&&t.push(ht),e&ze&&t.push(ut),t},directionTest:function(e){var t=this.options,i=!0,n=e.distance,s=e.direction,o=e.deltaX,r=e.deltaY;return s&t.direction||(t.direction&je?(s=0===o?Oe:o<0?Le:Ae,i=o!=this.pX,n=Math.abs(e.deltaX)):(s=0===r?Oe:r<0?He:Fe,i=r!=this.pY,n=Math.abs(e.deltaY))),e.direction=s,i&&n>t.threshold&&s&t.direction},attrTest:function(e){return ee.prototype.attrTest.call(this,e)&&(this.state&ft||!(this.state&ft)&&this.directionTest(e))},emit:function(e){this.pX=e.deltaX,this.pY=e.deltaY;var t=Q(e.direction);t&&(e.additionalEvent=this.options.event+t),this._super.emit.call(this,e)}}),i(ie,ee,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.scale-1)>this.options.threshold||this.state&ft)},emit:function(e){if(1!==e.scale){var t=e.scale<1?"in":"out";e.additionalEvent=this.options.event+t}this._super.emit.call(this,e)}}),i(ne,Z,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[at]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime>t.time;if(this._input=e,!n||!i||e.eventType&(De|Ie)&&!s)this.reset();else if(e.eventType&Pe)this.reset(),this._timer=a(function(){this.state=vt,this.tryEmit()},t.time,this);else if(e.eventType&De)return vt;return _t},reset:function(){clearTimeout(this._timer)},emit:function(e){this.state===vt&&(e&&e.eventType&De?this.manager.emit(this.options.event+"up",e):(this._input.timeStamp=ve(),this.manager.emit(this.options.event,this._input)))}}),i(se,ee,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[ct]},attrTest:function(e){return this._super.attrTest.call(this,e)&&(Math.abs(e.rotation)>this.options.threshold||this.state&ft)}}),i(oe,ee,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:je|ze,pointers:1},getTouchAction:function(){return te.prototype.getTouchAction.call(this)},attrTest:function(e){var t,i=this.options.direction;return i&(je|ze)?t=e.overallVelocity:i&je?t=e.overallVelocityX:i&ze&&(t=e.overallVelocityY),this._super.attrTest.call(this,e)&&i&e.offsetDirection&&e.distance>this.options.threshold&&e.maxPointers==this.options.pointers&&ge(t)>this.options.velocity&&e.eventType&De},emit:function(e){var t=Q(e.offsetDirection);t&&this.manager.emit(this.options.event+t,e),this.manager.emit(this.options.event,e)}}),i(re,Z,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[lt]},process:function(e){var t=this.options,i=e.pointers.length===t.pointers,n=e.distance<t.threshold,s=e.deltaTime<t.time;if(this.reset(),e.eventType&Pe&&0===this.count)return this.failTimeout();if(n&&s&&i){if(e.eventType!=De)return this.failTimeout();var o=!this.pTime||e.timeStamp-this.pTime<t.interval,r=!this.pCenter||I(this.pCenter,e.center)<t.posThreshold;if(this.pTime=e.timeStamp,this.pCenter=e.center,r&&o?this.count+=1:this.count=1,this._input=e,0===this.count%t.taps)return this.hasRequireFailures()?(this._timer=a(function(){this.state=vt,this.tryEmit()},t.interval,this),ft):vt}return _t},failTimeout:function(){return this._timer=a(function(){this.state=_t},this.options.interval,this),_t},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==vt&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),ae.VERSION="2.0.8",ae.defaults={domEvents:!1,touchAction:rt,enable:!0,inputTarget:null,inputClass:null,preset:[[se,{enable:!1}],[ie,{enable:!1},["rotate"]],[oe,{direction:je}],[te,{direction:je},["swipe"]],[re],[re,{event:"doubletap",taps:2},["tap"]],[ne]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var wt=1,bt=2;le.prototype={set:function(e){return he(this.options,e),e.touchAction&&this.touchAction.update(),e.inputTarget&&(this.input.destroy(),this.input.target=e.inputTarget,this.input.init()),this},stop:function(e){this.session.stopped=e?bt:wt},recognize:function(e){var t=this.session;if(!t.stopped){this.touchAction.preventDefaults(e);var i,n=this.recognizers,s=t.curRecognizer;(!s||s&&s.state&vt)&&(s=t.curRecognizer=null);for(var o=0;o<n.length;)i=n[o],t.stopped===bt||s&&i!=s&&!i.canRecognizeWith(s)?i.reset():i.recognize(e),!s&&i.state&(ft|mt|gt)&&(s=t.curRecognizer=i),o++}},get:function(e){if(e instanceof Z)return e;for(var t=this.recognizers,i=0;i<t.length;i++)if(t[i].options.event==e)return t[i];return null},add:function(e){if(s(e,"add",this))return this;var t=this.get(e.options.event);return t&&this.remove(t),this.recognizers.push(e),(e.manager=this).touchAction.update(),e},remove:function(e){if(s(e,"remove",this))return this;if(e=this.get(e)){var t=this.recognizers,i=v(t,e);-1!==i&&(t.splice(i,1),this.touchAction.update())}return this},on:function(e,t){if(e!==h&&t!==h){var i=this.handlers;return r(g(e),function(e){i[e]=i[e]||[],i[e].push(t)}),this}},off:function(e,t){if(e!==h){var i=this.handlers;return r(g(e),function(e){t?i[e]&&i[e].splice(v(i[e],t),1):delete i[e]}),this}},emit:function(e,t){this.options.domEvents&&ue(e,t);var i=this.handlers[e]&&this.handlers[e].slice();if(i&&i.length){t.type=e,t.preventDefault=function(){t.srcEvent.preventDefault()};for(var n=0;n<i.length;)i[n](t),n++}},destroy:function(){this.element&&ce(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},he(ae,{INPUT_START:Pe,INPUT_MOVE:Ne,INPUT_END:De,INPUT_CANCEL:Ie,STATE_POSSIBLE:pt,STATE_BEGAN:ft,STATE_CHANGED:mt,STATE_ENDED:gt,STATE_RECOGNIZED:vt,STATE_CANCELLED:yt,STATE_FAILED:_t,DIRECTION_NONE:Oe,DIRECTION_LEFT:Le,DIRECTION_RIGHT:Ae,DIRECTION_UP:He,DIRECTION_DOWN:Fe,DIRECTION_HORIZONTAL:je,DIRECTION_VERTICAL:ze,DIRECTION_ALL:$e,Manager:le,Input:S,TouchAction:Y,TouchInput:$,MouseInput:H,PointerEventInput:F,TouchMouseInput:W,SingleTouchInput:j,Recognizer:Z,AttrRecognizer:ee,Tap:re,Pan:te,Swipe:oe,Pinch:ie,Rotate:se,Press:ne,on:d,off:p,each:r,merge:_e,extend:ye,assign:he,inherit:i,bindFn:l,prefixed:w}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=ae,"function"==typeof define&&define.amd?define(function(){return ae}):"undefined"!=typeof module&&module.exports?module.exports=ae:o[e]=ae}(window,document,"Hammer"),function(){null==window.JST&&(window.JST={}),window.JST.events=function(e){return function(){var e,t,i;return t=window.HAML.escape,e=window.HAML.cleanValue,(i=[]).push("<li class='slide'>\n  <div class='list_content'>\n    <div class='list_text'>\n      <div class='date'>"),i.push("        "+t(e(this.start_date))),this.end_date!==this.start_date&&i.push("        "+t(e(" - "+this.end_date))),i.push("      </div>\n      <h3 class='list_title'>\n        <a href='"+e(this.item.link)+"' target='_blank'>"),i.push("          "+t(e(this.item.title))),i.push("        </a>\n      </h3>\n      <a class='list_link' href='"+e(this.item.link)+"' target='_blank'>\u203a\u203a view details</a>\n    </div>\n  </div>\n</li>"),i.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST.news=function(e){return function(){var e,t,i;return t=window.HAML.escape,e=window.HAML.cleanValue,(i=[]).push("<li class='slide'>\n  <div class='image_and_description_container'>\n    <a href='"+e(this.url)+"' target='"+e(this.target)+"'>\n      <div class='rollover_description'>\n        <div class='rollover_description_inner'>"),i.push("          "+t(e(this.long_desc_rollover))),i.push("        </div>\n        <div class='overlay_arrow'>\n          <img src='/assets/overlay-arrow.png' alt='More'>\n        </div>\n      </div>\n      <div class='list_image'>\n        <img class='thumb' src='"+e(this.list_image_url)+"' alt='"+e(this.item.main_image_alt)+"'>\n      </div>\n      <div class='bottom_gradient'>\n        <div>\n          <h3>"),i.push("            "+t(e(this.item.title))),i.push("          </h3>\n        </div>\n      </div>\n    </a>\n    <div class='list_text'>\n      <div class='list_date'>"),i.push("        "+t(e(this.publish_date))),i.push("      </div>\n      <div class='content_title'>\n        <a href='"+e(this.url)+"' target='"+e(this.target)+"'>"),i.push("          "+t(e(this.item.title))),i.push("        </a>\n      </div>\n      <div class='article_teaser_body'>"),i.push("        "+t(e(this.long_desc))),i.push("      </div>\n    </div>\n  </div>\n</li>"),i.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST.publications=function(e){return function(){var e,t,i;return t=window.HAML.escape,e=window.HAML.cleanValue,(i=[]).push("<li class='slide'>\n  <div class='image_and_description_container'>\n    <div class='list_text'>"),this.url?(i.push("      <div class='publication_title'>\x92\n        <a href='"+e(this.url)+"' target='_blank'>"),i.push("        "+t(e(this.item.title))),i.push("        </a>\n      \x91</div>")):(i.push("      <div class='publication_title'>\x92"),i.push("        "+t(e(this.item.title))),i.push("      \x91</div>")),this.citation&&(i.push("      <div class='article_teaser_body'>\n        <div class='citation'>"),i.push("          "+e(this.citation)),i.push("        </div>\n      </div>")),i.push("    </div>\n  </div>\n</li>"),i.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"").replace(/[\s\n]*\u0091/gm,"").replace(/\u0092[\s\n]*/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){null==window.JST&&(window.JST={}),window.JST.resources=function(e){return function(){var e,t,i;return t=window.HAML.escape,e=window.HAML.cleanValue,(i=[]).push("<li class='slide'>\n  <div class='image_and_description_container'>\n    <a class='"+e(this.html_options["class"])+"' href='"+e(this.href)+"' data-fancybox-group='"+e(this.html_options["fancybox-group"])+"' data-fancybox-type='"+e(this.html_options["fancybox-type"])+"' data-fancybox-href='"+e(this.html_options["fancybox-href"])+"' data-title='"+e(this.html_options.title)+"' data-description='"+e(this.html_options.description)+"' data-credit='"+e(this.html_options.credit)+"' data-link='"+e(this.html_options.link)+"'>\n      <div class='rollover_description'>\n        <div class='rollover_description_inner'>"),i.push("          "+e(this.short_desc)),i.push("        </div>\n        <div class='overlay_arrow'>\n          <img src='/assets/overlay-arrow.png' alt='More'>\n        </div>\n      </div>\n      <div class='list_image'>\n        <img src='"+e(this.list_image_src)+"' alt='"+e(this.item.alt_text)+"'>\n      </div>\n      <div class='bottom_gradient'>\n        <div>\n          <h3>"),i.push("            "+e(this.item.title)),i.push("          </h3>\n        </div>\n      </div>\n    </a>\n    <div class='list_text'>\n      <div class='content_title'>\n        <a class='"+e(this.html_options["class"])+"' href='"+e(this.href)+"' data-fancybox-group='"+e(this.html_options["fancybox-group"])+"' data-fancybox-type='"+e(this.html_options["fancybox-type"])+"' data-fancybox-href='"+e(this.html_options["fancybox-href"])+"' data-title='"+e(this.html_options.title)+"' data-description='"+e(this.html_options.description)+"' data-credit='"+e(this.html_options.credit)+"' data-link='"+e(this.html_options.link)+"'>"),i.push("          "+t(e(this.item.title))),i.push("        </a>\n      </div>\n      <div class='article_teaser_body'>"),i.push("        "+e(this.short_desc)),i.push("      </div>\n    </div>\n  </div>\n</li>"),i.join("\n").replace(/\s([\w-]+)='\x93true'/gm," $1").replace(/\s([\w-]+)='\x93false'/gm,"").replace(/\s(?:id|class)=(['"])(\1)/gm,"")}.call(window.HAML.context(e))}}.call(this),function(){var l=[].slice;window.HAML=function(){function t(){}return t.escape=function(e){return(""+e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/\//g,"&#47;")},t.cleanValue=function(e){switch(e){case null:case void 0:return"";case!0:case!1:return"\x93"+e;default:return e}},t.extend=function(e){var t,i,n,s,o,r,a;for(s=e,t=0,n=(r=2<=arguments.length?l.call(arguments,1):[]).length;t<n;t++)for(i in o=r[t])a=o[i],s[i]=a;return s},t.globals=function(){return{}},t.context=function(e){return this.extend({},t.globals(),e)},t.preserve=function(e){return e.replace(/\n/g,"&#x000A;")},t.findAndPreserve=function(e){var t;return t="textarea,pre".split(",").join("|"),e.replace(/\r/g,"").replace(RegExp("<("+t+")>([\\s\\S]*?)<\\/\\1>","g"),function(e,t,i){return"<"+t+">"+window.HAML.preserve(i)+"</"+t+">"})},t.surround=function(e,t,i){var n;return e+(null!=(n=i.call(this))?n.replace(/^\s+|\s+$/g,""):void 0)+t},t.succeed=function(e,t){var i;return(null!=(i=t.call(this))?i.replace(/\s+$/g,""):void 0)+e},t.precede=function(e,t){var i;return e+(null!=(i=t.call(this))?i.replace(/^\s+/g,""):void 0)},t.reference=function(e,t){var i,n,s;if(n=t?t+"_":"","function"==typeof e.hamlObjectRef?n+=e.hamlObjectRef():n+=((null!=(s=e.constructor)?s.name:void 0)||"object").replace(/\W+/g,"_").replace(/([a-z\d])([A-Z])/g,"$1_$2").toLowerCase(),i="function"==typeof e.to_key?e.to_key():"function"==typeof e.id?e.id():e.id?e.id:e)return"class='"+n+"'"+" id='"+n+"_"+i+"'"},t}()}.call(this),function(){}.call(this);var explore_overlay={callback:null,fadeTime:600,onLoad:null,init:function(e,t,i,n){if(console.log("explore_overlay.init"),t?(t.call(),explore_overlay.callback=t):this.callback=null,n&&(this.onLoad=n),0==$("#explore_overlay").length){var s=1<mb_utils.getIEVersion().major;console.log("isIE: "+s);var o="ring-alt.svg";s&&(o="ring-alt.gif"),$("#page").append("<div id='explore_overlay'><div class='loading'><img src='/assets/public/"+o+"'><p>LOADING</p></div><div class='content'></div></div> ")}console.log("open modal!"),$("#explore_overlay .content").empty(),e+=0<=e.indexOf("?")?"&":"?";var r=(e+="layout=overlay&override_preview=true&overlay=true").split("?");/\/$/.test(r[0])||(r[0]+="/"),e=r.join("?"),$("#explore_overlay .content").append('<iframe src="'+e+'" frameborder=0 width=100%/>').addClass("visible"),$("#explore_overlay .content iframe").css({height:"100%"}),explore_overlay.loadModal("",t),i&&(console.log("specialClass: "+i),$("#explore_overlay").addClass(i),$(".overlay_close_button").addClass(i)),$("#explore_overlay .loading").delay(200).fadeIn(),$("#explore_overlay .content iframe").on("load",function(){console.log("load the iframe"),explore_overlay.afterLoad(e)}),$("#explore_overlay").addClass("visible").animate({opacity:1},explore_overlay.fadeTime)},afterLoad:function(i){$("#explore_overlay .loading").fadeOut(),$(".overlay_close_button").addClass("visible").animate({opacity:1},explore_overlay.fadeTime/2),$("#explore_overlay .content").addClass("visible").animate({opacity:1},explore_overlay.fadeTime,function(){"undefined"!=typeof mb_parallax&&mb_parallax.init(!0),"undefined"!=typeof mb_utils&&mb_utils.initExpandableElement(),"object"==typeof ReactRailsUJS&&ReactRailsUJS.mountComponents(),$("body").addClass("overlay_loaded");var e=$("#explore_overlay title").text(),t=i.split("?")[0];console.log("Explore overlay title: "+e),"undefined"!=typeof _sendPageview&&_sendPageview(t,e)})},loadFbFromResources:function(e){var t={category:e};$.getJSON("/api/v1/resources/",t,function(e){var n=[];$.each(e.items,function(e,t){var i={href:t.detail_image,title:t.title,type:"image",resource_id:t.id,description:t.short_description};n.push(i)}),$.fancybox(n,{padding:10,openEffect:"fade",closeEffect:"fade",mouseWheel:!1,theme:"dark",helpers:{thumbs:{source:function(e){return $(e.element).attr("data-thumbnail")}}},beforeLoad:function(){var e=this.title,t="/resources/"+this.resource_id+"/";e+="<div class='addthis_toolbox addthis_default_style'  addthis:url='"+t+"' addthis:title='"+this.title+"' addthis:description='"+this.description+"'>",e+='   <div class="buttons">',e+='     <a class="addthis_button_compact">',e+='       <img src="/assets/public/share.png">',e+="     </a>",e+='     <a class="button" href="'+t+' " target="_top">',e+="more info",e+="     </a>",e+="   </div>",e+="</div>",this.title=e},afterShow:function(){"undefined"!=typeof addthis&&addthis.toolbox($(".addthis_toolbox").get())}})})},loadModal:function(){console.log("explore overlay: loadModal()");try{window.mb_scroll_position&&window.mb_scroll_position.save()}catch(e){}$("#explore_overlay").scrollTop(0),0==$(".overlay_close_button").length&&$("#explore_overlay").before("<a class='overlay_close_button' href='javascript:void(0)'><div class='close_icon'></div></a>"),$(".overlay_close_button").one("click touchstart",function(e){e.preventDefault(),e.stopPropagation(),explore_overlay.closeModal()}),0==$("#explore_overlay .background_area").length&&$("#explore_overlay").append("<div class='background_area'></div>"),$("#explore_overlay .background_area").one("click",function(){console.log("click background"),explore_overlay.closeModal()}),$("html").addClass("explore_overlay_open"),$("body").addClass("explore_overlay_open"),explore_overlay.onLoad&&"function"==typeof explore_overlay.onLoad&&explore_overlay.onLoad.call()},closeModal:function(){explore_overlay.callback&&(explore_overlay.callback.call(),explore_overlay.callback=null),$(".overlay_close_button").animate({opacity:0},explore_overlay.fadeTime/2,"linear",function(){$("#explore_overlay").animate({opacity:0},explore_overlay.fadeTime,function(){if($("#explore_overlay").removeClass("visible"),$("body").removeClass("explore_overlay_open overlay_loaded"),$("html").removeClass("explore_overlay_open overlay_loaded"),$("#explore_overlay .content").removeClass("visible").empty().css("opacity","0"),$(".overlay_close_button").removeClass("visible"),$("#timeline-embed").length)document.getElementById("timeline-embed").scrollIntoView();else try{window.mb_scroll_position&&window.mb_scroll_position.restore()}catch(e){}})})}};!function(i){function n(e){if(s[e])return s[e].exports;var t=s[e]={exports:{},id:e,loaded:!1};return i[e].call(t.exports,t,t.exports,n),t.loaded=!0,t.exports}var s={};n.m=i,n.c=s,n.p="",n(0)}([function(e,t,i){var n=i(164),s=i(109);window.React=n,window.ReactDOM=s},function(e){"use strict";function t(e,t,i,n,s,o,r,a){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[i,n,s,o,r,a],u=0;(l=new Error(t.replace(/%s/g,function(){return c[u++]}))).name="Invariant Violation"}throw l.framesToPop=1,l}}e.exports=t},function(e){"use strict";function t(e){for(var t=arguments.length-1,i="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,n=0;n<t;n++)i+="&args[]="+encodeURIComponent(arguments[n+1]);i+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var s=new Error(i);throw s.name="Invariant Violation",s.framesToPop=1,s}e.exports=t},function(e,t,i){"use strict";var n=i(8);e.exports=n},function(e){"use strict";function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function t(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},i=0;i<10;i++)t["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var n={};return"abcdefghijklmnopqrst".split("").forEach(function(e){n[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},n)).join("")}catch(c){return!1}}var l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;e.exports=t()?Object.assign:function(e){for(var t,i,n=a(e),s=1;s<arguments.length;s++){for(var o in t=Object(arguments[s]))l.call(t,o)&&(n[o]=t[o]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(t);for(var r=0;r<i.length;r++)c.call(t,i[r])&&(n[i[r]]=t[i[r]])}}return n}},function(e,t,i){"use strict";function a(e){for(var t;t=e._renderedComponent;)e=t;return e}function l(e,t){var i=a(e);(i._hostNode=t)[m]=i}function n(e){var t=e._hostNode;t&&(delete t[m],e._hostNode=null)}function s(e,t){if(!(e._flags&f.hasCachedChildNodes)){var i=e._renderedChildren,n=t.firstChild;e:for(var s in i)if(i.hasOwnProperty(s)){var o=i[s],r=a(o)._domID;if(null!=r){for(;null!==n;n=n.nextSibling)if(1===n.nodeType&&n.getAttribute(p)===String(r)||8===n.nodeType&&n.nodeValue===" react-text: "+r+" "||8===n.nodeType&&n.nodeValue===" react-empty: "+r+" "){l(o,n);continue e}u("32",r)}}e._flags|=f.hasCachedChildNodes}}function o(e){if(e[m])return e[m];for(var t=[];!e[m];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var i,n;e&&(n=e[m]);e=t.pop())i=n,t.length&&s(n,e);return i}function r(e){var t=o(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode&&u("33"),e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent||u("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var u=i(2),h=i(18),d=i(68),p=(i(1),h.ID_ATTRIBUTE_NAME),f=d,m="__reactInternalInstance$"+Math.random().toString(36).slice(2),g={getClosestInstanceFromNode:o,getInstanceFromNode:r,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:l,uncacheNode:n};e.exports=g},function(e){"use strict";var t=!("undefined"==typeof window||!window.document||!window.document.createElement),i={canUseDOM:t,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:t&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:t&&!!window.screen,isInWorker:!t};e.exports=i},function(e){"use strict";var t=null;e.exports={debugTool:t}},function(e){"use strict";function t(e){return function(){return e}}var i=function(){};i.thatReturns=t,i.thatReturnsFalse=t(!1),i.thatReturnsTrue=t(!0),i.thatReturnsNull=t(null),i.thatReturnsThis=function(){return this},i.thatReturnsArgument=function(e){return e},e.exports=i},function(e,t,i){"use strict";function f(e){return void 0!==e.ref}function m(e){return void 0!==e.key}var g=i(4),v=i(15),y=(i(3),i(80),Object.prototype.hasOwnProperty),a="function"==typeof Symbol&&Symbol["for"]&&Symbol["for"]("react.element")||60103,_={key:!0,ref:!0,__self:!0,__source:!0},w=function(e,t,i,n,s,o,r){return{$$typeof:a,type:e,key:t,ref:i,props:r,_owner:o}};w.createElement=function(e,t,i){var n,s={},o=null,r=null,a=null,l=null;if(null!=t)for(n in f(t)&&(r=t.ref),m(t)&&(o=""+t.key),a=void 0===t.__self?null:t.__self,l=void 0===t.__source?null:t.__source,t)y.call(t,n)&&!_.hasOwnProperty(n)&&(s[n]=t[n]);var c=arguments.length-2;if(1===c)s.children=i;else if(1<c){for(var u=Array(c),h=0;h<c;h++)u[h]=arguments[h+2];s.children=u}if(e&&e.defaultProps){var d=e.defaultProps;for(n in d)void 0===s[n]&&(s[n]=d[n])}return w(e,o,r,a,l,v.current,s)},w.createFactory=function(e){var t=w.createElement.bind(null,e);return t.type=e,t},w.cloneAndReplaceKey=function(e,t){return w(e.type,t,e.ref,e._self,e._source,e._owner,e.props)},w.cloneElement=function(e,t,i){var n,s,o=g({},e.props),r=e.key,a=e.ref,l=e._self,c=e._source,u=e._owner;if(null!=t)for(n in f(t)&&(a=t.ref,u=v.current),m(t)&&(r=""+t.key),e.type&&e.type.defaultProps&&(s=e.type.defaultProps),t)y.call(t,n)&&!_.hasOwnProperty(n)&&(void 0===t[n]&&void 0!==s?o[n]=s[n]:o[n]=t[n]);var h=arguments.length-2;if(1===h)o.children=i;else if(1<h){for(var d=Array(h),p=0;p<h;p++)d[p]=arguments[p+2];o.children=d}return w(e.type,r,a,l,c,u,o)},w.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===a},w.REACT_ELEMENT_TYPE=a,e.exports=w},function(e,t,i){"use strict";function r(){C.ReactReconcileTransaction&&b||u("123")}function n(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=d.getPooled(),this.reconcileTransaction=C.ReactReconcileTransaction.getPooled(!0)}function s(e,t,i,n,s,o){r(),b.batchedUpdates(e,t,i,n,s,o)}function l(e,t){return e._mountOrder-t._mountOrder}function o(e){var t=e.dirtyComponentsLength;t!==v.length&&u("124",t,v.length),v.sort(l),y++;for(var i=0;i<t;i++){var n,s=v[i],o=s._pendingCallbacks;if(s._pendingCallbacks=null,f.logTopLevelRenders){var r=s;s._currentElement.props===s._renderedComponent._currentElement&&(r=s._renderedComponent),n="React update: "+r.getName(),console.time(n)}if(m.performUpdateIfNecessary(s,e.reconcileTransaction,y),n&&console.timeEnd(n),o)for(var a=0;a<o.length;a++)e.callbackQueue.enqueue(o[a],s.getPublicInstance())}}function a(e){
return r(),b.isBatchingUpdates?(v.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=y+1))):void b.batchedUpdates(a,e)}function c(e,t){b.isBatchingUpdates||u("125"),_.enqueue(e,t),w=!0}var u=i(2),h=i(4),d=i(64),p=i(14),f=i(71),m=i(16),g=i(24),v=(i(1),[]),y=0,_=d.getPooled(),w=!1,b=null,x=[{initialize:function(){this.dirtyComponentsLength=v.length},close:function(){this.dirtyComponentsLength!==v.length?(v.splice(0,this.dirtyComponentsLength),S()):v.length=0}},{initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}}];h(n.prototype,g.Mixin,{getTransactionWrappers:function(){return x},destructor:function(){this.dirtyComponentsLength=null,d.release(this.callbackQueue),this.callbackQueue=null,C.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,i){return g.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,i)}}),p.addPoolingTo(n);var S=function(){for(;v.length||w;){if(v.length){var e=n.getPooled();e.perform(o,null,e),n.release(e)}if(w){w=!1;var t=_;_=d.getPooled(),t.notifyAll(),d.release(t)}}},C={ReactReconcileTransaction:null,batchedUpdates:s,enqueueUpdate:a,flushBatchedUpdates:S,injection:{injectReconcileTransaction:function(e){e||u("126"),C.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e||u("127"),"function"!=typeof e.batchedUpdates&&u("128"),"boolean"!=typeof e.isBatchingUpdates&&u("129"),b=e}},asap:c};e.exports=C},function(e,t,i){"use strict";var n=i(25),s=n({bubbled:null,captured:null}),o={topLevelTypes:n({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null}),PropagationPhases:s};e.exports=o},function(e,t,i){"use strict";function n(e,t,i,n){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=i;var s=this.constructor.Interface;for(var o in s)if(s.hasOwnProperty(o)){var r=s[o];r?this[o]=r(i):"target"===o?this.target=n:this[o]=i[o]}var a=null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue;return this.isDefaultPrevented=a?l.thatReturnsTrue:l.thatReturnsFalse,this.isPropagationStopped=l.thatReturnsFalse,this}var o=i(4),r=i(14),l=i(8),s=(i(3),["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),a={type:null,target:null,currentTarget:l.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};o(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1,this.isDefaultPrevented=l.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():e.cancelBubble=!0,this.isPropagationStopped=l.thatReturnsTrue)},persist:function(){this.isPersistent=l.thatReturnsTrue},isPersistent:l.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var i=0;i<s.length;i++)this[s[i]]=null}}),n.Interface=a,n.augmentClass=function(e,t){var i=this,n=function(){};n.prototype=i.prototype;var s=new n;o(s,e.prototype),e.prototype=s,(e.prototype.constructor=e).Interface=o({},i.Interface,t),e.augmentClass=i.augmentClass,r.addPoolingTo(e,r.fourArgumentPooler)},r.addPoolingTo(n,r.fourArgumentPooler),e.exports=n},function(e){"use strict";var t=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=t},function(e,t,i){"use strict";var n=i(2),s=(i(1),function(e){var t=this;if(t.instancePool.length){var i=t.instancePool.pop();return t.call(i,e),i}return new t(e)}),o=function(e){var t=this;e instanceof t||n("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},r=10,a=s,l={addPoolingTo:function(e,t){var i=e;return i.instancePool=[],i.getPooled=t||a,i.poolSize||(i.poolSize=r),i.release=o,i},oneArgumentPooler:s,twoArgumentPooler:function(e,t){var i=this;if(i.instancePool.length){var n=i.instancePool.pop();return i.call(n,e,t),n}return new i(e,t)},threeArgumentPooler:function(e,t,i){var n=this;if(n.instancePool.length){var s=n.instancePool.pop();return n.call(s,e,t,i),s}return new n(e,t,i)},fourArgumentPooler:function(e,t,i,n){var s=this;if(s.instancePool.length){var o=s.instancePool.pop();return s.call(o,e,t,i,n),o}return new s(e,t,i,n)},fiveArgumentPooler:function(e,t,i,n,s){var o=this;if(o.instancePool.length){var r=o.instancePool.pop();return o.call(r,e,t,i,n,s),r}return new o(e,t,i,n,s)}};e.exports=l},function(e){"use strict";var t={current:null};e.exports=t},function(e,t,i){"use strict";function r(){a.attachRefs(this,this._currentElement)}var a=i(141),n=(i(7),i(3),{mountComponent:function(e,t,i,n,s){var o=e.mountComponent(t,i,n,s);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),o},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){a.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,i,n){var s=e._currentElement;if(t!==s||n!==e._context){var o=a.shouldUpdateRefs(s,t);o&&a.detachRefs(e,s),e.receiveComponent(t,i,n),o&&e._currentElement&&null!=e._currentElement.ref&&i.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,i){e._updateBatchNumber===i&&e.performUpdateIfNecessary(t)}});e.exports=n},function(e,t,i){"use strict";function n(e){if(g){var t=e.node,i=e.children;if(i.length)for(var n=0;n<i.length;n++)v(t,i[n],null);else null!=e.html?h(t,e.html):null!=e.text&&p(t,e.text)}}function s(e,t){e.parentNode.replaceChild(t.node,e),n(t)}function o(e,t){g?e.children.push(t):e.node.appendChild(t.node)}function r(e,t){g?e.html=t:h(e.node,t)}function a(e,t){g?e.text=t:p(e.node,t)}function l(){return this.node.nodeName}function c(e){return{node:e,children:[],html:null,text:null,toString:l}}var u=i(34),h=i(30),d=i(49),p=i(86),f=1,m=11,g="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),v=d(function(e,t,i){t.node.nodeType===m||t.node.nodeType===f&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===u.html)?(n(t),e.insertBefore(t.node,i)):(e.insertBefore(t.node,i),n(t))});c.insertTreeBefore=v,c.replaceChildWithTree=s,c.queueChild=o,c.queueHTML=r,c.queueText=a,e.exports=c},function(e,t,i){"use strict";function d(e,t){return(e&t)===t}var p=i(2),f=(i(1),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=f,i=e.Properties||{},n=e.DOMAttributeNamespaces||{},s=e.DOMAttributeNames||{},o=e.DOMPropertyNames||{},r=e.DOMMutationMethods||{};for(var a in e.isCustomAttribute&&m._isCustomAttributeFunctions.push(e.isCustomAttribute),i){m.properties.hasOwnProperty(a)&&p("48",a);var l=a.toLowerCase(),c=i[a],u={attributeName:l,attributeNamespace:null,propertyName:a,mutationMethod:null,mustUseProperty:d(c,t.MUST_USE_PROPERTY),hasBooleanValue:d(c,t.HAS_BOOLEAN_VALUE),hasNumericValue:d(c,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:d(c,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:d(c,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(u.hasBooleanValue+u.hasNumericValue+u.hasOverloadedBooleanValue<=1||p("50",a),s.hasOwnProperty(a)){var h=s[a];u.attributeName=h}n.hasOwnProperty(a)&&(u.attributeNamespace=n[a]),o.hasOwnProperty(a)&&(u.propertyName=o[a]),r.hasOwnProperty(a)&&(u.mutationMethod=r[a]),m.properties[a]=u}}}),n=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",m={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:n,ATTRIBUTE_NAME_CHAR:n+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<m._isCustomAttributeFunctions.length;t++){if((0,m._isCustomAttributeFunctions[t])(e))return!0}return!1},injection:f};e.exports=m},function(e){"use strict";var t={};e.exports=t},function(e){"use strict";var t={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=t},function(e,t,i){"use strict";var o=i(2),c=i(35),n=i(36),s=i(43),u=i(79),r=i(81),a=(i(1),{}),l=null,h=function(e,t){e&&(n.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},d=function(e){return h(e,!0)},p=function(e){return h(e,!1)},f=function(e){return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:c.injectEventPluginOrder,injectEventPluginsByName:c.injectEventPluginsByName},putListener:function(e,t,i){"function"!=typeof i&&o("94",t,typeof i);var n=f(e);(a[t]||(a[t]={}))[n]=i;var s=c.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,i)},getListener:function(e,t){var i=a[t],n=f(e);return i&&i[n]},deleteListener:function(e,t){var i=c.registrationNameModules[t];i&&i.willDeleteListener&&i.willDeleteListener(e,t);var n=a[t];n&&delete n[f(e)]},deleteAllListeners:function(e){var t=f(e);for(var i in a)if(a.hasOwnProperty(i)&&a[i][t]){var n=c.registrationNameModules[i];n&&n.willDeleteListener&&n.willDeleteListener(e,i),delete a[i][t]}},extractEvents:function(e,t,i,n){for(var s,o=c.plugins,r=0;r<o.length;r++){var a=o[r];if(a){var l=a.extractEvents(e,t,i,n);l&&(s=u(s,l))}}return s},enqueueEvents:function(e){e&&(l=u(l,e))},processEventQueue:function(e){var t=l;l=null,r(t,e?d:p),l&&o("95"),s.rethrowCaughtError()},__purge:function(){a={}},__getListenerBank:function(){return a}};e.exports=m},function(e,t,i){"use strict";function s(e,t,i){var n=t.dispatchConfig.phasedRegistrationNames[i];return _(e,n)}function n(e,t,i){var n=s(e,i,t?y.bubbled:y.captured);n&&(i._dispatchListeners=g(i._dispatchListeners,n),i._dispatchInstances=g(i._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&m.traverseTwoPhase(e._targetInst,n,e)}function r(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,i=t?m.getParentInstance(t):null;m.traverseTwoPhase(i,n,e)}}function a(e,t,i){if(i&&i.dispatchConfig.registrationName){var n=i.dispatchConfig.registrationName,s=_(e,n);s&&(i._dispatchListeners=g(i._dispatchListeners,s),i._dispatchInstances=g(i._dispatchInstances,e))}}function l(e){e&&e.dispatchConfig.registrationName&&a(e._targetInst,null,e)}function c(e){v(e,o)}function u(e){v(e,r)}function h(e,t,i,n){m.traverseEnterLeave(i,n,a,e,t)}function d(e){v(e,l)}var p=i(11),f=i(21),m=i(36),g=i(79),v=i(81),y=(i(3),p.PropagationPhases),_=f.getListener,w={accumulateTwoPhaseDispatches:c,accumulateTwoPhaseDispatchesSkipTarget:u,accumulateDirectDispatches:d,accumulateEnterLeaveDispatches:h};e.exports=w},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(12),o=i(52),r={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var i=t.ownerDocument;return i?i.defaultView||i.parentWindow:window},detail:function(e){return e.detail||0}};s.augmentClass(n,r),e.exports=n},function(e,t,i){"use strict";var h=i(2),s=(i(1),{reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,i,n,s,o,r,a){var l,c;this.isInTransaction()&&h("27");try{l=this._isInTransaction=!0,this.initializeAll(0),c=e.call(t,i,n,s,o,r,a),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(u){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n=t[i];try{this.wrapperInitData[i]=a.OBSERVED_ERROR,this.wrapperInitData[i]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[i]===a.OBSERVED_ERROR)try{this.initializeAll(i+1)}catch(s){}}}},closeAll:function(e){this.isInTransaction()||h("28");for(var t=this.transactionWrappers,i=e;i<t.length;i++){var n,s=t[i],o=this.wrapperInitData[i];try{n=!0,o!==a.OBSERVED_ERROR&&s.close&&s.close.call(this,o),n=!1}finally{if(n)try{this.closeAll(i+1)}catch(r){}}}this.wrapperInitData.length=0}}),a={Mixin:s,OBSERVED_ERROR:{}};e.exports=a},function(e,t,i){"use strict";var n=i(1),s=function(e){var t,i={};for(t in e instanceof Object&&!Array.isArray(e)||n(!1),e)e.hasOwnProperty(t)&&(i[t]=t);return i};e.exports=s},function(e){"use strict";var s={onClick:!0,onDoubleClick:!0,onMouseDown:!0,onMouseMove:!0,onMouseUp:!0,onClickCapture:!0,onDoubleClickCapture:!0,onMouseDownCapture:!0,onMouseMoveCapture:!0,onMouseUpCapture:!0},t={getHostProps:function(e,t){if(!t.disabled)return t;var i={};for(var n in t)!s[n]&&t.hasOwnProperty(n)&&(i[n]=t[n]);return i}};e.exports=t},function(e,t,i){"use strict";function l(e){return Object.prototype.hasOwnProperty.call(e,g)||(e[g]=f++,d[e[g]]={}),d[e[g]]}var n,s=i(4),c=i(11),u=i(35),o=i(134),r=i(78),a=i(94),h=i(53),d={},p=!1,f=0,m={topAbort:"abort",topAnimationEnd:a("animationend")||"animationend",topAnimationIteration:a("animationiteration")||"animationiteration",topAnimationStart:a("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:a("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},g="_reactListenersID"+String(Math.random()).slice(2),v=s({},o,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(v.handleTopLevel),v.ReactEventListener=e}},setEnabled:function(e){v.ReactEventListener&&v.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!v.ReactEventListener||!v.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var i=t,n=l(i),s=u.registrationNameDependencies[e],o=c.topLevelTypes,r=0;r<s.length;r++){var a=s[r];n.hasOwnProperty(a)&&n[a]||(a===o.topWheel?h("wheel")?v.ReactEventListener.trapBubbledEvent(o.topWheel,"wheel",i):h("mousewheel")?v.ReactEventListener.trapBubbledEvent(o.topWheel,"mousewheel",i):v.ReactEventListener.trapBubbledEvent(o.topWheel,"DOMMouseScroll",i):a===o.topScroll?h("scroll",!0)?v.ReactEventListener.trapCapturedEvent(o.topScroll,"scroll",i):v.ReactEventListener.trapBubbledEvent(o.topScroll,"scroll",v.ReactEventListener.WINDOW_HANDLE):a===o.topFocus||a===o.topBlur?(h("focus",!0)?(v.ReactEventListener.trapCapturedEvent(o.topFocus,"focus",i),v.ReactEventListener.trapCapturedEvent(o.topBlur,"blur",i)):h("focusin")&&(v.ReactEventListener.trapBubbledEvent(o.topFocus,"focusin",i),v.ReactEventListener.trapBubbledEvent(o.topBlur,"focusout",i)),n[o.topBlur]=!0,n[o.topFocus]=!0):m.hasOwnProperty(a)&&v.ReactEventListener.trapBubbledEvent(a,m[a],i),n[a]=!0)}},trapBubbledEvent:function(e,t,i){return v.ReactEventListener.trapBubbledEvent(e,t,i)},trapCapturedEvent:function(e,t,i){return v.ReactEventListener.trapCapturedEvent(e,t,i)},ensureScrollValueMonitoring:function(){if(void 0===n&&(n=document.createEvent&&"pageX"in document.createEvent("MouseEvent")),!n&&!p){var e=r.refreshScrollValues;v.ReactEventListener.monitorScrollValue(e),p=!0}}});e.exports=v},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(23),o=i(78),r={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i(51),button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};s.augmentClass(n,r),e.exports=n},function(e){"use strict";function t(e){var t=""+e,i=a.exec(t);if(!i)return t;var n,s="",o=0,r=0;for(o=i.index;o<t.length;o++){switch(t.charCodeAt(o)){case 34:n="&quot;";break;case 38:n="&amp;";break;case 39:n="&#x27;";break;case 60:n="&lt;";break;case 62:n="&gt;";break;default:continue}r!==o&&(s+=t.substring(r,o)),r=o+1,s+=n}return r!==o?s+t.substring(r,o):s}function i(e){return"boolean"==typeof e||"number"==typeof e?""+e:t(e)}var a=/["'&<>]/;e.exports=i},function(e,t,i){"use strict";var s,n=i(6),o=i(34),r=/^[ \r\n\t\f]/,a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,l=i(49)(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{(s=s||document.createElement("div")).innerHTML="<svg>"+t+"</svg>";for(var i=s.firstChild.childNodes,n=0;n<i.length;n++)e.appendChild(i[n])}});if(n.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),r.test(t)||"<"===t[0]&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var i=e.firstChild;1===i.data.length?e.removeChild(i):i.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=l},function(e){"use strict";function o(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function t(e,t){if(o(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var i=Object.keys(e),n=Object.keys(t);if(i.length!==n.length)return!1;for(var s=0;s<i.length;s++)if(!r.call(t,i[s])||!o(e[i[s]],t[i[s]]))return!1;return!0}var r=Object.prototype.hasOwnProperty;e.exports=t},function(e){function n(e){if(a===setTimeout)return setTimeout(e,0);try{return a(e,0)}catch(t){try{return a.call(null,e,0)}catch(t){return a.call(this,e,0)}}}function i(e){if(l===clearTimeout)return clearTimeout(e);try{return l(e)}catch(t){try{return l.call(null,e)}catch(t){return l.call(this,e)}}}function s(){d&&u&&(d=!1,u.length?h=u.concat(h):p=-1,h.length&&o())}function o(){if(!d){var e=n(s);d=!0;for(var t=h.length;t;){for(u=h,h=[];++p<t;)u&&u[p].run();p=-1,t=h.length}u=null,d=!1,i(e)}}function r(e,t){this.fun=e,this.array=t}function t(){}var a,l,c=e.exports={};!function(){try{a=setTimeout}catch(e){a=function(){throw new Error("setTimeout is not defined")}}try{l=clearTimeout}catch(e){l=function(){throw new Error("clearTimeout is not defined")}}}();var u,h=[],d=!1,p=-1;c.nextTick=function(e){var t=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];h.push(new r(e,t)),1!==h.length||d||n(o)},r.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=t,c.addListener=t,c.once=t,c.off=t,c.removeListener=t,c.removeAllListeners=t,c.emit=t,c.binding=function(){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},function(e,t,i){"use strict";function s(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function o(e,t,i){u.insertTreeBefore(e,t,i)}function r(e,t,i){Array.isArray(t)?n(e,t[0],t[1],i):g(e,t,i)}function a(e,t){if(Array.isArray(t)){var i=t[1];l(e,t=t[0],i),e.removeChild(i)}e.removeChild(t)}function n(e,t,i,n){for(var s=t;;){var o=s.nextSibling;if(g(e,s,n),s===i)break;s=o}}function l(e,t,i){for(;;){var n=t.nextSibling;if(n===i)break;e.removeChild(n)}}function c(e,t,i){var n=e.parentNode,s=e.nextSibling;s===t?i&&g(n,document.createTextNode(i),s):i?(m(s,i),l(n,s,t)):l(n,e,t)}var u=i(17),h=i(114),d=i(75),p=(i(5),i(7),i(49)),f=i(30),m=i(86),g=p(function(e,t,i){e.insertBefore(t,i)}),v={dangerouslyReplaceNodeWithMarkup:h.dangerouslyReplaceNodeWithMarkup,replaceDelimitedText:c,processUpdates:function(e,t){for(var i=0;i<t.length;i++){var n=t[i];switch(n.type){case d.INSERT_MARKUP:o(e,n.content,s(e,n.afterNode));break;case d.MOVE_EXISTING:r(e,n.fromNode,s(e,n.afterNode));break;case d.SET_MARKUP:f(e,n.content);break;case d.TEXT_CONTENT:m(e,n.content);break;case d.REMOVE_NODE:a(e,n.fromNode)}}}};e.exports=v},function(e){"use strict";var t={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=t},function(e,t,i){"use strict";function s(){if(l)for(var e in c){var t=c[e],i=l.indexOf(e);if(-1<i||a("96",e),!u.plugins[i]){t.extractEvents||a("97",e);var n=(u.plugins[i]=t).eventTypes;for(var s in n)o(n[s],t,s)||a("98",s,e)}}}function o(e,t,i){u.eventNameDispatchConfigs.hasOwnProperty(i)&&a("99",i);var n=(u.eventNameDispatchConfigs[i]=e).phasedRegistrationNames;if(n){for(var s in n)if(n.hasOwnProperty(s)){r(n[s],t,i)}return!0}return!!e.registrationName&&(r(e.registrationName,t,i),!0)}function r(e,t,i){u.registrationNameModules[e]&&a("100",e),u.registrationNameModules[e]=t,u.registrationNameDependencies[e]=t.eventTypes[i].dependencies}var a=i(2),l=(i(1),null),c={},u={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){l&&a("101"),l=Array.prototype.slice.call(e),s()},injectEventPluginsByName:function(e){var t=!1;for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];c.hasOwnProperty(i)&&c[i]===n||(c[i]&&a("102",i),c[i]=n,t=!0)}t&&s()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return u.registrationNameModules[t.registrationName]||null;for(var i in t.phasedRegistrationNames)if(t.phasedRegistrationNames.hasOwnProperty(i)){var n=u.registrationNameModules[t.phasedRegistrationNames[i]];if(n)return n}return null},_resetEventPlugins:function(){for(var e in l=null,c)c.hasOwnProperty(e)&&delete c[e];u.plugins.length=0;var t=u.eventNameDispatchConfigs;for(var i in t)t.hasOwnProperty(i)&&delete t[i];var n=u.registrationNameModules;for(var s in n)n.hasOwnProperty(s)&&delete n[s]}};e.exports=u},function(e,t,i){"use strict";function n(e){return e===y.topMouseUp||e===y.topTouchEnd||e===y.topTouchCancel}function s(e){return e===y.topMouseMove||e===y.topTouchMove}function o(e){return e===y.topMouseDown||e===y.topTouchStart}function r(e,t,i,n){var s=e.type||"unknown-event";e.currentTarget=_.getNodeFromInstance(n),t?g.invokeGuardedCallbackWithCatch(s,i,e):g.invokeGuardedCallback(s,i,e),e.currentTarget=null}function a(e,t){var i=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(i))for(var s=0;s<i.length&&!e.isPropagationStopped();s++)r(e,t,i[s],n[s]);else i&&r(e,t,i,n);e._dispatchListeners=null,e._dispatchInstances=null}function l(e){var t=e._dispatchListeners,i=e._dispatchInstances;if(Array.isArray(t)){for(var n=0;n<t.length&&!e.isPropagationStopped();n++)if(t[n](e,i[n]))return i[n]}else if(t&&t(e,i))return i;return null}function c(e){var t=l(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function u(e){var t=e._dispatchListeners,i=e._dispatchInstances;Array.isArray(t)&&f("103"),e.currentTarget=t?_.getNodeFromInstance(i):null;var n=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,n}function h(e){return!!e._dispatchListeners}var d,p,f=i(2),m=i(11),g=i(43),v=(i(1),i(3),{injectComponentTree:function(e){d=e},injectTreeTraversal:function(e){p=e}}),y=m.topLevelTypes,_={isEndish:n,isMoveish:s,isStartish:o,executeDirectDispatch:u,executeDispatchesInOrder:a,executeDispatchesInOrderStopAtTrue:c,hasDispatches:h,getInstanceFromNode:function(e){return d.getInstanceFromNode(e)},getNodeFromInstance:function(e){return d.getNodeFromInstance(e)},isAncestor:function(e,t){return p.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return p.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return p.getParentInstance(e)},traverseTwoPhase:function(e,t,i){return p.traverseTwoPhase(e,t,i)},traverseEnterLeave:function(e,t,i,n,s){return p.traverseEnterLeave(e,t,i,n,s)},injection:v};e.exports=_},function(e){"use strict";function t(e){var t=/[=:]/g,i={"=":"=0",":":"=2"};return"$"+(""+e).replace(t,function(e){return i[e]})}function i(e){var t=/(=0|=2)/g,i={"=0":"=","=2":":"};return(""+("."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1))).replace(t,function(e){return i[e]})}var n={escape:t,unescape:i};e.exports=n},function(e,t,i){"use strict";function n(e){null!=e.checkedLink&&null!=e.valueLink&&a("87")}function s(e){n(e),(null!=e.value||null!=e.onChange)&&a("88")}function o(e){n(e),(null!=e.checked||null!=e.onChange)&&a("89")}function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var a=i(2),l=i(77),c=i(46),u=i(47),h=(i(1),i(3),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),d={value:function(e,t){return!e[t]||h[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:l.func},p={},f={checkPropTypes:function(e,t,i){for(var n in d){if(d.hasOwnProperty(n))var s=d[n](t,n,e,c.prop,null,u);s instanceof Error&&!(s.message in p)&&(p[s.message]=!0,r(i))}},getValue:function(e){return e.valueLink?(s(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(s(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=f},function(e,t,i){"use strict";var n=i(4),s=i(57),o=i(40),r=i(139),a=i(66),l=i(124),c=i(9),u=i(77),h=i(58),d=i(95),p=(i(3),c.createElement),f=c.createFactory,m=c.cloneElement,g=n,v={Children:{map:s.map,forEach:s.forEach,count:s.count,toArray:s.toArray,only:d},Component:o,PureComponent:r,createElement:p,cloneElement:m,isValidElement:c.isValidElement,PropTypes:u,createClass:a.createClass,createFactory:f,createMixin:function(e){return e},DOM:l,version:h,__spread:g};e.exports=v},function(e,t,i){"use strict";function n(e,t,i){this.props=e,this.context=t,this.refs=r,this.updater=i||o}var s=i(2),o=i(44),r=(i(80),i(19));i(1),i(3),n.prototype.isReactComponent={},n.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e&&s("85"),this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},n.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")},e.exports=n},function(e,t,i){"use strict";var n=i(2),s=(i(1),!1),o={unmountIDFromEnvironment:null,replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){s&&n("104"),o.unmountIDFromEnvironment=e.unmountIDFromEnvironment,o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,s=!0}}};e.exports=o},function(e,t,i){"use strict";function n(e,t){c[e]||(c[e]={element:null,parentID:null,ownerID:null,text:null,childIDs:[],displayName:"Unknown",isMounted:!1,updateCount:0}),t(c[e])}function s(e){var t=c[e];if(t){var i=t.childIDs;delete c[e],i.forEach(s)}}function a(e,t,i){return"\n    in "+e+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":i?" (created by "+i+")":"")}function o(e){var t,i=d.getDisplayName(e),n=d.getElement(e),s=d.getOwnerID(e);return s&&(t=d.getDisplayName(s)),a(i,n&&n._source,t)}var r=i(2),l=i(15),c=(i(1),i(3),{}),u={},h={},d={onSetDisplayName:function(e,t){n(e,function(e){return e.displayName=t})},onSetChildren:function(i,t){n(i,function(e){(e.childIDs=t).forEach(function(e){var t=c[e];t||r("68"),null==t.displayName&&r("69"),null==t.childIDs&&null==t.text&&r("70"),t.isMounted||r("71"),null==t.parentID&&(t.parentID=i),t.parentID!==i&&r("72",e,t.parentID,i)})})},onSetOwner:function(e,t){n(e,function(e){return e.ownerID=t})},onSetParent:function(e,t){n(e,function(e){return e.parentID=t})},onSetText:function(e,t){n(e,function(e){return e.text=t})},onBeforeMountComponent:function(e,t){n(e,function(e){return e.element=t})},onBeforeUpdateComponent:function(e,t){n(e,function(e){return e.element=t})},onMountComponent:function(e){n(e,function(e){return e.isMounted=!0})},onMountRootComponent:function(e){h[e]=!0},onUpdateComponent:function(e){n(e,function(e){return e.updateCount++})},onUnmountComponent:function(e){n(e,function(e){return e.isMounted=!1}),u[e]=!0,delete h[e]},purgeUnmountedComponents:function(){if(!d._preventPurging){for(var e in u)s(e);u={}}},isMounted:function(e){var t=c[e];return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var i=e.type,n="function"==typeof i?i.displayName||i.name:i,s=e._owner;t+=a(n||"Unknown",e._source,s&&s.getName())}var o=l.current,r=o&&o._debugID;return t+d.getStackAddendumByID(r)},getStackAddendumByID:function(e){for(var t="";e;)t+=o(e),e=d.getParentID(e);return t},getChildIDs:function(e){var t=c[e];return t?t.childIDs:[]},getDisplayName:function(e){var t=c[e];return t?t.displayName:"Unknown"},getElement:function(e){var t=c[e];return t?t.element:null},getOwnerID:function(e){var t=c[e];return t?t.ownerID:null},getParentID:function(e){var t=c[e];return t?t.parentID:null},getSource:function(e){var t=c[e],i=t?t.element:null;return null!=i?i._source:null},getText:function(e){var t=c[e];return t?t.text:null},getUpdateCount:function(e){var t=c[e];return t?t.updateCount:0},getRootIDs:function(){return Object.keys(h)},getRegisteredIDs:function(){return Object.keys(c)}};e.exports=d},function(e){"use strict";function t(e,t,i,n){try{return t(i,n)}catch(o){return void(null===s&&(s=o))}}var s=null,o={invokeGuardedCallback:t,invokeGuardedCallbackWithCatch:t,rethrowCaughtError:function(){if(s){var e=s;throw s=null,e}}};e.exports=o},function(e,t,i){"use strict";function n(){}var s=(i(3),{isMounted:function(){return!1},enqueueCallback:function(){},enqueueForceUpdate:function(e){n(e,"forceUpdate")},enqueueReplaceState:function(e){n(e,"replaceState")},enqueueSetState:function(e){n(e,"setState")}});e.exports=s},function(e){"use strict";var t={};e.exports=t},function(e,t,i){"use strict";var n=i(25)({prop:null,context:null,
childContext:null});e.exports=n},function(e){"use strict";var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=t},function(e,t,i){"use strict";function s(e){l.enqueueUpdate(e)}function n(e){var t=typeof e;if("object"!==t)return t;var i=e.constructor&&e.constructor.name||t,n=Object.keys(e);return 0<n.length&&n.length<20?i+" (keys: "+n.join(", ")+")":i}function o(e){var t=a.get(e);return t||null}var r=i(2),a=(i(15),i(20)),l=(i(7),i(10)),c=(i(1),i(3),{isMounted:function(e){var t=a.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,i){c.validateCallback(t,i);var n=o(e);return n?(n._pendingCallbacks?n._pendingCallbacks.push(t):n._pendingCallbacks=[t],void s(n)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],s(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,s(t))},enqueueReplaceState:function(e,t){var i=o(e,"replaceState");i&&(i._pendingStateQueue=[t],i._pendingReplaceState=!0,s(i))},enqueueSetState:function(e,t){var i=o(e,"setState");i&&((i._pendingStateQueue||(i._pendingStateQueue=[])).push(t),s(i))},enqueueElementInternal:function(e,t,i){e._pendingElement=t,e._context=i,s(e)},validateCallback:function(e,t){e&&"function"!=typeof e&&r("122",t,n(e))}});e.exports=c},function(e){"use strict";var t=function(s){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,i,n){MSApp.execUnsafeLocalFunction(function(){return s(e,t,i,n)})}:s};e.exports=t},function(e){"use strict";function t(e){var t,i=e.keyCode;return"charCode"in e?0===(t=e.charCode)&&13===i&&(t=13):t=i,32<=t||13===t?t:0}e.exports=t},function(e){"use strict";function t(e){var t=this.nativeEvent;if(t.getModifierState)return t.getModifierState(e);var i=n[e];return!!i&&!!t[i]}function i(){return t}var n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=i},function(e){"use strict";function t(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=t},function(e,t,i){"use strict";function n(e,t){if(!r.canUseDOM||t&&!("addEventListener"in document))return!1;var i="on"+e,n=i in document;if(!n){var s=document.createElement("div");s.setAttribute(i,"return;"),n="function"==typeof s[i]}return!n&&o&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var o,r=i(6);r.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&!0!==document.implementation.hasFeature("","")),e.exports=n},function(e){"use strict";function t(e,t){var i=null===e||!1===e,n=null===t||!1===t;if(i||n)return i===n;var s=typeof e,o=typeof t;return"string"===s||"number"===s?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=t},function(e,t,i){"use strict";function g(e,t){return e&&"object"==typeof e&&null!=e.key?b.escape(e.key):t.toString(36)}function v(e,t,i,n){var s=typeof e;if("undefined"!==s&&"boolean"!==s||(e=null),null===e||"string"===s||"number"===s||_.isValidElement(e))return i(n,e,""===t?x+g(e,0):t),1;var o,r=0,a=""===t?x:t+S;if(Array.isArray(e))for(var l=0;l<e.length;l++)r+=v(o=e[l],a+g(o,l),i,n);else{var c=w(e);if(c){var u,h=c.call(e);if(c!==e.entries)for(var d=0;!(u=h.next()).done;)r+=v(o=u.value,a+g(o,d++),i,n);else for(;!(u=h.next()).done;){var p=u.value;p&&(r+=v(o=p[1],a+b.escape(p[0])+S+g(o,0),i,n))}}else if("object"===s){var f="",m=String(e);y("31","[object Object]"===m?"object with keys {"+Object.keys(e).join(", ")+"}":m,f)}}return r}function n(e,t,i){return null==e?0:v(e,"",t,i)}var y=i(2),_=(i(15),i(9)),w=i(83),b=(i(1),i(37)),x=(i(3),"."),S=":";e.exports=n},function(e,t,i){"use strict";var n=(i(4),i(8)),s=(i(3),n);e.exports=s},function(e,t,i){"use strict";function l(e){return(""+e).replace(w,"$&/")}function s(e,t){this.func=e,this.context=t,this.count=0}function o(e,t){var i=e.func,n=e.context;i.call(n,t,e.count++)}function n(e,t,i){if(null==e)return e;var n=s.getPooled(t,i);v(e,o,n),s.release(n)}function a(e,t,i,n){this.result=e,this.keyPrefix=t,this.func=i,this.context=n,this.count=0}function c(e,t,i){var n=e.result,s=e.keyPrefix,o=e.func,r=e.context,a=o.call(r,t,e.count++);Array.isArray(a)?u(a,n,i,g.thatReturnsArgument):null!=a&&(m.isValidElement(a)&&(a=m.cloneAndReplaceKey(a,s+(!a.key||t&&t.key===a.key?"":l(a.key)+"/")+i)),n.push(a))}function u(e,t,i,n,s){var o="";null!=i&&(o=l(i)+"/");var r=a.getPooled(t,o,n,s);v(e,c,r),a.release(r)}function r(e,t,i){if(null==e)return e;var n=[];return u(e,n,null,t,i),n}function h(){return null}function d(e){return v(e,h,null)}function p(e){var t=[];return u(e,t,null,g.thatReturnsArgument),t}var f=i(14),m=i(9),g=i(8),v=i(55),y=f.twoArgumentPooler,_=f.fourArgumentPooler,w=/\/+/g;s.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},f.addPoolingTo(s,y),a.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},f.addPoolingTo(a,_);var b={forEach:n,map:r,mapIntoWithKeyPrefixInternal:u,count:d,toArray:p};e.exports=b},function(e){"use strict";e.exports="15.3.0"},function(e,t,i){"use strict";function n(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function s(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e){var t;if(null===e||!1===e)t=c.create(o);else if("object"==typeof e){var i=e;(!i||"function"!=typeof i.type&&"string"!=typeof i.type)&&r("130",null==i.type?i.type:typeof i.type,n(i._owner)),"string"==typeof i.type?t=u.createInternalComponent(i):s(i.type)?(t=new i.type(i)).getHostNode||(t.getHostNode=t.getNativeNode):t=new h(i)}else"string"==typeof e||"number"==typeof e?t=u.createInstanceForText(e):r("131",typeof e);return t._mountIndex=0,t._mountImage=null,t}var r=i(2),a=i(4),l=i(120),c=i(70),u=i(72),h=(i(7),i(1),i(3),function(e){this.construct(e)});a(h.prototype,l.Mixin,{_instantiateReactComponent:o}),e.exports=o},function(e,t,i){"use strict";var n=i(8),s={listen:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!1),{remove:function(){e.removeEventListener(t,i,!1)}}):e.attachEvent?(e.attachEvent("on"+t,i),{remove:function(){e.detachEvent("on"+t,i)}}):void 0},capture:function(e,t,i){return e.addEventListener?(e.addEventListener(t,i,!0),{remove:function(){e.removeEventListener(t,i,!0)}}):{remove:n}},registerDefault:function(){}};e.exports=s},function(e){"use strict";function t(e){try{e.focus()}catch(t){}}e.exports=t},function(e){"use strict";function t(){if("undefined"==typeof document)return null;try{return document.activeElement||document.body}catch(e){return document.body}}e.exports=t},function(e){"use strict";function i(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var n={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},s=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(t){s.forEach(function(e){n[i(e,t)]=n[t]})});var t={isUnitlessNumber:n,shorthandPropertyExpansions:{background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}}};e.exports=t},function(e,t,i){"use strict";function n(){this._callbacks=null,this._contexts=null}var s=i(2),o=i(4),r=i(14);i(1),o(n.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[],this._contexts=this._contexts||[],this._callbacks.push(e),this._contexts.push(t)},notifyAll:function(){var e=this._callbacks,t=this._contexts;if(e){e.length!==t.length&&s("24"),this._callbacks=null,this._contexts=null;for(var i=0;i<e.length;i++)e[i].call(t[i]);e.length=0,t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){this._callbacks&&(this._callbacks.length=e,this._contexts.length=e)},reset:function(){this._callbacks=null,this._contexts=null},destructor:function(){this.reset()}}),r.addPoolingTo(n),e.exports=n},function(e,t,i){"use strict";function n(e){return!!c.hasOwnProperty(e)||!r.hasOwnProperty(e)&&(o.test(e)?c[e]=!0:!(r[e]=!0))}function a(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&!1===t}var l=i(18),s=(i(5),i(128),i(7),i(162)),o=(i(3),new RegExp("^["+l.ATTRIBUTE_NAME_START_CHAR+"]["+l.ATTRIBUTE_NAME_CHAR+"]*$")),r={},c={},u={createMarkupForID:function(e){return l.ID_ATTRIBUTE_NAME+"="+s(e)},setAttributeForID:function(e,t){e.setAttribute(l.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return l.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(l.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var i=l.properties.hasOwnProperty(e)?l.properties[e]:null;if(i){if(a(i,t))return"";var n=i.attributeName;return i.hasBooleanValue||i.hasOverloadedBooleanValue&&!0===t?n+'=""':n+"="+s(t)}return l.isCustomAttribute(e)?null==t?"":e+"="+s(t):null},createMarkupForCustomAttribute:function(e,t){return n(e)&&null!=t?e+"="+s(t):""},setValueForProperty:function(e,t,i){var n=l.properties.hasOwnProperty(t)?l.properties[t]:null;if(n){var s=n.mutationMethod;if(s)s(e,i);else{if(a(n,i))return void this.deleteValueForProperty(e,t);if(n.mustUseProperty)e[n.propertyName]=i;else{var o=n.attributeName,r=n.attributeNamespace;r?e.setAttributeNS(r,o,""+i):n.hasBooleanValue||n.hasOverloadedBooleanValue&&!0===i?e.setAttribute(o,""):e.setAttribute(o,""+i)}}}else if(l.isCustomAttribute(t))return void u.setValueForAttribute(e,t,i)},setValueForAttribute:function(e,t,i){n(t)&&(null==i?e.removeAttribute(t):e.setAttribute(t,""+i))},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var i=l.properties.hasOwnProperty(t)?l.properties[t]:null;if(i){var n=i.mutationMethod;if(n)n(e,void 0);else if(i.mustUseProperty){var s=i.propertyName;i.hasBooleanValue?e[s]=!1:e[s]=""}else e.removeAttribute(i.attributeName)}else l.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=u},function(e,t,i){"use strict";function c(e,t){var i=x.hasOwnProperty(t)?x[t]:null;C.hasOwnProperty(t)&&i!==w.OVERRIDE_BASE&&d("73",t),e&&i!==w.DEFINE_MANY&&i!==w.DEFINE_MANY_MERGED&&d("74",t)}function n(e,t){if(t){"function"==typeof t&&d("75"),f.isValidElement(t)&&d("76");var i=e.prototype,n=i.__reactAutoBindPairs;for(var s in t.hasOwnProperty(_)&&S.mixins(e,t.mixins),t)if(t.hasOwnProperty(s)&&s!==_){var o=t[s],r=i.hasOwnProperty(s);if(c(r,s),S.hasOwnProperty(s))S[s](e,o);else{var a=x.hasOwnProperty(s);if("function"==typeof o&&!a&&!r&&!1!==t.autobind)n.push(s,o),i[s]=o;else if(r){var l=x[s];(!a||l!==w.DEFINE_MANY_MERGED&&l!==w.DEFINE_MANY)&&d("77",l,s),l===w.DEFINE_MANY_MERGED?i[s]=u(i[s],o):l===w.DEFINE_MANY&&(i[s]=h(i[s],o))}else i[s]=o}}}}function s(e,t){if(t)for(var i in t){var n=t[i];if(t.hasOwnProperty(i))i in S&&d("78",i),i in e&&d("79",i),e[i]=n}}function o(e,t){for(var i in e&&t&&"object"==typeof e&&"object"==typeof t||d("80"),t)t.hasOwnProperty(i)&&(void 0!==e[i]&&d("81",i),e[i]=t[i]);return e}function u(n,s){return function(){var e=n.apply(this,arguments),t=s.apply(this,arguments);if(null==e)return t;if(null==t)return e;var i={};return o(i,e),o(i,t),i}}function h(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function r(e,t){return t.bind(e)}function a(e){for(var t=e.__reactAutoBindPairs,i=0;i<t.length;i+=2){var n=t[i],s=t[i+1];e[n]=r(e,s)}}var d=i(2),l=i(4),p=i(40),f=i(9),m=(i(46),i(45),i(44)),g=i(19),v=(i(1),i(25)),y=i(13),_=(i(3),y({mixins:null})),w=v({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null}),b=[],x={mixins:w.DEFINE_MANY,statics:w.DEFINE_MANY,propTypes:w.DEFINE_MANY,contextTypes:w.DEFINE_MANY,childContextTypes:w.DEFINE_MANY,getDefaultProps:w.DEFINE_MANY_MERGED,getInitialState:w.DEFINE_MANY_MERGED,getChildContext:w.DEFINE_MANY_MERGED,render:w.DEFINE_ONCE,componentWillMount:w.DEFINE_MANY,componentDidMount:w.DEFINE_MANY,componentWillReceiveProps:w.DEFINE_MANY,shouldComponentUpdate:w.DEFINE_ONCE,componentWillUpdate:w.DEFINE_MANY,componentDidUpdate:w.DEFINE_MANY,componentWillUnmount:w.DEFINE_MANY,updateComponent:w.OVERRIDE_BASE},S={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var i=0;i<t.length;i++)n(e,t[i])},childContextTypes:function(e,t){e.childContextTypes=l({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=l({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=l({},e.propTypes,t)},statics:function(e,t){s(e,t)},autobind:function(){}},C={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},E=function(){};l(E.prototype,p.prototype,C);var T={createClass:function(e){var s=function(e,t,i){this.__reactAutoBindPairs.length&&a(this),this.props=e,this.context=t,this.refs=g,this.updater=i||m,this.state=null;var n=this.getInitialState?this.getInitialState():null;("object"!=typeof n||Array.isArray(n))&&d("82",s.displayName||"ReactCompositeComponent"),this.state=n};for(var t in s.prototype=new E,(s.prototype.constructor=s).prototype.__reactAutoBindPairs=[],b.forEach(n.bind(null,s)),n(s,e),s.getDefaultProps&&(s.defaultProps=s.getDefaultProps()),s.prototype.render||d("83"),x)s.prototype[t]||(s.prototype[t]=null);return s},injection:{injectMixin:function(e){b.push(e)}}};e.exports=T},function(e,t,i){"use strict";var n=i(33),s={processChildrenUpdates:i(126).dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup,unmountIDFromEnvironment:function(){}};e.exports=s},function(e){"use strict";var t={hasCachedChildNodes:1};e.exports=t},function(e,t,i){"use strict";function n(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=l.getValue(e);null!=t&&s(this,Boolean(e.multiple),t)}}function s(e,t,i){var n,s,o=c.getNodeFromInstance(e).options;if(t){for(n={},s=0;s<i.length;s++)n[""+i[s]]=!0;for(s=0;s<o.length;s++){var r=n.hasOwnProperty(o[s].value);o[s].selected!==r&&(o[s].selected=r)}}else{for(n=""+i,s=0;s<o.length;s++)if(o[s].value===n)return void(o[s].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,i=l.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),u.asap(n,this),i}var r=i(4),a=i(26),l=i(38),c=i(5),u=i(10),h=(i(3),!1),d={getHostProps:function(e,t){return r({},a.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var i=l.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=i?i:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||h||(h=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var i=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=l.getValue(t);null!=n?(e._wrapperState.pendingUpdate=!1,s(e,Boolean(t.multiple),n)):i!==Boolean(t.multiple)&&(null!=t.defaultValue?s(e,Boolean(t.multiple),t.defaultValue):s(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=d},function(e){"use strict";var t,i={injectEmptyComponentFactory:function(e){t=e}},n={create:function(e){return t(e)}};n.injection=i,e.exports=n},function(e){"use strict";var t={logTopLevelRenders:!1};e.exports=t},function(e,t,i){"use strict";function n(e){return l||r("111",e.type),new l(e)}function s(e){return new u(e)}function o(e){return e instanceof u}var r=i(2),a=i(4),l=(i(1),null),c={},u=null,h={createInternalComponent:n,createInstanceForText:s,isTextComponent:o,injection:{injectGenericComponentClass:function(e){l=e},injectTextComponentClass:function(e){u=e},injectComponentClasses:function(e){a(c,e)}}};e.exports=h},function(e,t,i){"use strict";function s(e){return n(document.documentElement,e)}var o=i(130),n=i(98),r=i(61),a=i(62),l={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:l.hasSelectionCapabilities(e)?l.getSelection(e):null}},restoreSelection:function(e){var t=a(),i=e.focusedElem,n=e.selectionRange;t!==i&&s(i)&&(l.hasSelectionCapabilities(i)&&l.setSelection(i,n),r(i))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var i=document.selection.createRange();i.parentElement()===e&&(t={start:-i.moveStart("character",-e.value.length),end:-i.moveEnd("character",-e.value.length)})}else t=o.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var i=t.start,n=t.end;if(void 0===n&&(n=i),"selectionStart"in e)e.selectionStart=i,e.selectionEnd=Math.min(n,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var s=e.createTextRange();s.collapse(!0),s.moveStart("character",i),s.moveEnd("character",n-i),s.select()}else o.setOffsets(e,t)}};e.exports=l},function(e,t,i){"use strict";function h(e,t){for(var i=Math.min(e.length,t.length),n=0;n<i;n++)if(e.charAt(n)!==t.charAt(n))return n;return e.length===t.length?-1:i}function g(e){return e?e.nodeType===I?e.documentElement:e.firstChild:null}function v(e){return e.getAttribute&&e.getAttribute(P)||""}function o(e,t,i,n,s){var o;if(f.logTopLevelRenders){var r=e._currentElement.props.type;o="React mount: "+("string"==typeof r?r:r.displayName||r.name),console.time(o)}var a=S.mountComponent(e,i,null,c(e,t),s);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(a,t,e,n,i)}function r(e,t,i,n){var s=E.ReactReconcileTransaction.getPooled(!i&&u.useCreateElement);s.perform(o,null,e,t,s,i,n),E.ReactReconcileTransaction.release(s)}function n(e,t,i){for(S.unmountComponent(e,i),t.nodeType===I&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function y(e){var t=g(e);if(t){var i=p.getInstanceFromNode(t);return!(!i||!i._hostParent)}}function s(e){var t=g(e),i=t&&p.getInstanceFromNode(t);return i&&!i._hostParent?i:null}function _(e){var t=s(e);return t?t._hostContainerInfo._topLevelWrapper:null}var w=i(2),d=i(17),a=i(18),l=i(27),p=(i(15),i(5)),c=i(88),u=i(125),b=i(9),f=i(71),x=i(20),m=(i(7),i(91)),S=i(16),C=i(48),E=i(10),T=i(19),k=i(59),R=(i(1),i(30)),M=i(54),P=(i(3),a.ID_ATTRIBUTE_NAME),N=a.ROOT_ATTRIBUTE_NAME,D=1,I=9,O=11,L={},A=1,H=function(){this.rootID=A++};H.prototype.isReactComponent={},H.prototype.render=function(){return this.props};var F={TopLevelWrapper:H,_instancesByReactRootID:L,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,i,n,s){return F.scrollMonitor(n,function(){C.enqueueElementInternal(e,t,i),s&&C.enqueueCallbackInternal(e,s)}),e},_renderNewRootComponent:function(e,t,i,n){(!t||t.nodeType!==D&&t.nodeType!==I&&t.nodeType!==O)&&w("37"),l.ensureScrollValueMonitoring();var s=k(e,!1);E.batchedUpdates(r,s,t,i,n);var o=s._instance.rootID;return L[o]=s},renderSubtreeIntoContainer:function(e,t,i,n){return null!=e&&x.has(e)||w("38"),F._renderSubtreeIntoContainer(e,t,i,n)},_renderSubtreeIntoContainer:function(e,t,i,n){C.validateCallback(n,"ReactDOM.render"),b.isValidElement(t)||w("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var s,o=b(H,null,null,null,null,null,t);if(e){var r=x.get(e);s=r._processChildContext(r._context)}else s=T;var a=_(i);if(a){var l=a._currentElement.props;if(M(l,t)){var c=a._renderedComponent.getPublicInstance(),u=n&&function(){n.call(c)};return F._updateRootComponent(a,o,s,i,u),c}F.unmountComponentAtNode(i)}var h=g(i),d=h&&!!v(h),p=y(i),f=d&&!a&&!p,m=F._renderNewRootComponent(o,i,f,s)._renderedComponent.getPublicInstance();return n&&n.call(m),m},render:function(e,t,i){return F._renderSubtreeIntoContainer(null,e,t,i)},unmountComponentAtNode:function(e){(!e||e.nodeType!==D&&e.nodeType!==I&&e.nodeType!==O)&&w("40");var t=_(e);return t?(delete L[t._instance.rootID],E.batchedUpdates(n,t,e,!1),!0):(y(e),1===e.nodeType&&e.hasAttribute(N),!1)},_mountImageIntoNode:function(e,t,i,n,s){if((!t||t.nodeType!==D&&t.nodeType!==I&&t.nodeType!==O)&&w("41"),n){var o=g(t);if(m.canReuseMarkup(e,o))return void p.precacheNode(i,o);var r=o.getAttribute(m.CHECKSUM_ATTR_NAME);o.removeAttribute(m.CHECKSUM_ATTR_NAME);var a=o.outerHTML;o.setAttribute(m.CHECKSUM_ATTR_NAME,r);var l=e,c=h(l,a),u=" (client) "+l.substring(c-20,c+20)+"\n (server) "+a.substring(c-20,c+20);t.nodeType===I&&w("42",u)}if(t.nodeType===I&&w("43"),s.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);d.insertTreeBefore(t,e,null)}else R(t,e),p.precacheNode(i,t.firstChild)}};e.exports=F},function(e,t,i){"use strict";var n=i(25)({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});e.exports=n},function(e,t,i){"use strict";var n=i(2),s=i(9),o=(i(1),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||!1===e?o.EMPTY:s.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void n("26",e)}});e.exports=o},function(e,t,i){"use strict";function u(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function n(a){function e(e,t,i,n,s,o){if(n=n||E,o=o||i,null!=t[i])return a(t,i,n,s,o);var r=b[s];return e?new Error("Required "+r+" `"+o+"` was not specified in `"+n+"`."):null}var t=e.bind(null,!1);return t.isRequired=e.bind(null,!0),t}function s(l){function e(e,t,i,n,s){var o=e[t];if(v(o)===l)return null;var r=b[n],a=y(o);return new Error("Invalid "+r+" `"+s+"` of type `"+a+"` supplied to `"+i+"`, expected `"+l+"`.")}return n(e)}function o(){return n(S.thatReturns(null))}function r(u){function e(e,t,i,n,s){if("function"!=typeof u)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation inside arrayOf.");var o=e[t];if(!Array.isArray(o)){var r=b[n],a=v(o);return new Error("Invalid "+r+" `"+s+"` of type `"+a+"` supplied to `"+i+"`, expected an array.")}for(var l=0;l<o.length;l++){var c=u(o,l,i,n,s+"["+l+"]",x);if(c instanceof Error)return c}return null}return n(e)}function a(){function e(e,t,i,n,s){var o=e[t];if(w.isValidElement(o))return null;var r=b[n],a=v(o);return new Error("Invalid "+r+" `"+s+"` of type `"+a+"` supplied to `"+i+"`, expected a single ReactElement.")}return n(e)}function l(l){function e(e,t,i,n,s){if(e[t]instanceof l)return null;var o=b[n],r=l.name||E,a=_(e[t]);return new Error("Invalid "+o+" `"+s+"` of type `"+a+"` supplied to `"+i+"`, expected instance of `"+r+"`.")}return n(e)}function c(c){function e(e,t,i,n,s){for(var o=e[t],r=0;r<c.length;r++)if(u(o,c[r]))return null;var a=b[n],l=JSON.stringify(c);return new Error("Invalid "+a+" `"+s+"` of value `"+o+"` supplied to `"+i+"`, expected one of "+l+".")}return Array.isArray(c)?n(e):S.thatReturnsNull}function h(u){function e(e,t,i,n,s){if("function"!=typeof u)return new Error("Property `"+s+"` of component `"+i+"` has invalid PropType notation inside objectOf.");var o=e[t],r=v(o);if("object"!==r){var a=b[n];return new Error("Invalid "+a+" `"+s+"` of type `"+r+"` supplied to `"+i+"`, expected an object.")}for(var l in o)if(o.hasOwnProperty(l)){var c=u(o,l,i,n,s+"."+l,x);if(c instanceof Error)return c}return null}return n(e)}function d(a){function e(e,t,i,n,s){for(var o=0;o<a.length;o++){if(null==(0,a[o])(e,t,i,n,s,x))return null}var r=b[n];return new Error("Invalid "+r+" `"+s+"` supplied to `"+i+"`.")}return Array.isArray(a)?n(e):S.thatReturnsNull}function p(){function e(e,t,i,n,s){if(m(e[t]))return null;var o=b[n];return new Error("Invalid "+o+" `"+s+"` supplied to `"+i+"`, expected a ReactNode.")}return n(e)}function f(h){function e(e,t,i,n,s){var o=e[t],r=v(o);if("object"!==r){var a=b[n];return new Error("Invalid "+a+" `"+s+"` of type `"+r+"` supplied to `"+i+"`, expected `object`.")}for(var l in h){var c=h[l];if(c){var u=c(o,l,i,n,s+"."+l,x);if(u)return u}}return null}return n(e)}function m(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(m);if(null===e||w.isValidElement(e))return!0;var t=C(e);if(!t)return!1;var i,n=t.call(e);if(t!==e.entries){for(;!(i=n.next()).done;)if(!m(i.value))return!1}else for(;!(i=n.next()).done;){var s=i.value;if(s&&!m(s[1]))return!1}return!0;default:return!1}}function g(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":g(t,e)?"symbol":t}function y(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){return e.constructor&&e.constructor.name?e.constructor.name:E}var w=i(9),b=i(45),x=i(47),S=i(8),C=i(83),E=(i(3),"<<anonymous>>"),T={array:s("array"),bool:s("boolean"),func:s("function"),number:s("number"),object:s("object"),string:s("string"),symbol:s("symbol"),any:o(),arrayOf:r,element:a(),instanceOf:l,node:p(),objectOf:h,oneOf:c,oneOfType:d,shape:f};e.exports=T},function(e){"use strict";var t={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){t.currentScrollLeft=e.x,t.currentScrollTop=e.y}};e.exports=t},function(e,t,i){"use strict";function n(e,t){return null==t&&s("30"),null==e?t:Array.isArray(e)?(Array.isArray(t)?e.push.apply(e,t):e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var s=i(2);i(1),e.exports=n},function(e){"use strict";var t=!1;e.exports=t},function(e){"use strict";function t(e,t,i){Array.isArray(e)?e.forEach(t,i):e&&t.call(i,e)}e.exports=t},function(e,t,i){"use strict";function n(e){for(var t;(t=e._renderedNodeType)===s.COMPOSITE;)e=e._renderedComponent;return t===s.HOST?e._renderedComponent:t===s.EMPTY?null:void 0}var s=i(76);e.exports=n},function(e){"use strict";function t(e){var t=e&&(i&&e[i]||e[n]);if("function"==typeof t)return t}var i="function"==typeof Symbol&&Symbol.iterator,n="@@iterator";e.exports=t},function(e,t,i){"use strict";function n(){return!o&&s.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var s=i(6),o=null;e.exports=n},function(e){"use strict";function t(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!i[e.type]:"textarea"===t}var i={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=t},function(e,t,i){"use strict";var n=i(6),s=i(29),o=i(30),r=function(e,t){if(t){var i=e.firstChild;if(i&&i===e.lastChild&&3===i.nodeType)return void(i.nodeValue=t)}e.textContent=t};n.canUseDOM&&("textContent"in document.documentElement||(r=function(e,t){o(e,s(t))})),e.exports=r},function(e,t,i){"use strict";var n=i(5),s=i(90),o=i(74),r=i(16),a=i(10),l=i(58),c=i(159),u=i(82),h=i(163);i(3),s.inject();var d={findDOMNode:c,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:l,unstable_batchedUpdates:a.batchedUpdates,unstable_renderSubtreeIntoContainer:h};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:n.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=u(e)),e?n.getNodeFromInstance(e):null}},Mount:o,Reconciler:r}),e.exports=d},function(e,t,i){"use strict";function n(e,t){return{_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===s?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null}}var s=(i(56),9);e.exports=n},function(e,t,i){"use strict";function n(){this.reinitializeTransaction()}var s=i(4),o=i(10),r=i(24),a=i(8),l={initialize:a,close:function(){h.isBatchingUpdates=!1}},c=[{initialize:a,close:o.flushBatchedUpdates.bind(o)},l];s(n.prototype,r.Mixin,{getTransactionWrappers:function(){return c}});var u=new n,h={isBatchingUpdates:!1,batchedUpdates:function(e,t,i,n,s,o){var r=h.isBatchingUpdates;h.isBatchingUpdates=!0,r?e(t,i,n,s,o):u.perform(e,null,t,i,n,s,o)}};e.exports=h},function(e,t,i){"use strict";function n(){x||(x=!0,v.EventEmitter.injectReactEventListener(g),v.EventPluginHub.injectEventPluginOrder(r),v.EventPluginUtils.injectComponentTree(h),v.EventPluginUtils.injectTreeTraversal(p),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:b,EnterLeaveEventPlugin:a,ChangeEventPlugin:o,SelectEventPlugin:w,BeforeInputEventPlugin:s}),v.HostComponent.injectGenericComponentClass(u),v.HostComponent.injectTextComponentClass(f),v.DOMProperty.injectDOMPropertyConfig(l),v.DOMProperty.injectDOMPropertyConfig(_),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),v.Updates.injectReconcileTransaction(y),v.Updates.injectBatchingStrategy(m),v.Component.injectEnvironment(c))}var s=i(111),o=i(113),r=i(115),a=i(116),l=i(118),c=i(67),u=i(122),h=i(5),d=i(123),p=i(133),f=i(131),m=i(89),g=i(135),v=i(136),y=i(140),_=i(143),w=i(144),b=i(145),x=!1;e.exports={inject:n}},function(e,t,i){"use strict";var n=i(156),s=/\/?>/,o=/^<\!\-\-/,r={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);return o.test(e)?e:e.replace(s," "+r.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var i=t.getAttribute(r.CHECKSUM_ATTR_NAME);return i=i&&parseInt(i,10),n(e)===i}};e.exports=r},function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new a(this)}var s=i(4),o=i(14),r=i(24),a=(i(7),i(142)),l=[],c={enqueue:function(){}},u={getTransactionWrappers:function(){return l},getReactMountReady:function(){return c},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};s(n.prototype,r.Mixin,u),o.addPoolingTo(n),e.exports=n},function(s,e,o){(function(e){"use strict";function i(e,t,i){if(e&&"object"==typeof e){var n=e;void 0===n[i]&&null!=t&&(n[i]=t)}}function t(e){if(null==e)return e;var t={};return n(e,i,t),t}var n=(o(37),o(55));o(3),void 0!==e&&e.env,s.exports=t}).call(e,o(32))},function(e,t,i){"use strict";function n(e,t){var i={};return i[e.toLowerCase()]=t.toLowerCase(),i["Webkit"+e]="webkit"+t,i["Moz"+e]="moz"+t,i["ms"+e]="MS"+t,i["O"+e]="o"+t.toLowerCase(),i}function s(e){if(a[e])return a[e];if(!r[e])return e;var t=r[e];for(var i in t)if(t.hasOwnProperty(i)&&i in l)return a[e]=t[i];return""}var o=i(6),r={animationend:n("Animation","AnimationEnd"),animationiteration:n("Animation","AnimationIteration"),animationstart:n("Animation","AnimationStart"),transitionend:n("Transition","TransitionEnd")},a={},l={};o.canUseDOM&&(l=document.createElement("div").style,"AnimationEvent"in window||(delete r.animationend.animation,delete r.animationiteration.animation,delete r.animationstart.animation),"TransitionEvent"in window||delete r.transitionend.transition),e.exports=s},function(e,t,i){"use strict";function n(e){return o.isValidElement(e)||s("23"),e}var s=i(2),o=i(9);i(1),e.exports=n},function(e){"use strict";function t(e){return e.replace(i,function(e,t){return t.toUpperCase()})}var i=/-(.)/g;e.exports=t},function(e,t,i){"use strict";function n(e){return s(e.replace(o,"ms-"))}var s=i(96),o=/^-ms-/;e.exports=n},function(e,t,i){"use strict";function n(e,
t){return!(!e||!t)&&(e===t||!s(e)&&(s(t)?n(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var s=i(106);e.exports=n},function(e,t,s){"use strict";function i(e){var t=e.length;if((Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e)&&r(!1),"number"!=typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"==typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(s){}for(var i=Array(t),n=0;n<t;n++)i[n]=e[n];return i}function n(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return n(e)?Array.isArray(e)?e.slice():i(e):[e]}var r=s(1);e.exports=o},function(e,t,i){"use strict";function l(e){var t=e.match(o);return t&&t[1].toLowerCase()}function n(e,t){var i=d;d||h(!1);var n=l(e),s=n&&u(n);if(s){i.innerHTML=s[1]+e+s[2];for(var o=s[0];o--;)i=i.lastChild}else i.innerHTML=e;var r=i.getElementsByTagName("script");r.length&&(t||h(!1),c(r).forEach(t));for(var a=Array.from(i.childNodes);i.lastChild;)i.removeChild(i.lastChild);return a}var s=i(6),c=i(99),u=i(101),h=i(1),d=s.canUseDOM?document.createElement("div"):null,o=/^\s*<(\w+)/;e.exports=n},function(e,t,i){"use strict";function n(e){return r||o(!1),d.hasOwnProperty(e)||(e="*"),a.hasOwnProperty(e)||(r.innerHTML="*"===e?"<link />":"<"+e+"></"+e+">",a[e]=!r.firstChild),a[e]?d[e]:null}var s=i(6),o=i(1),r=s.canUseDOM?document.createElement("div"):null,a={},l=[1,'<select multiple="true">',"</select>"],c=[1,"<table>","</table>"],u=[3,"<table><tbody><tr>","</tr></tbody></table>"],h=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:l,option:l,caption:c,colgroup:c,tbody:c,tfoot:c,thead:c,td:u,th:u};["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"].forEach(function(e){d[e]=h,a[e]=!0}),e.exports=n},function(e){"use strict";function t(e){return e===window?{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=t},function(e){"use strict";function t(e){return e.replace(i,"-$1").toLowerCase()}var i=/([A-Z])/g;e.exports=t},function(e,t,i){"use strict";function n(e){return s(e).replace(o,"-ms-")}var s=i(103),o=/^ms-/;e.exports=n},function(e){"use strict";function t(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=t},function(e,t,i){"use strict";function n(e){return s(e)&&3==e.nodeType}var s=i(105);e.exports=n},function(e){"use strict";function t(e,t,i){if(!e)return null;var n={};for(var s in e)o.call(e,s)&&(n[s]=t.call(i,e[s],s,e));return n}var o=Object.prototype.hasOwnProperty;e.exports=t},function(e){"use strict";function t(t){var i={};return function(e){return i.hasOwnProperty(e)||(i[e]=t.call(this,e)),i[e]}}e.exports=t},function(e,t,i){"use strict";e.exports=i(87)},function(e,t,i){"use strict";var n=i(5),s=i(61),o={focusDOMComponent:function(){s(n.getNodeFromInstance(this))}};e.exports=o},function(e,t,i){"use strict";function n(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function s(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function l(e){switch(e){case R.topCompositionStart:return M.compositionStart;case R.topCompositionEnd:return M.compositionEnd;case R.topCompositionUpdate:return M.compositionUpdate}}function c(e,t){return e===R.topKeyDown&&t.keyCode===b}function u(e,t){switch(e){case R.topKeyUp:return-1!==w.indexOf(t.keyCode);case R.topKeyDown:return t.keyCode!==b;case R.topKeyPress:case R.topMouseDown:case R.topBlur:return!0;default:return!1}}function h(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function o(e,t,i,n){var s,o;if(x?s=l(e):N?u(e,i)&&(s=M.compositionEnd):c(e,i)&&(s=M.compositionStart),!s)return null;E&&(N||s!==M.compositionStart?s===M.compositionEnd&&N&&(o=N.getData()):N=g.getPooled(n));var r=v.getPooled(s,t,i,n);if(o)r.data=o;else{var a=h(i);null!==a&&(r.data=a)}return f.accumulateTwoPhaseDispatches(r),r}function r(e,t){switch(e){case R.topCompositionEnd:return h(t);case R.topKeyPress:return t.which!==T?null:(P=!0,k);case R.topTextInput:var i=t.data;return i===k&&P?null:i;default:return null}}function a(e,t){if(N){if(e===R.topCompositionEnd||u(e,t)){var i=N.getData();return g.release(N),N=null,i}return null}switch(e){case R.topPaste:return null;case R.topKeyPress:return t.which&&!s(t)?String.fromCharCode(t.which):null;case R.topCompositionEnd:return E?null:t.data;default:return null}}function d(e,t,i,n){var s;if(!(s=C?r(e,i):a(e,i)))return null;var o=y.getPooled(M.beforeInput,t,i,n);return o.data=s,f.accumulateTwoPhaseDispatches(o),o}var p=i(11),f=i(22),m=i(6),g=i(117),v=i(148),y=i(151),_=i(13),w=[9,13,27,32],b=229,x=m.canUseDOM&&"CompositionEvent"in window,S=null;m.canUseDOM&&"documentMode"in document&&(S=document.documentMode);var C=m.canUseDOM&&"TextEvent"in window&&!S&&!n(),E=m.canUseDOM&&(!x||S&&8<S&&S<=11),T=32,k=String.fromCharCode(T),R=p.topLevelTypes,M={beforeInput:{phasedRegistrationNames:{bubbled:_({onBeforeInput:null}),captured:_({onBeforeInputCapture:null})},dependencies:[R.topCompositionEnd,R.topKeyPress,R.topTextInput,R.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:_({onCompositionEnd:null}),captured:_({onCompositionEndCapture:null})},dependencies:[R.topBlur,R.topCompositionEnd,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:_({onCompositionStart:null}),captured:_({onCompositionStartCapture:null})},dependencies:[R.topBlur,R.topCompositionStart,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:_({onCompositionUpdate:null}),captured:_({onCompositionUpdateCapture:null})},dependencies:[R.topBlur,R.topCompositionUpdate,R.topKeyDown,R.topKeyPress,R.topKeyUp,R.topMouseDown]}},P=!1,N=null,D={eventTypes:M,extractEvents:function(e,t,i,n){return[o(e,t,i,n),d(e,t,i,n)]}};e.exports=D},function(e,t,i){"use strict";var l=i(63),n=i(6),c=(i(7),i(97),i(158)),s=i(104),o=i(108),r=(i(3),o(function(e){return s(e)})),u=!1,h="cssFloat";if(n.canUseDOM){var a=document.createElement("div").style;try{a.font=""}catch(p){u=!0}void 0===document.documentElement.style.cssFloat&&(h="styleFloat")}var d={createMarkupForStyles:function(e,t){var i="";for(var n in e)if(e.hasOwnProperty(n)){var s=e[n];null!=s&&(i+=r(n)+":",i+=c(n,s,t)+";")}return i||null},setValueForStyles:function(e,t,i){var n=e.style;for(var s in t)if(t.hasOwnProperty(s)){var o=c(s,t[s],i);if("float"!==s&&"cssFloat"!==s||(s=h),o)n[s]=o;else{var r=u&&l.shorthandPropertyExpansions[s];if(r)for(var a in r)n[a]="";else n[s]=""}}}};e.exports=d},function(e,t,i){"use strict";function c(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function n(e){var t=C.getPooled(P.change,D,e,E(e));w.accumulateTwoPhaseDispatches(t),S.batchedUpdates(s,t)}function s(e){_.enqueueEvents(e),_.processEventQueue(!1)}function o(e,t){D=t,(N=e).attachEvent("onchange",n)}function r(){N&&(N.detachEvent("onchange",n),D=N=null)}function u(e,t){if(e===M.topChange)return t}function h(e,t,i){e===M.topFocus?(r(),o(t,i)):e===M.topBlur&&r()}function a(e,t){D=t,I=(N=e).value,O=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(N,"value",H),N.attachEvent?N.attachEvent("onpropertychange",d):N.addEventListener("propertychange",d,!1)}function l(){N&&(delete N.value,N.detachEvent?N.detachEvent("onpropertychange",d):N.removeEventListener("propertychange",d,!1),O=I=D=N=null)}function d(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,n(e))}}function p(e,t){if(e===M.topInput)return t}function f(e,t,i){e===M.topFocus?(l(),a(t,i)):e===M.topBlur&&l()}function m(e){if((e===M.topSelectionChange||e===M.topKeyUp||e===M.topKeyDown)&&N&&N.value!==I)return I=N.value,D}function g(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function v(e,t){if(e===M.topClick)return t}var y=i(11),_=i(21),w=i(22),b=i(6),x=i(5),S=i(10),C=i(12),E=i(52),T=i(53),k=i(85),R=i(13),M=y.topLevelTypes,P={change:{phasedRegistrationNames:{bubbled:R({onChange:null}),captured:R({onChangeCapture:null})},dependencies:[M.topBlur,M.topChange,M.topClick,M.topFocus,M.topInput,M.topKeyDown,M.topKeyUp,M.topSelectionChange]}},N=null,D=null,I=null,O=null,L=!1;b.canUseDOM&&(L=T("change")&&(!("documentMode"in document)||8<document.documentMode));var A=!1;b.canUseDOM&&(A=T("input")&&(!("documentMode"in document)||11<document.documentMode));var H={get:function(){return O.get.call(this)},set:function(e){I=""+e,O.set.call(this,e)}},F={eventTypes:P,extractEvents:function(e,t,i,n){var s,o,r=t?x.getNodeFromInstance(t):window;if(c(r)?L?s=u:o=h:k(r)?A?s=p:(s=m,o=f):g(r)&&(s=v),s){var a=s(e,t);if(a){var l=C.getPooled(P.change,a,i,n);return l.type="change",w.accumulateTwoPhaseDispatches(l),l}}o&&o(e,r,t)}};e.exports=F},function(e,t,i){"use strict";var n=i(2),s=i(17),o=i(6),r=i(100),a=i(8),l=(i(1),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM||n("56"),t||n("57"),"HTML"===e.nodeName&&n("58"),"string"==typeof t){var i=r(t,a)[0];e.parentNode.replaceChild(i,e)}else s.replaceChildWithTree(e,t)}});e.exports=l},function(e,t,i){"use strict";var n=i(13),s=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];e.exports=s},function(e,t,i){"use strict";var n=i(11),p=i(22),f=i(5),m=i(28),s=i(13),g=n.topLevelTypes,v={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[g.topMouseOut,g.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[g.topMouseOut,g.topMouseOver]}},o={eventTypes:v,extractEvents:function(e,t,i,n){if(e===g.topMouseOver&&(i.relatedTarget||i.fromElement))return null;if(e!==g.topMouseOut&&e!==g.topMouseOver)return null;var s,o,r;if(n.window===n)s=n;else{var a=n.ownerDocument;s=a?a.defaultView||a.parentWindow:window}if(e===g.topMouseOut){o=t;var l=i.relatedTarget||i.toElement;r=l?f.getClosestInstanceFromNode(l):null}else o=null,r=t;if(o===r)return null;var c=null==o?s:f.getNodeFromInstance(o),u=null==r?s:f.getNodeFromInstance(r),h=m.getPooled(v.mouseLeave,o,i,n);h.type="mouseleave",h.target=c,h.relatedTarget=u;var d=m.getPooled(v.mouseEnter,r,i,n);return d.type="mouseenter",d.target=u,d.relatedTarget=c,p.accumulateEnterLeaveDispatches(h,d,o,r),[h,d]}};e.exports=o},function(e,t,i){"use strict";function n(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var s=i(4),o=i(14),r=i(84);s(n.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[r()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,i=this._startText,n=i.length,s=this.getText(),o=s.length;for(e=0;e<n&&i[e]===s[e];e++);var r=n-e;for(t=1;t<=r&&i[n-t]===s[o-t];t++);var a=1<t?1-t:void 0;return this._fallbackText=s.slice(e,a),this._fallbackText}}),o.addPoolingTo(n),e.exports=n},function(e,t,i){"use strict";var n=i(18),s=n.injection.MUST_USE_PROPERTY,o=n.injection.HAS_BOOLEAN_VALUE,r=n.injection.HAS_NUMERIC_VALUE,a=n.injection.HAS_POSITIVE_NUMERIC_VALUE,l=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE,c={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:s|o,cite:0,classID:0,className:0,cols:a,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,"default":o,defer:o,dir:0,disabled:o,download:l,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:s|o,muted:s|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:a,rowSpan:r,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:s|o,shape:0,size:a,sizes:0,span:a,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:r,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=c},function(s,e,o){(function(e){"use strict";function i(e,t,i){var n=void 0===e[i];null!=t&&n&&(e[i]=m(t,!0))}var f=o(16),m=o(59),g=(o(37),o(54)),n=o(55);o(3),void 0!==e&&e.env;var t={instantiateChildren:function(e){if(null==e)return null;var t={};return n(e,i,t),t},updateChildren:function(e,t,i,n,s,o,r,a){if(t||e){var l,c;for(l in t)if(t.hasOwnProperty(l)){var u=(c=e&&e[l])&&c._currentElement,h=t[l];if(null!=c&&g(u,h))f.receiveComponent(c,h,s,a),t[l]=c;else{c&&(n[l]=f.getHostNode(c),f.unmountComponent(c,!1));var d=m(h,!0);t[l]=d;var p=f.mountComponent(d,s,o,r,a);i.push(p)}}for(l in e)!e.hasOwnProperty(l)||t&&t.hasOwnProperty(l)||(c=e[l],n[l]=f.getHostNode(c),f.unmountComponent(c,!1))}},unmountChildren:function(e,t){for(var i in e)if(e.hasOwnProperty(i)){var n=e[i];f.unmountComponent(n,t)}}};s.exports=t}).call(e,o(32))},function(e,t,i){"use strict";function p(){}function f(){}function m(e){return!(!e.prototype||!e.prototype.isReactComponent)}function g(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var v=i(2),l=i(4),n=i(41),s=i(15),y=i(9),o=i(43),_=i(20),c=(i(7),i(76)),u=(i(46),i(16)),r=i(157),w=i(19),d=(i(1),i(31)),h=i(54),b=(i(3),{ImpureClass:0,PureClass:1,StatelessFunctional:2});p.prototype.render=function(){var e=_.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return f(e,t),t};var x=1,a={Mixin:{construct:function(e){this._currentElement=e,this._rootNodeID=null,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,i,n){this._context=n,this._mountOrder=x++,this._hostParent=t,this._hostContainerInfo=i;var s,o=this._currentElement.props,r=this._processContext(n),a=this._currentElement.type,l=e.getUpdateQueue(),c=m(a),u=this._constructComponent(c,o,r,l);c||null!=u&&null!=u.render?g(a)?this._compositeType=b.PureClass:this._compositeType=b.ImpureClass:(f(a,s=u),null===u||!1===u||y.isValidElement(u)||v("105",a.displayName||a.name||"Component"),u=new p(a),this._compositeType=b.StatelessFunctional),u.props=o,u.context=r,u.refs=w,u.updater=l,this._instance=u,_.set(u,this);var h,d=u.state;return void 0===d&&(u.state=d=null),("object"!=typeof d||Array.isArray(d))&&v("106",this.getName()||"ReactCompositeComponent"),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,h=u.unstable_handleError?this.performInitialMountWithErrorHandling(s,t,i,e,n):this.performInitialMount(s,t,i,e,n),u.componentDidMount&&e.getReactMountReady().enqueue(u.componentDidMount,u),h},_constructComponent:function(e,t,i,n){return this._constructComponentWithoutOwner(e,t,i,n)},_constructComponentWithoutOwner:function(e,t,i,n){var s=this._currentElement.type;return e?new s(t,i,n):s(t,i,n)},performInitialMountWithErrorHandling:function(e,t,i,n,s){var o,r=n.checkpoint();try{o=this.performInitialMount(e,t,i,n,s)}catch(v){n.rollback(r),this._instance.unstable_handleError(v),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),r=n.checkpoint(),this._renderedComponent.unmountComponent(!0),n.rollback(r),o=this.performInitialMount(e,t,i,n,s)}return o},performInitialMount:function(e,t,i,n,s){var o=this._instance;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var r=c.getType(e);this._renderedNodeType=r;var a=this._instantiateReactComponent(e,r!==c.EMPTY);return this._renderedComponent=a,u.mountComponent(a,n,t,i,this._processChildContext(s))},getHostNode:function(){return u.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var i=this.getName()+".componentWillUnmount()";o.invokeGuardedCallback(i,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(u.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=null,this._topLevelWrapper=null,_.remove(t)}},_maskContext:function(e){var t=this._currentElement.type.contextTypes;if(!t)return w;var i={};for(var n in t)i[n]=e[n];return i},_processContext:function(e){return this._maskContext(e)},_processChildContext:function(e){var t=this._currentElement.type,i=this._instance,n=i.getChildContext&&i.getChildContext();if(n){for(var s in"object"!=typeof t.childContextTypes&&v("107",this.getName()||"ReactCompositeComponent"),n)s in t.childContextTypes||v("108",this.getName()||"ReactCompositeComponent",s);return l({},e,n)}return e},_checkContextTypes:function(e,t,i){r(e,t,i,this.getName(),null,this._debugID)},receiveComponent:function(e,t,i){var n=this._currentElement,s=this._context;this._pendingElement=null,this.updateComponent(t,n,e,s,i)},performUpdateIfNecessary:function(e){null!=this._pendingElement?u.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,i,n,s){var o=this._instance;null==o&&v("136",this.getName()||"ReactCompositeComponent");var r,a=!1;this._context===s?r=o.context:(r=this._processContext(s),a=!0);var l=t.props,c=i.props;t!==i&&(a=!0),a&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,r);var u=this._processPendingState(c,r),h=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?h=o.shouldComponentUpdate(c,u,r):this._compositeType===b.PureClass&&(h=!d(l,c)||!d(o.state,u))),this._updateBatchNumber=null,h?(this._pendingForceUpdate=!1,this._performComponentUpdate(i,c,u,r,e,s)):(this._currentElement=i,this._context=s,o.props=c,o.state=u,o.context=r)},_processPendingState:function(e,t){var i=this._instance,n=this._pendingStateQueue,s=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!n)return i.state;if(s&&1===n.length)return n[0];for(var o=l({},s?n[0]:i.state),r=s?1:0;r<n.length;r++){var a=n[r];l(o,"function"==typeof a?a.call(i,o,e,t):a)}return o},_performComponentUpdate:function(e,t,i,n,s,o){var r,a,l,c=this._instance,u=Boolean(c.componentDidUpdate);u&&(r=c.props,a=c.state,l=c.context),c.componentWillUpdate&&c.componentWillUpdate(t,i,n),this._currentElement=e,this._context=o,c.props=t,c.state=i,c.context=n,this._updateRenderedComponent(s,o),u&&s.getReactMountReady().enqueue(c.componentDidUpdate.bind(c,r,a,l),c)},_updateRenderedComponent:function(e,t){var i=this._renderedComponent,n=i._currentElement,s=this._renderValidatedComponent();if(h(n,s))u.receiveComponent(i,s,e,this._processChildContext(t));else{var o=u.getHostNode(i);u.unmountComponent(i,!1);var r=c.getType(s);this._renderedNodeType=r;var a=this._instantiateReactComponent(s,r!==c.EMPTY);this._renderedComponent=a;var l=u.mountComponent(a,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t));this._replaceNodeWithMarkup(o,l,i)}},_replaceNodeWithMarkup:function(e,t,i){n.replaceNodeWithMarkup(e,t,i)},_renderValidatedComponentWithoutOwnerOrContext:function(){return this._instance.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==b.StatelessFunctional){s.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{s.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||!1===e||y.isValidElement(e)||v("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var i=this.getPublicInstance();null==i&&v("110");var n=t.getPublicInstance();(i.refs===w?i.refs={}:i.refs)[e]=n},detachRef:function(e){delete this.getPublicInstance().refs[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===b.StatelessFunctional?null:e},_instantiateReactComponent:null}};e.exports=a},function(e,t,i){"use strict";var n={getHostProps:i(26).getHostProps};e.exports=n},function(e,t,i){"use strict";function n(e){if(e){var t=e._currentElement._owner||null;if(t){var i=t.getName();if(i)return" This DOM node was rendered by `"+i+"`."}}return""}function m(e,t){t&&(Q[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML)&&l("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""),null!=t.dangerouslySetInnerHTML&&(null!=t.children&&l("60"),"object"==typeof t.dangerouslySetInnerHTML&&q in t.dangerouslySetInnerHTML||l("61")),null!=t.style&&"object"!=typeof t.style&&l("62",n(e)))}function u(e,t,i,n){if(!(n instanceof A)){var s=e._hostContainerInfo,o=s._node&&s._node.nodeType===G?s._node:s._ownerDocument;B(t,o),n.getReactMountReady().enqueue(r,{inst:e,registrationName:t,listener:i})}}function r(){var e=this;C.putListener(e.inst,e.registrationName,e.listener)}function g(){var e=this;N.postMountWrapper(e)}function v(){var e=this;O.postMountWrapper(e)}function y(){var e=this;D.postMountWrapper(e)}function _(){var e=this;e._rootNodeID||l("63");var t=$(e);switch(t||l("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[T.trapBubbledEvent(c.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":for(var i in e._wrapperState.listeners=[],X)X.hasOwnProperty(i)&&e._wrapperState.listeners.push(T.trapBubbledEvent(c.topLevelTypes[i],X[i],t));break;case"source":e._wrapperState.listeners=[T.trapBubbledEvent(c.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[T.trapBubbledEvent(c.topLevelTypes.topError,"error",t),T.trapBubbledEvent(c.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[T.trapBubbledEvent(c.topLevelTypes.topReset,"reset",t),T.trapBubbledEvent(c.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[T.trapBubbledEvent(c.topLevelTypes.topInvalid,"invalid",t)]}}function a(){I.postUpdateWrapper(this)}function s(e){te.call(ee,e)||(J.test(e)||l("65",e),ee[e]=!0)}function h(e,t){return 0<=e.indexOf("-")||null!=t.is}function o(e){var t=e.type;s(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=null,this._domID=null,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var l=i(2),d=i(4),w=i(110),p=i(112),b=i(17),x=i(34),f=i(18),S=i(65),c=i(11),C=i(21),E=i(35),T=i(27),k=i(67),R=i(121),M=i(68),P=i(5),N=i(127),D=i(129),I=i(69),O=i(132),L=(i(7),i(137)),A=i(92),H=(i(8),i(29)),F=(i(1),i(53),i(13)),j=(i(31),i(56),i(3),M),z=C.deleteListener,$=P.getNodeFromInstance,B=T.listenTo,W=E.registrationNameModules,U={string:!0,number:!0},V=F({style:null}),q=F({__html:null}),Y={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},G=11,X={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Z={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},K={listing:!0,pre:!0,textarea:!0},Q=d({menuitem:!0},Z),J=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,ee={},te={}.hasOwnProperty,ie=1;o.displayName="ReactDOMComponent",o.Mixin={mountComponent:function(e,t,i,n){this._rootNodeID=ie++,this._domID=i._idCounter++,this._hostParent=t,this._hostContainerInfo=i;var s,o,r,a=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(_,this);break;case"button":a=R.getHostProps(this,a,t);break;case"input":N.mountWrapper(this,a,t),a=N.getHostProps(this,a),e.getReactMountReady().enqueue(_,this);break;case"option":D.mountWrapper(this,a,t),a=D.getHostProps(this,a);break;case"select":I.mountWrapper(this,a,t),a=I.getHostProps(this,a),e.getReactMountReady().enqueue(_,this);break;case"textarea":O.mountWrapper(this,a,t),a=O.getHostProps(this,a),e.getReactMountReady().enqueue(_,this)}if(m(this,a),null!=t?(s=t._namespaceURI,o=t._tag):i._tag&&(s=i._namespaceURI,o=i._tag),(null==s||s===x.svg&&"foreignobject"===o)&&(s=x.html),s===x.html&&("svg"===this._tag?s=x.svg:"math"===this._tag&&(s=x.mathml)),this._namespaceURI=s,e.useCreateElement){var l,c=i._ownerDocument;if(s===x.html)if("script"===this._tag){var u=c.createElement("div"),h=this._currentElement.type;u.innerHTML="<"+h+"></"+h+">",l=u.removeChild(u.firstChild)}else l=a.is?c.createElement(this._currentElement.type,a.is):c.createElement(this._currentElement.type);else l=c.createElementNS(s,this._currentElement.type);P.precacheNode(this,l),this._flags|=j.hasCachedChildNodes,this._hostParent||S.setAttributeForRoot(l),this._updateDOMProperties(null,a,e);var d=b(l);this._createInitialChildren(e,a,n,d),r=d}else{var p=this._createOpenTagMarkupAndPutListeners(e,a),f=this._createContentMarkup(e,a,n);r=!f&&Z[this._tag]?p+"/>":p+">"+f+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(g,this),a.autoFocus&&e.getReactMountReady().enqueue(w.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(v,this),a.autoFocus&&e.getReactMountReady().enqueue(w.focusDOMComponent,this);break;case"select":case"button":a.autoFocus&&e.getReactMountReady().enqueue(w.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(y,this)}return r},_createOpenTagMarkupAndPutListeners:function(e,t){var i="<"+this._currentElement.type;for(var n in t)if(t.hasOwnProperty(n)){var s=t[n];if(null!=s)if(W.hasOwnProperty(n))s&&u(this,n,s,e);else{n===V&&(s&&(s=this._previousStyleCopy=d({},t.style)),s=p.createMarkupForStyles(s,this));var o=null;null!=this._tag&&h(this._tag,t)?Y.hasOwnProperty(n)||(o=S.createMarkupForCustomAttribute(n,s)):o=S.createMarkupForProperty(n,s),o&&(i+=" "+o)}}return e.renderToStaticMarkup?i:(this._hostParent||(i+=" "+S.createMarkupForRoot()),i+=" "+S.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,i){var n="",s=t.dangerouslySetInnerHTML;if(null!=s)null!=s.__html&&(n=s.__html);else{var o=U[typeof t.children]?t.children:null,r=null!=o?null:t.children;if(null!=o)n=H(o);else if(null!=r){n=this.mountChildren(r,e,i).join("")}}return K[this._tag]&&"\n"===n.charAt(0)?"\n"+n:n},_createInitialChildren:function(e,t,i,n){var s=t.dangerouslySetInnerHTML;if(null!=s)null!=s.__html&&b.queueHTML(n,s.__html);else{var o=U[typeof t.children]?t.children:null,r=null!=o?null:t.children;if(null!=o)b.queueText(n,o);else if(null!=r)for(var a=this.mountChildren(r,e,i),l=0;l<a.length;l++)b.queueChild(n,a[l])}},receiveComponent:function(e,t,i){var n=this._currentElement;this._currentElement=e,this.updateComponent(t,n,e,i)},updateComponent:function(e,t,i,n){var s=t.props,o=this._currentElement.props;switch(this._tag){case"button":s=R.getHostProps(this,s),o=R.getHostProps(this,o);break;case"input":N.updateWrapper(this),s=N.getHostProps(this,s),o=N.getHostProps(this,o);break;case"option":s=D.getHostProps(this,s),o=D.getHostProps(this,o);break;case"select":s=I.getHostProps(this,s),o=I.getHostProps(this,o);break;case"textarea":O.updateWrapper(this),s=O.getHostProps(this,s),o=O.getHostProps(this,o)}m(this,o),this._updateDOMProperties(s,o,e),this._updateDOMChildren(s,o,e,n),"select"===this._tag&&e.getReactMountReady().enqueue(a,this)},_updateDOMProperties:function(e,t,i){var n,s,o;for(n in e)if(!t.hasOwnProperty(n)&&e.hasOwnProperty(n)&&null!=e[n])if(n===V){var r=this._previousStyleCopy;for(s in r)r.hasOwnProperty(s)&&((o=o||{})[s]="");this._previousStyleCopy=null}else W.hasOwnProperty(n)?e[n]&&z(this,n):h(this._tag,e)?Y.hasOwnProperty(n)||S.deleteValueForAttribute($(this),n):(f.properties[n]||f.isCustomAttribute(n))&&S.deleteValueForProperty($(this),n);for(n in t){var a=t[n],l=n===V?this._previousStyleCopy:null!=e?e[n]:void 0;if(t.hasOwnProperty(n)&&a!==l&&(null!=a||null!=l))if(n===V)if(a?a=this._previousStyleCopy=d({},a):this._previousStyleCopy=null,l){for(s in l)!l.hasOwnProperty(s)||a&&a.hasOwnProperty(s)||((o=o||{})[s]="");for(s in a)a.hasOwnProperty(s)&&l[s]!==a[s]&&((o=o||{})[s]=a[s])}else o=a;else if(W.hasOwnProperty(n))a?u(this,n,a,i):l&&z(this,n);else if(h(this._tag,t))Y.hasOwnProperty(n)||S.setValueForAttribute($(this),n,a);else if(f.properties[n]||f.isCustomAttribute(n)){var c=$(this);null!=a?S.setValueForProperty(c,n,a):S.deleteValueForProperty(c,n)}}o&&p.setValueForStyles($(this),o,this)},_updateDOMChildren:function(e,t,i,n){var s=U[typeof e.children]?e.children:null,o=U[typeof t.children]?t.children:null,r=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,a=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,l=null!=s?null:e.children,c=null!=o?null:t.children,u=null!=s||null!=r,h=null!=o||null!=a;null!=l&&null==c?this.updateChildren(null,i,n):u&&!h&&this.updateTextContent(""),null!=o?s!==o&&this.updateTextContent(""+o):null!=a?r!==a&&this.updateMarkup(""+a):null!=c&&this.updateChildren(c,i,n)},getHostNode:function(){return $(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var i=0;i<t.length;i++)t[i].remove();break;case"html":case"head":case"body":l("66",this._tag)}this.unmountChildren(e),P.uncacheNode(this),C.deleteAllListeners(this),k.unmountIDFromEnvironment(this._rootNodeID),this._rootNodeID=null,this._domID=null,this._wrapperState=null},getPublicInstance:function(){return $(this)}},d(o.prototype,o.Mixin,L.Mixin),e.exports=o},function(e,t,i){"use strict";var n=i(4),r=i(17),a=i(5),s=function(){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=null};n(s.prototype,{mountComponent:function(e,t,i){var n=i._idCounter++;this._domID=n,this._hostParent=t,this._hostContainerInfo=i;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var o=i._ownerDocument.createComment(s);return a.precacheNode(this,o),
r(o)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return a.getNodeFromInstance(this)},unmountComponent:function(){a.uncacheNode(this)}}),e.exports=s},function(e,t,i){"use strict";function n(e){return s.createFactory(e)}var s=i(9),o=i(107)({a:"a",abbr:"abbr",address:"address",area:"area",article:"article",aside:"aside",audio:"audio",b:"b",base:"base",bdi:"bdi",bdo:"bdo",big:"big",blockquote:"blockquote",body:"body",br:"br",button:"button",canvas:"canvas",caption:"caption",cite:"cite",code:"code",col:"col",colgroup:"colgroup",data:"data",datalist:"datalist",dd:"dd",del:"del",details:"details",dfn:"dfn",dialog:"dialog",div:"div",dl:"dl",dt:"dt",em:"em",embed:"embed",fieldset:"fieldset",figcaption:"figcaption",figure:"figure",footer:"footer",form:"form",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",head:"head",header:"header",hgroup:"hgroup",hr:"hr",html:"html",i:"i",iframe:"iframe",img:"img",input:"input",ins:"ins",kbd:"kbd",keygen:"keygen",label:"label",legend:"legend",li:"li",link:"link",main:"main",map:"map",mark:"mark",menu:"menu",menuitem:"menuitem",meta:"meta",meter:"meter",nav:"nav",noscript:"noscript",object:"object",ol:"ol",optgroup:"optgroup",option:"option",output:"output",p:"p",param:"param",picture:"picture",pre:"pre",progress:"progress",q:"q",rp:"rp",rt:"rt",ruby:"ruby",s:"s",samp:"samp",script:"script",section:"section",select:"select",small:"small",source:"source",span:"span",strong:"strong",style:"style",sub:"sub",summary:"summary",sup:"sup",table:"table",tbody:"tbody",td:"td",textarea:"textarea",tfoot:"tfoot",th:"th",thead:"thead",time:"time",title:"title",tr:"tr",track:"track",u:"u",ul:"ul","var":"var",video:"video",wbr:"wbr",circle:"circle",clipPath:"clipPath",defs:"defs",ellipse:"ellipse",g:"g",image:"image",line:"line",linearGradient:"linearGradient",mask:"mask",path:"path",pattern:"pattern",polygon:"polygon",polyline:"polyline",radialGradient:"radialGradient",rect:"rect",stop:"stop",svg:"svg",text:"text",tspan:"tspan"},n);e.exports=o},function(e){"use strict";var t={useCreateElement:!0};e.exports=t},function(e,t,i){"use strict";var n=i(33),s=i(5),o={dangerouslyProcessChildrenUpdates:function(e,t){var i=s.getNodeFromInstance(e);n.processUpdates(i,t)}};e.exports=o},function(e,t,i){"use strict";function u(){this._rootNodeID&&a.updateWrapper(this)}function n(e){var t=this._currentElement.props,i=d.executeOnChange(t,e);f.asap(u,this);var n=t.name;if("radio"===t.type&&null!=n){for(var s=p.getNodeFromInstance(this),o=s;o.parentNode;)o=o.parentNode;for(var r=o.querySelectorAll("input[name="+JSON.stringify(""+n)+'][type="radio"]'),a=0;a<r.length;a++){var l=r[a];if(l!==s&&l.form===s.form){var c=p.getInstanceFromNode(l);c||h("90"),f.asap(u,c)}}}return i}var h=i(2),s=i(4),o=i(26),r=i(65),d=i(38),p=i(5),f=i(10),a=(i(1),i(3),{getHostProps:function(e,t){var i=d.getValue(t),n=d.getChecked(t);return s({type:void 0,step:void 0},o.getHostProps(e,t),{defaultChecked:void 0,defaultValue:void 0,value:null!=i?i:e._wrapperState.initialValue,checked:null!=n?n:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var i=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:i,listeners:null,onChange:n.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,i=t.checked;null!=i&&r.setValueForProperty(p.getNodeFromInstance(e),"checked",i||!1);var n=p.getNodeFromInstance(e),s=d.getValue(t);if(null!=s){var o=""+s;o!==n.value&&(n.value=o)}else null==t.value&&null!=t.defaultValue&&(n.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(n.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,i=p.getNodeFromInstance(e);"submit"!==t.type&&"reset"!==t.type&&(i.value=i.value);var n=i.name;""!==n&&(i.name=""),i.defaultChecked=!i.defaultChecked,i.defaultChecked=!i.defaultChecked,""!==n&&(i.name=n)}});e.exports=a},function(e){"use strict";var t=null;e.exports={debugTool:t}},function(e,t,i){"use strict";function l(e){var t="";return n.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:r||(r=!0))}),t}var s=i(4),n=i(57),o=i(5),c=i(69),r=(i(3),!1),a={mountWrapper:function(e,t,i){var n=null;if(null!=i){var s=i;"optgroup"===s._tag&&(s=s._hostParent),null!=s&&"select"===s._tag&&(n=c.getSelectValueContext(s))}var o,r=null;if(null!=n)if(o=null!=t.value?t.value+"":l(t.children),r=!1,Array.isArray(n)){for(var a=0;a<n.length;a++)if(""+n[a]===o){r=!0;break}}else r=""+n===o;e._wrapperState={selected:r}},postMountWrapper:function(e){var t=e._currentElement.props;null!=t.value&&o.getNodeFromInstance(e).setAttribute("value",t.value)},getHostProps:function(e,t){var i=s({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(i.selected=e._wrapperState.selected);var n=l(t.children);return n&&(i.children=n),i}};e.exports=a},function(e,t,i){"use strict";function p(e,t,i,n){return e===i&&t===n}function n(e){var t=document.selection.createRange(),i=t.text.length,n=t.duplicate();n.moveToElementText(e),n.setEndPoint("EndToStart",t);var s=n.text.length;return{start:s,end:s+i}}function s(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var i=t.anchorNode,n=t.anchorOffset,s=t.focusNode,o=t.focusOffset,r=t.getRangeAt(0);try{r.startContainer.nodeType,r.endContainer.nodeType}catch(f){return null}var a=p(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset)?0:r.toString().length,l=r.cloneRange();l.selectNodeContents(e),l.setEnd(r.startContainer,r.startOffset);var c=p(l.startContainer,l.startOffset,l.endContainer,l.endOffset)?0:l.toString().length,u=c+a,h=document.createRange();h.setStart(i,n),h.setEnd(s,o);var d=h.collapsed;return{start:d?u:c,end:d?c:u}}function o(e,t){var i,n,s=document.selection.createRange().duplicate();void 0===t.end?n=i=t.start:t.start>t.end?(i=t.end,n=t.start):(i=t.start,n=t.end),s.moveToElementText(e),s.moveStart("character",i),s.setEndPoint("EndToStart",s),s.moveEnd("character",n-i),s.select()}function r(e,t){if(window.getSelection){var i=window.getSelection(),n=e[h()].length,s=Math.min(t.start,n),o=void 0===t.end?s:Math.min(t.end,n);if(!i.extend&&o<s){var r=o;o=s,s=r}var a=u(e,s),l=u(e,o);if(a&&l){var c=document.createRange();c.setStart(a.node,a.offset),i.removeAllRanges(),o<s?(i.addRange(c),i.extend(l.node,l.offset)):(c.setEnd(l.node,l.offset),i.addRange(c))}}}var f=i(6),u=i(161),h=i(84),a=f.canUseDOM&&"selection"in document&&!("getSelection"in window),l={getOffsets:a?n:s,setOffsets:a?o:r};e.exports=l},function(e,t,i){"use strict";var n=i(2),s=i(4),o=i(33),h=i(17),d=i(5),p=(i(7),i(29)),r=(i(1),i(56),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=null,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});s(r.prototype,{mountComponent:function(e,t,i){var n=i._idCounter++,s=" react-text: "+n+" ",o=" /react-text ";if(this._domID=n,this._hostParent=t,e.useCreateElement){var r=i._ownerDocument,a=r.createComment(s),l=r.createComment(o),c=h(r.createDocumentFragment());return h.queueChild(c,h(a)),this._stringText&&h.queueChild(c,h(r.createTextNode(this._stringText))),h.queueChild(c,h(l)),d.precacheNode(this,a),this._closingComment=l,c}var u=p(this._stringText);return e.renderToStaticMarkup?u:"<!--"+s+"-->"+u+"<!--"+o+"-->"},receiveComponent:function(e){if(e!==this._currentElement){var t=""+(this._currentElement=e);if(t!==this._stringText){this._stringText=t;var i=this.getHostNode();o.replaceDelimitedText(i[0],i[1],t)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=d.getNodeFromInstance(this).nextSibling;;){if(null==t&&n("67",this._domID),8===t.nodeType&&" /react-text "===t.nodeValue){this._closingComment=t;break}t=t.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,d.uncacheNode(this)}}),e.exports=r},function(e,t,i){"use strict";function n(){this._rootNodeID&&h.updateWrapper(this)}function r(e){var t=this._currentElement.props,i=l.executeOnChange(t,e);return u.asap(n,this),i}var a=i(2),s=i(4),o=i(26),l=i(38),c=i(5),u=i(10),h=(i(1),i(3),{getHostProps:function(e,t){return null!=t.dangerouslySetInnerHTML&&a("91"),s({},o.getHostProps(e,t),{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange})},mountWrapper:function(e,t){var i=l.getValue(t),n=i;if(null==i){var s=t.defaultValue,o=t.children;null!=o&&(null!=s&&a("92"),Array.isArray(o)&&(o.length<=1||a("93"),o=o[0]),s=""+o),null==s&&(s=""),n=s}e._wrapperState={initialValue:""+n,listeners:null,onChange:r.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,i=c.getNodeFromInstance(e),n=l.getValue(t);if(null!=n){var s=""+n;s!==i.value&&(i.value=s),null==t.defaultValue&&(i.defaultValue=s)}null!=t.defaultValue&&(i.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=c.getNodeFromInstance(e);t.value=t.textContent}});e.exports=h},function(e,t,i){"use strict";function c(e,t){"_hostNode"in e||a("33"),"_hostNode"in t||a("33");for(var i=0,n=e;n;n=n._hostParent)i++;for(var s=0,o=t;o;o=o._hostParent)s++;for(;0<i-s;)e=e._hostParent,i--;for(;0<s-i;)t=t._hostParent,s--;for(var r=i;r--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function n(e,t){"_hostNode"in e||a("35"),"_hostNode"in t||a("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function s(e){return"_hostNode"in e||a("36"),e._hostParent}function o(e,t,i){for(var n=[];e;)n.push(e),e=e._hostParent;var s;for(s=n.length;0<s--;)t(n[s],!1,i);for(s=0;s<n.length;s++)t(n[s],!0,i)}function r(e,t,i,n,s){for(var o=e&&t?c(e,t):null,r=[];e&&e!==o;)r.push(e),e=e._hostParent;for(var a=[];t&&t!==o;)a.push(t),t=t._hostParent;var l;for(l=0;l<r.length;l++)i(r[l],!0,n);for(l=a.length;0<l--;)i(a[l],!1,s)}var a=i(2);i(1),e.exports={isAncestor:n,getLowestCommonAncestor:c,getParentInstance:s,traverseTwoPhase:o,traverseEnterLeave:r}},function(e,t,i){"use strict";function s(e){o.enqueueEvents(e),o.processEventQueue(!1)}var o=i(21),n={handleTopLevel:function(e,t,i,n){s(o.extractEvents(e,t,i,n))}};e.exports=n},function(e,t,i){"use strict";function o(e){for(;e._hostParent;)e=e._hostParent;var t=h.getNodeFromInstance(e).parentNode;return h.getClosestInstanceFromNode(t)}function n(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function s(e){for(var t=p(e.nativeEvent),i=h.getClosestInstanceFromNode(t),n=i;e.ancestors.push(n),n=n&&o(n););for(var s=0;s<e.ancestors.length;s++)i=e.ancestors[s],m._handleTopLevel(e.topLevelType,i,e.nativeEvent,p(e.nativeEvent))}function r(e){e(f(window))}var a=i(4),l=i(60),c=i(6),u=i(14),h=i(5),d=i(10),p=i(52),f=i(102);a(n.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),u.addPoolingTo(n,u.twoArgumentPooler);var m={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:c.canUseDOM?window:null,setHandleTopLevel:function(e){m._handleTopLevel=e},setEnabled:function(e){m._enabled=!!e},isEnabled:function(){return m._enabled},trapBubbledEvent:function(e,t,i){var n=i;return n?l.listen(n,t,m.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,i){var n=i;return n?l.capture(n,t,m.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=r.bind(null,e);l.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(m._enabled){var i=n.getPooled(e,t);try{d.batchedUpdates(s,i)}finally{n.release(i)}}}};e.exports=m},function(e,t,i){"use strict";var n=i(18),s=i(21),o=i(36),r=i(41),a=i(66),l=i(70),c=i(27),u=i(72),h=i(10),d={Component:r.injection,Class:a.injection,DOMProperty:n.injection,EmptyComponent:l.injection,EventPluginHub:s.injection,EventPluginUtils:o.injection,EventEmitter:c.injection,HostComponent:u.injection,Updates:h.injection};e.exports=d},function(e,t,i){"use strict";function n(e,t,i){return{type:u.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:i,afterNode:t}}function s(e,t,i){return{type:u.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:v.getHostNode(e),toIndex:i,afterNode:t}}function o(e,t){return{type:u.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function r(e){return{type:u.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function a(e){return{type:u.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function m(e,t){return t&&(e=e||[]).push(t),e}function g(e,t){c.processChildrenUpdates(e,t)}var l=i(2),c=i(41),u=(i(20),i(7),i(75)),v=(i(15),i(16)),h=i(119),d=(i(8),i(93)),p=(i(1),{Mixin:{_reconcilerInstantiateChildren:function(e,t,i){return h.instantiateChildren(e,t,i)},_reconcilerUpdateChildren:function(e,t,i,n,s,o){var r;return r=d(t),h.updateChildren(e,r,i,n,s,this,this._hostContainerInfo,o),r},mountChildren:function(e,t,i){var n=this._reconcilerInstantiateChildren(e,t,i);this._renderedChildren=n;var s=[],o=0;for(var r in n)if(n.hasOwnProperty(r)){var a=n[r],l=v.mountComponent(a,t,this,this._hostContainerInfo,i);a._mountIndex=o++,s.push(l)}return s},updateTextContent:function(e){var t=this._renderedChildren;for(var i in h.unmountChildren(t,!1),t)t.hasOwnProperty(i)&&l("118");g(this,[a(e)])},updateMarkup:function(e){var t=this._renderedChildren;for(var i in h.unmountChildren(t,!1),t)t.hasOwnProperty(i)&&l("118");g(this,[r(e)])},updateChildren:function(e,t,i){this._updateChildren(e,t,i)},_updateChildren:function(e,t,i){var n=this._renderedChildren,s={},o=[],r=this._reconcilerUpdateChildren(n,e,o,s,t,i);if(r||n){var a,l=null,c=0,u=0,h=0,d=null;for(a in r)if(r.hasOwnProperty(a)){var p=n&&n[a],f=r[a];p===f?(l=m(l,this.moveChild(p,d,c,u)),u=Math.max(p._mountIndex,u),p._mountIndex=c):(p&&(u=Math.max(p._mountIndex,u)),l=m(l,this._mountChildAtIndex(f,o[h],d,c,t,i)),h++),c++,d=v.getHostNode(f)}for(a in s)s.hasOwnProperty(a)&&(l=m(l,this._unmountChild(n[a],s[a])));l&&g(this,l),this._renderedChildren=r}},unmountChildren:function(e){var t=this._renderedChildren;h.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,i,n){if(e._mountIndex<n)return s(e,t,i)},createChild:function(e,t,i){return n(i,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,i,n){return e._mountIndex=n,this.createChild(e,i,t)},_unmountChild:function(e,t){var i=this.removeChild(e,t);return e._mountIndex=null,i}}});e.exports=p},function(e,t,i){"use strict";var s=i(2),o=(i(1),{isValidOwner:function(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)},addComponentAsRefTo:function(e,t,i){o.isValidOwner(i)||s("119"),i.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,i){o.isValidOwner(i)||s("120");var n=i.getPublicInstance();n&&n.refs[t]===e.getPublicInstance()&&i.detachRef(t)}});e.exports=o},function(e,t,i){"use strict";function n(e,t,i){this.props=e,this.context=t,this.refs=l,this.updater=i||a}function s(){}var o=i(4),r=i(40),a=i(44),l=i(19);s.prototype=r.prototype,n.prototype=new s,o((n.prototype.constructor=n).prototype,r.prototype),n.prototype.isPureReactComponent=!0,e.exports=n},function(e,t,i){"use strict";function n(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var s=i(4),o=i(64),r=i(14),a=i(27),l=i(73),c=(i(7),i(24)),u=i(48),h=[{initialize:l.getSelectionInformation,close:l.restoreSelection},{initialize:function(){var e=a.isEnabled();return a.setEnabled(!1),e},close:function(e){a.setEnabled(e)}},{initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}}],d={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return u},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};s(n.prototype,c.Mixin,d),r.addPoolingTo(n),e.exports=n},function(e,t,i){"use strict";function n(e,t,i){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,i)}function s(e,t,i){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,i)}var o=i(138),r={attachRefs:function(e,t){if(null!==t&&!1!==t){var i=t.ref;null!=i&&n(i,e,t._owner)}},shouldUpdateRefs:function(e,t){return null===e||!1===e||(null===t||!1===t)||t.ref!==e.ref||"string"==typeof t.ref&&t._owner!==e._owner},detachRefs:function(e,t){if(null!==t&&!1!==t){var i=t.ref;null!=i&&s(i,e,t._owner)}}};e.exports=r},function(e,t,i){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(){}var o=i(48),r=(i(24),i(3),function(){function t(e){n(this,t),this.transaction=e}return t.prototype.isMounted=function(){return!1},t.prototype.enqueueCallback=function(e,t,i){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,i)},t.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?o.enqueueForceUpdate(e):s(e,"forceUpdate")},t.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?o.enqueueReplaceState(e,t):s(e,"replaceState")},t.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?o.enqueueSetState(e,t):s(e,"setState")},t}());e.exports=r},function(e){"use strict";var t={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},i={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering","in":0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},n={Properties:{},DOMAttributeNamespaces:{xlinkActuate:t.xlink,xlinkArcrole:t.xlink,xlinkHref:t.xlink,xlinkRole:t.xlink,xlinkShow:t.xlink,xlinkTitle:t.xlink,xlinkType:t.xlink,xmlBase:t.xml,xmlLang:t.xml,xmlSpace:t.xml},DOMAttributeNames:{}};Object.keys(i).forEach(function(e){n.Properties[e]=0,i[e]&&(n.DOMAttributeNames[e]=i[e])}),e.exports=n},function(e,t,i){"use strict";function s(e){if("selectionStart"in e&&c.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var i=document.selection.createRange();return{parentElement:i.parentElement(),text:i.text,top:i.boundingTop,left:i.boundingLeft}}}function o(e,t){if(b||null==y||y!==h())return null;var i=s(y);if(w&&f(w,i))return null;w=i;var n=u.getPooled(v.select,_,e,t);return n.type="select",n.target=y,r.accumulateTwoPhaseDispatches(n),n}var n=i(11),r=i(22),a=i(6),l=i(5),c=i(73),u=i(12),h=i(62),d=i(85),p=i(13),f=i(31),m=n.topLevelTypes,g=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,v={select:{phasedRegistrationNames:{bubbled:p({onSelect:null}),captured:p({onSelectCapture:null})},dependencies:[m.topBlur,m.topContextMenu,m.topFocus,m.topKeyDown,m.topMouseDown,m.topMouseUp,m.topSelectionChange]}},y=null,_=null,w=null,b=!1,x=!1,S=p({onSelect:null}),C={eventTypes:v,extractEvents:function(e,t,i,n){if(!x)return null;var s=t?l.getNodeFromInstance(t):window;switch(e){case m.topFocus:(d(s)||"true"===s.contentEditable)&&(y=s,_=t,w=null);break;case m.topBlur:w=_=y=null;break;case m.topMouseDown:b=!0;break;case m.topContextMenu:case m.topMouseUp:return b=!1,o(i,n);case m.topSelectionChange:if(g)break;case m.topKeyDown:case m.topKeyUp:return o(i,n)}return null},didPutListener:function(e,t){t===S&&(x=!0)}};e.exports=C},function(e,t,i){"use strict";function s(e){return"."+e._rootNodeID}var a=i(2),n=i(11),o=i(60),l=i(22),r=i(5),c=i(146),u=i(147),h=i(12),d=i(150),p=i(152),f=i(28),m=i(149),g=i(153),v=i(154),y=i(23),_=i(155),w=i(8),b=i(50),x=(i(1),i(13)),S=n.topLevelTypes,C={abort:{phasedRegistrationNames:{bubbled:x({onAbort:!0}),captured:x({onAbortCapture:!0})}},animationEnd:{phasedRegistrationNames:{bubbled:x({onAnimationEnd:!0}),captured:x({onAnimationEndCapture:!0})}},animationIteration:{phasedRegistrationNames:{bubbled:x({onAnimationIteration:!0}),captured:x({onAnimationIterationCapture:!0})}},animationStart:{phasedRegistrationNames:{bubbled:x({onAnimationStart:!0}),captured:x({onAnimationStartCapture:!0})}},blur:{phasedRegistrationNames:{bubbled:x({onBlur:!0}),captured:x({onBlurCapture:!0})}},canPlay:{phasedRegistrationNames:{bubbled:x({onCanPlay:!0}),captured:x({onCanPlayCapture:!0})}},canPlayThrough:{phasedRegistrationNames:{bubbled:x({onCanPlayThrough:!0}),captured:x({onCanPlayThroughCapture:!0})}},click:{phasedRegistrationNames:{bubbled:x({onClick:!0}),captured:x({onClickCapture:!0})}},contextMenu:{phasedRegistrationNames:{bubbled:x({onContextMenu:!0}),captured:x({onContextMenuCapture:!0})}},copy:{phasedRegistrationNames:{bubbled:x({onCopy:!0}),captured:x({onCopyCapture:!0})}},cut:{phasedRegistrationNames:{bubbled:x({onCut:!0}),captured:x({onCutCapture:!0})}},doubleClick:{phasedRegistrationNames:{bubbled:x({onDoubleClick:!0}),captured:x({onDoubleClickCapture:!0})}},drag:{phasedRegistrationNames:{bubbled:x({onDrag:!0}),captured:x({onDragCapture:!0})}},dragEnd:{phasedRegistrationNames:{bubbled:x({onDragEnd:!0}),captured:x({onDragEndCapture:!0})}},dragEnter:{phasedRegistrationNames:{bubbled:x({onDragEnter:!0}),captured:x({onDragEnterCapture:!0})}},dragExit:{phasedRegistrationNames:{bubbled:x({onDragExit:!0}),captured:x({onDragExitCapture:!0})}},dragLeave:{phasedRegistrationNames:{bubbled:x({onDragLeave:!0}),captured:x({onDragLeaveCapture:!0})}},dragOver:{phasedRegistrationNames:{bubbled:x({onDragOver:!0}),captured:x({onDragOverCapture:!0})}},dragStart:{phasedRegistrationNames:{bubbled:x({onDragStart:!0}),captured:x({onDragStartCapture:!0})}},drop:{phasedRegistrationNames:{bubbled:x({onDrop:!0}),captured:x({onDropCapture:!0})}},durationChange:{phasedRegistrationNames:{bubbled:x({onDurationChange:!0}),captured:x({onDurationChangeCapture:!0})}},emptied:{phasedRegistrationNames:{bubbled:x({onEmptied:!0}),captured:x({onEmptiedCapture:!0})}},encrypted:{phasedRegistrationNames:{bubbled:x({onEncrypted:!0}),captured:x({onEncryptedCapture:!0})}},ended:{phasedRegistrationNames:{bubbled:x({onEnded:!0}),captured:x({onEndedCapture:!0})}},error:{phasedRegistrationNames:{bubbled:x({onError:!0}),captured:x({onErrorCapture:!0})}},focus:{phasedRegistrationNames:{bubbled:x({onFocus:!0}),captured:x({onFocusCapture:!0})}},input:{phasedRegistrationNames:{bubbled:x({onInput:!0}),captured:x({onInputCapture:!0})}},invalid:{phasedRegistrationNames:{bubbled:x({onInvalid:!0}),captured:x({onInvalidCapture:!0})}},keyDown:{phasedRegistrationNames:{bubbled:x({onKeyDown:!0}),captured:x({onKeyDownCapture:!0})}},keyPress:{phasedRegistrationNames:{bubbled:x({onKeyPress:!0}),captured:x({onKeyPressCapture:!0})}},keyUp:{phasedRegistrationNames:{bubbled:x({onKeyUp:!0}),captured:x({onKeyUpCapture:!0})}},load:{phasedRegistrationNames:{bubbled:x({onLoad:!0}),captured:x({onLoadCapture:!0})}},loadedData:{phasedRegistrationNames:{bubbled:x({onLoadedData:!0}),captured:x({onLoadedDataCapture:!0})}},loadedMetadata:{phasedRegistrationNames:{bubbled:x({onLoadedMetadata:!0}),captured:x({onLoadedMetadataCapture:!0})}},loadStart:{phasedRegistrationNames:{bubbled:x({onLoadStart:!0}),captured:x({onLoadStartCapture:!0})}},mouseDown:{phasedRegistrationNames:{bubbled:x({onMouseDown:!0}),captured:x({onMouseDownCapture:!0})}},mouseMove:{phasedRegistrationNames:{bubbled:x({onMouseMove:!0}),captured:x({onMouseMoveCapture:!0})}},mouseOut:{phasedRegistrationNames:{bubbled:x({onMouseOut:!0}),captured:x({onMouseOutCapture:!0})}},mouseOver:{phasedRegistrationNames:{bubbled:x({onMouseOver:!0}),captured:x({onMouseOverCapture:!0})}},mouseUp:{phasedRegistrationNames:{bubbled:x({onMouseUp:!0}),captured:x({onMouseUpCapture:!0})}},paste:{phasedRegistrationNames:{bubbled:x({onPaste:!0}),captured:x({onPasteCapture:!0})}},pause:{phasedRegistrationNames:{bubbled:x({onPause:!0}),captured:x({onPauseCapture:!0})}},play:{phasedRegistrationNames:{bubbled:x({onPlay:!0}),captured:x({onPlayCapture:!0})}},playing:{phasedRegistrationNames:{bubbled:x({onPlaying:!0}),captured:x({onPlayingCapture:!0})}},progress:{phasedRegistrationNames:{bubbled:x({onProgress:!0}),captured:x({onProgressCapture:!0})}},rateChange:{phasedRegistrationNames:{bubbled:x({onRateChange:!0}),captured:x({onRateChangeCapture:!0})}},reset:{phasedRegistrationNames:{bubbled:x({onReset:!0}),captured:x({onResetCapture:!0})}},scroll:{phasedRegistrationNames:{bubbled:x({onScroll:!0}),captured:x({onScrollCapture:!0})}},seeked:{phasedRegistrationNames:{bubbled:x({onSeeked:!0}),captured:x({onSeekedCapture:!0})}},seeking:{phasedRegistrationNames:{bubbled:x({onSeeking:!0}),captured:x({onSeekingCapture:!0})}},stalled:{phasedRegistrationNames:{bubbled:x({onStalled:!0}),captured:x({onStalledCapture:!0})}},submit:{phasedRegistrationNames:{bubbled:x({onSubmit:!0}),captured:x({onSubmitCapture:!0})}},suspend:{phasedRegistrationNames:{bubbled:x({onSuspend:!0}),captured:x({onSuspendCapture:!0})}},timeUpdate:{phasedRegistrationNames:{bubbled:x({onTimeUpdate:!0}),captured:x({onTimeUpdateCapture:!0})}},touchCancel:{phasedRegistrationNames:{bubbled:x({onTouchCancel:!0}),captured:x({onTouchCancelCapture:!0})}},touchEnd:{phasedRegistrationNames:{bubbled:x({onTouchEnd:!0}),captured:x({onTouchEndCapture:!0})}},touchMove:{phasedRegistrationNames:{bubbled:x({onTouchMove:!0}),captured:x({onTouchMoveCapture:!0})}},touchStart:{phasedRegistrationNames:{bubbled:x({onTouchStart:!0}),captured:x({onTouchStartCapture:!0})}},transitionEnd:{phasedRegistrationNames:{bubbled:x({onTransitionEnd:!0}),captured:x({onTransitionEndCapture:!0})}},volumeChange:{phasedRegistrationNames:{bubbled:x({onVolumeChange:!0}),captured:x({onVolumeChangeCapture:!0})}},waiting:{phasedRegistrationNames:{bubbled:x({onWaiting:!0}),captured:x({onWaitingCapture:!0})}},wheel:{phasedRegistrationNames:{bubbled:x({onWheel:!0}),captured:x({onWheelCapture:!0})}}},E={topAbort:C.abort,topAnimationEnd:C.animationEnd,topAnimationIteration:C.animationIteration,topAnimationStart:C.animationStart,topBlur:C.blur,topCanPlay:C.canPlay,topCanPlayThrough:C.canPlayThrough,topClick:C.click,topContextMenu:C.contextMenu,topCopy:C.copy,topCut:C.cut,topDoubleClick:C.doubleClick,topDrag:C.drag,topDragEnd:C.dragEnd,topDragEnter:C.dragEnter,topDragExit:C.dragExit,topDragLeave:C.dragLeave,topDragOver:C.dragOver,topDragStart:C.dragStart,topDrop:C.drop,topDurationChange:C.durationChange,topEmptied:C.emptied,topEncrypted:C.encrypted,topEnded:C.ended,topError:C.error,topFocus:C.focus,topInput:C.input,topInvalid:C.invalid,topKeyDown:C.keyDown,topKeyPress:C.keyPress,topKeyUp:C.keyUp,topLoad:C.load,topLoadedData:C.loadedData,topLoadedMetadata:C.loadedMetadata,topLoadStart:C.loadStart,topMouseDown:C.mouseDown,topMouseMove:C.mouseMove,topMouseOut:C.mouseOut,topMouseOver:C.mouseOver,topMouseUp:C.mouseUp,topPaste:C.paste,topPause:C.pause,topPlay:C.play,topPlaying:C.playing,topProgress:C.progress,topRateChange:C.rateChange,topReset:C.reset,topScroll:C.scroll,topSeeked:C.seeked,topSeeking:C.seeking,topStalled:C.stalled,topSubmit:C.submit,topSuspend:C.suspend,topTimeUpdate:C.timeUpdate,topTouchCancel:C.touchCancel,topTouchEnd:C.touchEnd,topTouchMove:C.touchMove,topTouchStart:C.touchStart,topTransitionEnd:C.transitionEnd,topVolumeChange:C.volumeChange,topWaiting:C.waiting,topWheel:C.wheel};for(var T in E)E[T].dependencies=[T];var k=x({onClick:null}),R={},M={eventTypes:C,extractEvents:function(e,t,i,n){var s,o=E[e];if(!o)return null;switch(e){case S.topAbort:case S.topCanPlay:case S.topCanPlayThrough:case S.topDurationChange:case S.topEmptied:case S.topEncrypted:case S.topEnded:case S.topError:case S.topInput:case S.topInvalid:case S.topLoad:case S.topLoadedData:case S.topLoadedMetadata:case S.topLoadStart:case S.topPause:case S.topPlay:case S.topPlaying:case S.topProgress:
case S.topRateChange:case S.topReset:case S.topSeeked:case S.topSeeking:case S.topStalled:case S.topSubmit:case S.topSuspend:case S.topTimeUpdate:case S.topVolumeChange:case S.topWaiting:s=h;break;case S.topKeyPress:if(0===b(i))return null;case S.topKeyDown:case S.topKeyUp:s=p;break;case S.topBlur:case S.topFocus:s=d;break;case S.topClick:if(2===i.button)return null;case S.topContextMenu:case S.topDoubleClick:case S.topMouseDown:case S.topMouseMove:case S.topMouseOut:case S.topMouseOver:case S.topMouseUp:s=f;break;case S.topDrag:case S.topDragEnd:case S.topDragEnter:case S.topDragExit:case S.topDragLeave:case S.topDragOver:case S.topDragStart:case S.topDrop:s=m;break;case S.topTouchCancel:case S.topTouchEnd:case S.topTouchMove:case S.topTouchStart:s=g;break;case S.topAnimationEnd:case S.topAnimationIteration:case S.topAnimationStart:s=c;break;case S.topTransitionEnd:s=v;break;case S.topScroll:s=y;break;case S.topWheel:s=_;break;case S.topCopy:case S.topCut:case S.topPaste:s=u}s||a("86",e);var r=s.getPooled(o,t,i,n);return l.accumulateTwoPhaseDispatches(r),r},didPutListener:function(e,t){if(t===k){var i=s(e),n=r.getNodeFromInstance(e);R[i]||(R[i]=o.listen(n,"click",w))}},willDeleteListener:function(e,t){if(t===k){var i=s(e);R[i].remove(),delete R[i]}}};e.exports=M},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(12),o={animationName:null,elapsedTime:null,pseudoElement:null};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(12),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(12),o={data:null};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(28),o={dataTransfer:null};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(23),o={relatedTarget:null};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(12),o={data:null};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(23),o=i(50),r={key:i(160),location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:i(51),charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};s.augmentClass(n,r),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(23),o={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:i(51)};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(12),o={propertyName:null,elapsedTime:null,pseudoElement:null};s.augmentClass(n,o),e.exports=n},function(e,t,i){"use strict";function n(e,t,i,n){return s.call(this,e,t,i,n)}var s=i(28),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};s.augmentClass(n,o),e.exports=n},function(e){"use strict";function t(e){for(var t=1,i=0,n=0,s=e.length,o=-4&s;n<o;){for(var r=Math.min(n+4096,o);n<r;n+=4)i+=(t+=e.charCodeAt(n))+(t+=e.charCodeAt(n+1))+(t+=e.charCodeAt(n+2))+(t+=e.charCodeAt(n+3));t%=a,i%=a}for(;n<s;n++)i+=t+=e.charCodeAt(n);return(t%=a)|(i%=a)<<16}var a=65521;e.exports=t},function(i,e,n){(function(e){"use strict";function t(e,t,i,n){for(var s in e)if(e.hasOwnProperty(s)){var o;try{"function"!=typeof e[s]&&a("84",n||"React class",l[i],s),o=e[s](t,s,n,i,null,c)}catch(r){o=r}o instanceof Error&&!(o.message in u)&&(u[o.message]=!0)}}var a=n(2),l=n(45),c=n(47);n(1),n(3),void 0!==e&&e.env;var u={};i.exports=t}).call(e,n(32))},function(e,t,i){"use strict";function n(e,t){return null==t||"boolean"==typeof t||""===t?"":isNaN(t)||0===t||o.hasOwnProperty(e)&&o[e]?""+t:("string"==typeof t&&(t=t.trim()),t+"px")}var s=i(63),o=(i(3),s.isUnitlessNumber);e.exports=n},function(e,t,i){"use strict";function n(e){if(null==e)return null;if(1===e.nodeType)return e;var t=r.get(e);return t?(t=a(t))?o.getNodeFromInstance(t):null:void("function"==typeof e.render?s("44"):s("45",Object.keys(e)))}var s=i(2),o=(i(15),i(5)),r=i(20),a=i(82);i(1),i(3),e.exports=n},function(e,t,i){"use strict";function n(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"!==e.type)return"keydown"===e.type||"keyup"===e.type?r[e.keyCode]||"Unidentified":"";var i=s(e);return 13===i?"Enter":String.fromCharCode(i)}var s=i(50),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},r={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=n},function(e){"use strict";function o(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function t(e,t){for(var i=o(e),n=0,s=0;i;){if(3===i.nodeType){if(s=n+i.textContent.length,n<=t&&t<=s)return{node:i,offset:t-n};n=s}i=o(r(i))}}e.exports=t},function(e,t,i){"use strict";function n(e){return'"'+s(e)+'"'}var s=i(29);e.exports=n},function(e,t,i){"use strict";var n=i(74);e.exports=n.renderSubtreeIntoContainer},function(e,t,i){"use strict";e.exports=i(39)}]),function(n,c){var s="undefined"!=typeof c.jQuery&&c.jQuery;c.ReactRailsUJS={CLASS_NAME_ATTR:"data-react-class",PROPS_ATTR:"data-react-props",findDOMNodes:function(e){var t,i;switch(typeof e){case"undefined":t="["+c.ReactRailsUJS.CLASS_NAME_ATTR+"]",i=n;break;case"object":t="["+c.ReactRailsUJS.CLASS_NAME_ATTR+"]",i=e;break;case"string":t=e+"["+c.ReactRailsUJS.CLASS_NAME_ATTR+"], "+e+" ["+c.ReactRailsUJS.CLASS_NAME_ATTR+"]",i=n}return s?s(t,i):i.querySelectorAll(t)},getConstructor:function(e){var t;return(t=c[e])||(t=eval.call(c,e)),t&&t["default"]&&(t=t["default"]),t},mountComponents:function(e){for(var t=c.ReactRailsUJS.findDOMNodes(e),i=0;i<t.length;++i){var n=t[i],s=n.getAttribute(c.ReactRailsUJS.CLASS_NAME_ATTR),o=this.getConstructor(s),r=n.getAttribute(c.ReactRailsUJS.PROPS_ATTR),a=r&&JSON.parse(r);if(void 0===o){var l="Cannot find component: '"+s+"'";throw console&&console.log&&console.log("%c[react-rails] %c"+l+" for element","font-weight: bold","",n),new Error(l+". Make sure your component is globally available to render.")}ReactDOM.render(React.createElement(o,a),n)}},unmountComponents:function(e){for(var t=c.ReactRailsUJS.findDOMNodes(e),i=0;i<t.length;++i){var n=t[i];ReactDOM.unmountComponentAtNode(n)}}}}(document,window),function(e,t){t.ReactRailsUJS.Turbolinks={setup:function(){ReactRailsUJS.handleEvent("turbolinks:load",function(){t.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent("turbolinks:before-render",function(){t.ReactRailsUJS.unmountComponents()})}}}(document,window),function(e,t){t.ReactRailsUJS.TurbolinksClassic={setup:function(){ReactRailsUJS.handleEvent(Turbolinks.EVENTS.CHANGE,function(){t.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent(Turbolinks.EVENTS.BEFORE_UNLOAD,function(){t.ReactRailsUJS.unmountComponents()})}}}(document,window),function(e,t){t.ReactRailsUJS.TurbolinksClassicDeprecated={setup:function(){Turbolinks.pagesCached(0),ReactRailsUJS.handleEvent("page:change",function(){t.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent("page:receive",function(){t.ReactRailsUJS.unmountComponents()})}}}(document,window),function(e,t){t.ReactRailsUJS.pjax={setup:function(){ReactRailsUJS.handleEvent("ready",function(){t.ReactRailsUJS.mountComponents()}),ReactRailsUJS.handleEvent("pjax:end",function(e){t.ReactRailsUJS.mountComponents(e.target)}),ReactRailsUJS.handleEvent("pjax:beforeReplace",function(e){t.ReactRailsUJS.unmountComponents(e.target)})}}}(document,window),function(e,t){var i="undefined"!=typeof t.jQuery&&t.jQuery;t.ReactRailsUJS.Native={setup:function(){i?i(function(){t.ReactRailsUJS.mountComponents()}):"addEventListener"in t?e.addEventListener("DOMContentLoaded",function(){t.ReactRailsUJS.mountComponents()}):t.attachEvent("onload",function(){t.ReactRailsUJS.mountComponents()})}}}(document,window),function(i,e){var n="undefined"!=typeof e.jQuery&&e.jQuery;ReactRailsUJS.handleEvent=n?function(e,t){n(i).on(e,t)}:function(e,t){i.addEventListener(e,t)},"undefined"!=typeof Turbolinks&&Turbolinks.supported?"undefined"!=typeof Turbolinks.EVENTS?ReactRailsUJS.TurbolinksClassic.setup():"undefined"!=typeof Turbolinks.controller?ReactRailsUJS.Turbolinks.setup():ReactRailsUJS.TurbolinksClassicDeprecated.setup():n&&"function"==typeof n.pjax?ReactRailsUJS.pjax.setup():ReactRailsUJS.Native.setup()}(document,window),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).ReactGA=e()}}(function(){return function u(o,r,a){function l(i,e){if(!r[i]){if(!o[i]){var t="function"==typeof require&&require;if(!e&&t)return t(i,!0);if(c)return c(i,!0);var n=new Error("Cannot find module '"+i+"'");throw n.code="MODULE_NOT_FOUND",n}var s=r[i]={exports:{}};o[i][0].call(s.exports,function(e){var t=o[i][1][e];return l(t||e)},s,s.exports,u,o,r,a)}return r[i].exports}for(var c="function"==typeof require&&require,e=0;e<a.length;e++)l(a[e]);return l}({1:[function(e,t){"use strict";function a(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}var l=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable;t.exports=Object.assign||function(e){for(var t,i,n=a(e),s=1;s<arguments.length;s++){for(var o in t=Object(arguments[s]))l.call(t,o)&&(n[o]=t[o]);if(Object.getOwnPropertySymbols){i=Object.getOwnPropertySymbols(t);for(var r=0;r<i.length;r++)c.call(t,i[r])&&(n[i[r]]=t[i[r]])}}return n}},{}],2:[function(o,r){(function(e){var t="undefined"!=typeof window?window.React:void 0!==e?e.React:null,i=o("object-assign"),n="_blank",s=t.createClass({displayName:"OutboundLink",propTypes:{eventLabel:t.PropTypes.string.isRequired},statics:{trackLink:function(){console.warn("ga tracking not enabled")}},handleClick:function(e){e.preventDefault();var t=this.props,i={label:t.eventLabel};s.trackLink(i,function(){t.target===n?window.open(t.to,n):window.location.href=t.to}),t.onClick&&t.onClick(e)},render:function(){var e=i({},this.props,{href:this.props.to,onClick:this.handleClick});return delete e.eventLabel,t.createElement("a",e)}});r.exports=s}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":1}],3:[function(e,t){var i=e("./utils/format"),n=e("./utils/removeLeadingSlash"),s=e("./utils/trim"),c=e("./utils/console/warn"),r=e("./utils/console/log"),u=!1,h=!0,a=function(e){return i(e,h)},o={initialize:function(e,t){return e?(t&&(t.debug&&!0===t.debug&&(u=!0),!1===t.titleCase&&(h=!1)),i=window,n=document,s="script",o="https://www.google-analytics.com/analytics.js",r="ga",i.GoogleAnalyticsObject=r,i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date,a=n.createElement(s),l=n.getElementsByTagName(s)[0],a.async=1,a.src=o,l.parentNode.insertBefore(a,l),void(t&&t.gaOptions?ga("create",e,t.gaOptions):ga("create",e,"auto"))):void c("gaTrackingID is required in initialize()");var i,n,s,o,r,a,l},ga:function(){return 0<arguments.length?(ga.apply(this,arguments),void(u&&(r("called ga('arguments');"),r("with arguments: "+JSON.stringify([].slice.apply(arguments)))))):ga},set:function(e){if("function"==typeof ga){if(!e)return void c("`fieldsObject` is required in .set()");if("object"!=typeof e)return void c("Expected `fieldsObject` arg to be an Object");0===Object.keys(e).length&&c("empty `fieldsObject` given to .set()"),ga("set",e),u&&(r("called ga('set', fieldsObject);"),r("with fieldsObject: "+JSON.stringify(e)))}},send:function(e){"function"==typeof ga&&(ga("send",e),u&&(r("called ga('send', fieldObject);"),r("with fieldObject: "+JSON.stringify(e))))},pageview:function(e){return e?""===(e=s(e))?void c("path cannot be an empty string in .pageview()"):void("function"==typeof ga&&(ga("send","pageview",e),u&&(r("called ga('send', 'pageview', path);"),r("with path: "+e)))):void c("path is required in .pageview()")},modalview:function(e){if(e)if(e=s(e),""!==(e=n(e))){if("function"==typeof ga){var t="/modal/"+(e=s(e));ga("send","pageview",t),u&&(r("called ga('send', 'pageview', path);"),r("with path: "+t))}}else c("modalName cannot be an empty string or a single / in .modalview()");else c("modalName is required in .modalview(modalName)")},timing:function(e){if("function"==typeof ga){if(!(e&&e.category&&e.variable&&e.value&&"number"==typeof e.value))return void c("args.category, args.variable AND args.value are required in timing() AND args.value has to be a number");var t={hitType:"timing",timingCategory:a(e.category),timingVar:a(e.variable),timingValue:e.value};e.label&&(t.timingLabel=a(e.label)),this.send(t)}},event:function(e){if("function"==typeof ga){if(!e||!e.category||!e.action)return void c("args.category AND args.action are required in event()");var t={hitType:"event",eventCategory:a(e.category),eventAction:a(e.action)};e.label&&(t.eventLabel=a(e.label)),e.value&&("number"!=typeof e.value?c("Expected `args.value` arg to be a Number."):t.eventValue=e.value),e.nonInteraction&&("boolean"!=typeof e.nonInteraction?c("`args.nonInteraction` must be a boolean."):t.nonInteraction=e.nonInteraction),e.transport&&("string"!=typeof e.transport?c("`args.transport` must be a string."):(-1===["beacon","xhr","image"].indexOf(e.transport)&&c("`args.transport` must be either one of these values: `beacon`, `xhr` or `image`"),t.transport=e.transport)),this.send(t)}},exception:function(e){if("function"==typeof ga){var t={hitType:"exception"};e.description&&(t.exDescription=a(e.description)),"undefined"!=typeof e.fatal&&("boolean"!=typeof e.fatal?c("`args.fatal` must be a boolean."):t.exFatal=e.fatal),this.send(t)}},plugin:{require:function(e,t){return"function"==typeof ga?e?""===(e=s(e))?void c("`name` cannot be an empty string in .require()"):t?"object"!=typeof t?void c("Expected `options` arg to be an Object"):(0===Object.keys(t).length&&c("Empty `options` given to .require()"),ga("require",e,t),void(u&&r("called ga('require', '"+e+"', "+JSON.stringify(t)+");"))):(ga("require",e),void(u&&r("called ga('require', '"+e+"');"))):void c("`name` is required in .require()"):void 0},execute:function(){var e,t,i=Array.prototype.slice.call(arguments),n=i[0],s=i[1];if(3===i.length?e=i[2]:(t=i[2],e=i[3]),"function"==typeof ga)if("string"!=typeof n)c("Expected `pluginName` arg to be a String.");else if("string"!=typeof s)c("Expected `action` arg to be a String.");else{var o=n+":"+s;e=e||null,t&&e?(ga(o,t,e),u&&(r("called ga('"+o+"');"),r('actionType: "'+t+'" with payload: '+JSON.stringify(e)))):e?(ga(o,e),u&&(r("called ga('"+o+"');"),r("with payload: "+JSON.stringify(e)))):(ga(o),u&&r("called ga('"+o+"');"))}}},outboundLink:function(e,t){if("function"==typeof t)if("function"==typeof ga){if(!e||!e.label)return void c("args.label is required in outboundLink()");var i={hitType:"event",eventCategory:"Outbound",eventAction:"Click",eventLabel:a(e.label)},n=!1,s=setTimeout(function(){n=!0,t()},250),o=function(){clearTimeout(s),n||t()};i.hitCallback=o,this.send(i)}else setTimeout(t,0);else c("hitCallback function is required")}},l=e("./components/OutboundLink");l.origTrackLink=l.trackLink,l.trackLink=o.outboundLink.bind(o),o.OutboundLink=l,t.exports=o},{"./components/OutboundLink":2,"./utils/console/log":4,"./utils/console/warn":5,"./utils/format":6,"./utils/removeLeadingSlash":8,"./utils/trim":10}],4:[function(e,t){function i(e){console.info("[react-ga]",e)}t.exports=i},{}],5:[function(e,t){function i(e){console.warn("[react-ga]",e)}t.exports=i},{}],6:[function(e,t){function i(e,t){return n(e)?(o("This arg looks like an email address, redacting."),r):t?s(e):e}var n=e("./mightBeEmail"),s=e("./toTitleCase"),o=e("./console/warn"),r="REDACTED (Potential Email Address)";t.exports=i},{"./console/warn":5,"./mightBeEmail":7,"./toTitleCase":9}],7:[function(e,t){function i(e){return/[^@]+@[^@]+/.test(e)}t.exports=i},{}],8:[function(e,t){function i(e){return"/"===e.substring(0,1)&&(e=e.substring(1)),e}t.exports=i},{}],9:[function(e,t){function i(e){var n=/^(a|an|and|as|at|but|by|en|for|if|in|nor|of|on|or|per|the|to|vs?\.?|via)$/i;return(e=s(e)).replace(/[A-Za-z0-9\u00C0-\u00FF]+[^\s-]*/g,function(e,t,i){return 0<t&&t+e.length!==i.length&&-1<e.search(n)&&":"!==i.charAt(t-2)&&("-"!==i.charAt(t+e.length)||"-"===i.charAt(t-1))&&i.charAt(t-1).search(/[^\s-]/)<0?e.toLowerCase():-1<e.substr(1).search(/[A-Z]|\../)?e:e.charAt(0).toUpperCase()+e.substr(1)})}var s=e("./trim");t.exports=i},{"./trim":10}],10:[function(e,t){function i(e){return e.replace(/^\s+|\s+$/g,"")}t.exports=i},{}]},{},[3])(3)});var react_utils={humanize:function(e){return e.toString().toLowerCase().replace(/[_-]/g," ").replace(/(?:^|\s)\S/g,function(e){return e.toUpperCase()})}};Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e,t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i,n=Object(this),s=n.length>>>0,o=t,r=0;r<s;r++)if(i=n[r],e.call(o,i,r,n))return i;return undefined}}),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e,t){"use strict";if(null==this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i,n=Object(this),s=n.length>>>0,o=t,r=0;r<s;r++)if(i=n[r],e.call(o,i,r,n))return r;return-1},enumerable:!1,configurable:!1,writable:!1});var DateFilter=React.createClass({displayName:"DateFilter",initListeners:function(){var t=this.props.datepicker_class,i=this;$("input."+t).datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,showOn:"button",buttonImage:"/assets/calendar_icon.png",buttonImageOnly:!1,buttonText:"calendar",beforeShow:function(e){return $("#ui-datepicker-div").wrap("<div class='datepicker_mask'></div>"),i.attachClickOutsideCloser(),i.onBeforeDatepickerShow(t,e)},onChangeMonthYear:function(e,t,i){setTimeout(function(){var e=$(i).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:function(){$.datepicker._clearDate(i.input)}}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1)},onClose:function(e,t){$("#ui-datepicker-div").unwrap(),""==this.value?this.setAttribute("placeholder",i.props.placeholder):this.setAttribute("placeholder",""),i.props.closeDatePicker&&i.props.closeDatePicker(e,t,this)}})},updateMinMaxValue:function(e){return console.log(e,this.props.min_date,this.props.max_date),{minDate:this.props.min_date,maxDate:this.props.max_date}},onBeforeDatepickerShow:function(e,t){var i=this;return this.props.clear&&setTimeout(function(){var e=$(t).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:i.props.clear}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1),this.updateMinMaxValue(e)},attachClickOutsideCloser:function(){if(this.props.onBlur){var i=this;$(document).off("**").on("click touchstart",function(e){var t=$(e.target);t.hasClass("hasDatepicker")||t.hasClass("ui-datepicker")||t.hasClass("ui-icon")||t.hasClass("ui-datepicker-current")||t.hasClass("ui-datepicker-next")||t.hasClass("ui-datepicker-prev")||$(t).parents(".ui-datepicker").length||($(".hasDatepicker").datepicker("hide"),i.props.onBlur())})}},componentDidMount:function(){this.initListeners(),this.disableKeyboard(mb_utils.mobileAndTabletCheck())},disableKeyboard:function(e){e&&$(".calendar_input_binder input").attr("readonly",!0)},render:function(){return React.createElement("div",{className:"date_option_wrapper"},React.createElement("div",{className:"calendar_input_binder"},React.createElement("label",{className:"preposition"},this.props.preposition),React.createElement("label",{className:"preposition_small"},this.props.preposition_small),React.createElement("input",{className:this.props.datepicker_class,name:this.props.input_name,type:"text",placeholder:""==this.props.date_value?this.props.placeholder:"",value:this.props.date_value,onChange:this.props.changeValue,onKeyPress:this.props.onKeyPress})))}}),BrowseHappier=React.createClass({displayName:"BrowseHappier",getIEVersion:function(){var e=navigator.userAgent,t=/MSIE\s?(\d+)(?:\.(\d+))?/i,i=e.match(t);return null!=i?{major:i[1],minor:i[2]}:0<e.indexOf("Trident/")?{major:11,minor:0}:0<e.indexOf("Edge/")?{major:12,minor:0}:{major:"-1",minor:"-1"}},shouldBH:function(e){return!(!this.props.lt||!this.props.gt)&&(e.major<this.props.lt&&e.major>this.props.gt)},render:function(){var e=this.getIEVersion();return this.shouldBH(e)?React.createElement("p",{className:"browsehappy"},"You are using an ",React.createElement("strong",null,"outdated")," browser. Please ",React.createElement("a",{href:"http://browsehappy.com/"},"upgrade your browser")," to improve your experience."):null}}),CheckboxList=React.createClass({displayName:"CheckboxList",getInitialState:function(){return{truncation:this.props.more_less,items:this.props.items}},componentWillReceiveProps:function(e){e.items!==this.state.items&&this.setState({items:e.items})},makeId:function(e){var t=this.props.delimiter?this.props.delimiter:"-";return this.props.form_section+t+e.toLowerCase().replace(/\W/g,t)},formatText:function(e){return"sentence"==this.props.text_format?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"none"==this.props.text_format?e:this.titleize(e)},blurOnEnter:function(e){13===e.keyCode&&(e.preventDefault(),$(e.target).blur())},titleize:function(e){var t=e.split(/[\W^-]/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")},changeTruncation:function(e){(e&&e.preventDefault(),!this.state.truncation&&20<this.state.items.length)&&document.getElementById("form_section_"+this.props.form_section).scrollIntoView(!0);this.setState({truncation:!this.state.truncation})},filterCheckboxes:function(e){var t=e.target.value;if(""==t)this.setState({items:this.props.items});else{var i=new RegExp(t,"i"),n=this.props.items.filter(function(e){return"string"!=typeof e.value?i.test(e.label):i.test(e.value)});this.setState({items:n})}},getShowAll:function(){return this.props.show_all?React.createElement("li",null,React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:0==this.props.checked_items.length,name:"show_all",value:"",onChange:this.clearItems}),React.createElement("span",{className:"label_text"},"Show all"))):null},clearItems:function(){this.props.clear_items(this.props.form_section)},whenClicked:function(e){this.props.when_clicked&&this.props.when_clicked(e)},isChecked:function(e){return-1<this.props.checked_items.indexOf(e)},render:function(){var n=this,e=this.props.form_section;e+=this.state.truncation?" truncated":" expanded";var s=n.props.show_min?n.props.show_min:7;return React.createElement("fieldset",{className:e+" facet_section",id:"form_section_"+n.props.form_section},n.props.filterable?React.createElement("input",{className:"search_field wide filter_"+n.props.form_section,onChange:n.filterCheckboxes,type:"text",placeholder:this.props.placeholder?this.props.placeholder:"filter targets",onKeyUp:this.blurOnEnter}):"",React.createElement("ul",null,this.getShowAll(),n.state.items.map(function(e,t){var i=e.label.split(/[\(\)]/);return React.createElement("li",{className:"facetitem "+(s<=t?"truncatable ":"")+n.props.checkbox_class,key:n.makeId(e.label),id:n.makeId(e.label)},React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:n.isChecked(e.value),name:n.makeId(e.label),value:e.value,onChange:n.whenClicked}),React.createElement("span",{className:"label_text"},React.createElement("span",null,n.formatText(i[0])),e.targetCount&&n.props.show_count?React.createElement("span",{className:"facetitemcount target_count"},"\t("+(n.props.formatNumber?n.props.formatNumber(e.targetCount):e.targetCount)+")"):""),1<i.length?React.createElement("div",{className:"has_tooltip",title:n.titleize(i[1])}):""))})),this.props.more_less&&this.state.items.length>(this.props.show_min?this.props.show_min:7)?React.createElement("a",{href:"#more-options",className:"truncation_toggle",onClick:n.changeTruncation}):"")}}),EventListItem=React.createClass({displayName:"EventListItem",dateRange:function(e,t){var i=["January","February","March","April","May","June","July","August","September","October","November","December"];e=new Date(Date.parse(e)),t=new Date(Date.parse(t));return(e=i[e.getUTCMonth()]+" "+e.getUTCDate()+", "+e.getUTCFullYear())==(t=i[t.getUTCMonth()]+" "+t.getUTCDate()+", "+t.getUTCFullYear())?e:e+" - "+t},render:function(){var e=this.props.item;return React.createElement("div",{className:"list_content"},React.createElement("div",{className:"list_text"},React.createElement("div",{className:"date"},this.dateRange(e.start_date,e.end_date)),React.createElement("h3",{className:"list_title"},React.createElement("a",{href:e.link,target:"_self"},e.title)),React.createElement("a",{className:"list_link",href:e.link,target:"_self"},"\u203a\u203a view details")))}}),FacetedSearch=React.createClass({displayName:"FacetedSearch",filters:null,facets:null,getInitialState:function(){if(this.props.filters){this.filters=JSON.parse(this.props.filters);var r=this.filters.filter(function(e){return""!=e[2][1]}).map(function(e){return{name:e[0],value:e[2][1]}})}else r=[];this.filters&&this.filters.map(function(t){if(console.log("checking param",t[0]),/^field/.test(t[0])){var i=t[0].match(/^field_(.+)/)[1],e=location.search.substr(1).split("&").filter(function(e){return new RegExp(i).test(e)});if(0<e.length)var n=e[0].match("condition_\\d+=(.+)(%3A|:)"+i),s=n?n[1]:null;else s=null}else s=mb_utils.getParam(t[0]);if(s&&""!=s){console.log("found param",s);var o=!1;r.map(function(e){e.name==t[0]&&(o=!0,e.value=Array.isArray(s)?s[0]:s)}),o||r.push({name:t[0],value:Array.isArray(s)?s[0]:s})}});var e=mb_utils.getParam("per_page"),t=mb_utils.getParam("page"),i=mb_utils.getParam("search");this.facets={};var n,s,o,a,l={};mb_utils.getParam("fs")||mb_utils.getParam("ft")||mb_utils.getParam("fc")?(n=mb_utils.getParam("fs"),s=mb_utils.getParam("ft"),o=mb_utils.getParam("fc"),a=!0):mb_utils.getParam("tags")||mb_utils.getParam("facet_categories")?(n=mb_utils.getParam("facet_search"),s=mb_utils.getParam("tags"),o=mb_utils.getParam("facet_categories"),a=!0):(n=mb_utils.getParam("facet_search"),s=mb_utils.getParam("facet_tags%5B%5D"),o=this._getFacetCategoriesParam(),a=!1),l=this._populateFacets(n,s,o,a);var c={},u={};this.datepickers={};var h=mb_utils.getParam("dp");h&&(c=this._populateDatepickers(h),u=$.extend(!0,{},c));var d=this.getSortOptions(),p=this.getOrder(d),f=this.getOptions(),m=f.default_view?f.default_view:"grid_view";return{filtering:r,searching:i?i[0]:"",active_search:i?i[0]:"",filters_opened:null,filters_hidden:null,grid_list_view:m,total:0,start_index:0,end_index:0,first_load:!0,page:t?parseInt(t[0]):0,per_page:e?parseInt(e[0]):50,order:p,page_count:0,sort_options:d,active_facets:l,active_datepickers:c,datepicker_values:u,items:[],loading:!1,current_request:null}},_getFacetCategoriesParam:function(){for(var e=[],t=0;t<this.props.facet_sections.length;t++){var i=mb_utils.getParam("facet_categories%5B"+t+"%5D%5B%5D");i&&e.push(i[0])}return e},_populateFacets:function(o,r,a,e){var l={},c=this;if(!e){if(r&&1<r.length){var t=r.filter(function(e){return""!=e});r=0<t.length?[t.join(",")]:null}if(a&&1<a.length){var i=a.filter(function(e){return""!=e});a=0<i.length?[i.join(",")]:null}}return $.each(this.props.facet_sections,function(e,i){if(c.facets[i.name]=[],l[i.name]=[],i.search_field&&o&&""!=o[0]){var t=o[0].match(/\.\*\((.+)\)\.\*/)[1].split("|");$.each(t,function(e,t){t=t.replace(/\+/g," "),i.checkboxes.some(function(e){return e.value==t})&&l[i.name].push(t)})}else if(i.tags&&r&&0<r.length&&""!=r[0]){var n=r[0].split(/[,:]/g);$.each(n,function(e,t){t=t.replace(/\+/g," "),i.checkboxes.some(function(e){return e.value==t})&&l[i.name].push(t)})}else if(a&&0<a.length&&""!=a[0]){var s=a[0].split(",");$.each(s,function(e,t){i.checkboxes.some(function(e){return e.value==parseInt(t)})&&l[i.name].push(parseInt(t))})}else console.log("No params found for facet section '"+i.name+"'")}),l},_populateDatepickers:function(e){var s={},o=this.props.facet_sections.filter(function(e){return"undefined"!=typeof e.datepicker}),t=e[0].split(",").filter(function(e){return""!=e});return $.each(t,function(e,t){var i=t.match(/^([^_]+)_/)[1],n=t.match(/_([^_]+)$/)[1];o.some(function(e){return e.name==i})&&(s[i]=n)}),s},componentWillMount:function(){this.getData(null,0<this.state.page)},componentDidMount:function(){var e=this;$("body").on("show_list_view",function(){e.setState({grid_list_view:"list_view"})}),$("body").on("show_grid_view",function(){e.setState({grid_list_view:"grid_view"})})},componentDidUpdate:function(e){this.props.facet_sections!==e.facet_sections&&(console.log("updating with new props"),this.getData())},getData:function(i,e){this.state.loading&&this.state.current_request.abort();var n=this,t=this.getParams(e),s=$.ajax({url:"/api/v1/"+n.props.model+"/",data:t,method:"GET",dataType:"json",success:function(e){console.log("Got items successfully.... ");var t=$.extend(e,{first_load:!1,active_search:n.state.searching,loading:!1});n.setState(t),this.updateIndices(),"function"==typeof i&&i.call()}.bind(this),error:function(e,t,i){"abort"==t?n.setState({loading:!1,current_request:null}):console.error(t,i.toString())}.bind(this)});this.setState({current_request:s,loading:!0})},getParams:function(e){var t=e?this.state.page:0,n={order:this.state.order,per_page:this.state.per_page,page:t,search:this.state.searching};$.extend(n,this.getFilters()),$.extend(n,this.getFacets());var i=n.fs,s="";$.each(i,function(e,t){0<s.length&&(s+="+"),s+=".*("+t+").*:"+e+":regex"}),n.fs=s;var o="";$.each(n.datepickers,function(e,t){n["condition_"+t.idx]=t.value+":"+t.field+":"+t.condition;var i=t.name+"_"+t.value;o+=0<o.length?","+i:i}),n.dp=o,delete n.datepickers,n.category=this.getCategoryParam(n);var r=n.ft?n.ft.filter(function(e){return""!=e}).join(":"):null;n.ft=r;var a=n.fc.map(function(e){return e.filter(function(e){return""!=e}).join(",")}).filter(function(e){return""!=e}).join(",");n.fc=a,mb_utils.createCookie("faceted_search_filter",$.param(n),365),window.history.replaceState(n,null,"?"+$.param(n)),delete n.ft,delete n.fs,delete n.fc,delete n.dp,delete n.filter_categories,n.tags?n.tags+=r?":"+r:"":n.tags=r;var l=n.search||"";return s&&(n.search+=0<l.length?"+"+s:s),n},updateIndices:function(){var e=this.state.page*this.state.per_page,t=Math.min(this.state.total,e+this.state.per_page),i=Math.ceil(this.state.total/this.state.per_page);this.setState({start_index:e,end_index:t,page_count:i})},getOptions:function(){var e=this.props.options;return void 0!==e&&null!=e?e:{}},getCategoryParam:function(e){var t="",i=e.filter_categories.join(":"),n=e.fc.map(function(e){return e.filter(function(e){return""!=e}).join(",")}).filter(function(e){return""!=e}).join(":");return 0<i.length&&0<n.length?t=i+":"+n:0==i.length&&0<n.length?t=n:0==n.length&&0<i.length&&(t=i),t},getFilters:function(){var s=this,e=this.state.filtering,o={},r=[];this.getOptions().must_cat&&r.push(this.getOptions().must_cat.split(","));var a=s.props.conditions?s.props.conditions.length+1:1;return $.each(e,function(e,t){if(console.log("param "+t.name+": "+t.value),""!=t.value)if("date"==t.name)if("publications"==s.props.model
)o["condition_"+a]=t.value+":publication_year",a+=1;else if("events"==s.props.model)if("upcoming"==t.value){var i=new Date;o["condition_"+a]=i.getFullYear().toString()+"-"+(i.getMonth()+1).toString()+"-"+i.getDate().toString()+":start_date:gte",a+=1}else o.year=t.value+":start_date";else o.year=t.value+":publish_date";else if("scope"==t.name&&"featured"==t.value.toLowerCase())o["condition_"+a]="1:featured",a+=1;else if("scope"==t.name&&"all"==t.value.toLowerCase());else if(/^field/.test(t.name)){var n=t.name.match(/^field_(.+)/)[1];o["condition_"+a]=t.value+":"+n,a+=1}else r.push(t.value)}),o.filter_categories=r,o},changeOrder:function(e){this.setState({order:e},this.getData)},changePageNumber:function(e,t,i){if(console.log("faceted_search.changePageNumber page, maintain_scroll_position",e,i),e.toString()!=e)console.log("changePageNumber: page is NaN"),this.setState({page:e});else{var n=e-1;if(console.log("page",e,n),this.setState({page:n},function(){this.getData(t,!0)}),!i)if((document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)>$(".faceted_search").offset().top){var s=mb_utils.getIEVersion();0<s.major&&s.major<12?document.documentElement.scrollTop=$(".faceted_search").offset().top:window.scrollTo(0,$(".faceted_search").offset().top)}}},changePerPage:function(e){this.setState({per_page:e},this.getData)},activeFilters:function(){var n=this,s=[];return""!=this.state.active_search&&s.push({id:"search",text:"Searching: "+this.state.active_search}),$.each(this.state.filtering,function(e,t){var i=n.getFilterName(t.name,t.value);i&&s.push({id:"filter_"+t.name,text:i})}),$.each(this.state.active_facets,function(e,t){var i=n.getActiveFacetsArray(e,t);s=s.concat(i)}),$.each(this.state.active_datepickers,function(e,t){s.push({id:"datepicker_"+e,text:e+": "+t})}),s},getFilterName:function(t,i){var e=this.filters.filter(function(e){return e[0]==t})[0];if(e)var n=e[1].filter(function(e){return e[1].toString()==i})[0];if(n){var s=t.replace("field_","").replace("_"," ");return titleize(singularize(s))+": "+n[0]}return""},getActiveFacetsArray:function(t,i){var n=this.props.facet_sections.filter(function(e){return e.name==t})[0];if(n&&n.checkboxes)var e=n.checkboxes.filter(function(e){return-1<i.indexOf(e.value)}).map(function(e){return{id:"facet_"+n.name+"_"+e.value,text:titleize(t)+": "+e.label}});return e&&0<e.length?e:[]},applyFilters:function(e){e.preventDefault(),e.stopPropagation();var t,i,n=this.state.filtering;$(e.currentTarget).is("a")?(t=$(e.currentTarget).data("for-select"),i=$(e.currentTarget).data("select-val")):(t=e.target.name,i=e.target.value);var s=n.findIndex(function(e){return e.name==t});-1==s?n.push({name:t,value:i}):n[s].value=i,console.log("FORM PARAMS: ",n),this.setState({filtering:n},function(){console.log("FILTERING: ",this.state.filtering),this.getData(!1)})},removeFilter:function(e){var t=e.target.getAttribute("data-filter-id");if(t){var i=t.match(/^([^_]+)_/);switch(i?i[1]:t){case"search":this.setState({searching:""},this.getData);break;case"filter":for(var n=this.state.filtering.slice(),s=0;s<n.length;s++)if(n[s].name==t.match(/filter_(.+)$/)[1]){n.splice(s,1);break}this.setState({filtering:n},this.getData);break;case"facet":var o=$.extend(!0,{},this.state.active_facets),r=t.match(/facet_([^_]+)_.+$/)[1],a=o[r];for(s=0;s<a.length;s++)if(a[s].toString()==t.match(/facet_[^_]+_(.+)$/)[1]){a.splice(s,1);break}o[r]=a,this.setState({active_facets:o},this.getData);break;case"datepicker":var l=$.extend(!0,{},this.state.active_datepickers);delete l[t.match(/datepicker_([^_]+)$/)[1]],this.setState({active_datepickers:l,datepicker_values:l},this.getData)}}},applySearch:function(e,t){this.setState({searching:e.target.value},function(){t&&t.call()})},clearFilters:function(){this.setState({active_facets:$.extend(!0,{},this.facets),active_datepickers:$.extend(!0,{},this.datepickers),datepicker_values:{},filtering:[],searching:""},this.getData)},clearSearch:function(){this.setState({searching:""},function(){this.getData(!1)})},setSearch:function(){this.setState({},this.getData(!1))},getFacets:function(){var r=this,e={},a=[],l=[],c={},u=[];return $.each(this.props.facet_sections,function(e,i){if(i.datepicker){var t=r.state.active_datepickers[i.name];t&&u.push({name:i.name,idx:50+e,field:i.datepicker.field,condition:i.datepicker.condition,value:t})}else n=r.state.active_facets[i.name],s=[],o="",$.each(n,function(e,t){i.search_field?c[i.search_field]?c[i.search_field]+="|"+t:c[i.search_field]=t.toString():i.tags?o+=0<o.length?","+t:t:s.push(t)}),l.push(o),a.push(s);var n,s,o}),e.fs=c,e.fc=a,e.ft=l,e.datepickers=u,e},getFacetCounts:function(){var e=this;if(!this.props.facet_sections)return[];var n,t,i=(t=(n=e).props.facet_sections.slice(),$.each(t,function(e,i){!n.state.first_load&&i.show_count&&$.each(i.checkboxes,function(e,t){t.targetCount=n.getCountForFacetSection(i,t)})}),{v:t});return"object"==typeof i?i.v:void 0},getCountForFacetSection:function(t,e){var i=this;if(!t.search_field)return null;var n,s,o=(n=i.state.items,s=new RegExp(e.value,"i"),{v:n.filter(function(e){return s.test(e[t.search_field])}).length});return"object"==typeof o?o.v:void 0},formatNumber:function(e){if(e.toString()!=e)return"";for(var t=e.toString(),i="",n=0;n<t.length;n++)(t.length-n)%3==0&&0<n&&(i+=","),i+=t.charAt(n);return i},clearItems:function(e){var t=$.extend(this.state.active_facets,{});t[e]=[],this.setState({active_facets:t},this.getData)},onCheckBoxChange:function(e){var t=e.target,i=t.name.split("_")[0],n=/^\d+$/g.test(t.value)?parseInt(t.value):t.value;this.addRemoveCheckboxItemFromActiveFacets(i,n,t.checked)},addRemoveCheckboxItemFromActiveFacets:function(e,t){var i=$.extend(this.state.active_facets,{}),n=i[e].indexOf(t);-1<n?i[e].splice(n,1):i[e].push(t),this.setState({active_facets:i},this.getData)},updateActiveDatepickers:function(){this.setState({active_datepickers:this.state.datepicker_values},this.getData)},clearDatepicker:function(e){console.log("clearDatepicker"),this.changeDatepickerValue(e,null,this.updateActiveDatepickers)},changeDatepickerValue:function(e,t,i){var n=arguments.length<=2||i===undefined?null:i;console.log("changeDatepickerValue");var s=$.extend(this.state.datepicker_values,{});t?s[e]=t:delete s[e],this.setState({datepicker_values:s},function(){"function"==typeof n&&n.call()})},datePickerClose:function(e,t,i){if(""!=e){console.log(e,t,i);var n=$.extend(this.state.datepicker_values,{});n[t.input.context.name]=e,this.setState({datepicker_values:n},this.updateActiveDatepickers())}},changeDatepickerOnEnter:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&(console.log("changeOnEnter: enter pressed in date field"),this.updateActiveDatepickers())},openMobileFilters:function(){this.setState({filters_opened:!0}),this.setState({filters_hidden:!1})},closeMobileFilters:function(){this.setState({filters_opened:!1}),this.setState({filters_hidden:!0})},toggleSection:function(e){$(e.target).parents(".form_section").toggleClass("open")},scrollToTop:function(){},renderFilters:function(){var e=this.getOptions();return this.filters||this.props.search?React.createElement(FilterBar,{select_boxes:this.filters,search:this.props.search,placeholder:e.placeholder,changeFilters:this.applyFilters,clearSearch:this.clearSearch,changeSearch:this.setSearch,filtering:this.state.filtering,searching:this.state.searching,searchFn:this.applySearch}):null},renderHeader:function(){var e=this.getOptions();return React.createElement("header",{className:"gallery_header",id:"page_header"},React.createElement("h2",{className:"article_title"},this.props.title),this.renderFilters(),e.view_toggle?React.createElement(ViewToggle,null):"")},renderFacetsColumn:function(){var r=this,e=this.props.facet_sections;return React.createElement("div",{id:"secondary_column",className:this.state.filters_opened?"open":""},React.createElement("aside",{className:"boxed facets_sidebar"},React.createElement("header",null,React.createElement("h2",null,"Filters"),React.createElement("div",{className:"mobile_filter_controls"},React.createElement("a",{className:"clear_filter",href:"javascript:void(0)","data-submit-form":"true",onClick:r.clearFilters},"Clear all"),React.createElement("a",{className:"button done",href:"javascript:void(0)",onClick:r.closeMobileFilters},"Done"))),e.map(function(t,e){if(t.datepicker){var i=t.datepicker.min_date?t.datepicker.min_date:null,n=t.datepicker.max_date?t.datepicker.max_date:null;if(i&&/datepicker/.test(i)){var s=i.match(/datepicker_(.+)/)[1];i=r.state.active_datepickers[s]}if(n&&/datepicker/.test(n)){var o=n.match(/datepicker_(.+)/)[1];n=r.state.active_datepickers[o]}return React.createElement("div",{className:"datepicker_section",key:e},React.createElement(DateFilter,{clear:function(){r.clearDatepicker(t.name)},min_date:i,max_date:n,closeDatePicker:r.datePickerClose,placeholder:t.placeholder?t.placeholder:"yyyy-mm-dd",preposition:t.name,preposition_small:t.name,datepicker_class:t.datepicker.datepicker_class?t.datepicker.datepicker_class:"fs_datepicker",input_name:t.name,date_value:r.state.datepicker_values[t.name]?r.state.datepicker_values[t.name]:"",changeValue:function(e){r.changeDatepickerValue(t.name,e.target.value)},onKeyPress:r.changeDatepickerOnEnter}))}return React.createElement("div",{className:"form_section",id:t.id,key:e},React.createElement("hr",null),React.createElement("div",{className:"form_section_header",onClick:r.toggleSection},React.createElement("h4",null,t.name),React.createElement("div",{className:"expand_section"},React.createElement("div",{className:"arrow_down"}))),React.createElement(CheckboxList,{items:t.checkboxes,checked_items:r.state.active_facets[t.name]?r.state.active_facets[t.name]:[],when_clicked:r.onCheckBoxChange,show_count:t.show_count,show_min:t.show_min,filterable:t.filterable,placeholder:t.placeholder,formatNumber:r.formatNumber,more_less:t.more_less,form_section:t.name,show_all:t.show_all,clear_items:r.clearItems,text_format:"none",delimiter:"_"}))})))},renderItemList:function(){var e=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.",t=this,i=window[t.props.list_item+"ListItem"];return 0<this.state.items.length?React.createElement("ul",{className:"item_list"},t.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide"},React.createElement(i,{item:e,options:t.getOptions()}))})):this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},e)},getSortOptions:function(){return this.getOptions().sort?this.getOptions().sort:[{label:"Date (newest)",value:"created_at desc"},{label:"Date (oldest)",value:"created_at asc"}]},getOrder:function(e){var t=mb_utils.getParam("order");return t?t[0].replace("+"," "):this.getOptions().order?this.getOptions().order:0<e.length?e[0].value:""},render:function(){var t=this;return React.createElement("section",{className:"faceted_search grid_layout "+this.state.grid_list_view+" "+(this.state.filters_hidden?"faceted_search_hidden_filters":"")+" "+this.props.page_class},React.createElement("article",null,this.renderHeader(),React.createElement("div",{id:"primary_column"},React.createElement(PaginationCount,{count:this.state.total,start_index:this.state.start_index,end_index:this.state.end_index,first_load:this.state.first_load,formatNumber:this.formatNumber}),React.createElement(PageSort,{per_page_options:[{label:"10",value:10},{label:"25",value:25},{label:"50",value:50}],initial_pp:this.state.per_page,sort_options:this.state.sort_options,initial_sort:this.state.order,page:this.state.page+1,count:this.state.total,changeSort:this.changeOrder,changePage:this.changePageNumber,changePerPage:this.changePerPage,page_count:this.state.page_count,formatNumber:this.formatNumber}),React.createElement("div",{className:"mobile_filter_btn"},0<t.activeFilters().length?React.createElement("a",{className:"mobile_clear_filters",onClick:t.clearFilters},"Clear all filters"):null,React.createElement("a",{className:"button",onClick:this.openMobileFilters},"Filters")),0<t.activeFilters().length?React.createElement("div",{className:"filtering_results"},"Filtering:",React.createElement("span",{className:"applied_filters"},t.activeFilters().map(function(e){return React.createElement("div",{key:e.id,className:"applied_filter"},React.createElement("a",{className:"filter_remove",href:"javascript:void(0)","data-filter-id":e.id,onClick:t.removeFilter}),e.text)})),React.createElement("a",{className:"clear_filter",onClick:t.clearFilters},"Clear filters")):React.createElement("div",{className:"filtering_results"}),React.createElement("section",{className:"faceted_search_results grid_gallery"},this.renderItemList()),React.createElement("div",{className:"errors"}),React.createElement("footer",{className:"search_footer"},React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,{initial_pp:t.state.per_page,page:this.state.page+1,changePage:t.changePageNumber,page_count:this.state.page_count,formatNumber:this.formatNumber}),React.createElement("span",{className:"scroll_to_top"},React.createElement("a",{href:"#page_header",onClick:this.scrollToTop},"Back to top"))))),this.renderFacetsColumn()))}}),FilterBar=React.createClass({displayName:"FilterBar",live_search_fn:null,propTypes:{search:React.PropTypes.oneOfType([React.PropTypes.bool,React.PropTypes.string]),searching:React.PropTypes.string,searchFn:React.PropTypes.func,select_boxes:React.PropTypes.array,changeFilters:React.PropTypes.func,changeSearch:React.PropTypes.func,clearSearch:React.PropTypes.func,filtering:React.PropTypes.array,placeholder:React.PropTypes.string},getInitialState:function(){return{typing:!1,search_changed:!1}},submitOnEnter:function(e){"Enter"===e.key?(this.props.changeSearch(e),$(e.target).blur(),this.setState({search_changed:!1})):this.setState({search_changed:!0})},liveSearch:function(e){var t=this;e.persist(),this.live_search_fn&&clearTimeout(t.live_search_fn),t.setState({typing:!0},function(){t.live_search_fn=setTimeout(function(){t.props.searchFn(e,function(){t.props.changeSearch(e)}),t.setState({typing:!1})},100)}),"Enter"===e.key&&$(e.target).blur()},changeSearch:function(e){var t=this;e.persist(),this.setState({search_changed:!1},function(){t.props.changeSearch(e)})},getFilterLinkHtml:function(n,e,t){var i=n[1],s="object"==typeof t?t.value:n[2][1],o=this;return React.createElement("div",{key:99,className:"filter_links"},React.createElement("a",{key:1e3+e,onClick:this.props.changeFilters,"data-for-select":n[0],"data-select-val":n[2][1],className:n[2][1]==s?"current":""},n[2][0]),i.map(function(e,t){var i=Array.isArray(e)?e[1]:e;return Array.isArray(e)&&3==e.length?React.createElement("a",{key:2e3+t,href:e[1]},e[0]):React.createElement("a",{key:2e3+t,className:i==s?"current":"",onClick:o.props.changeFilters,"data-for-select":n[0],"data-select-val":i},Array.isArray(e)?e[0]:e)}))},getSelectHtml:function(e,t,i){var n=e[1];return React.createElement("select",{key:t,id:e[0],name:e[0],value:"object"==typeof i?i.value:e[2][1],className:e[4]?e[4]:"filter",onChange:this.props.changeFilters},React.createElement("option",{value:e[2][1]},e[2][0]),n.map(function(e,t){return React.createElement("option",{key:t,value:Array.isArray(e)?e[1]:e},Array.isArray(e)?e[0]:e)}))},render:function(){var n=this,s=n.props.filtering?n.props.filtering:[];if(n.props.search&&"live"==n.props.search)var e="live";else e="normal";return React.createElement("section",{className:"filter_bar"},React.createElement("div",{className:"section_search"},n.props.search&&(n.props.search.match(/true|live/)||1==n.props.search)?React.createElement("div",{className:"search_binder"},React.createElement("input",{className:"search_field",name:"search",placeholder:this.props.placeholder?this.props.placeholder:"search",type:"text",value:n.props.searching,onChange:n.props.searchFn,onKeyUp:"live"==e?n.liveSearch:n.submitOnEnter}),"normal"==e&&n.state.search_changed||""==n.props.searching?React.createElement("input",{className:"search_submit",type:"submit",value:"",onClick:n.changeSearch}):React.createElement("div",{className:"search_clear",onClick:n.props.clearSearch},React.createElement("div",{className:"search_clear_icon"}))):"",n.props.select_boxes?n.props.select_boxes.map(function(t,e){var i=s.find(function(e){return e.name==t[0]});return t[3]?n.getFilterLinkHtml(t,e,i):n.getSelectHtml(t,e,i)}):null))}}),GridListPage=React.createClass({displayName:"GridListPage",getInitialState:function(){return{grid_list_view:this.props.default_view}},componentDidMount:function(){var e=this;$("body").on("show_list_view",function(){e.setState({grid_list_view:"list_view"})}),$("body").on("show_grid_view",function(){e.setState({grid_list_view:"grid_view"})})},render:function(){var e=this;return React.createElement("section",{className:"grid_gallery module "+this.state.grid_list_view},React.createElement(GridList,e.props))}}),GridList=React.createClass({displayName:"GridList",filters:null,getInitialState:function(){var e=this.props.title,m=this;if(this.props.filters){this.filters=JSON.parse(this.props.filters);var g=this.filters.filter(function(e){return""!=e[2][1]}).map(function(e){return{name:e[0],value:e[2][1]}})}else g=[];this.filters&&this.filters.map(function(t){console.log("checking param",t[0]);var i=null,e=mb_utils.getParam(t[0]);if(e&&""!=e)i=e;else if(/^scope/.test(t[0])){0<m.getRegexParam(/^condition_\d+=1(%3A|:)featured/).length&&(i="featured")}else if(/^date/.test(t[0])){var n;if("publications"==m.props.model){if(0<(n=m.getRegexParam(/^condition_\d+=\d+(%3A|:)publication_year/)).length){var s=n[0].match(/^condition_\d+=(\d+)(%3A|:)publication_year/);i=s?s[1]:null}}else if((n=mb_utils.getParam("year"))&&0<n.length){var o="events"==m.props.model?/^(\d+)(%3A|:)start_date/:/^(\d+)(%3A|:)publish_date/;s=Array.isArray(n)?n[0].match(o):n.match(o);i=s?s[1]:null}}else if(/^field/.test(t[0])){var r=t[0].match(/^field_(.+)/)[1],a=m.getRegexParam(r);if(0<a.length){s=a[0].match("condition_\\d+=(.+)(%3A|:)"+r);i=s?s[1]:null}}else if(/^tag/.test(t[0])){var l=mb_utils.getParam("tags");if(l&&0<l.length){var c=Array.isArray(l)?l[0].replace(/\+/g," ").split(","):l.replace(/\+/g," ").split(","),u=t[1].map(function(e){return e[1]}).filter(function(e){return-1!==c.indexOf(e)});0<u.length&&(i=u[0])}}else{var h=mb_utils.getParam("category");if(h&&0<h.length){var d=(h=Array.isArray(h)?h[0]:h).split(":"),p=t[1].map(function(e){return e[1].toString()}).filter(function(e){return-1!==d.indexOf(e)});1<p.length&&console.log("Multiple candidate categories found...setting to first option"),0<p.length&&(i=p[0])}}if(i&&""!=i){console.log("found param",i);var f=!1;g.map(function(e){e.name==t[0]&&(f=!0,e.value=Array.isArray(i)?i[0]:i)}),f||g.push({name:t[0],value:Array.isArray(i)?i[0]:i})}});var t=mb_utils.getParam("search");return{items:[],page:0,per_page:this.props.per_page?this.props.per_page:40,total:0,order:this.props.order?this.props.order:"created_at desc",title:e,filtering:g,searching:t?t[0]:"",first_load:!0,loading:!1,current_request:null}},componentWillMount:function(){this.getData(!1,main.initListeners)},getRegexParam:function(t){return location.search.substr(1).split("&").filter(function(e){return new RegExp(t).test(e)})},getData:function(t,i){this.state.loading&&this.state.current_request.abort();var n=this,e={page:t?this.state.page+1:0,per_page:this.state.per_page,order:this.state.order,search:this.state.searching};$.extend(e,this.getConditions()),$.extend(e,this.getFilters()),$.extend(e,this.props.options);var s="";s=this.props.options&&"undefined"!=typeof this.props.options.external_api_url?this.props.options.external_api_url:"/api/v1/"+n.props.model+"/",window.history.replaceState(e,null,"?"+$.param(e));var o=$.ajax({url:s,data:e,method:"GET",dataType:"json",success:function(e){console.log("Got items successfully.... "),t?n.setState({items:n.state.items.concat(e.items),total:e.total,per_page:e.per_page,page:e.page,first_load:!1,loading:!1}):(e.first_load=!1,n.setState($.extend(e,{loading:!1}))),"function"==typeof i&&i.call()}.bind(this),error:function(e,t,i){"abort"==t?n.setState({loading:!1,current_request:null}):console.error(t,i.toString())}.bind(this)});this.setState({current_request:o,loading:!0})},getMore:function(e){e.preventDefault(),this.getData(!0)},getConditions:function(){var e=this.props.conditions,i={};return e&&void 0!==e&&$.each(e,function(e,t){i["condition_"+(e+1)]=t.value+":"+t.name}),i},getOptions:function(){var e=this.props.options;return void 0!==e&&null!=e?e:{}},getFilters:function(){var s=this,e=this.state.filtering,o={},r=s.props.categories?s.props.categories.slice():[],a=this.getTags(),l=s.props.conditions?s.props.conditions.length+1:1;return $.each(e,function(e,t){if(console.log("param "+t.name+": "+t.value),""!=t.value)if("date"==t.name)if("publications"==s.props.model)o["condition_"+l]=t.value+":publication_year",l+=1;else if("events"==s.props.model)if("upcoming"==t.value){var i=new Date;o["condition_"+l]=i.getFullYear().toString()+"-"+(i.getMonth()+1).toString()+"-"+i.getDate().toString()+":start_date:gte",l+=1}else o.year=t.value+":start_date";else o.year=t.value+":publish_date";else if("scope"==t.name&&"featured"==t.value.toLowerCase())o["condition_"+l]="1:featured",l+=1;else if("scope"==t.name&&"all"==t.value.toLowerCase());else if(/^field/.test(t.name)){var n=t.name.match(/^field_(.+)/)[1];o["condition_"+l]=t.value+":"+n,l+=1}else/^tag/.test(t.name)?(0<a.length&&(a+=","),a=t.value):r.push(t.value)}),0<r.length&&(o.category=r.join(":")),0<a.length&&(o.tags=a),o},getTags:function(){var e=this.getOptions();return e&&e.tags?e.tags:""},getBlankScope:function(){var e=this.getOptions();return e&&e.blank_scope?e.blank_scope:"All"},getOptionName:function(t,i){var e=this.filters.find(function(e){return e[0]==t});if(void 0===e)return"";var n=e[1].slice();return n.unshift(e[2]),n.find(function(e){return 2==e.length?e[1].toString()==i:e[0].toString()==i})[0]},getTitleFromParams:function(e){var t=this.props.title,i=this;if(this.filters){var n="",s=t,o="",r="",a="";$.each(e,function(e,t){""!=t.value&&("type"==t.name||"category"==t.name?s=i.getOptionName(t.name,t.value):"scope"==t.name?n=i.getOptionName(t.name,t.value):"topic"==t.name?r=i.getOptionName(t.name,t.value):"date"==t.name?"upcoming"!=t.value&&(o="in "+t.value):"search"==t.name&&(a="matching '"+t.value+"'"))}),this.state&&""!=this.state.searching&&(a="matching '"+this.state.searching+"'"),this.props.scope_in_title&&""==n&&""==r&&""==o&&""==a&&(n=this.getBlankScope()),t=[n,r,s,o,a].filter(function(e){return""!=e}).join(" ")}return t},applySearch:function(e,t){this.setState({searching:e.target.value},function(){t&&t.call()})},clearSearch:function(){this.setState({searching:""},function(){this.getData(!1)})},setSearch:function(){this.setState({title:this.getTitleFromParams(this.state.filtering)},this.getData(!1))},applyFilters:function(e){e.preventDefault(),e.stopPropagation();var t,i,n=this.state.filtering;$(e.currentTarget).is("a")?(t=$(e.currentTarget).data("for-select"),i=$(e.currentTarget).data("select-val")):(t=e.target.name,i=e.target.value);var s=n.findIndex(function(e){return e.name==t});-1==s?n.push({name:t,value:i}):n[s].value=i,console.log("FORM PARAMS: ",n),this.setState({filtering:n,title:this.getTitleFromParams(n)},function(){console.log("FILTERING: ",this.state.filtering),this.getData(!1)})},setListSort:function(e){this.setState({order:e.target.dataset.value},function(){this.getData(!1)})},toggleListSort:function(e){this.state.order==e?this.setState({order:this.props.order},function(){this.getData(!1)}):this.setState({order:e},function(){this.getData(!1)})},getCorrectTitle:function(e){return this.props.results_in_title?this.getTitle(e,this.state.title):this.getTitle(e,this.props.title)},getTitle:function(e,t){return t?React.createElement("h2",{className:e},t):""},renderHeader:function(){return this.props.title_below_filters?React.createElement("header",{className:"gallery_header left_align"},this.renderFilters(),this.getCorrectTitle(""),this.props.view_toggle?React.createElement(ViewToggle,null):""):React.createElement("header",{className:"gallery_header"},this.getCorrectTitle("module_title"),this.renderFilters(),this.renderSortOptions(),this.props.view_toggle?React.createElement(ViewToggle,null):"")},renderFilters:function(){var e=this.getOptions();if(this.filters||this.props.search)return React.createElement(FilterBar,{select_boxes:this.filters,search:this.props.search,placeholder:e.placeholder,changeFilters:this.applyFilters,changeSearch:this.setSearch,clearSearch:this.clearSearch,filtering:this.state.filtering,searching:this.state.searching,searchFn:this.applySearch})},renderSortOptions:function(){var e=this.getOptions(),t=this;if(e.sort_options)return React.createElement("div",{className:"sort_options"},1<e.sort_options.length?React.createElement("div",{className:"sort_select"},e.sort_options.map(function(e){return React.createElement("div",{key:e.value,className:"sort_option",onClick:t.setListSort,"data-value":e.value},e.name)})):React.createElement("label",{className:"sort_toggle_label"},React.createElement("input",{type:"checkbox",name:"order",value:e.sort_options[0].value,onChange:function(){t.toggleListSort(e.sort_options[0].value)}}),React.createElement("span",{className:"sort_toggle"},e.sort_options[0].name)))},renderItemList:function(){var e=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.",t=this,i=window[t.props.list_item+"ListItem"];return 0<this.state.items.length?React.createElement("ul",{className:"item_list "+t.props.class_name+(t.props.left_column?" "+t.props.default_view:"")},t.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide"},React.createElement(i,{item:e,options:t.getOptions()}))})):this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},e)},renderMoreButton:function(){var e=this.getOptions();if((this.state.page+1)*this.state.per_page<this.state.total)return React.createElement("footer",{className:"list_footer more_button"},React.createElement("div",{className:"loading"}),React.createElement("a",{className:e.button_class?e.button_class:"button",type:"button",href:"#",onClick:this.getMore},"More"))},render:function(){return React.createElement("div",{className:this.props.left_column?"":"grid_layout"},this.renderHeader(),this.renderItemList(),this.renderMoreButton())}}),HiPO=React.createClass({displayName:"HiPO",spinner_opts:{lines:8,length:5,width:3,radius:6,color:"#FFF",speed:1,trail:100,shadow:!1,className:"spinner",top:"50%",left:"50%"},getInitialState:function(){return{loaded:!1,loading:!1}},componentDidMount:function(){$("body").on("feed_hipo",this.checkOverlay)},checkOverlay:function(e,t){var i=this;e.stopPropagation();t&&t.url?(console.log("load overlay"),this.setState({loading:!0,content:null},function(){i.loadOverlay(t.url)})):console.error("No overlay data to load.")},loadOverlay:function(n){var s=this,e=n+"?layout=empty&override_preview=true";$("#dashboard_modal_content").load(e,function(e,t,i){"error"==t?(alert("Sorry but there was an error: "+i.status+" "+i.statusText),s.setState({loading:!1,loaded:!1})):s.setState({loading:!1,loaded:!0},function(){s.afterLoad(n)})})},afterLoad:function(e){var t=this;$("body").addClass("explore_overlay_open"),$("#dashboard_modal a.close_button, .background_area").click(function(){t.closeOverlay()}),"undefined"!=typeof mb_parallax&&mb_parallax.init(!0),"undefined"!=typeof mb_utils&&mb_utils.initExpandableElement(),"object"==typeof ReactRailsUJS&&ReactRailsUJS.mountComponents();var i=$("#dashboard_modal_content title").text();"undefined"!=typeof _sendPageview&&_sendPageview(e,i)},closeOverlay:function(){this.setState({loaded:!1},function(){$("#dashboard_modal_content").empty(),$("body").removeClass("explore_overlay_open")})},render:function(){return React.createElement("div",{id:"dashboard_modal",className:this.state.loading||this.state.loaded?"visible":"",style:{height:"100%"}},React.createElement(Loader,{loaded:this.state.loaded||!this.state.loading,options:this.spinner_opts,className:"spinner"}),React.createElement("div",{id:"dashboard_modal_content",className:"content "+(this.state.loaded?"visible":"")}))}}),ImageCarousel=React.createClass({displayName:"ImageCarousel",slider:null,getInitialState:function(){return{caption:"",link:"",link_text:""}},componentDidMount:function(){var t=this;this.slider=new MasterSlider,this.slider.control("bullets",{autohide:!1}),this.slider.control("arrows",{autohide:!1});var e={width:$(window).width(),height:400,layout:"autofill",space:5,fullwidth:!0,autoHeight:!1,autoplay:!1,speed:20,loop:!0,instantStartLayers:!0};this.slider.setup(this.props.ms_id+" .master-slider",e),this.slider.api.addEventListener(MSSliderEvent.CHANGE_START,function(){var e=t.props.items[t.slider.api.index()];t.setState({caption:e.body,link:e.link,link_text:e.link_text})})},createSlide:function(e,t){var i=e.theme?e.theme:"dark_background";return React.createElement("article",{key:t,className:"ms-slide slide-"+(t+1)+" "+i,"data-delay":"8","data-fill-mode":"fill"},React.createElement("div",{className:"gradient_container_top"}),React.createElement("img",{alt:"slide "+(t+1)+" - "+(e.image_alt?e.image_alt:e.title),"data-src":e.image_src,src:e.image_src}),this.checkAndCreateVideo(e),React.createElement("div",{className:"gradient_container_bottom"}))},checkAndCreateVideo:function(e){if(e.webm_video_file_name||e.mp4_video_file_name||e.ogv_video_file_name){var t=this.getSources(e);return React.createElement("video",{"data-autopause":"false","data-fill-mode":"fill","data-loop":"true","data-mute":"true"},t.map(function(e,t){return React.createElement("source",{key:t,src:e[0],type:e[1]})}))}return e.embed_video?React.createElement("a",{href:e.embed_video+"?hd=1&wmode=opaque&controls=1&showinfo=0","data-type":"video"},"play video"):null},getSources:function(e){var t=[];return e.webm_video_file_name&&t.push([e.webm_video_src,"video/webm"]),e.mp4_video_file_name&&t.push([e.mp4_video_src,"video/mp4"]),e.ogv_video_file_name&&t.push([e.ogv_video_src,"video/ogg"]),t},createSlides:function(){var i=this;return React.createElement("div",{className:"master-slider ms-skin-default"},this.props.items.map(function(e,t){return i.createSlide(e,t)}))},getCaption:function(){return this.state.caption?React.createElement("div",{className:"caption",dangerouslySetInnerHTML:{__html:this.state.caption}}):null},getLink:function(){return this.state.link&&this.state.link_text?React.createElement("div",{className:"link_container"},React.createElement("a",{href:this.state.link},this.state.link_text)):null},render:function(){return React.createElement("div",{id:this.props.ms_id},this.createSlides(),React.createElement("div",{className:"slider_caption"},this.getCaption(),this.getLink()))}}),TeaserGridItem=React.createClass({displayName:"TeaserGridItem",getInitialState:function(){return{modal_open:!1,scroll_position_before_overlay:null}},closeModal:function(e){this.setState({modal_open:!1},function(){$("body").removeClass("explore_overlay_open"),"undefined"!=typeof _atw&&_atw.clb(),null!=window.__mb_shim_image_grid_teaser_scroll_position_before_overlay&&0<window.__mb_shim_image_grid_teaser_scroll_position_before_overlay&&window.scrollY<=0&&(window.scrollTo(0,window.__mb_shim_image_grid_teaser_scroll_position_before_overlay),window.__mb_shim_image_grid_teaser_scroll_position_before_overlay=null)}),e&&e.preventDefault()},prevItem:function(e){console.log("prev"),this.setState({modal_open:!1},function(){this.props.prev(this.props.idx)}),e.preventDefault()},nextItem:function(e){console.log("next"),this.setState({modal_open:!1},function(){this.props.next(this.props.idx)}),e.preventDefault()},getFeatureHtml:function(e){return"video"==e?React.createElement("div",{className:"play"}):""},activateFeature:function(){this.setState({modal_open:!0},this.loadAddThisListeners)},clickedFeature:function(e){this.activateFeature(),e.preventDefault()},loadAddThisListeners:function(){"undefined"!=typeof addthis&&addthis.toolbox($(".addthis_toolbox").get()),$(".addthis_button_compact img").on("mouseover",function(){return!1}),(null==window.__mb_shim_image_grid_teaser_scroll_position_before_overlay||window.__mb_shim_image_grid_teaser_scroll_position_before_overlay<=0)&&(window.__mb_shim_image_grid_teaser_scroll_position_before_overlay=window.scrollY),$("body").hasClass("explore_overlay_open")||$("body").addClass("explore_overlay_open")},featureModalHtml:function(e){return e?"video"==e.feature_type?this.featureVideoHtml(e):"image"==e.feature_type||"news"==e.feature_type?this.imageHTML(e):void 0:""},featureVideoHtml:function(e){if(e.embed_video
)return React.createElement("div",{className:"embedded_video",dangerouslySetInnerHTML:{__html:e.embed_video}});var t=[];return e.webm_video_src&&t.push({file:e.webm_video_src}),e.mp4_video_src&&t.push({file:e.mp4_video_src}),e.ogv_video_src&&t.push({file:e.ogv_video_src}),React.createElement("div",null,React.createElement(Video,{files:t,caption:"",poster:e.image_src,video_div:"upload_video",layout:"full",autostart:"false",vrview:"false"}))},getButtons:function(){return this.props.item.link&&""!=this.props.item.link?React.createElement("div",{className:"buttons"},React.createElement("a",{className:"button",href:window.location.origin+this.props.item.link},"MORE"),React.createElement("div",{className:"addthis_sharing_toolbox addthis_toolbox addthis_default_style","data-addthis-url":window.location.origin+this.props.item.link,"data-addthis-title":this.props.item.title,"data-addthis-description":this.props.item.body,"data-addthis-media":this.props.item.browse},React.createElement("a",{className:"addthis_button_compact"},React.createElement("img",{src:"/assets/share.png"})))):null},imageHTML:function(e){return React.createElement("figure",{className:"main_image"},React.createElement("img",{src:e.image_src,alt:e.image_alt?e.image_alt:""}))},render:function(){var e={position:"fixed",backgroundColor:"rgba(0, 0, 0, 0.5)",top:"0",left:"0",transform:"none",height:"100vh",width:"100vw",overflow:"auto"},t={position:"fixed"},i={lines:9,length:6,width:4,radius:7,scale:1,corners:1,color:"#FFF",opacity:.2,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",left:"50%",shadow:!1,hwaccel:!1,position:"relative"};return React.createElement("li",{key:this.props.item.id,className:"teaser_grid_item teaser_grid_item__"+this.props.item.feature_type+" item_"+this.props.idx+" "+this.props.klass,"data-id":this.props.item.id},React.createElement("a",{href:"",id:"teaser_grid_item_"+this.props.idx,className:"teaser_grid_link image_and_description_container",onClick:this.clickedFeature},React.createElement("div",{className:"grid_image"},this.getFeatureHtml(this.props.item.feature_type),React.createElement("img",{src:this.props.item.image_src})),React.createElement("div",{className:"grid_text"},React.createElement("div",{className:"caption"},React.createElement("div",{className:"grid_title"},this.props.item.title)))),React.createElement(Modal,{isOpen:this.state.modal_open,onClose:this.closeModal,className:"modal",width:"100%",style:e,backdropStyle:t,containerClassName:"modal_container"},React.createElement("a",{href:"",className:"modal_close",onClick:this.closeModal},React.createElement("span",{className:"modal_close_icon"})),React.createElement("div",{className:"arrow_navigation"},React.createElement("a",{href:"",className:"prev_arrow",onClick:this.prevItem}),React.createElement("a",{href:"",className:"next_arrow",onClick:this.nextItem})),React.createElement(Loader,{loaded:!1,options:i,className:"spinner"}),React.createElement("div",{className:"modal_content"},this.featureModalHtml(this.props.item),React.createElement("div",{className:"caption"},React.createElement("div",{className:"grid_num"},this.props.idx+1),React.createElement("div",{className:"grid_title"},this.props.item.title)),React.createElement("div",{className:"description",dangerouslySetInnerHTML:{__html:this.props.item.body}}),this.getButtons(),React.createElement("a",{href:"",className:"close_button big_button",onClick:this.closeModal},"CLOSE"),React.createElement("div",{className:"after_big_button_shim"}))))}}),ImageGridTeaser=React.createClass({displayName:"ImageGridTeaser",getInitialState:function(){return{show_more:!1}},showMoreItems:function(){this.setState({show_more:!0})},options:{percentPosition:!0,itemSelector:".teaser_grid_item",layoutMode:"masonry",masonry:{gutter:".teaser_gutter_sizer",horizontalOrder:!0,fitWidth:!0}},componentDidMount:function(){if(this.props.masonry)var e=$(".teaser_grid").imagesLoaded(function(){console.log("masonry teaser loaded"),e.isotope(this.options)})},getMoreButton:function(){return this.props.more_link?React.createElement("a",{className:"big_button",href:this.props.more_link},"MORE"):""},prev:function(e){console.log(e);var t=Math.max(e-1,0);this.clickItem(t)},next:function(e){console.log(e);var t=Math.min(e+1,this.props.items.length-1);this.clickItem(t)},clickItem:function(e){console.log("click teaser_grid_item_"+e),$("#teaser_grid_item_"+e).get(0).click()},getTitle:function(){return this.props.title&&""!=this.props.title?React.createElement("div",{className:"module_title"},this.props.title):null},getDescription:function(){return this.props.description&&""!=this.props.description?React.createElement("h3",{className:"module_subtitle"},this.props.description):null},render:function(){var i=this,e="b";return this.props.layout&&0<=this.props.layout.indexOf("a")&&(e="a"),this.props.layout&&0<=this.props.layout.indexOf("c")&&(e="c"),React.createElement("div",{className:"teaser_grid_container"+(this.state.show_more?" open":"")},this.getTitle(),this.getDescription(),React.createElement("ol",{className:"teaser_grid layout_"+e},this.props.items.map(function(e,t){return React.createElement(TeaserGridItem,{key:e.id,item:e,idx:t,prev:i.prev,next:i.next})})),React.createElement("div",{className:"show_more_button",onClick:this.showMoreItems},this.props.mobile_more_text),this.getMoreButton())}});!function(e,t){"function"==typeof define&&define.amd?define(["react","react-dom","spin.js"],t):"object"==typeof module&&"object"==typeof module.exports?module.exports=t(require("react"),require("react-dom"),require("spin.js")):e.Loader=t(e.React,e.ReactDOM,e.Spinner)}(this,function(i,n,s){return i.createClass({displayName:"Loader",propTypes:{className:i.PropTypes.string,color:i.PropTypes.string,component:i.PropTypes.any,corners:i.PropTypes.number,direction:i.PropTypes.oneOf([1,-1]),hwaccell:i.PropTypes.bool,left:i.PropTypes.string,length:i.PropTypes.number,lines:i.PropTypes.number,loaded:i.PropTypes.bool,loadedClassName:i.PropTypes.string,opacity:i.PropTypes.number,options:i.PropTypes.object,parentClassName:i.PropTypes.string,radius:i.PropTypes.number,rotate:i.PropTypes.number,scale:i.PropTypes.number,shadow:i.PropTypes.bool,speed:i.PropTypes.number,top:i.PropTypes.string,trail:i.PropTypes.number,width:i.PropTypes.number,zIndex:i.PropTypes.number},getDefaultProps:function(){return{component:"div",loadedClassName:"loadedContent",parentClassName:"loader"}},getInitialState:function(){return{loaded:!1,options:{}}},componentDidMount:function(){this.updateState(this.props)},componentWillReceiveProps:function(e){this.updateState(e)},updateState:function(e){e||(e={});var t=this.state.loaded,i=this.state.options;"loaded"in e&&(t=!!e.loaded);var n=Object.keys(this.constructor.propTypes);n.splice(n.indexOf("loaded"),1),n.splice(n.indexOf("options"),1);var s="options"in e?e.options:e;n.forEach(function(e){e in s&&(i[e]=s[e])}),this.setState({loaded:t,options:i},this.spin)},spin:function(){if(!("undefined"==typeof window||!window.document||!window.document.createElement)&&this.isMounted()&&!this.state.loaded){var e=new s(this.state.options),t=n.findDOMNode(this.refs.loader);t.innerHTML="",e.spin(t)}},render:function(){var e,t;return this.state.loaded?(e={key:"content",className:this.props.loadedClassName},t=this.props.children):e={key:"loader",ref:"loader",className:this.props.parentClassName},i.createElement(this.props.component,e,t)}})});var Meganav=React.createClass({displayName:"Meganav",getInitialState:function(){return{nav_items:this.props.nav_items?this.props.nav_items:[],search_open:!1,search:"",is_desktop_nav:$("#menu_button").is(":hidden"),last_meganav_open:null}},componentDidMount:function(){this.getData(),"undefined"!=typeof nav&&(nav.toggleSubnav=function(){}),"undefined"!=typeof magic_shell_nav&&(magic_shell_nav.toggleSubnav=function(){}),$(window).resize(this.resize)},resize:function(){var e=$("#menu_button").is(":hidden");this.setState({is_desktop_nav:e})},getData:function(){var t=this;0==this.state.nav_items.length&&$.getJSON(this.props.nav_api_url,null,function(e){t.setState({nav_items:e.items})})},getLinkTitleTarget:function(e,t){return"overlay"==e.target?React.createElement("a",{href:"javascript:void(0)",onClick:function(){explore_overlay.init(e.link)}},e.name):React.createElement("a",{className:t?"main_nav_item":"",href:e.link,target:e.target},e.name)},getNavSection:function(e){var i=this;return React.createElement("div",{className:"meganav"},e.map(function(e,t){return e.columns?React.createElement("div",{key:"section_"+t,className:"meganav_columnar_section"},React.createElement("div",{className:"title"},e.name),e.columns.map(function(e,t){return React.createElement("div",{key:t,className:"col"},e.map(function(e,t){return React.createElement("span",{key:t,className:"nav_item"},React.createElement("a",{href:e.link,target:e.target},e.name))}))})):React.createElement("div",{key:"sections_container_"+i.getRandomInt(),className:"sections_container"},i.getSubnavItems(e))}))},getRandomInt:function(){return Math.floor(5e6*Math.random())},getSubnavItems:function(e){var t=this;return React.createElement("ul",null,e.items.map(function(e){return React.createElement("li",{key:e.id},t.getLinkTitleTarget(e))}))},getMobileSubnav:function(e){var i=this,n=this;return 0<e.length?React.createElement("ul",{className:"subnav"},e.map(function(e){if(e.items)return React.createElement("div",{key:"subnav_"+i.getRandomInt()},e.items.map(function(e){return React.createElement("li",{key:e.id},n.getLinkTitleTarget(e))}));if(e.columns){var t=[];return e.columns.map(function(e){t=t.concat(e)}),React.createElement("li",{key:e.id,className:"stellarnav_section"},React.createElement("div",{className:"stellarnav_title"},e.name),React.createElement("ul",{className:"top_nav_items"},t.map(function(e){return React.createElement("li",{className:"nav_item",key:n.getRandomInt()},n.getLinkTitleTarget(e))})))}return null})):null},onClickArrow:function(e){$(e.currentTarget).toggleClass("reverse").parent().find(".global_subnav_container").toggle()},getNavItemHTML:function(e,t){var i=this;if(e.style&&"icon"==e.style){if("Orrery"!=e.name)return React.createElement("li",{className:e.li_class},React.createElement("div",{className:"nav_title"},React.createElement("a",{className:"main_nav_item",href:e.link,title:e.name},React.createElement("span",null,e.name))),React.createElement("div",{"class":"gradient_line"}));var n=this.getRandomInt();return React.createElement("li",{className:e.svg_icon_id,key:n},React.createElement("a",{href:"javascript:void(0)",onClick:function(){explore_overlay.init(e.link)}},React.createElement("svg",{width:"28px",height:"28px",viewBox:"0 0 28 28"},React.createElement("path",{d:"M13.9,28C6.2,28,0,21.7,0,14C0,6.3,6.2,0,13.9,0c7.6,0,13.9,6.3,13.9,14C27.7,21.7,21.5,28,13.9,28z M13.9,0.8c-7.2,0-13,5.9-13,13.2c0,7.3,5.8,13.2,13,13.2c7.2,0,13-5.9,13-13.2C26.9,6.7,21,0.8,13.9,0.8z"}),React.createElement("path",{d:"M13.9,24.5C8.1,24.5,3.5,19.8,3.5,14c0-5.8,4.7-10.5,10.4-10.5c5.7,0,10.4,4.7,10.4,10.5 C24.3,19.8,19.6,24.5,13.9,24.5z M13.9,4.3c-5.3,0-9.6,4.3-9.6,9.7c0,5.3,4.3,9.7,9.6,9.7c5.3,0,9.6-4.3,9.6-9.7 C23.4,8.7,19.1,4.3,13.9,4.3z"}),React.createElement("path",{d:"M13.9,20.7c-3.7,0-6.7-3-6.7-6.7s3-6.7,6.7-6.7c3.7,0,6.7,3,6.7,6.7S17.5,20.7,13.9,20.7z M13.9,8.1 C10.6,8.1,8,10.7,8,14c0,3.3,2.6,5.9,5.8,5.9c3.2,0,5.8-2.6,5.8-5.9C19.7,10.7,17.1,8.1,13.9,8.1z"}),React.createElement("path",{d:"M17,14c0,1.8-1.4,3.2-3.2,3.2c-1.8,0-3.2-1.4-3.2-3.2c0-1.8,1.4-3.2,3.2-3.2C15.6,10.8,17,12.2,17,14z"}),React.createElement("path",{d:"M12.3,19.7c0,0.9-0.7,1.7-1.7,1.7c-0.9,0-1.7-0.8-1.7-1.7c0-0.9,0.7-1.7,1.7-1.7 C11.6,18,12.3,18.8,12.3,19.7z"}),React.createElement("path",{d:"M14,4.3C14,5.3,13.3,6,12.3,6c-0.9,0-1.7-0.8-1.7-1.7c0-0.9,0.7-1.7,1.7-1.7C13.3,2.7,14,3.4,14,4.3z"}),React.createElement("path",{d:"M28,19.7c0,0.9-0.7,1.7-1.7,1.7c-0.9,0-1.7-0.8-1.7-1.7c0-0.9,0.7-1.7,1.7-1.7C27.3,18,28,18.8,28,19.7z"})),React.createElement("span",{className:"orrery_label"},e.name)))}if(e&&e.sections&&0<e.sections.length){var s="li_"+e.id;return React.createElement("li",{key:s,className:""+(e.style?e.style:""),onMouseEnter:this.openMegaNav,onMouseLeave:this.closeMegaNav},React.createElement("div",{className:"arrow_box",onClick:this.onClickArrow},React.createElement("span",{className:"arrow_down"})),React.createElement("div",{className:"nav_title",id:s,onClick:this.openOrGo},this.getLinkTitleTarget(e,!0)),React.createElement("div",{className:"global_subnav_container"},React.createElement("div",{className:"meganav_container no_feature "+(e.meganav_style?e.meganav_style:"")},React.createElement("div",{className:"nav_item_indicator"}),i.getNavSection(e.sections,t)),this.getMobileSubnav(e.sections)),React.createElement("div",{className:"gradient_line"}))}return React.createElement("li",{key:e.id},React.createElement("div",{className:"nav_title"},this.getLinkTitleTarget(e,!0)),React.createElement("div",{className:"gradient_line"}))},openOrGo:function(e){if(this.state.is_desktop_nav&&null!=document.querySelector(".touchevents")){return this.state.last_meganav_open==e.currentTarget.id||(this.setState({last_meganav_open:e.currentTarget.id}),e.preventDefault(),e.stopPropagation(),!1)}return!0},getMeAnHref:function(e){var t;if($(e.target).attr("href"))t=$(e.target);else{var i=$(e.target).parents("a");0<i.length&&(t=i.eq(0))}return t},openMegaNav:function(e){if(this.state.is_desktop_nav){var t=$(e.currentTarget);this.openMegaNavFor(t)}},openMegaNavFor:function(e){var t=e.find(".meganav_container");0<t.length&&(e.addClass("expanded"),t.show(),$(".page_cover").show(),this.setArrowAndNavPosition(e))},closeMegaNav:function(e){if(this.state.is_desktop_nav){var t=$(e.currentTarget),i=t.find(".meganav_container");t.removeClass("expanded"),$(".page_cover").hide(),i.hide(),this.setState({last_meganav_open:null})}},setArrowAndNavPosition:function(e){var t=e.offset().left+e.outerWidth()/2-16,i=$(".meganav_container").width()/2,n=t-i,s=t-$(".meganav_container.no_feature").width()/2,o=t-$(".meganav_container.wide").width()/2;if($(".nav_item_indicator").show(),$(".meganav_container").css({left:n+16}),$(".meganav_container.no_feature").css({left:s+16}),$(".meganav_container.wide").css({left:o+16}),e.find(".meganav").hasClass("columnar")){var r=$(".meganav.columnar li:first-child").position().top;$(".meganav.columnar li").each(function(e,t){$(t).position().top==r&&$(t).addClass("top")})}var a=$(window).width(),l=e.find(".meganav_container").width(),c=parseInt($(".meganav_container").css("left")),u=a-(c+l);$(window).width();u<10?($(".meganav_container").css({left:"auto",right:"10px"}),$(".nav_item_indicator").css({left:i-5-u})):$(".nav_item_indicator").css({left:"calc(50% - 15px)"})},openOrSubmit:function(e){""!=this.state.search?e.currentTarget.parentElement.submit():this.state.search_open?this.setState({search_open:!1}):this.setState({search_open:!0})},changeSearch:function(e){var t=e.currentTarget.value;this.setState({search:t})},getSearchHtml:function(){return this.props.search?React.createElement("form",{className:"meganav_overlay_search meganav_search",action:this.props.search_submit?this.props.search_submit:"/search.html"},React.createElement("input",{className:"search_field "+(this.state.search_open?"search_open":""),name:"q",type:"text",onChange:this.changeSearch,value:this.state.search,placeholder:"search"}),React.createElement("div",{className:"search_submit",onClick:this.openOrSubmit})):null},render:function(){var i=this;return React.createElement("span",{style:{visibility:0==this.state.nav_items.length?"hidden":"visible"}},React.createElement("ul",{className:"nav"},this.state.nav_items.map(function(e,t){return i.getNavItemHTML(e,t)})),this.getSearchHtml())}}),MissionListItem=React.createClass({displayName:"MissionListItem",getThumbHtml:function(){return this.props.item.thumb?React.createElement("div",{className:"list_image"},React.createElement("img",{className:"thumb",src:this.props.item.thumb,alt:this.props.item.title})):""},render:function(){var e=this.props.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:e.url,target:e.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},React.createElement("div",{className:"rollover_description_text"},e.description),React.createElement("div",{className:"link_text_rollover"},e.link_text)),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),this.getThumbHtml(),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url,target:e.target},e.title)),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.description}}),React.createElement("div",{className:"link_text"},React.createElement("a",{href:e.url,target:e.target},e.link_text))))}}),_createClass=function(){function n(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,i){return t&&n(e.prototype,t),i&&n(e,i),e}}(),_get=function get(e,t,i){for(var n=!0;n;){var s=e,o=t,r=i;n=!1,null===s&&(s=Function.prototype);var a=Object.getOwnPropertyDescriptor(s,o);if(a!==undefined){if("value"in a)return a.value;var l=a.get;return l===undefined?undefined:l.call(r)}var c=Object.getPrototypeOf(s);if(null===c)return undefined;e=c,t=o,i=r,n=!0,a=c=undefined}},Modal=function(){function e(){_classCallCheck(this,e),_get(Object.getPrototypeOf(e.prototype),"constructor",this).apply(this,arguments)}return _inherits(e,React.Component),_createClass(e,[{key:"render",value:function s(){var t=this;if(!1===this.props.isOpen)return null;var e={position:"absolute",top:"50vh",left:"50vw",transform:"translate(-50%, -50%)",zIndex:"9999",background:"#fff"};if(this.props.width&&this.props.height&&(e.width=this.props.width+"px",e.height=this.props.height+"px",e.marginLeft="-"+this.props.width/2+"px",e.marginTop="-"+this.props.height/2+"px",e.transform=null),this.props.style)for(var i in this.props.style)e[i]=this.props.style[i];var n={position:"absolute",width:"100%",height:"100%",top:"0px",left:"0px",zIndex:"9998",background:"rgba(0, 0, 0, 0.8)"};if(this.props.backdropStyle)for(var i in this.props.backdropStyle)n[i]=this.props.backdropStyle[i];return React.createElement("div",{className:this.props.containerClassName},React.createElement("div",{className:this.props.className,style:e},this.props.children),!this.props.noBackdrop&&React.createElement("div",{className:this.props.backdropClassName,style:n,onClick:function(e){return t.close(e)}}))}},{key:"close",value:function t(e){e.preventDefault(),this.props.onClose&&this.props.onClose()}}]),e}(),NewsListItem=React.createClass({displayName:"NewsListItem",render:function(){var e=this.props.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:e.url,target:e.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},e.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.thumb,alt:e.main_image_alt})),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_date"},e.date),React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url,target:e.target},e.title)),React.createElement("div",{className:"article_teaser_body"},e.description)))}}),PageSort=React.createClass({displayName:"PageSort",getInitialState:function(){return{current_page:this.props.initial_page,current_sort:this.props.initial_sort,current_pp:this.props.initial_pp}},changeSort:function(e){var t=e.target.value;this.setState({current_sort:t},this.props.changeSort(t))},changePerPage:function(e){var t=e.target.value;this.setState({current_pp:t},this.props.changePerPage(t))},getSortBy:function(){return 0<this.props.sort_options.length?React.createElement("div",{className:"page_option_wrapper sort_by"},React.createElement("label",{htmlFor:"order"},"Sort by"),React.createElement("select",{className:"options_field",id:"order",name:"order",defaultValue:this.props.initial_sort,onChange:this.changeSort},this.props.sort_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))):null},render:function(){return 0<this.props.page_count?React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,this.props),React.createElement("div",{className:"options"},this.getSortBy(),React.createElement("div",{className:"page_option_wrapper per_page"},React.createElement("label",{htmlFor:"per_page"},"Per page"),React.createElement("select",{className:"options_field",id:"per_page",name:"per_page",defaultValue:this.props.initial_pp,onChange:this.changePerPage},this.props.per_page_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))))):null}}),PageSortPagination=React.createClass({displayName:"PageSortPagination",getInitialState:function(){return{page_input_val:this.props.page}},componentDidMount:function(){$(".page_selector input").val("")},prevPage:function(){if(1<this.props.page){var e=this.props.page-1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked previous page button",e)}},nextPage:function(){if(this.props.page<this.props.page_count){var e=this.props.page+1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked next page button",e)}},onPageInput:function(e){var t=parseInt(e.target.value);t<1?t=1:t>this.props.page_count&&(t=this.props.page_count),this.setState({page_input_val:t},this.props.changePage(t))},blurOnEnter:function(e){13===e.keyCode&&(e.preventDefault(),$(e.target).blur())},render:function(){var e=this.props.page<=1,t=this.props.page>=this.props.page_count;return 0<this.props.page_count?React.createElement("div",null,React.createElement("div",{className:"pagination_nav"},React.createElement("nav",{className:"pagination"},React.createElement("span",{className:"prev"+(e?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"prev",onClick:this.prevPage})),React.createElement("div",{className:"page_selector"},React.createElement("input",{className:"page_num",placeholder:this.props.formatNumber?this.props.formatNumber(this.props.page):this.props.page,value:this.props.page,size:"4",type:"number",onChange:this.onPageInput,min:"1",max:this.props.page_count,onKeyUp:this.blurOnEnter})," of",React.createElement("span",{className:"total_pages"}," ",this.props.formatNumber?this.props.formatNumber(this.props.page_count):this.props.page_count)),React.createElement("span",{className:"next"+(t?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"next",onClick:this.nextPage}))))):null}}),PaginationCount=React.createClass({displayName:"PaginationCount",render:function(){return this.props.first_load?React.createElement("div",{className:"pagination_status"},React.createElement("span",null,"Loading...")):0==this.props.count?React.createElement("div",{className:"pagination_status no_results_text"},React.createElement("span",null,"No results found.")):React.createElement("div",{className:"pagination_status"},React.createElement("span",{className:"nonessential"},"Showing"),React.createElement("b",null,React.createElement("span",{className:"start_index"}," ",this.props.formatNumber?this.props.formatNumber(this.props.start_index+1):this.props.start_index+1),"-",React.createElement("span",{className:"end_index"},this.props.formatNumber?this.props.formatNumber(this.props.end_index):this.props.end_index," ")),"of",React.createElement("b",null,React.createElement("span",{className:"total_results"}," ",this.props.formatNumber?this.props.formatNumber(this.props.count):this.props.count," ")),React.createElement("span",{className:"nonessential"},this.props.item_type))}}),PersonDetail=React.createClass({displayName:"PersonDetail",getInitialState:function(){return{itemSelected:this.props.item}},showDetail:function(e){e.preventDefault();var t=parseInt($(e.currentTarget).data("idx"));this.props.selected_item(this.props.more_people[t])},getMorePeopleSidebar:function(){var i=this,e=[],n="";return"undefined"!=typeof this.props.more_people&&(e=this.props.more_people),"undefined"!=typeof this.props.options&&this.props.options.external_asset_url&&(n=this.props.options.external_asset_url),React.createElement("aside",{className:"list_view_module boxed people_sidebar_module"},React.createElement("header",null,React.createElement("h2",{className:"sidebar_title"},"More ",this.props.short_title," People")),React.createElement("ul",null,e.map(function(e,t){return React.createElement("li",{key:t},React.createElement("div",{className:"list_content"},React.createElement("div",{className:"list_image"},React.createElement("a",{href:"#",onClick:i.showDetail,"data-idx":t,target:e.target},React.createElement("img",{src:n+e.list_image_src,alt:e.name}))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_title"},React.createElement("a",{href:"#",onClick:i.showDetail,"data-idx":t,target:e.target},e.name))),React.createElement("div",{className:"list_text"},e.job_title)))})),React.createElement("a",{className:"more_sidebar",href:"#",onClick:this.props.hide_detail},"\u203a View all people"))},getMainImage:function(){var e=this.props.item,t="";return"undefined"!=typeof this.props.options&&this.props.options.external_asset_url&&(t=this.props.options.external_asset_url),e.list_image_src&&e.caption?React.createElement("figure",{className:"main_image"},React.createElement("img",{id:"main_image",src:t+e.detail_image_src,onLoad:this.props.images_loaded,onError:this.props.images_loaded}),React.createElement("figcaption",{className:"main_image_caption"},e.caption)):e.list_image_src?React.createElement("figure",{className:"main_image"},React.createElement("img",{id:"main_image",src:t+e.detail_image_src,onLoad:this.props.images_loaded,onError:this.props.images_loaded})):void this.props.images_loaded()},render:function(){var e=this.props.item;return React.createElement("div",null,React.createElement("header",{className:"dynamic_grid_header"},React.createElement("h2",{className:"category_title"},React.createElement("a",{href:"#",onClick:this.props.hide_detail},"PEOPLE")),React.createElement("h1",{className:"article_title"},e.name),React.createElement("h2",{className:"sub_title"},e.job_title)),React.createElement("div",{className:"clearfix",id:"primary_column"},this.getMainImage(),React.createElement("div",{className:"wysiwyg_content",dangerouslySetInnerHTML:{__html:e.body}})),React.createElement("div",{className:"clearfix",id:"secondary_column"},this.getMorePeopleSidebar()))}}),PersonListItem=React.createClass({displayName:"PersonListItem",showDetail:function(){this.props.selected_item(this.props.item)},render:function(){var e=this.props.item,t="";return"undefined"!=typeof this.props.options&&this.props.options.external_asset_url&&(t=this.props.options.external_asset_url),React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{onClick:this.showDetail,target:e.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner",dangerouslySetInnerHTML:{__html:e.short_description}}),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:t+e.list_image_src})),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.name)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_date"},e.date),React.createElement("div",{className:"content_title"},React.createElement("a",{onClick:this.showDetail,target:e.target},e.name)),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.short_description}})))}}),PublicationListItem=React.createClass({displayName:"PublicationListItem",render:function(){var e=this.props.item,t=e.citation?", "+e.citation.autoLink():"";return React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"list_text"},e.link?React.createElement("a",{className:"content_title",href:e.link,target:"_blank"},e.title):React.createElement("div",{className:"content_title"},e.title),React.createElement("div",{className:"article_teaser_body"},e.authors,React.createElement("div",{className:"citation"},e.periodical.title?e.periodical.title:"",React.createElement("span",{dangerouslySetInnerHTML:{__html:t}}))),e.link?React.createElement("a",{className:"list_link",href:e.link,target:"_blank"},"\u203a Download Article"):""))}}),ResourceListItem=React.createClass({displayName:"ResourceListItem",itemIsFancyboxable:function(){var e=this.props.item.fancyboxable,t=this.props.options&&this.props.options.fancybox;return e&&t},getImageAndDescription:function(e){return React.createElement("div",null,React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner",dangerouslySetInnerHTML:{__html:e.short_description}}),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.list_image_src,alt:e.alt_text})),this.getBottomGradient(e))},getBottomGradient:function(e){return this.props.options&&this.props.options.no_item_title?"":React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",{dangerouslySetInnerHTML:{__html:e.title}})))},getLinkedImageAndDescription:function(e){var t=this.props.item,i=t.url;if(this.props.options&&"undefined"!=typeof this.props.options.href_query_params&&(i+="?"+this.props.options.href_query_params),this.props.options.url_prefix&&i.indexOf("//")<0&&(i=this.props.options.url_prefix+i),this.props.options.url_suffix){var n=this.props.options.url_suffix;n.indexOf("?")&&url.indexOf("?")?i+=n.replace("?","&"):i+=n}return this.itemIsFancyboxable()?React.createElement("a",{href:i,className:"fancybox_slideshow","data-fancybox-group":"images","data-fancybox-href":t.detail_image,"data-title":t.title,"data-sharedescription":t.share_desc,"data-thumbnail":t.list_image_src,"data-link":i},e):React.createElement("a",{href:i},e)},render:function(){var e=this.props.item,t=this.getImageAndDescription(e),i=this.getLinkedImageAndDescription(t);return React.createElement("div",{className:"image_and_description_container"},i,React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url},e.title)),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.short_description}})))}}),SpiceAPI=React.createClass({displayName:"SpiceAPI",interval:null,getInitialState:function(){var e=this.props.duration?this.props.duration:3e5;return{frequency:this.props.frequency?this.props.frequency:1e3,duration:e,error:!1,received_data:!1,getting_more_data:!1,data:[],value:"",units:"",decimals:this.props.query.decimals?this.props.query.decimals:0,idx:-1,last_error:0,format_units:"standard"}},componentDidMount:function(){this.getData(),this.interval=setInterval(this.tick,this.state.frequency);var i=this;(this.props.toggle||this.props.query&&this.props.query.toggle)&&$("body").on("toggle_units",function(e,t){i.setState({format_units:t})})},tick:function(){var e=this.state.idx+1;if(this.state.getting_more_data);else if(this.state.error)now=(new Date).getTime,now>this.state.last_error+3e3&&(console.log("Error timeout up: Trying again."),this.setState({getting_more_data:!0,error:!1},this.getData()));else if(e<this.state.data.length){var t=this.state.data[e];this.setState({idx:e,value:t.value})
}else this.setState({getting_more_data:!0},this.getData())},componentWillUnmount:function(){console.log("UNMOUNT"),this.stopGettingData()},stopGettingData:function(){clearInterval(this.interval)},padZero:function(e){return e<10?"0"+e:e},getData:function(){var t=this;this.setState({received_data:!1,current_idx:-1},function(){var n=t.createURLFromQuery();console.log("Getting more data",n),$.ajax(n,{dataType:"json"}).success(function(e){t.onReceiveData(e)}).error(function(e,t,i){console.error("SpiceAPI.getData error",i,n)})})},onReceiveData:function(e){if(e.error)console.log(e.message),this.setState({received_data:!0,error:!0,getting_more_data:!1,last_error:(new Date).getTime()});else{var t=this.getIdxForNow(e.items),i=e.units;this.setState({data:e.items,received_data:!0,idx:t,getting_more_data:!1,units:i})}},createURLFromQuery:function(){return"distance"==this.props.query.request?this.props.base_url+this.buildDistanceUrl()+this.buildTimeUrl():"one_way_light_time"==this.props.query.request?this.props.base_url+this.buildLightTimeUrl()+this.buildTimeUrl():void 0},buildLightTimeUrl:function(){try{return"/getULTfromT1/"+this.props.query.from+"/"+this.props.query.to+"/"}catch(e){console.error("SpiceAPI: error creating distance url: ",e.message)}},buildDistanceUrl:function(){try{return"/getRangefromT1/"+this.props.query.from+"/"+this.props.query.to+"/"}catch(e){console.error("SpiceAPI: error creating distance url: ",e.message)}},buildTimeUrl:function(){var e=new Date;return e.setSeconds(0,0),e.toISOString().slice(0,18)+"/"+new Date(e.getTime()+this.state.duration).toISOString().slice(0,18)+"/"+parseInt(this.state.frequency)/1e3+"/"},getIdxForNow:function(e){for(var t=new Date,i=-1,n=!1;i+1<e.length&&!n;)i++,Date.parse(e[i].date)>=t&&(n=!0);return n?i:-1},getFormattedDistance:function(e,t){return this.props.query.toggle_units?[this.formatThousandsNoRounding(e.toFixed(0)),""]:[this.formatThousandsNoRounding(e.toFixed(0)),t]},formatNumber:function(e,t){var i=parseFloat(e);if(isNaN(i))return["",""];if("one_way_light_time"==this.props.query.request)return i<60?[i.toFixed(4),"secs"]:[(i/60).toFixed(6),"mins"];if("distance"!=this.props.query.request)return-1<this.state.decimals?[this.formatThousandsNoRounding(i.toFixed(this.state.decimals)),t]:[this.formatThousandsNoRounding(i),t];if("standard"!=this.state.format_units)return this.getFormattedDistance(i,"km");var n=.621371*i;return this.getFormattedDistance(n,"miles")},formatThousandsNoRounding:function(e,t){for(var i="",n=i+e,s=n.length,o=e<0?1:0,r=n.lastIndexOf("."),a=-1==r?s:r,l=i,c=n.substr(a+1,t);(a-=3)>o;)l=","+n.substr(a,3)+l;return n.substr(0,a+3)+l+(t?"."+c+(c.length<t?"00000".substr(0,t-c.length):i):i)},changeUnits:function(e){this.setState({format_units:e})},getUnitToggle:function(){var e=this;return this.props.query.toggle_units&&"distance"==this.props.query.request?React.createElement("span",{className:"toggle_units"},React.createElement("span",{onClick:function(){return e.changeUnits("standard")},className:"unit_toggle "+("standard"==e.state.format_units?"current":"")},"mi"),React.createElement("span",{onClick:function(){return e.changeUnits("metric")},className:"unit_toggle "+("metric"==e.state.format_units?"current":"")},"km")):null},render:function(){if(this.state.error)return React.createElement("div",{className:"error"},"Sorry, there was an error loading data. Trying again in 30s.");if(this.state.received_data){var e=this.formatNumber(this.state.value,this.state.units);return Array.isArray(e)?React.createElement("div",null,React.createElement("div",{className:"value"},e[0],React.createElement("span",{className:"units"},"\xa0",e[1]),this.getUnitToggle())):React.createElement("div",null,React.createElement("div",{className:"value"},e))}return React.createElement("div",{className:"loading"},"Loading...")}}),SplashScreen=React.createClass({displayName:"SplashScreen",spinner_opts:{lines:8,length:5,width:3,radius:6,color:"#FFF",speed:1,trail:100,shadow:!1,className:"spinner",top:"20px",left:"50%"},getInitialState:function(){return{spinner:null,open:!0}},componentDidMount:function(){var e=$("#splash_spinner").spin(this.spinner_opts);this.setState({spinner:e})},fadeOut:function(){var e=this;$(".splash").fadeOut(this.props.fade_time?this.props.fade_time:400,function(){e.setState({open:!1},function(){e.props.onClose&&e.props.onClose()})})},render:function(){return this.state.open?React.createElement("div",{className:"splash",style:{backgroundImage:"url("+this.props.background_image+")"}},React.createElement("div",{className:"splash_text"},React.createElement("h1",{className:"splash_title"},this.props.title),React.createElement("p",{className:"splash_description"},this.props.description),this.props.loaded?React.createElement("a",{className:"button",onClick:this.fadeOut},this.props.button_text):React.createElement("div",{className:"splash_loading"},React.createElement("div",{id:"splash_spinner"}),"Loading..."),this.props.children)):null}}),SvgIcon=React.createClass({displayName:"SvgIcon",getInitialState:function(){return{unique_id:"svg-icon-label-"+this.getUniqueID()}},getRandomInt:function(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e))+e},getUniqueID:function(){return this.getRandomInt(0,Math.pow(36,8)).toString(36)},render:function(){return this.props.label?React.createElement("div",{className:"icon svg_icon_container"},React.createElement("svg",{width:"24",height:"24",className:"svg_icon","aria-labelledby":this.state.unique_id},React.createElement("switch",null,React.createElement("use",{xlinkHref:"#"+this.props.symbol}),React.createElement("foreignObject",{id:this.state.unique_id},this.props.label)))):React.createElement("div",{className:"icon svg_icon_container"},React.createElement("svg",{width:"24",height:"24",className:"svg_icon"},React.createElement("use",{xlinkHref:"#"+this.props.symbol})))}}),TabsGrid=React.createClass({displayName:"TabsGrid",getInitialState:function(){return{active_tab:this.props.tabs[0]}},propTypes:{tabs:React.PropTypes.arrayOf(React.PropTypes.object),title:React.PropTypes.string},setActiveTab:function(e){this.setState({active_tab:e})},removeContainer:function(e){return e.replace(/^<[^<]+>/g,"").replace(/<[^<]+>$/g,"")},render:function(){var e=this.props.tabs,t=this.props.options?this.props.options.fields:{},n=this;return React.createElement("section",{className:"tabs_grid"},React.createElement("header",null,React.createElement("h2",null,this.props.title),React.createElement("nav",null,1<e.length?e.map(function(e,t){var i=n.state.active_tab==e;return React.createElement("div",{className:"tab_item_container"},React.createElement("div",{key:t,className:"tab_nav_item"+(i?" current":""),onClick:function(){return n.setActiveTab(e)}},e.title))}):null)),React.createElement("div",{className:"tab"},React.createElement("div",{className:"tab_inner grid_layout"},this.state.active_tab.items?this.state.active_tab.items.map(function(e){return React.createElement("a",{className:"tabs_grid_item",key:e.id,href:t.url?e[t.url]:e.link},React.createElement("div",{className:"tabs_grid_img"},React.createElement("img",{src:t.image_src?e[t.image_src]:e.image_src})),React.createElement("div",{className:"tabs_grid_desc"},React.createElement("h3",null,t.title?e[t.title]:e.title),React.createElement("div",{dangerouslySetInnerHTML:{__html:n.removeContainer(t.description?e[t.description]:e.body)}})))}):null)))}}),Toggle=React.createClass({displayName:"Toggle",render:function(){return React.createElement("div",{className:this.props.toggle_class},React.createElement("a",{href:"#",className:this.props.button_a.class_name,title:this.props.button_a.text,onClick:this.props.button_a.click},this.props.button_a.text)," ",React.createElement("a",{href:"#",className:this.props.button_b.class_name,title:this.props.button_b.text,onClick:this.props.button_b.click},this.props.button_b.text))}}),ViewToggle=React.createClass({displayName:"ViewToggle",listView:function(e){e&&e.preventDefault(),$("body").trigger("show_list_view")},gridView:function(e){e&&e.preventDefault(),$("body").trigger("show_grid_view")},render:function(){var e={class_name:"nav_item ir list_icon",text:"list view",click:this.listView},t={class_name:"nav_item ir grid_icon",text:"grid view",click:this.gridView};return React.createElement(Toggle,{toggle_class:"view_selectors",button_a:e,button_b:t})}}),Video=React.createClass({displayName:"Video",loadJwPlayer:function(){jwplayer.key="aUHw/vpMvlcbkzWba1bSGOhfZ5nefVNAZYIC037cIbg=",jwplayer(""+this.props.video_div).setup({flashplayer:"/assets/mbcms/vendor/jwplayer/jwplayer.flash.swf",sources:this.props.files,width:"100%",autostart:this.props.autostart,image:this.props.poster,aspectratio:"16:9",modes:[{type:"html5"},{type:"flash"},{type:"download"}]})},checkAndPlayVideoInView:function(e){0<$("#"+e+":in-viewport").length&&"IDLE"==jwplayer(e).getState()?jwplayer(e).play(!0):0==$("#"+e+":in-viewport").length&&jwplayer(e).stop()},componentDidMount:function(){if("true"!=this.props.vrview&&(this.loadJwPlayer(),this.props.autostart&&"false"!=this.props.autostart)){var e,t=this;$(window).on("scroll",function(){clearTimeout(e),e=setTimeout(function(){t.checkAndPlayVideoInView(""+t.props.video_div)},50)})}},render:function(){var e,t;if(e=""!=this.props.caption&&1==this.props.display_caption?React.createElement("figcaption",null,this.props.caption):"",this.props.vrview&&"true"==this.props.vrview&&0<this.props.files.length){var i="/vrview?video="+this.props.files[0].file+"&is_stereo="+this.props.vrview_stereo+"&image="+this.props.poster;t=React.createElement("iframe",{frameBorder:"0",allowFullScreen:!0,height:"600px",src:i,width:"100%"})}else t=React.createElement("div",{id:this.props.video_div,className:"video_player"});return React.createElement("figure",null,t,e)}}),Carousel=React.createClass({displayName:"Carousel",carousel:null,componentDidMount:function(){var e=this.props.show?this.props.show:1,t=!!this.props.infinite&&this.props.infinite,i=!!this.props.autoplay&&this.props.autoplay,n=this.props.scroll?this.props.scroll:1,s=!!this.props.center&&this.props.center,o=this.props.initial?this.props.initial:0,r=this.props.responsive?this.props.responsive:[{}],a=!!this.props.arrows&&this.props.arrows;this.props.fancybox_yt&&$(document).ready(function(){var e={rel:"peopleprofiles",current:"",iframe:!0,width:"80%",height:"80%",maxWidth:"960px",maxHeight:"540px",reposition:!0},t={rel:"peopleprofiles",current:"",iframe:!0,width:"95%",height:"53%",maxWidth:"960px",maxHeight:"540px",reposition:!0};window.innerHeight>window.innerWidth?$(".video_cbx2").colorbox(t,function(){$("#colorbox").addClass("cboxTransparentTheme")}):$(".video_cbx2").colorbox(e,function(){$("#colorbox").addClass("cboxTransparentTheme")}),$(window).resize(function(){window.innerHeight>window.innerWidth?$.colorbox.resize({width:window.innerWidth>parseInt(t.maxWidth)?t.maxWidth:t.width,height:window.innerHeight>parseInt(t.maxHeight)?t.maxHeight:t.height}):$.colorbox.resize({width:window.innerWidth>parseInt(e.maxWidth)?e.maxWidth:e.width,height:window.innerHeight>parseInt(e.maxHeight)?e.maxHeight:e.height})})}),this.carousel=$("#"+this.props.carousel_id).slick({accessibility:!0,adaptiveHeight:!1,autoplay:i,autoplaySpeed:5e3,arrows:a,centerMode:s,centerPadding:"0",cssEase:"ease",dots:!1,draggable:!0,fade:!1,focusOnSelect:!1,easing:"linear",edgeFriction:.15,infinite:t,initialSlide:o,mobileFirst:!1,pauseOnHover:!0,pauseOnDotsHover:!1,respondTo:"window",responsive:r,slide:"",slidesToShow:e,slidesToScroll:n,speed:300,swipe:!0,swipeToSlide:!1,touchMove:!0,touchThreshold:5,useCSS:!0,variableWidth:!0,vertical:!1,verticalSwiping:!1,rtl:!1}),$(window).resize()},componentWillUnmount:function(){this.carousel.slick("unslick")},buildSlide:function(e){return this.props.fancybox_yt?React.createElement("div",{key:e.id,className:"slide"},React.createElement("a",{href:e.embed_video,className:"video_cbx2","data-fancybox-group":"videos",title:e.title+": "+e.body,rel:"peopleprofiles"},React.createElement("div",{className:"image_container"},React.createElement("img",{src:e.image_src,alt:e.alt_text}),React.createElement("img",{src:"/assets/yt_play_button.png",alt:"",className:"youtube_play_button"}))),React.createElement("div",{className:"slide_description"},React.createElement("h3",{dangerouslySetInnerHTML:{__html:e.title}}),React.createElement("p",{className:"description_body",dangerouslySetInnerHTML:{__html:e.body}}))):React.createElement("div",{key:e.id,className:"slide"},React.createElement("a",{href:e.link},React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"rollover_description"},e.body,React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{alt:"More",src:"/assets/overlay-arrow.png"}))),React.createElement("img",{src:e.image_src,alt:e.alt_text}))),React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.link},e.title)))},render:function(){this.props.slides;var t=this;return React.createElement("div",{id:this.props.carousel_id,className:"detail_carousel"},this.props.slides.map(function(e){return t.buildSlide(e)}))}}),CheckboxList=React.createClass({displayName:"CheckboxList",getInitialState:function(){return{truncation:this.props.more_less,items:this.props.items}},componentWillReceiveProps:function(e){e.items!==this.state.items&&this.setState({items:e.items})},makeId:function(e){var t=this.props.delimiter?this.props.delimiter:"-";return this.props.form_section+t+e.toLowerCase().replace(/\W/g,t)},formatText:function(e){return"sentence"==this.props.text_format?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():"none"==this.props.text_format?e:this.titleize(e)},blurOnEnter:function(e){13===e.keyCode&&(e.preventDefault(),$(e.target).blur())},titleize:function(e){var t=e.split(/[\W^-]/g);return(t=t.map(function(e){return e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()})).join(" ")},changeTruncation:function(e){(e&&e.preventDefault(),!this.state.truncation&&20<this.state.items.length)&&document.getElementById("form_section_"+this.props.form_section).scrollIntoView(!0);this.setState({truncation:!this.state.truncation})},filterCheckboxes:function(e){var t=e.target.value;if(""==t)this.setState({items:this.props.items});else{var i=new RegExp(t,"i"),n=this.props.items.filter(function(e){return"string"!=typeof e.value?i.test(e.label):i.test(e.value)});this.setState({items:n})}},getShowAll:function(){return this.props.show_all?React.createElement("li",null,React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:0==this.props.checked_items.length,name:"show_all",value:"",onChange:this.clearItems}),React.createElement("span",{className:"label_text"},"Show all"))):null},clearItems:function(){this.props.clear_items(this.props.form_section)},whenClicked:function(e){this.props.when_clicked&&this.props.when_clicked(e)},isChecked:function(e){return-1<this.props.checked_items.indexOf(e)},render:function(){var n=this,e=this.props.form_section;e+=this.state.truncation?" truncated":" expanded";var s=n.props.show_min?n.props.show_min:7;return React.createElement("fieldset",{className:e+" facet_section",id:"form_section_"+n.props.form_section},n.props.filterable?React.createElement("input",{className:"search_field wide filter_"+n.props.form_section,onChange:n.filterCheckboxes,type:"text",placeholder:this.props.placeholder?this.props.placeholder:"filter targets",onKeyUp:this.blurOnEnter}):"",React.createElement("ul",null,this.getShowAll(),n.state.items.map(function(e,t){var i=e.label.split(/[<>]/);return React.createElement("li",{className:"facetitem "+(s<=t?"truncatable ":"")+n.props.checkbox_class,key:n.makeId(e.label),id:n.makeId(e.label)},React.createElement("label",null,React.createElement("input",{className:"facet_checkbox",type:"checkbox",checked:n.isChecked(e.value),name:n.makeId(e.label),value:e.value,onChange:n.whenClicked}),React.createElement("span",{className:"label_text"},React.createElement("span",null,n.formatText(i[0])),e.targetCount&&n.props.show_count?React.createElement("span",{className:"facetitemcount target_count"},"\t("+(n.props.formatNumber?n.props.formatNumber(e.targetCount):e.targetCount)+")"):""),1<i.length?React.createElement("div",{className:"has_tooltip",title:n.titleize(i[1])}):""))})),this.props.more_less&&this.state.items.length>(this.props.show_min?this.props.show_min:7)?React.createElement("a",{href:"#more-options",className:"truncation_toggle",onClick:n.changeTruncation}):"")}}),CircularDefinitionTeasers=React.createClass({displayName:"CircularDefinitionTeasers",getInitialState:function(){return{detailed_def_visible:!1,active_definition_idx:-1}},getDefinitionsClass:function(){return klass=["definition_teasers",this.props.num_teasers.toString()],this.state.detailed_def_visible&&(console.log("getDefinitionsClass"),klass.push("detailed_def_visible")),klass.join(" ")},closeDetailedDefinition:function(e){e.stopPropagation(),e.preventDefault(),this.setState({detailed_def_visible:!1,active_definition_idx:-1})},clickedDefinition:function(e){console.log("clickedDefinition");var t=parseInt(e.currentTarget.getAttribute("data-idx"));this.setState({detailed_def_visible:!0,active_definition_idx:t})},getNav:function(){var i=this;return React.createElement("ul",{className:"detailed_def_nav"},this.props.items.map(function(e,t){return React.createElement("li",{key:t,className:i.state.active_definition_idx==t?"current":"",onClick:i.clickedDefinition,"data-idx":t},e.title)}))},componentDidMount:function(){window.addEventListener("reset_defs",this.resetDefs)},componentWillUnmount:function(){window.removeEventListener("reset_defs",this.resetDefs)},resetDefs:function(){this.setState({detailed_def_visible:!1,active_definition_idx:-1})},getDetailedDefinitionHtml:function(){var e=this;if(-1<this.state.active_definition_idx){var t=this.props.items[this.state.active_definition_idx];return React.createElement("div",{className:"detailed_definition"},React.createElement("a",{className:"close_button",onClick:e.closeDetailedDefinition},React.createElement("span",{className:"close_icon"})),React.createElement("a",{className:"detailed_def_title",onClick:e.closeDetailedDefinition},this.props.title),this.getNav(),React.createElement("div",{className:"definition_contents",dangerouslySetInnerHTML:{__html:t.body}}))}return""},getMobileDetailedDefinitionHtml:function(e){return e==this.state.active_definition_idx?this.props.items[this.state.active_definition_idx].body:""},getOculusClasses:function(e,t){var i=["definition","oculus"].concat(e);return t==this.state.active_definition_idx&&i.push("current"),i.join(" ")},getDefinitionHtml:function(){var i=this;return React.createElement("div",{className:"circular_definitions"},this.props.items.map(function(e,t){return React.createElement("div",{className:i.getOculusClasses(e.classes,t),key:e.id,onClick:i.clickedDefinition,"data-idx":t},React.createElement("div",{className:"bg_container",style:{backgroundImage:"url("+e.image_src+")"}}),React.createElement("div",{className:"title_container"},React.createElement("h2",{className:"title"},e.title),React.createElement("div",{className:"hover"},e.subtitle)),React.createElement("div",{className:"mobile_detailed_definition"},React.createElement("a",{className:"close_button",onClick:i.closeDetailedDefinition},React.createElement("span",{className:"close_icon"})),React.createElement("h2",{className:"mobile_detailed_definition_title"},e.title),React.createElement("div",{className:"mobile_detailed_definition_contents",dangerouslySetInnerHTML:{__html:i.getMobileDetailedDefinitionHtml(t)}})))}))},render:function(){return React.createElement("div",{className:this.getDefinitionsClass()},this.getDefinitionHtml(),this.getDetailedDefinitionHtml())}}),Countdown=React.createClass({displayName:"Countdown",getInitialState:function(){return{countdown_html:"",completed:!1}},componentWillMount:function(){var u=this;setInterval(function(){if(!u.state.completed){var e=new Date(u.props.date),t=u.props.count_up,i=new Date;if(i<e||t){var n=Math.abs(e.getTime()-i.getTime());n/=1e3;var s=Math.floor(n%60);n/=60;var o=Math.floor(n%60);n/=60;var r=Math.floor(n%24);n/=24;var a,l=Math.floor(n%365),c=Math.floor(n/365);a=0!=c?"<div class='time_years unit'>"+c+"<span class='time_label'>yrs</span></div><div class='time_days unit'>"+l+"<span class='time_label'>days</span></div>":"<div class='time_days unit'>"+l+"<span class='time_label'>days</span></div>",u.setState({countdown_html:a+"<div class='time_hours unit'>"+u.pad2(r)+"<span class='time_label'>hrs</span></div><div class='time_minutes unit'>"+u.pad2(o)+"<span class='time_label'>mins</span></div><div class='time_seconds unit'>"+u.pad2(s)+"<span class='time_label'>secs</span></div></div>"})}else u.setState({countdown_html:"<div class='completed'>COMPLETED</div>",completed:!0})}},1e3)},pad2:function(e){return e<10?"0"+e:e},render:function(){return React.createElement("div",{className:"countdown"},React.createElement("div",{className:"countdown_title"},this.props.title),React.createElement("div",{className:"countdown_time",dangerouslySetInnerHTML:{__html:this.state.countdown_html}}))}}),DateFilter=React.createClass({displayName:"DateFilter",initListeners:function(){var t=this.props.datepicker_class,i=this;$("input."+t).datepicker({dateFormat:"yy-mm-dd",showButtonPanel:!0,showOn:"button",buttonImage:"/assets/calendar_icon.png",buttonImageOnly:!1,buttonText:"calendar",beforeShow:function(e){return $("#ui-datepicker-div").wrap("<div class='datepicker_mask'></div>"),i.attachClickOutsideCloser(),i.onBeforeDatepickerShow(t,e)},onChangeMonthYear:function(e,t,i){setTimeout(function(){var e=$(i).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:function(){$.datepicker._clearDate(i.input)}}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1)},onClose:function(e,t){$("#ui-datepicker-div").unwrap(),""==this.value?this.setAttribute("placeholder",i.props.placeholder):this.setAttribute("placeholder",""),i.props.closeDatePicker&&i.props.closeDatePicker(e,t,this)}})},updateMinMaxValue:function(e){return console.log(e,this.props.min_date,this.props.max_date),{minDate:this.props.min_date,maxDate:this.props.max_date}},onBeforeDatepickerShow:function(e,t){var i=this;return this.props.clear&&setTimeout(function(){var e=$(t).datepicker("widget").find(".ui-datepicker-buttonpane");$("<button>",{text:"Clear",click:i.props.clear}).appendTo(e).addClass("ui-datepicker-clear ui-state-default ui-priority-primary ui-corner-all")},1),this.updateMinMaxValue(e)},attachClickOutsideCloser:function(){if(this.props.onBlur){var i=this;$(document).off("**").on("click touchstart",function(e){var t=$(e.target);t.hasClass("hasDatepicker")||t.hasClass("ui-datepicker")||t.hasClass("ui-icon")||t.hasClass("ui-datepicker-current")||t.hasClass("ui-datepicker-next")||t.hasClass("ui-datepicker-prev")||$(t).parents(".ui-datepicker").length||($(".hasDatepicker").datepicker("hide"),i.props.onBlur())})}},componentDidMount:function(){this.initListeners(),this.disableKeyboard(mb_utils.mobileAndTabletCheck())},disableKeyboard:function(e){e&&$(".calendar_input_binder input").attr("readonly",!0)},render:function(){return React.createElement("div",{className:"date_option_wrapper"},React.createElement("div",{className:"calendar_input_binder"},React.createElement("label",{className:"preposition"},this.props.preposition),React.createElement("label",{className:"preposition_small"},this.props.preposition_small),React.createElement("input",{className:this.props.datepicker_class,name:this.props.input_name,type:"text",placeholder:""==this.props.date_value?this.props.placeholder:"",value:this.props.date_value,onChange:this.props.changeValue,onKeyPress:this.props.onKeyPress})))}}),DeepZoom=React.createClass({displayName:"DeepZoom",viewer:null,componentDidMount:function(){this.viewer=OpenSeadragon({prefixUrl:"/assets/openseadragon/images/",id:this.props.zoom_id,tileSources:this.props.image_src})},componentWillUnmount:function(){this.viewer.removeAll()},render:function(){return React.createElement("div",{className:"deepzoom_container"},React.createElement("div",{id:this.props.zoom_id,className:"openseadragon",style:{height:this.props.height}}),this.props.caption?React.createElement("div",{className:"deepzoom_caption"},this.props.caption):null)}}),DsnStatus=React.createClass({displayName:"DsnStatus",get_data_interval:null,getInitialState:function(){return{frequency:this.props.frequency?this.props.frequency:15e3,targets:this.props.targets?this.props.targets:[],received_data:!1}},componentDidMount:function(){this.getData();var e=this;this.get_data_interval=setInterval(function(){e.getData()},this.state.frequency)},componentWillUnmount:function(){console.log("UNMOUNT"),this.stopGettingData()},stopGettingData:function(){clearInterval(this.get_data_interval)},getData:function(){var t=this,e=$("#vital_signs_modal");0==e.length||e.hasClass("visible")?$.ajax("/dsn_passthru/",{dataType:"xml"}).success(function(e){t.onReceiveData(e)}).error(function(e,t,i){console.log("DsnStatus.getData error",i)}):this.stopGettingData()},onReceiveData:function(e){var o=$(e),r=this.state.targets;$.each(this.state.targets,function(e,t){try{var i=o.find("downSignal[spacecraft="+t.short_name+"]"),n=o.find("upSignal[spacecraft="+t.short_name+"]");0<i.length&&0<n.length?r[e].status="sending_receiving":0<i.length?r[e].status="receiving":0<n.length?r[e].status="sending":r[e].status="disconnected"}catch(s){console.error("ERROR DsnStatus.onReceiveData",s.message)}}),this.setState({targets:r,received_data:!0})},getSignalHtml:function(){return this.state.received_data?this.state.targets.map(function(e){return React.createElement("div",{className:"signal",key:e.short_name},React.createElement("span",{className:e.status},React.createElement("div",{className:"dsn_icon"}),React.createElement("div",{className:"target_name"})))}):React.createElement("div",{className:"loader"},"loading...")},render:function(){return 0===this.props.info_tip.length?info_tip="":info_tip=React.createElement(InfoTip,{tip_text:this.props.info_tip}),React.createElement("div",{className:"dsn_connection"},React.createElement("header",null,React.createElement("h3",{className:"dsn_title"},this.props.title),info_tip),React.createElement("div",{className:"signals description"},this.getSignalHtml()))}}),EventListItem=React.createClass({displayName:"EventListItem",dateRange:function(e,t){var i=["January","February","March","April","May","June","July","August","September","October","November","December"];e=new Date(Date.parse(e)),t=new Date(Date.parse(t));return(e=i[e.getUTCMonth()]+" "+e.getUTCDate()+", "+e.getUTCFullYear())==(t=i[t.getUTCMonth()]+" "+t.getUTCDate()+", "+t.getUTCFullYear())?e:e+" - "+t},render:function(){var e=this.props.item,t=e.link;if(this.props.options.url_prefix&&t.indexOf("//")<0&&(t=this.props.options.url_prefix+t),this.props.options.url_suffix){var i=this.props.options.url_suffix;i.indexOf("?")&&t.indexOf("?")?t+=i.replace("?","&"):t+=i}return React.createElement("div",{className:"list_content"},React.createElement("div",{className:"list_text"},React.createElement("div",{className:"date"},this.dateRange(e.start_date,e.end_date)),React.createElement("h3",{className:"list_title"},React.createElement("a",{href:t,target:"_self"},e.title)),React.createElement("p",null,React.createElement("strong",null,"Location: "),e.location),React.createElement("a",{className:"list_link",href:t,target:"_self"},"\u203a\u203a view details")))}}),EventsByCity=React.createClass({displayName:"EventsByCity",viewer:null,getInitialState:function(){var e=this.props.items;return{sorted_items:this.sortItems(e),items:e}},componentWillReceiveProps:function(e){e.items!==this.state.items&&this.setState({sorted_items:this.sortItems(e.items),items:e.items})},componentDidMount:function(){this.testPos()},states:[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"]],sortItems:function(e){var r=this,i=[];return e.map(function(s){var t=s.start_date,o=[];if(i.forEach(function(e){e.title==t&&(o=e.items)}),0<o.length)!function(){var t=r.sectionTitle(s),i=[];o.forEach(function(e){e.title==t&&(i=e.items)});var e=r.getSortFor(s);if(0<i.length)i.push(s);else{var n=r.findPositionFor(e,t,s.city,o);o.splice(n,0,{title:t,sort:e,items:[s]})}}();else{var e=r.getPositionForDate(s.sort_date,i);i.splice(e,0,{title:t,sort_date:s.sort_date,items:[{title:r.sectionTitle(s),sort:r.getSortFor(s),items:[s]}]})}}),i},getPositionForDate:function(e,t){for(var i=t.length,n=0;n<t.length;n++){t[n];if(e<t.sort_date){i=n;break}}return i},findPositionFor:function(e,t,i,n){for(var s=n.length,o=0;o<n.length;o++){var r=n[o];if(r.sort<e);else{if(r.sort!=e){s=o;break}if(r.title>t){s=o;break}if(r.title==t&&r.city>i){s=o;break}}}return s},testPos:function(){},getSortFor:function(e){return null!==e.country&&"mars"==e.country.toLowerCase()?0:null!==e.country&&"United States of America (USA)"==e.country?1:2},convertStateAbbr:function(t){var e=this.states.filter(function(e){return e[1]==t});return 0<e.length?e[0][0]:t},sectionTitle:function(e){return"United States of America (USA)"==e.country?this.convertStateAbbr(e.state):e.country},dateRange:function(e,t){return e==t?e:e+" - "+t},getUrl:function(e){var t=e.link;if(this.props.options.url_prefix&&t.indexOf("//")<0&&(t=this.props.options.url_prefix+t),this.props.options.url_suffix){var i=this.props.options.url_suffix;i.indexOf("?")&&t.indexOf("?")?t+=i.replace("?","&"):t+=i}return t},getCategoryTitle:function(e){return e.category_titles&&0<e.category_titles.length?React.createElement("div",{className:"category"},e.category_titles[0]):null},getItemImage:function(e){return e.thumb_src?React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.thumb_src,alt:e.main_image_alt})):null},hasImage:function(e){return e.thumb_src?"":"no_float"},getListItemHtml:function(e,t){return React.createElement("li",{key:"li_"+t,className:"slide"},React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:this.getUrl(e),target:e.target},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},e.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),this.getItemImage(e),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text "+this.hasImage(e)},this.getCategoryTitle(e),React.createElement("div",{className:"date"},this.dateRange(e.start_date,e.end_date)),React.createElement("h3",{className:"list_title"},React.createElement("a",{href:this.getUrl(e),target:e.target},e.title)),React.createElement("p",null,React.createElement("span",null,"Location:")," ",e.location),React.createElement("a",{className:"list_link",href:this.getUrl(e),target:e.target},"Details \u203a"))))},render:function(){var i=this;return React.createElement("div",{className:"event_list_by_location"},this.state.sorted_items.map(function(e,t){return React.createElement("div",{className:"date_section",key:"d_"+t},React.createElement("div",{className:"date_title"},e.title),e.items.map(function(e,t){return React.createElement("div",{className:"country_section",key:"c_"+t},React.createElement("div",{className:"country_title"},e.title),React.createElement("ul",{className:"item_list list_view"},e.items.map(function(e,t){return i.getListItemHtml(e,t)})))}))}))}}),FlickrGallery=React.createClass({displayName:"FlickrGallery",getInitialState:function(){return this.defaultProps={},this.defaultProps.api_url="",
this.defaultProps.api_key="e999bf30762f741cf54a81b2f103b680",this.defaultProps.retreival_type="",this.defaultProps.retreival_id="72157662415118206",this.defaultProps.title="",this.defaultProps.per_page=500,{}},render:function(){var e="undefined"!=this.props.api_url?this.props.api_url:this.defaultProps.api_url,t="undefined"!=this.props.api_key?this.props.api_key:this.defaultProps.api_key,i="undefined"!=this.props.retreival_type?this.props.retreival_type:this.defaultProps.retreival_type,n="undefined"!=this.props.retreival_id?this.props.retreival_id:this.defaultProps.retreival_id,s="undefined"!=this.props.title?this.props.title:this.defaultProps.title,o="undefined"!=this.props.per_page?this.props.per_page:this.defaultProps.per_page;return"group"==i?e="https://api.flickr.com/services/rest/?method=flickr.groups.pools.getPhotos&api_key="+t+"&group_id="+n+"&per_page="+o+"&format=json&nojsoncallback=1":"photoset"==i&&(e="https://api.flickr.com/services/rest/?method=flickr.photosets.getPhotos&api_key="+t+"&photoset_id="+n+"&per_page="+o+"&format=json&nojsoncallback=1"),React.createElement(PhotoGallery,{title:s,api_url:e,per_page:o})}}),GridListPage=React.createClass({displayName:"GridListPage",getInitialState:function(){return{grid_list_view:this.props.default_view}},componentDidMount:function(){var e=this;$("body").on("show_list_view",function(){e.setState({grid_list_view:"list_view"})}),$("body").on("show_grid_view",function(){e.setState({grid_list_view:"grid_view"})})},render:function(){return React.createElement("section",{className:"grid_gallery module "+this.state.grid_list_view},React.createElement(GridList,this.props))}}),GridList=React.createClass({displayName:"GridList",filters:null,getInitialState:function(){console.log("MARS gridlist page");var e=this.props.title,m=this;if(this.props.filters){this.filters=JSON.parse(this.props.filters);var g=this.filters.filter(function(e){return""!=e[2][1]}).map(function(e){return{name:e[0],value:e[2][1]}})}else g=[];this.filters&&this.filters.map(function(t){console.log("checking param",t[0]);var i=null,e=mb_utils.getParam(t[0]);if(e&&""!=e)i=e;else if(/^scope/.test(t[0])){0<m.getRegexParam(/^condition_\d+=1(%3A|:)featured/).length&&(i="featured")}else if(/^date/.test(t[0])){var n;if("publications"==m.props.model){if(0<(n=m.getRegexParam(/^condition_\d+=\d+(%3A|:)publication_year/)).length){var s=n[0].match(/^condition_\d+=(\d+)(%3A|:)publication_year/);i=s?s[1]:null}}else if((n=mb_utils.getParam("year"))&&0<n.length){var o="events"==m.props.model?/^(\d+)(%3A|:)start_date/:/^(\d+)(%3A|:)publish_date/;s=Array.isArray(n)?n[0].match(o):n.match(o);i=s?s[1]:null}}else if(/^field/.test(t[0])){var r=t[0].match(/^field_(.+)/)[1],a=m.getRegexParam(r);if(0<a.length){s=a[0].match("condition_\\d+=(.+)(%3A|:)"+r);i=s?s[1]:null}}else if(/^tag/.test(t[0])){var l=mb_utils.getParam("tags");if(l&&0<l.length){var c=Array.isArray(l)?l[0].replace(/\+/g," ").split(","):l.replace(/\+/g," ").split(","),u=t[1].map(function(e){return e[1]}).filter(function(e){return-1!==c.indexOf(e)});0<u.length&&(i=u[0])}}else{var h=mb_utils.getParam("category");if(h&&0<h.length){var d=(h=Array.isArray(h)?h[0]:h).split(":"),p=t[1].map(function(e){return e[1].toString()}).filter(function(e){return-1!==d.indexOf(e)});1<p.length&&console.log("Multiple candidate categories found...setting to first option"),0<p.length&&(i=p[0])}}if(i&&""!=i){console.log("found param",i);var f=!1;g.map(function(e){e.name==t[0]&&(f=!0,e.value=Array.isArray(i)?i[0]:i)}),f||g.push({name:t[0],value:Array.isArray(i)?i[0]:i})}});var t=mb_utils.getParam("search");return{items:[],page:0,per_page:this.props.per_page?this.props.per_page:40,total:0,order:this.props.order?this.props.order:"created_at desc",title:e,filtering:g,searching:t?t[0]:"",first_load:!0}},componentWillMount:function(){this.getData(!1,main.initListeners)},getRegexParam:function(t){return location.search.substr(1).split("&").filter(function(e){return new RegExp(t).test(e)})},getData:function(t,i){var n=this,e={page:t?this.state.page+1:0,per_page:this.state.per_page,order:this.state.order,search:this.state.searching};$.extend(e,this.getConditions()),$.extend(e,this.getFilters()),$.extend(e,this.props.options),mb_utils.createCookie(this.props.model+"_gl"+location.pathname.replace(/\/$/,"").replace(/\//g,"_"),$.param(e),1/24),window.history.replaceState(e,null,"?"+$.param(e)),$.ajax({url:"/api/v1/"+n.props.model+"/",data:e,method:"GET",dataType:"json",success:function(e){console.log("Got items successfully.... "),t?n.setState({items:n.state.items.concat(e.items),total:e.total,per_page:e.per_page,page:e.page,first_load:!1}):(e.first_load=!1,n.setState(e)),"function"==typeof i&&i.call()}.bind(this),error:function(e,t,i){console.error(t,i.toString())}.bind(this)})},getMore:function(e){e.preventDefault(),this.getData(!0)},getConditions:function(){var e=this.props.conditions,i={};return e&&void 0!==e&&$.each(e,function(e,t){i["condition_"+(e+1)]=t.value+":"+t.name}),i},getOptions:function(){var e=this.props.options;return void 0!==e&&null!=e?e:{}},getFilters:function(){var s=this,e=this.state.filtering,o={},r=s.props.categories?s.props.categories.slice():[],a=this.getTags(),l=s.props.conditions?s.props.conditions.length+1:1;return $.each(e,function(e,t){if(console.log("param "+t.name+": "+t.value),""!=t.value)if("date"==t.name)if("publications"==s.props.model)o["condition_"+l]=t.value+":publication_year",l+=1;else if("events"==s.props.model)if("upcoming"==t.value){var i=new Date;o["condition_"+l]=i.getFullYear().toString()+"-"+(i.getMonth()+1).toString()+"-"+i.getDate().toString()+":end_date:gte",l+=1}else if("past"==t.value){i=new Date;o["condition_"+l]=i.getFullYear().toString()+"-"+(i.getMonth()+1).toString()+"-"+i.getDate().toString()+":end_date:lte",l+=1}else o.year=t.value+":start_date";else o.year=t.value+":publish_date";else if("scope"==t.name&&"featured"==t.value.toLowerCase())o["condition_"+l]="1:featured",l+=1;else if("scope"==t.name&&"all"==t.value.toLowerCase());else if(/^field/.test(t.name)){var n=t.name.match(/^field_(.+)/)[1];o["condition_"+l]=t.value+":"+n,l+=1}else/^tag/.test(t.name)?(0<a.length&&(a+=","),a=t.value):r.push(t.value)}),0<r.length&&(o.category=r.join(":")),0<a.length&&(o.tags=a),o},getTags:function(){var e=this.getOptions();return e&&e.tags?e.tags:""},getBlankScope:function(){var e=this.getOptions();return e&&e.blank_scope?e.blank_scope:"All"},getOptionName:function(t,i){var e=this.filters.find(function(e){return e[0]==t});if(void 0===e)return"";var n=e[1].slice();return n.unshift(e[2]),n.find(function(e){return 2==e.length?e[1].toString()==i:e[0].toString()==i})[0]},getTitleFromParams:function(e){var t=this.props.title,i=this;if(this.filters){var n="",s=t,o="",r="",a="";$.each(e,function(e,t){""!=t.value&&("type"==t.name||"category"==t.name?s=i.getOptionName(t.name,t.value):"scope"==t.name?n=i.getOptionName(t.name,t.value):"topic"==t.name?r=i.getOptionName(t.name,t.value):"date"==t.name?"upcoming"!=t.value&&(o="in "+t.value):"search"==t.name&&(a="matching '"+t.value+"'"))}),this.state&&""!=this.state.searching&&(a="matching '"+this.state.searching+"'"),this.props.scope_in_title&&""==n&&""==r&&""==o&&""==a&&(n=this.getBlankScope()),t=[n,r,s,o,a].filter(function(e){return""!=e}).join(" ")}return t},applySearch:function(e,t){this.setState({searching:e.target.value},function(){t&&t.call()})},clearSearch:function(){this.setState({searching:""},function(){this.getData(!1)})},setSearch:function(){this.setState({title:this.getTitleFromParams(this.state.filtering)},this.getData(!1))},applyFilters:function(e){e.preventDefault(),e.stopPropagation();var t,i,n=this.state.filtering;$(e.currentTarget).is("a")?(t=$(e.currentTarget).data("for-select"),i=$(e.currentTarget).data("select-val")):(t=e.target.name,i=e.target.value);var s=n.findIndex(function(e){return e.name==t});-1==s?n.push({name:t,value:i}):n[s].value=i,console.log("FORM PARAMS: ",n),this.setState({filtering:n,title:this.getTitleFromParams(n)},function(){console.log("FILTERING: ",this.state.filtering),this.getData(!1)})},getCorrectTitle:function(e){return this.props.results_in_title?this.getTitle(e,this.state.title):this.getTitle(e,this.props.title)},getTitle:function(e,t){return t?React.createElement("h2",{className:e},t):""},renderHeader:function(){return this.props.title_below_filters?React.createElement("header",{className:"gallery_header left_align"},this.renderFilters(),this.getCorrectTitle(""),this.props.view_toggle?React.createElement(ViewToggle,null):""):React.createElement("header",{className:"gallery_header"},this.getCorrectTitle("module_title"),this.renderFilters(),this.props.view_toggle?React.createElement(ViewToggle,null):"")},renderFilters:function(){var e=this.getOptions();if(this.filters||this.props.search)return React.createElement(FilterBar,{select_boxes:this.filters,search:this.props.search,placeholder:e.placeholder,changeFilters:this.applyFilters,changeSearch:this.setSearch,clearSearch:this.clearSearch,filtering:this.state.filtering,searching:this.state.searching,searchFn:this.applySearch})},renderItemList:function(){var e=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.",t=this,i=window[t.props.list_item+"ListItem"];if(this.props.options&&this.props.options.special_list&&0<this.state.items.length){var n=window[t.props.options.special_list];return React.createElement("div",{className:"special_list"},React.createElement(n,{items:this.state.items,options:t.getOptions()}))}return 0<this.state.items.length?React.createElement("ul",{className:"item_list "+t.props.class_name+(t.props.left_column?" "+t.props.default_view:"")},t.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide"},React.createElement(i,{item:e,options:t.getOptions()}))})):this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},e)},renderMoreButton:function(){var e=this.getOptions();if((this.state.page+1)*this.state.per_page<this.state.total)return React.createElement("footer",{className:"list_footer more_button"},React.createElement("div",{className:"loading"}),React.createElement("a",{className:e.button_class?e.button_class:"button",type:"button",href:"#",onClick:this.getMore},"More"))},render:function(){return React.createElement("div",{className:this.props.left_column?"":"grid_layout"},this.renderHeader(),this.renderItemList(),this.renderMoreButton())}}),HomepageDashboard=React.createClass({displayName:"HomepageDashboard",getInitialState:function(){return{items:this.props.items?this.props.items:[]}},render:function(){return React.createElement("ul",null,this.state.items.map(function(e){return React.createElement("li",{key:e.id,className:"slide vsoverlay","data-overlay-page":e.link,id:"dashboard_"+e.title.toLowerCase()},React.createElement("a",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"text_container"},React.createElement("div",{className:"title"},e.title),React.createElement("div",{className:"subtitle"},e.subtitle)),React.createElement("div",{className:"overlay_icon"}))))}))}}),ImageCarousel=React.createClass({displayName:"ImageCarousel",carousel:null,getInitialState:function(){return{idx:0}},componentDidMount:function(){var e=this;this.carousel=new MasterSlider,this.props.show_numbers||this.carousel.control("bullets",{autohide:!1}),this.carousel.control("arrows");var t={width:$(window).width(),height:400,layout:"autofill",space:5,fullwidth:!0,autoHeight:!1,autoplay:!1,speed:20,loop:!0,instantStartLayers:!0};this.carousel.setup(this.props.carousel_id,t),this.carousel.api.addEventListener(MSSliderEvent.CHANGE_START,function(){e.setState({idx:e.carousel.api.index()})}),$(window).resize()},componentWillUnmount:function(){this.carousel.slick("unslick")},buildSlide:function(e,t){var i="slide "+(t+1)+" - "+(""!=e.image_alt?e.image_alt:e.title),n="undefined"!=typeof e.theme?e.theme:"dark_background";return React.createElement("article",{className:"ms-slide "+n,key:t},React.createElement("div",{className:"gradient_container_top"}),React.createElement("img",{alt:i,"data-src":e.image_src,src:e.image_src}),React.createElement("div",{className:"gradient_container_bottom"}))},getSlideInfo:function(e){return this.props.slides[this.state.idx][e]},getSlideLink:function(){var e=this.props.slides[this.state.idx];if(e.link){var t=""!=e.link_text?e.link_text:"\u203a Full image and caption";return React.createElement("a",{href:e.link,target:e.target},t)}return null},getXofy:function(){return this.state.idx+1+"/"+this.props.slides.length},render:function(){this.props.slides;var i=this;return React.createElement("div",null,React.createElement("div",{id:this.props.carousel_id,className:"master-slider ms-skin-default"},this.props.slides.map(function(e,t){return i.buildSlide(e,t)})),React.createElement("div",{className:"image_carousel_caption"},this.props.show_numbers?React.createElement("div",{className:"x_of_y"},this.getXofy()):null,React.createElement("div",{className:"slider_title"},this.getSlideInfo("title")),React.createElement("span",{className:"slider_caption",dangerouslySetInnerHTML:{__html:this.getSlideInfo("body")}}),React.createElement("span",{className:"slider_link"},this.getSlideLink())))}}),InfoTabs=React.createClass({displayName:"InfoTabs",getInitialState:function(){return{tabs:this.props.tabs?this.props.tabs:[],active_idx:0,expanded:!1,truncated_length:this.props.truncated_length?this.props.truncated_length:250}},selectTab:function(e){var t=e.currentTarget.getAttribute("data-idx");this.setState({active_idx:t,expanded:!1},function(){$("#info_tabs_detail").parent().scrollTop(0)})},activeTab:function(){return this.props.tabs[this.state.active_idx]},getBody:function(){var e=this.activeTab().body;return e.length<=this.state.truncated_length?e:this.state.expanded?e:e.substring(0,this.state.truncated_length)},toggleTruncation:function(){this.state.expanded?this.setState({expanded:!1}):this.setState({expanded:!0})},moreLessHtml:function(){return this.activeTab().body.length<=this.state.truncated_length?"":React.createElement("a",{className:this.state.expanded?"less_option":"more_option",onClick:this.toggleTruncation})},getTabHtml:function(e,t){var i=this;return this.state.active_idx==t?React.createElement("div",null,React.createElement("div",{className:"info_tabs_link active",onClick:i.selectTab,"data-idx":t},React.createElement("div",{className:"tab_title"},e.title),React.createElement("div",{className:"wysiwyg_content"},React.createElement("div",{className:"mobile_tab_detail minimize",dangerouslySetInnerHTML:{__html:i.getBody()}}))),this.moreLessHtml()):React.createElement("div",{className:"info_tabs_link",onClick:i.selectTab,"data-idx":t},React.createElement("div",{className:"tab_title"},e.title))},render:function(){var i=this;return React.createElement("div",{className:"info_tabs module"},React.createElement("div",{className:"grid_layout"},React.createElement("div",{className:"col1"},React.createElement("header",{className:"info_tabs_header"},React.createElement("h2",null,this.props.title)),React.createElement("div",{className:"info_tabs_links"},React.createElement("ul",{id:"info_tabs_nav"},this.state.tabs.map(function(e,t){return React.createElement("li",{key:t},i.getTabHtml(e,t))})))),React.createElement("div",{className:"col2"},React.createElement("div",{className:"wysiwyg_content"},React.createElement("div",{className:"info_tabs_detail"},React.createElement("h3",{className:"info_tabs_title"},this.activeTab().title),React.createElement("div",{className:"info_tabs_content",id:"info_tabs_detail",dangerouslySetInnerHTML:{__html:this.activeTab().body}}))))),React.createElement("div",{className:"gradient_container_bottom"}),React.createElement("footer",null,React.createElement("a",{className:"more_link",href:this.props.more_link,target:this.props.more_link_target},"More about the program \u203a")))}}),InfoTip=React.createClass({displayName:"InfoTip",getInitialState:function(){return{info_panel_open:!1}},showInfoText:function(){this.setState({info_panel_open:!0})},hideInfoText:function(){this.setState({info_panel_open:!1})},toggleInfoText:function(){this.setState({info_panel_open:!this.state.info_panel_open})},render:function(){return React.createElement("span",{className:this.state.info_panel_open?"info_tip open":"info_tip",onMouseEnter:this.showInfoText,onMouseLeave:this.hideInfoText,onClick:this.toggleInfoText},React.createElement("div",{className:"info_icon"},React.createElement("svg",{height:"19",viewBox:"0 0 19 19",width:"19"},React.createElement("g",{fill:"none",transform:""},React.createElement("circle",{cx:"9.5",cy:"9.5",fill:"#eaeaea",r:"9.5"}),React.createElement("path",{className:"inner_icon",d:"m10.664 7.028c-.588 0-.996-.432-.996-.972 0-.648.576-1.164 1.176-1.164.552 0 .96.444.96.984 0 .612-.552 1.152-1.14 1.152zm-2.604 6.972 1.296-6.204h2.028l-1.296 6.204z",fill:"#aeaaab"})))),React.createElement("div",{className:"info_text"},this.props.tip_text))}}),MapEventsViaGoogle=React.createClass({displayName:"MapEventsViaGoogle",filters:null,getInitialState:function(){return{items:[],total:0,locations:[],map:null,infowindow:null,first_load:!0}},componentDidMount:function(){window.initMap=this.initMap,loadJS("https://maps.googleapis.com/maps/api/js?key=AIzaSyBhUMiIBs8syDQI0AAErZi7WioU0yQ_zYg&callback=initMap")},initMap:function(){var e=this,t=new google.maps.Map(document.getElementById("map_events_via_google"),{zoom:this.props.map_options.zoom,mapTypeId:this.props.map_options.map_type_id,center:new google.maps.LatLng(this.props.map_options.map_center_x,this.props.map_options.map_center_y)});this.setState({map:t},function(){e.getData(!1,e.getLocations)})},getData:function(e,t){var i=this,n={per_page:this.props.options.per_page,order:this.props.options.order,search:this.props.options.searching};$.extend(n,this.props.options),$.ajax({url:this.props.options.api_url,data:n,method:"GET",dataType:"json",success:function(e){console.log("Got items successfully.... "),e.first_load=!1,i.setState(e),"function"==typeof t&&t.call()}.bind(this),complete:function(){i.plotLocations()},error:function(e,t,i){console.error(t,i.toString())}.bind(this)})},getLocations:function(){for(var e=this,t=[],i=0;i<e.state.items.length;i++){var n=e.state.items[i];""!==n.lat&&""!==n.lng&&t.push([n.title,n.lat,n.lng,n.zip_code,n.start_date,n.start_time,n.address,n.city,n.state,n.country,n.location,n.link,n.registration_status,n.body])}e.setState({locations:t})},plotLocations:function(){console.log("PLOT LOCATIONS");var s=this,o=s.state.locations,e=[];if(this.props.map_options.bound_by_markers)var t=new google.maps.LatLngBounds;var i,n,r=new google.maps.InfoWindow,a="/assets/map_marker_blue.png",l="/assets/map_marker_white.png";for(n=0;n<o.length;n++){console.log(o[n][4]);var c=new Date>Date.parse(o[n][4])?l:a,u=new google.maps.LatLng(o[n][1],o[n][2]);i=new google.maps.Marker({position:u,map:s.state.map,icon:c}),s.props.map_options.map_clustering&&e.push(i),this.props.map_options.bound_by_markers&&t.extend(u),google.maps.event.addListener(i,"click",function(i,n){return function(){var e=o[n],t='\n\t\t\t\t\t\t<div class="map_info_window">\n\t\t\t\t\t\t\t<p class="title">'+e[0]+'</p>\n\t\t\t\t\t\t\t<p class="body">'+e[13]+"</p>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t\t";r.setContent(t),r.open(s.state.map,i),r.setZIndex(999)}}(i,n))}if(s.props.map_options.map_clustering)new MarkerClusterer(s.state.map,e,{imagePath:"/assets/markerclusterer/m"});this.props.map_options.bound_by_markers&&s.state.map.fitBounds(t)},addClicker:function(e,t){var i=this;google.maps.event.addListener(e,"click",function(){i.state.infowindow&&i.state.infowindow.close(),i.state.infowindow=new google.maps.InfoWindow({content:t}),i.state.infowindow.open(i.state.map,e)})},getTitle:function(){return""!=this.props.title?React.createElement("header",{className:"map_header"},React.createElement("h2",{className:"module_title"},this.props.title)):void 0},render:function(){return React.createElement("div",null,this.getTitle(),React.createElement("div",{className:"responsive_image","data-aspect-ratio":"3/2"},React.createElement("div",{id:"map_events_via_google",className:"responsive_image__element"})))}}),_extends=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e},MarsRelayStatus=React.createClass({displayName:"MarsRelayStatus",target_name:{MSL:"CURIOSITY",ODY:"ODYSSEY",MRO:"MARS RECONNAISSANCE ORBITER",MVN:"MAVEN",MRB:"OPPORTUNITY"},get_data_interval:null,getInitialState:function(){return{frequency:this.props.frequency?this.props.frequency:15e3,signal_status:"",hails:[],error:!1,received_data:!1}},componentDidMount:function(){this.getData();var e=this;this.get_data_interval=setInterval(function(){e.getData()},this.state.frequency)},componentWillUnmount:function(){console.log("UNMOUNT"),this.stopGettingData()},stopGettingData:function(){clearInterval(this.get_data_interval)},padZero:function(e){return e<10?"0"+e:e},getData:function(){var t=this,e={},i=$("#vital_signs_modal");0==i.length||i.hasClass("visible")?(this.props.lander&&(e={lander:this.props.lander}),this.props.orbiter&&(e=$.extend(e,{orbiter:t.props.orbiter})),$.ajax("/mars_relay_items/",{data:e,dataType:"json"}).success(function(e){t.onReceiveData(e)}).error(function(e,t,i){console.log("MarsRelayStatus.getData error",i)})):this.stopGettingData()},onReceiveData:function(e){e.error?(console.log(e.message),this.setState({received_data:!0,error:!0})):this.setState(_extends({},e,{received_data:!0}))},getTargetName:function(e){return this.props.lander?this.target_name[e.orbiter]:this.target_name[e.lander]},formatDateTime:function(e){var t=new Date(e);return t.getUTCMonth()+1+"/"+t.getUTCDate()+"/"+t.getUTCFullYear().toString().substr(-2)+" "+t.getUTCHours()+":"+this.padZero(t.getUTCMinutes())+":"+this.padZero(t.getUTCSeconds()+" UTC")},getSignalType:function(e){return"both"==e||"both_adaptive"==e||"forward_and_return"==e?"sending_receiving":"forward"==e||"forward_adaptive"==e?"receiving":"return"==e||"return_adaptive"==e?"sending":(console.error("Unexpected link type",e),"sending_receiving")},getHailHtml:function(){return this.state.current?React.createElement("div",{className:"signal"},React.createElement("span",{className:this.getSignalType(this.state.current.link_type)},React.createElement("div",{className:"dsn_icon"}),"COMMUNICATING WITH DSN VIA ",this.getTargetName(this.state.current))):React.createElement("div",{className:"signal"},React.createElement("span",{className:"disconnected"},React.createElement("div",{className:"dsn_icon"}),React.createElement("div",{className:"transmissions"},React.createElement("div",{className:"previous"},"LAST TRANSMISSION: ",React.createElement("span",null,this.state.previous?this.formatDateTime(this.state.previous.hail_end):""," ")),React.createElement("div",{className:"upcoming"},"NEXT TRANSMISSION: ",React.createElement("span",null,this.state.upcoming?this.formatDateTime(this.state.upcoming.hail_start):"")))))},getSignalsHtml:function(){return this.state.error?React.createElement("div",{className:"error"},"Sorry, there was an error getting data."):this.state.received_data?React.createElement("div",{className:"hails"},this.getHailHtml()):React.createElement("div",{className:"loader"},"loading...")},render:function(){return 0===this.props.info_tip.length?info_tip="":info_tip=React.createElement(InfoTip,{tip_text:this.props.info_tip}),React.createElement("div",{className:"mars_relay_connection"},React.createElement("header",null,React.createElement("h3",{className:"mars_relay_title"},this.props.title),info_tip),React.createElement("div",{className:"description signals"},this.getSignalsHtml()))}}),MegasectionNav=React.createClass({displayName:"MegasectionNav",getInitialState:function(){return{sticky:!1,nav_pos:-1,active:!1,active_sub_nav:{},last_clicked_sub_nav:{},is_touch:$("html").hasClass("touchevents")}},toggleNav:function(){this.setState({active:!this.state.active})},toggleSubNav:function(e){var t=this.state.active_sub_nav,i=t[e]?null:e;t[e]=i,this.setState({active_sub_nav:t,last_clicked_sub_nav:e})},componentDidMount:function(){undefined;if(0<$(".magic_shell_subnav").length&&$(".magic_shell_subnav").height(),"undefined"!=typeof nav&&(nav.onScroll=function(){}),"undefined"!=typeof magic_shell_nav&&(magic_shell_nav.onScroll=function(){}),this.props.has_feature&&"undefined"!=typeof IntersectionObserver){var e={root:null,rootMargin:"0px",threshold:[0]},t=new IntersectionObserver(this.stick,e),i=document.querySelector(".main_feature");t.observe(i)}},stick:function(e){var t=!e[0].isIntersecting;this.setState({sticky:t},function(){$("body").toggleClass("secondary_nav_is_fixed",t)})},getCurrentPageName:function(){var e=this.props.nav.items.filter(function(e){return e.current});return 0<e.length?React.createElement("span",{className:"megasection_page_name"},(this.state.sticky?":":"")+" "+e[0].name):""},getNavItemHTML:function(e,t){return React.createElement("li",{key:t,className:e.current?"current":""},this.getArrowBox(e),React.createElement("div",{className:"nav_title"},this.getLinkTitleTarget(e,!0)),this.getSubnav(e))},onArrowBoxClick:function(e){console.log("onArrowBoxClick"),this.toggleSubNav(e.target.getAttribute("data-name"))},getArrowBox:function(e){var t=this;e.name;return e.items&&0<e.items.length&&!this.state.is_touch?React.createElement("button",{type:"button",onClick:function(){t.toggleSubNav(e.name)},className:"arrow_box "+(this.state.active_sub_nav[e.name]?"reverse":"")},React.createElement("span",{className:"arrow_down"},"Expand")):e.items&&0<e.items.length&&this.state.is_touch?React.createElement("button",{type:"button",onMouseDown:function(){t.toggleSubNav(e.name)},className:"arrow_box "+(this.state.active_sub_nav[e.name]?"reverse":"")},React.createElement("span",{className:"arrow_down","data-name":e.name},"Expand")):null},getSubnav:function(e){var i=this;return e.items&&0<e.items.length?React.createElement("div",{className:"megasection_subnav_container "+(this.state.active_sub_nav[e.name]?"":"megasection_subnav_container--hidden")},React.createElement("ul",{className:"megasection_subnav"},e.items.map(function(e,t){return React.createElement("li",{key:"sub-"+t,className:e.current?"current":""},i.getLinkTitleTarget(e))}))):null},getLinkTitleTarget:function(t,i){var n=this;return this.state.is_touch?React.createElement("a",{className:i?"main_nav_item":"","data-href":t.link,onMouseDown:function(e){return n.onSubnavClick(e,t,i)},target:t.target},t.name):React.createElement("a",{className:i?"main_nav_item":"","data-href":t.link,onClick:function(e){return n.onSubnavClick(e,t,i)},target:t.target},t.name)},onSubnavClick:function(e,t,i){return console.log("onSubnavClick"),$("html").hasClass("touchevents")&&i?(this.toggleSubNav(t.name),this.state.last_clicked_sub_nav==t.name&&void(window.location=t.link)):(this.toggleSubNav(t.name),window.location=t.link,!1)},render:function(){var i=this;return React.createElement("div",{className:"megasection_nav "+(this.state.sticky?"sticky":"")+" "+(this.state.active?"":"megasection_nav--nav-hidden")},React.createElement("div",{className:"megasection_title_container "+(this.state.active?"":"megasection_title_container--nav-hidden"),onClick:i.toggleNav},React.createElement("span",{className:"megasection_title"},this.state.sticky||this.state.active||!this.props.has_feature?this.props.nav.title:"",this.getCurrentPageName())),React.createElement("ul",{className:"nav "+(this.state.active?"":"nav--hidden")},this.props.nav.items.map(function(e,t){return i.getNavItemHTML(e,t)})))}}),MissionListItem=React.createClass({displayName:"MissionListItem",getThumbHtml:function(){return this.props.item.thumb?React.createElement("div",{className:"list_image"},React.createElement("img",{className:"thumb",src:this.props.item.thumb,alt:this.props.item.title})):""},render:function(){var e=this.props.item;return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:e.url,target:"_blank"},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},React.createElement("div",{className:"rollover_description_text"},e.description),React.createElement("div",{className:"link_text_rollover"},e.link_text)),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),this.getThumbHtml(),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:e.url,target:"_blank"},e.title)),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.description}}),React.createElement("div",{className:"link_text"},React.createElement("a",{href:e.url,target:"_blank"},e.link_text))))}}),MosaicListItem=React.createClass({displayName:"MosaicListItem",itemIsFancyboxable:function(){var e=this.props.item.fancyboxable,t=this.props.options&&this.props.options.fancybox;return e&&t},getImageAndDescription:function(e){return React.createElement("div",null,React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner",dangerouslySetInnerHTML:{__html:e.short_description}}),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.list_image_src,alt:e.alt_text})),this.getBottomGradient(e))},getBottomGradient:function(e){if(this.props.options&&this.props.options.no_item_title)return"";var t=this.getDisplayTitle(e);return React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,t)))},getDisplayTitle:function(e){var t="",i="";return/^N_A/.test(e.title)?t="Anaglyph 3D":/^N_L/.test(e.title)?t="Left Mastcam":/^N_R/.test(e.title)?t="Right Mastcam":/^C_/.test(e.title)?t="InSight Context Camera":/^D_/.test(e.title)&&(t="InSight Deployment Camera"),/CYL/.test(e.title)?i="Cylindrical":/CYP/.test(e.title)?i="Cylindrical Perspective":/OLL/.test(e.title)?i="OLL":/POL/.test(e.title)?i="Polar":/VER/.test(e.title)?i="VER":/VRT/.test(e.title)?i="Vertical":/ORT/.test(e.title)?i="Orthographic":/ORR/.test(e.title)?i="Orthorectified":/PER/.test(e.title)&&(i="Perspective"),t+" "+i+" Mosaic (last updated "+e.date+")"},getLinkedImageAndDescription:function(e){var t=this.getLinkHref();return this.itemIsFancyboxable()?React.createElement("a",{href:t,className:"fancybox_slideshow","data-fancybox-group":"images","data-fancybox-href":item.detail_image,"data-title":item.title,"data-sharedescription":item.share_desc,"data-thumbnail":item.list_image_src,"data-link":t},e):React.createElement("a",{href:t},e)},getLinkHref:function(){var e=this.props.item.url;if(this.props.options&&"undefined"!=typeof this.props.options.href_query_params&&(e+="?"+this.props.options.href_query_params),this.props.options.url_prefix&&e.indexOf("//")<0&&(e=this.props.options.url_prefix+e),this.props.options.url_suffix){var t=this.props.options.url_suffix;t.indexOf("?")&&url.indexOf("?")?e+=t.replace("?","&"):e+=t}return e},render:function(){var e=this.props.item,t=this.getImageAndDescription(e),i=this.getLinkedImageAndDescription(t);return React.createElement("div",{className:"image_and_description_container"},i,React.createElement("div",{className:"list_text"},React.createElement("div",{className:"content_title"},React.createElement("a",{href:this.getLinkHref()},this.getDisplayTitle(e))),React.createElement("div",{className:"article_teaser_body",dangerouslySetInnerHTML:{__html:e.short_description}})))}}),Mosaics=React.createClass({displayName:"Mosaics",getInitialState:function(){return{mission_selector_open:!1,mission:this.props.mission?this.props.mission:"msl"}},default_filters:null,isCurrentMission:function(e){return this.state.mission==e?"current":""},toggleMissionSelector:function(){this.setState({mission_selector_open:!this.state.mission_selector_open})},changeMission:function(e){var t=e.currentTarget.dataset.mission;this.setState({mission:t})},getFacetedSearchSections:function(){var e={};switch(this.state.mission){case"msl":e=[{name:"From",datepicker:{field:"pub_date",condition:"gte"}},{name:"To",datepicker:{field:"pub_date",condition:"lte"}},{name:"Type",search_field:"title",checkboxes:[{label:"Cylindrical",value:"CYL"},{
label:"Cylindrical Perspective",value:"CYP"},{label:"OLL",value:"OLL"},{label:"Polar",value:"POL"},{label:"VER",value:"VER"},{label:"Vertical Projection",value:"VRT"}]},{name:"Camera",search_field:"title",checkboxes:[{label:"Anaglyph 3D",value:"N_A"},{label:"Left Mastcam",value:"N_L"},{label:"Right Mastcam",value:"N_R"}]}];break;case"insight":e=[{name:"From",datepicker:{field:"pub_date",condition:"gte",max_date:"datepicker_To",datepicker_class:"mosaics_to"}},{name:"To",datepicker:{field:"pub_date",condition:"lte",min_date:"datepicker_From",datepicker_class:"mosaics_from"}},{name:"Camera",search_field:"title",checkboxes:[{label:"Instrument Context Camera",value:"C_"},{label:"Instrument Deployment Camera",value:"D_"}]},{name:"Projection",search_field:"title",checkboxes:[{label:"Cylindrical",value:"CYL"},{label:"Cylindrical Perspective",value:"CYP"},{label:"Orthographic",value:"ORT"},{label:"Orthorectified",value:"ORR"},{label:"Perspective",value:"PER"},{label:"Polar",value:"POL"},{label:"Vertical",value:"VRT"}]}];break;default:console.log("Unknown mission")}return e},renderMosaicsFS:function(){var e=this.state.mission,t=[this.props.mosaic_category];t.push(this.props.mosaic_info[e].category);var i=this.getFacetedSearchSections(),n=this.props.options&&typeof this.props.options.url_suffix!=undefined?this.props.options.url_suffix:"";return console.log(this.props.options),React.createElement(FacetedSearch,{title:"Last Updated: "+this.props.mosaic_info[e].latest,model:"resources",list_item:"Mosaic",filters:this.default_filters,facet_sections:i,page_class:"mosaics",options:{url_suffix:n,must_cat:t.join(":"),order:"pub_date desc",view_toggle:!0,default_view:"grid_view",sort:[{label:"Newest to Oldest",value:"pub_date desc"},{label:"Oldest to Newest",value:"pub_date asc"}]}})},render:function(){var e="Viewing "+this.props.mosaic_info[this.state.mission].name+" Mosaics";return React.createElement("div",{className:"grid_layout"},React.createElement("article",null,React.createElement("div",{className:"mosaics_container"},React.createElement("header",{id:"page_header"},React.createElement("h1",{id:"article_title",className:"article_title"},"Mosaics"),this.props.mission?null:React.createElement("div",{className:"mission_selector"},React.createElement("h2",{className:"mission_header_text"},e),React.createElement("div",{className:"mission_selector_toggle"+(this.state.mission_selector_open?" open":""),onClick:this.toggleMissionSelector},"SELECT MISSION",React.createElement("div",{className:"mission_selector_arrow"})),this.state.mission_selector_open?React.createElement("div",{className:"missions"},React.createElement("div",{className:"mission msl "+this.isCurrentMission("msl"),"data-mission":"msl",onClick:this.changeMission},React.createElement("div",{className:"circle"}),React.createElement("div",{className:"mission_title"},"MSL MOSAICS")),React.createElement("div",{className:"mission insight "+this.isCurrentMission("insight"),"data-mission":"insight",onClick:this.changeMission},React.createElement("div",{className:"circle"}),React.createElement("div",{className:"mission_title"},"INSIGHT MOSAICS"))):null)),this.renderMosaicsFS())))}}),NewsListItem=React.createClass({displayName:"NewsListItem",getLinkTarget:function(){var e=this.props.item.url;return 0==e.indexOf("https://mars.")||0==e.indexOf("http://mars.")||0==e.indexOf("/news/")?"_self":"_blank"},render:function(){var e=this.props.item,t=e.url;if(this.props.options.url_prefix&&t.indexOf("//")<0&&(t=this.props.options.url_prefix+t),this.props.options.url_suffix){var i=this.props.options.url_suffix;i.indexOf("?")&&t.indexOf("?")?t+=i.replace("?","&"):t+=i}return React.createElement("div",{className:"image_and_description_container"},React.createElement("a",{href:t,target:this.getLinkTarget()},React.createElement("div",{className:"rollover_description"},React.createElement("div",{className:"rollover_description_inner"},e.description),React.createElement("div",{className:"overlay_arrow"},React.createElement("img",{src:"/assets/overlay-arrow.png",alt:"More"}))),React.createElement("div",{className:"list_image"},React.createElement("img",{src:e.thumb,alt:e.main_image_alt})),React.createElement("div",{className:"bottom_gradient"},React.createElement("div",null,React.createElement("h3",null,e.title)))),React.createElement("div",{className:"list_text"},React.createElement("div",{className:"list_date"},e.date),React.createElement("div",{className:"content_title"},React.createElement("a",{href:t,target:this.getLinkTarget()},e.title)),React.createElement("div",{className:"article_teaser_body"},e.description)))}}),PageDashboard=React.createClass({displayName:"PageDashboard",getInitialState:function(){return{api:[],countdown:[]}},componentDidMount:function(){this.props.single_slide||(this.carousel=$("#page_dashboard").slick({dots:!1,infinite:!0,speed:300,slide:".dashboard .slide",slidesToShow:5,slidesToScroll:5,centerMode:!1,variableWidth:!1,arrows:!0,onInit:function(){$(".dashboard").css("visibility","visible")},responsive:[{breakpoint:1500,settings:{slidesToShow:4,slidesToScroll:4}},{breakpoint:1200,settings:{slidesToShow:3,slidesToScroll:3}},{breakpoint:1024,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:769,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:700,settings:{slidesToShow:1,slidesToScroll:1,centerPadding:"0px"}}]}),$("body").on("dashboard_resize",function(){$("#page_dashboard")[0].slick.refresh()}),window.addEventListener("orientationchange",function(){var e=undefined;e=setInterval(function(){$("#page_dashboard")[0].slick.refresh()},500),setTimeout(function(){clearInterval(e)},3e3)}))},formatThousandsNoRounding:function(e,t){for(var i="",n=i+e,s=n.length,o=e<0?1:0,r=n.lastIndexOf("."),a=-1==r?s:r,l=i,c=n.substr(a+1,t);(a-=3)>o;)l=","+n.substr(a,3)+l;return n.substr(0,a+3)+l+(t?"."+c+(c.length<t?"00000".substr(0,t-c.length):i):i)},convertOption:function(e,t,i,n){var s=arguments.length<=3||n===undefined?null:n;return"api"==e.type?this.buildApiSlide(e,t,i):"countdown"==e.type?this.buildCountdownSlide(e,t,s):"sols_on_mars"==e.type?this.buildMarsSolsSlide(e,t,i):"raw_images"==e.type?this.buildRawImagesSlide(e,t,i):"undefined"!=typeof e.values?this.buildMultipleValuesSlide(e,t):this.buildStaticSlide(e,i,{suffix:e.suffix})},buildMarsSolsSlide:function(e,t,i){return i?React.createElement(SolsOnMars,{deg_east:e.deg_east,sol_0:e.sol_0}):React.createElement("div",null,React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(SolsOnMars,{deg_east:e.deg_east,sol_0:e.sol_0}))))},buildRawImagesSlide:function(e,t,i){return i?React.createElement(RawImagesDashboard,{mission:e.mission}):React.createElement("div",null,React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(RawImagesDashboard,{mission:e.mission}))))},buildApiSlide:function(e,t,i){return i?React.createElement(SpiceAPI,{base_url:"/spice_data",query:e}):React.createElement("div",null,React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement(SpiceAPI,{base_url:"/spice_data",query:e}))))},buildCountdownSlide:function(e,t,i){var n=this.state.countdown[t];if("number"==typeof i&&Array.isArray(n)&&(n=n[i]),n&&!Array.isArray(n))return React.createElement("div",{className:"image_and_description_container"},React.createElement(Countdown,{count_up:e.count_up,date:n.date,title:n.title,sols:n.sols,sol_0:n.sol_0,deg_east:n.deg_east}));this.getCountdownData(e,t,i)},buildMultipleValuesSlide:function(i,n){console.log(i);var s=this;return React.createElement("div",null,React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout multiple"},React.createElement("div",{className:"title"},i.title),i.values.map(function(e,t){return t+1==i.values.length?React.createElement("span",{className:"value_container last"},s.convertOption(e,n,!0,t)):React.createElement("span",{className:"value_container"},s.convertOption(e,n,!0,t))}))))},getCountdownData:function(e,i,n){var s=this;$.getJSON("/api/v1/basic_html_elements/"+e.id+"}",function(e){if(e.publish_date){var t=s.state.countdown;"number"==typeof n?(Array.isArray(t[i])||(t[i]=[]),t[i][n]={date:e.publish_date,title:e.title}):t[i]={date:e.publish_date,title:e.title},s.setState({countdown:t})}})},loadOverlay:function(e){$("body").trigger("feed_hipo",{url:e})},buildStaticSlide:function(e,t,i){var n=i&&i.suffix?" "+i.suffix:"",s="";return e.link!=undefined?s=React.createElement(SvgIcon,{symbol:"circle_arrow",label:"link"}):e.overlay!=undefined&&(s=React.createElement(SvgIcon,{symbol:"circle_plus",label:"open overlay"})),t?React.createElement("div",{className:"value"},e.value,n):React.createElement("div",null,React.createElement("div",{className:"image_and_description_container"},React.createElement("div",{className:"readout"},React.createElement("div",{className:"title"},e.title),React.createElement("div",{className:"value"},e.value,n," ",s))))},createSlide:function(e,t){var i=this;return e.link?React.createElement("li",{key:t,className:"slide link_to_page"},React.createElement("a",{href:e.link,target:e.target},this.convertOption(e,t))):e.overlay?React.createElement("li",{key:t,className:"slide overlay",onClick:function(){i.loadOverlay(e.overlay)}},this.convertOption(e,t)):React.createElement("li",{key:t,className:"slide"},this.convertOption(e,t))},render:function(){var i=this;return this.props.single_value?React.createElement("span",null,this.convertOption(this.props.options[0],0,!0)):this.props.single_slide?"api"==this.props.options.type?React.createElement("div",{className:"readout"},this.convertOption(this.props.options,0,!1)):React.createElement("div",{className:"readout"},this.convertOption(this.props.options[0],0,!1)):React.createElement("section",{className:"dashboard"},React.createElement("div",{className:"slide_container",id:"page_dashboard"},i.props.options.map(function(e,t){return i.createSlide(e,t)})))}}),PageSort=React.createClass({displayName:"PageSort",getInitialState:function(){return{current_page:this.props.initial_page,current_sort:this.props.initial_sort,current_pp:this.props.initial_pp}},changeSort:function(e){var t=e.target.value;this.setState({current_sort:t},this.props.changeSort(t))},changePerPage:function(e){var t=e.target.value;this.setState({current_pp:t},this.props.changePerPage(t))},render:function(){return React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,this.props),React.createElement("div",{className:"options"},React.createElement("div",{className:"page_option_wrapper sort_by"},React.createElement("label",null,"Sort by"),React.createElement("select",{className:"options_field",id:"order",name:"order",defaultValue:this.props.initial_sort,onChange:this.changeSort},this.props.sort_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)}))),React.createElement("div",{className:"page_option_wrapper per_page"},React.createElement("label",null," Per page"),React.createElement("select",{className:"options_field",id:"per_page",name:"per_page",defaultValue:this.props.initial_pp,onChange:this.changePerPage},this.props.per_page_options.map(function(e){return React.createElement("option",{key:e.value,value:e.value},e.label)})))))}}),PageSortPagination=React.createClass({displayName:"PageSortPagination",getInitialState:function(){return{page_input_val:this.props.page}},componentDidMount:function(){$(".page_selector input").val("")},prevPage:function(){if(1<this.props.page){var e=this.props.page-1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked previous page button",e)}},nextPage:function(){if(this.props.page<this.props.page_count){var e=this.props.page+1;this.setState({page_input_val:e},this.props.changePage(e)),this.props.logGaEvent&&this.props.logGaEvent("Clicked next page button",e)}},onPageInput:function(e){var t=parseInt(e.target.value);t<1?t=1:t>this.props.page_count&&(t=this.props.page_count),this.setState({page_input_val:t},this.props.changePage(t))},render:function(){var e=this.props.page<=1,t=this.props.page>=this.props.page_count;return React.createElement("div",null,React.createElement("div",{className:"pagination_nav"},React.createElement("nav",{className:"pagination"},React.createElement("span",{className:"prev"+(e?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"prev",onClick:this.prevPage})),React.createElement("div",{className:"page_selector"},React.createElement("input",{className:"page_num",placeholder:this.props.formatNumber?this.props.formatNumber(this.props.page):this.props.page,value:this.props.page,size:"4",type:"number",onChange:this.onPageInput,min:"1",max:this.props.page_count})," of",React.createElement("span",{className:"total_pages"}," ",this.props.formatNumber?this.props.formatNumber(this.props.page_count):this.props.page_count)),React.createElement("span",{className:"next"+(t?" disabled":"")},React.createElement("a",{href:"javascript:void(0)",rel:"next",onClick:this.nextPage})))))}}),PaginationCount=React.createClass({displayName:"PaginationCount",render:function(){return this.props.first_load?React.createElement("div",{className:"pagination_status"},React.createElement("span",null,"Loading...")):0==this.props.count?React.createElement("div",{className:"pagination_status no_results_text"},React.createElement("span",null,"No results found.")):React.createElement("div",{className:"pagination_status"},React.createElement("span",{className:"nonessential"},"Showing"),React.createElement("b",null,React.createElement("span",{className:"start_index"}," ",this.props.formatNumber?this.props.formatNumber(this.props.start_index+1):this.props.start_index+1),"-",React.createElement("span",{className:"end_index"},this.props.formatNumber?this.props.formatNumber(this.props.end_index):this.props.end_index," ")),"of",React.createElement("b",null,React.createElement("span",{className:"total_results"}," ",this.props.formatNumber?this.props.formatNumber(this.props.count):this.props.count," ")),React.createElement("span",{className:"nonessential"},1==this.props.count?singularize(this.props.item_type):this.props.item_type))}}),PhotoGallery=React.createClass({displayName:"PhotoGallery",getInitialState:function(){return{photo_items:[],index:null,prev_item:null,next_item:null,total:0,page:0,first_load:!0}},componentDidMount:function(){this.getData()},componentDidUpdate:function(){console.log("componentDidUpdate"),this.updateImageBuffer()},getData:function(r,a){var l=this,c="",u=r?this.state.page+1:0;$.ajax({url:this.props.api_url+"&page="+u,success:function(e){console.log(e);var t=[],i=(c=e).photoset.total,n=c.photoset.photo;u=e.photoset.page;for(var s=0;s<c.photoset.photo.length;s++){var o="https://farm"+n[s].farm+".staticflickr.com/"+n[s].server+"/"+n[s].id+"_"+n[s].secret+"_c.jpg";t.push({id:s,url:o})}r?l.setState({photo_items:l.state.photo_items.concat(t),page:u},function(){"function"==typeof a&&a.call()}):l.setState({photo_items:t,index:0,total:i,page:u,first_load:!1},function(){})}})},renderData:function(){console.log("renderData");var e=this.props.no_items_text?this.props.no_items_text:"There are no items matching these criteria.";if(0<this.state.photo_items.length){var t=this.state.photo_items[this.state.index];return React.createElement("div",{className:"gallery_content responsive_image","data-aspect-ratio":"3/2","data-avoid-crop":!0},React.createElement(PhotoListItem,{key:t.id,item:t,alt:"Photo "+(this.state.index+1)}))}return this.state.first_load?"Loading...":React.createElement("div",{className:"no_items"},e)},loadNext:function(){if(console.log("loadNext"),this.state.index<this.state.photo_items.length-1){var e=this.state.index+1;this.setState({index:e})}else this.state.index<this.state.total&&(console.log("loading more data..."),this.getData(!0,this.loadNext))},loadPrev:function(){if(0<this.state.index){var e=this.state.index-1;this.setState({index:e})}},updateImageBuffer:function(){},renderTitle:function(){return this.props.title&&""!=this.props.title?React.createElement("div",{className:"module_title"},this.props.title):null},renderPagination:function(){return this.state.total&&0!=this.state.total?React.createElement("div",{className:"photo_index"},this.state.index+1," / ",this.state.total):null},prevDisabled:function(){return 0==this.state.index?"disabled":""},nextDisabled:function(){return this.state.index==this.state.photo_items.length-1?"disabled":""},render:function(){console.log("render");var e=this;return React.createElement("div",null,this.renderTitle(),React.createElement("div",{className:"react_photo_gallery"},e.renderData(),e.renderPagination(),React.createElement("div",{className:"nav_container"},React.createElement("div",{className:"nav"},React.createElement("button",{type:"button",onClick:e.loadPrev,disabled:e.prevDisabled(),"data-role":"none",className:"prev arrow","aria-label":"Previous",role:"button"}),React.createElement("button",{type:"button",onClick:e.loadNext,disabled:e.nextDisabled(),"data-role":"none",className:"next arrow","aria-label":"Next",role:"button"})))))}}),PhotoListItem=React.createClass({displayName:"PhotoListItem",render:function(){return React.createElement("img",{src:this.props.item.url,alt:this.props.alt,className:"responsive_image__element"})}}),RawImageDetail=React.createClass({displayName:"RawImageDetail",hammer:null,landscape_to_portrait:!1,initial_width:null,getInitialState:function(){return isMobile.iOS?this.initial_width=90==window.orientation||-90==window.orientation?window.innerHeight:window.innerWidth:this.initial_width=90==window.orientation||-90==window.orientation?window.outerHeight:window.outerWidth,{detail_style:{width:"0px",left:"0px"},img_height:"0px",is_mobile:window.innerWidth<=600,single_column:!1,landscape:!1,no_image:!1,info_open:this.props.info_open_default,orientation_changed:!1,prev_disabled:this.props.prev_disabled,next_disabled:this.props.next_disabled,scrolling:!1,panning:!1,touch_position:{}}},componentDidMount:function(){this.updateDimensions(),window.addEventListener("keydown",this.handleArrowKeys),window.addEventListener("orientationchange",this.orientationChanged),window.addEventListener("touchstart",this.setScroll,{passive:!0}),window.addEventListener("touchmove",this.startScroll,{passive:!0}),window.addEventListener("touchend",this.endScroll),isMobile.iOS()?window.addEventListener("orientationchange",this.updateDimensions):window.addEventListener("resize",this.updateDimensions),"undefined"!=typeof addthis&&(console.log("addthis init"),addthis.toolbox(".addthis_sharing_toolbox"))},componentDidUpdate:function(){var e=this.props.item,t=window.location.origin+this.props.item_link;addthis.update("share","url",t),addthis.update("share","media",e.url),addthis.url=t,addthis.toolbox(".addthis_sharing_toolbox")},componentWillUnmount:function(){$("body").removeClass("noscroll"),window.removeEventListener("keydown",this.handleArrowKeys),window.removeEventListener("orientationchange",this.orientationChanged),window.removeEventListener("touchstart",this.setScroll),window.removeEventListener("touchmove",this.startScroll),window.removeEventListener("touchend",this.endScroll),isMobile.iOS()?window.removeEventListener("orientationchange",this.updateDimensions):window.removeEventListener("resize",this.updateDimensions)},orientationChanged:function(){this.setState({orientation_changed:!0})},setScroll:function(e){this.setState({touch_position:{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}})},startScroll:function(e){if(!this.state.scrolling&&!this.state.panning&&!this.state.landscape){var t={x:e.changedTouches[0].clientX-this.state.touch_position.x,y:e.changedTouches[0].clientY-this.state.touch_position.y};Math.abs(t.x)<Math.abs(t.y)&&5<Math.abs(t.y)&&(console.log("startScroll"),this.setState({scrolling:!0}))}},endScroll:function(){this.state.scrolling&&(console.log("endScroll"),$(".rid_inner").css("overflowY","initial"),this.setState({scrolling:!1}))},updateDimensions:function(){var e=$(".raw_images_list").width(),t=window.innerWidth,i=!1;console.log("window width: "+t);var n=!1,s=mb_utils.mobileCheck();if(t<600||(90==window.orientation||-90==window.orientation)&&s){var o=!0;e="100%",n=!0}else{t<1024&&(n=!0,!this.state.orientation_changed||0!=window.orientation&&180!=window.orientation||(t=this.initial_width)),t<769&&600<=t&&(i=!0);o=!1}var r=o?"0":"-"+$(ReactDOM.findDOMNode(this).parentNode).css("margin-left");if(o){if(90==window.orientation||-90==window.orientation){var a=!0;this.landscape_to_portrait=!1}else{a=!1;this.state.landscape?(this.landscape_to_portrait=!0,this.closeInfoPanel()):this.landscape_to_portrait=!1}this.setState({detail_style:{width:"100%",transform:"translateX(0px)",WebkitTransform:"translateX(0px)"},is_mobile:!0,single_column:n,landscape:a,no_image:i},function(){$("body").addClass("noscroll");var e=a&&!this.state.info_open?".raw_image_mobile_landscape_container":".rid_inner";this.initSwipe(e),this.landscape_to_portrait?this.setImageHeight("calc("+this.props.portrait_width+"px - 2em)"):this.setImageHeight()})}else this.setState({detail_style:{width:e,transform:"translateX("+r+")",WebkitTransform:"translateX("+r+")"},is_mobile:!1,single_column:n,landscape:!1,no_image:i,orientation_changed:!1,info_open:!1},function(){$("body").removeClass("noscroll"),this.setImageHeight(),this.hammer&&(this.hammer.off("swipeleft"),this.hammer.off("swiperight"))})},initSwipe:function(t){Hammer.defaults.touchAction="compute";var i=this;this.hammer&&this.hammer.destroy(),this.hammer=new Hammer.Manager($(t)[0],{domEvents:!0,inputClass:Hammer.TouchInput});var n=$(i.hammer.element),e=new Hammer.Pan({direction:Hammer.DIRECTION_HORIZONTAL,threshold:10});this.hammer.add(e),this.hammer.on("panstart",function(){i.setState({panning:!0})}),this.hammer.on("pan",function(e){i.state.scrolling||$(t).css("transform","translateX("+e.deltaX+"px)")}),this.hammer.on("panend",function(e){i.setState({panning:!1}),i.state.scrolling?i.endScroll():50<e.deltaX&&!i.state.prev_disabled?(console.log("Panned right"),i.slidePrev(n)):e.deltaX<-50&&!i.state.next_disabled?(console.log("Panned left"),i.slideNext(n)):($(t).animate({fakeProp:e.deltaX},0),$(t).animate({fakeProp:0},{step:function(e){$(this).css("transform","translateX("+e+"px)")},duration:200}))}),this.props.enter_from&&(setTimeout(function(){$(t).css("transform","translateX(0)")},50),setTimeout(function(){$(t).removeClass("left right")},200))},setImageHeight:function(e){if(e)this.setState({img_height:e});else{var t=$(".rid_image_container").innerWidth();this.setState({img_height:t+"px"})}},slidePrev:function(e){var t=this;this.state.prev_disabled||this.setState({prev_disabled:!0},function(){this.state.is_mobile?(e.addClass("right"),e.css("transform","translateX(120%)"),setTimeout(function(){t.props.prevFn.call()},200)):t.props.prevFn.call()})},slideNext:function(e){var t=this;this.state.next_disabled||this.setState({next_disabled:!0},function(){this.state.is_mobile?(e.addClass("left"),e.css("transform","translateX(-120%)"),setTimeout(function(){t.props.nextFn.call()},200)):t.props.nextFn.call()})},handleArrowKeys:function(e){37!=e.keyCode||this.state.prev_disabled?39!=e.keyCode||this.state.next_disabled||this.setState({next_disabled:!0},function(){this.props.nextFn.call()}):this.setState({prev_disabled:!0},function(){this.props.prevFn.call()})},launchFancybox:function(e){(e.preventDefault(),this.state.is_mobile)||$(e.target).parents(".raw_image_container").find("a.fancybox_slideshow").click()},formatDate:function(e){var t=["Jan.","Feb.","Mar.","Apr.","May","Jun.","Jul.","Aug.","Sep.","Oct.","Nov.","Dec."],i=new Date(e),n=i.getUTCDate(),s=t[i.getUTCMonth()],o=i.getUTCFullYear(),r=i.getUTCHours(),a=i.getUTCMinutes(),l=12<=r?"PM":"AM";return s+" "+n+", "+o+" "+(r=r%12==0?12:r%12)+":"+(a=a<10?"0"+a:a)+" "+l},openInfoPanel:function(){this.setState({info_open:!0,single_column:!1},function(){this.setImageHeight(),console.log("info panel opened"),this.initSwipe(".rid_inner"),this.props.setDefaultInfoOpen(!0)})},closeInfoPanel:function(){this.setState({info_open:!1,single_column:!0},function(){console.log("info panel closed"),this.initSwipe(".raw_image_mobile_landscape_container"),this.props.setDefaultInfoOpen(!1)})},renderImageButtons:function(){var e=this.props.item,t=e.url.match(/\/(.+)$/)[1],i=this.props.item_link;return React.createElement("div",{className:"rid_image_links addthis_sharing_toolbox","data-addthis-url":window.location.origin+this.props.item_link,"data-addthis-title":e.title,"data-addthis-description":"","data-addthis-media":e.url},React.createElement("a",{className:"addthis_button_compact"},React.createElement("img",{src:"/assets/share.png",alt:"Share"})),this.state.is_mobile||mb_utils.mobileAndTabletCheck()?React.createElement("a",{className:"button",href:e.url,target:"_blank"},"DOWNLOAD"):React.createElement("a",{className:"button",href:e.url,download:t},"DOWNLOAD"),this.state.is_mobile||mb_utils.mobileAndTabletCheck()?React.createElement("a",{className:"button",href:i,target:"_top"},"MORE INFO"):"",this.state.no_image&&!this.state.is_mobile?React.createElement("a",{className:"button",onClick:this.launchFancybox},"ENLARGE"):"")},renderPrevNextButtons:function(){var e=this;if(this.state.landscape)var t=$(".raw_image_mobile_landscape_container");else t=$(".rid_inner");return React.createElement("div",{className:"rid_prev_next_btns"},React.createElement("a",{className:this.state.prev_disabled?"rid_prev disabled":"rid_prev",onClick:function(){e.slidePrev(t)}},React.createElement("div",{className:"icon"})),React.createElement("a",{className:this.state.next_disabled?"rid_next disabled":"rid_next",onClick:function(){e.slideNext(t)}},React.createElement("div",{className:"icon"})))},render:function(){var e=this.props.item,t=(this.formatDate(e.date_taken),this.formatDate(e.date_received),this.props.enter_from&&!this.state.orientation_changed?this.props.enter_from:""),i=e.url;return"msl"==e.mission&&(i=e.url.replace(/\.jpg/i,"-br.jpg")),this.state.landscape&&!this.state.info_open?React.createElement("div",{className:"raw_image_detail_container"},React.createElement("div",{className:"raw_image_detail rid_mobile landscape"},React.createElement("div",{className:"raw_image_mobile_landscape_container "+t},React.createElement("div",{className:"rid_close",onClick:this.props.closeFn},React.createElement("div",{className:"icon"})),this.renderPrevNextButtons(),React.createElement("img",{src:i}),React.createElement("div",{className:"info_button",onClick:this.openInfoPanel},React.createElement("div",{className:"icon"}))))):React.createElement("div",{className:"raw_image_detail_container"},React.createElement("div",{className:"raw_image_detail_arrow"}),React.createElement("div",{className:"raw_image_detail"+(this.state.is_mobile?" rid_mobile":"")+(this.state.info_open?" info_open":""),style:this.state.detail_style},this.state.is_mobile&&!this.state.info_open?"":this.renderPrevNextButtons(),React.createElement("div",{className:"rid_inner "+t},React.createElement("div",{className:"rid_close",onClick:this.props.closeFn},React.createElement("div",{className:"icon"})),this.state.no_image||e.is_thumbnail?"":React.createElement("div",{className:"rid_left_col"},React.createElement("div",{className:"rid_image_container",style:{height:this.state.img_height}},React.createElement("a",{href:this.props.item_link,onClick:this.launchFancybox},React.createElement("img",{src:i}),React.createElement("div",{className:"zoom_icon"}),this.state.info_open?React.createElement("div",{className:"fs_icon",onClick:this.closeInfoPanel}):"")),this.state.single_column&&!this.state.info_open?"":this.renderImageButtons()),React.createElement("div",{className:"rid_right_col"},React.createElement("h2",{className:"rid_title"},e.title),this.state.is_mobile&&!this.state.info_open?this.renderPrevNextButtons():"",this.state.single_column&&!this.state.info_open?this.renderImageButtons():"",React.createElement("div",{className:"rid_description"},"insight"==e.mission?React.createElement("p",{dangerouslySetInnerHTML:{__html:e.description}}):React.createElement("p",null,"This image was taken by ",e.instrument.toUpperCase()," onboard NASA's Mars rover ",this.props.short_name," on Sol ",e.sol," (",e.date_taken,")"),React.createElement("p",null,React.createElement("b",null,"Image Credit: ")," NASA/JPL-Caltech")),e.is_thumbnail?this.renderImageButtons():""))))}});Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e,t){if(null==this)throw new TypeError('"this" is null or not defined');var i=Object(this),n=i.length>>>0;if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var s=t,o=0;o<n;){var r=i[o];if(e.call(s,r,o,i))return o;o++}return-1},configurable:!0,writable:!0});var RawImages=React.createClass({displayName:"RawImages",download_spinner_opts:{lines:9,length:6,width:4,radius:7,scale:1,corners:1,color:"#000",opacity:.2,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",left:"0",shadow:!1,hwaccel:!1,position:"relative"},mission_info:{msl:{title:"Mars Science Laboratory: Curiosity",short_name:"Curiosity",sol_0:49268,deg_east:137.44,link:"/missions/msl",sort_options:[{label:"Sol (Newest to Oldest)",value:"sol desc,instrument_sort asc,sample_type_sort asc, date_taken desc"},{label:"Sol (Oldest to Newest)",value:"sol asc,instrument_sort desc,sample_type_sort desc, date_taken asc"}]},mera:{title:"Mars Exploration Rover: Spirit",short_name:"Spirit",sol_0:46215,deg_east:175.47,link:"/missions/mera"},merb:{title:"Mars Exploration Rover: Opportunity",short_name:"Opportunity",sol_0:46235,deg_east:354.47,link:"/missions/merb"},insight:{title:"Mars InSight",short_name:"InSight",sol_0:51510,deg_east:135,link:"/missions/insight",sort_options:[{label:"Sol (Newest to Oldest)",value:"sol desc,date_taken desc"},{label:"Sol (Oldest to Newest)",value:"sol asc,date_taken asc"}]}},default_sort_options:[{label:"Date (newest)",value:"sol desc,instrument desc,date_taken desc"},{label:"Date (oldest)",value:"sol asc,instrument asc,date_taken asc"}],getInitialState:function(){mb_utils.readCookie("raw_images_filter");var e=mb_utils.getParam("per_page"),t=mb_utils.getParam("page"),i=mb_utils.getParam("order"),n=mb_utils.getParam("begin_sol"),s=mb_utils.getParam("end_sol"),o=mb_utils.getParam("begin_date"),r=mb_utils.getParam("end_date"),a=mb_utils.getParam("fbl"),l=mb_utils.getParam("af"),c=mb_utils.readCookie("raw_images_selection"),u=undefined;u=this.props.mission?this.props.mission:mb_utils.getParam("mission")?mb_utils.getParam("mission")[0]:null,i?i=i[0].replace(/\+/g," "):u&&this.mission_info[u].sort_options&&(i=this.mission_info[u].sort_options[0].value);var h=this,d={};this.blank_facets={};var p=u?this.props.filters.findIndex(function(e){return e.name==u}):0;$.each(this.props.filters,function(e,s){$.each(s.sections,function(e,n){if(h.blank_facets[s.name+"_"+n.name]=[],d[s.name+"_"+n.name]=[],l){var t=l[0].split(",");$.each(t,function(e,t){var i=n.checkboxes.findIndex(function(e){return t==e.value});-1<i&&d[s.name+"_"+n.name].push(n.checkboxes[i].value)})}})});var f=600<=window.innerWidth,m={all:{total:this.props.header_counts.total,new_count:this.props.header_counts.new_count},msl:{total:this.props.header_counts.msl.total,new_count:this.props.header_counts.msl.new_count},mera:{total:this.props.header_counts.mera.total,new_count:this.props.header_counts.mera.new_count},merb:{total:this.props.header_counts.merb.total,new_count:this.props.header_counts.merb.new_count},insight:{total:this.props.header_counts.insight.total,new_count:this.props.header_counts.insight.new_count}};return{items:[],selected_items:c?decodeURIComponent(c).split(","):[],total:0,page:t?parseInt(t[0]):0,per_page:e?parseInt(e[0]):50,order:i||"sol desc",begin_date:o&&!n?o[0]:"",end_date:r&&!s?r[0]:"",begin_date_input:o&&!n?o[0]:"",end_date_input:r&&!s?r[0]:"",is_download_modal_open:!1,is_download_request_open:!1,start_index:0,end_index:0,page_count:0,first_load:!0,selected_max:100,is_max_selected_modal_open:!1,begin_min_date:null,end_min_date:null,begin_max_date:0,end_max_date:0,current_detail:null,detail_enter_from:null,detail_info_open:!1,mission:u||"all",sending_download_request:!1,begin_sol:n?n[0]:"",end_sol:s?s[0]:"",begin_sol_input:n?n[0]:"",end_sol_input:s?s[0]:"",
filter_sections:this.props.filters[p].sections,active_facets:d,filters_open:f,mission_selector_open:!1,new_count:null,sol_count:null,latest:u?this.props.header_counts[u].latest:this.props.header_counts.latest,latest_by_mission:{},latest_sol:null,filter_by_latest:!!a,latest_sols:[],latest_sols_selected:a?a[0].split(","):[],header_counts:m}},componentWillMount:function(){ReactGA.initialize("UA-9453474-9")},componentDidMount:function(){if(this.getData(this.initListeners,!0),""!=this.state.begin_sol){var e=this.getDateForSol(this.state.begin_sol);this.setState({begin_date:e,begin_date_input:e})}else if(""!=this.state.begin_date){var t=this.getSolForDate(this.state.begin_date);this.setState({begin_sol:t,begin_sol_input:t})}if(""!=this.state.end_sol){var i=this.getDateForSol(this.state.end_sol);this.setState({end_date:i,end_date_input:i})}else if(""!=this.state.end_date){var n=this.getSolForDate(this.state.end_date);this.setState({end_sol:n,end_sol_input:n})}this.initTooltips();var s=this;$(document).on("selectem",function(e,t){var i=t;s.setState({per_page:t},function(){s.getData(function(){s._handleSelectABunch(i)})})})},componentWillUnmount:function(){$(window).off("selectToggleFromFancybox"),$(window).off("setCurrentDetailFromFancybox")},initListeners:function(){main.initListeners();var i=this;$(window).on("selectToggleFromFancybox",function(e,t){return $(".fancybox-open .button[data-external-id="+t+"]").toggleClass("selected"),$(".raw_list_image[data-external-id="+t+"]").parent().toggleClass("selected"),i.addRemoveImageFromCurrentSelection(t),mb_utils.createCookie("raw_images_selection",i.state.selected_items.join(","),365,!1),!1}),$(window).on("setCurrentDetailFromFancybox",function(e,t){console.log("event called from fancybox. id: "+t),i.viewDetail(t)})},_handleSelectABunch:function(e){console.log("num_items",e,this.state.items.length);var t=[];this.state.items.map(function(e){t.push(e.feiimageid)}),this.setState({selected_items:t})},initTooltips:function(){$(".question_tooltip").tooltipsy({alignTo:"element",delay:0,offset:[0,-1],css:{"margin-bottom":"10px","max-width":"150px"}})},getParams:function(e){var n=this,t=e?this.state.page:0,i={ajax_params:{order:this.state.order,per_page:this.state.per_page,page:t},cookie_params:{order:this.state.order,per_page:this.state.per_page,page:t,mission:this.state.mission}},s="",o="",r="";"all"!==this.state.mission&&(i.ajax_params.condition_1=this.state.mission+":mission");var a=2;if(this.state.filter_by_latest){var l=new Date(this.state.latest.replace(" UTC","Z").replace(" ","T"));l.setDate(l.getDate()-1),i.ajax_params["condition_"+a++]=l.toISOString()+":date_received:gte",i.ajax_params["condition_"+a++]=this.state.latest_sols_selected.toString()+":sol:in",i.cookie_params.fbl=this.state.latest_sols_selected.toString()}else{if(""!=this.state.begin_date){var c=!1;if(/^([0-9]{4})-([0-9][0-9]??)-([0-9][0-9]??)$/.test(this.state.begin_date)){i.cookie_params.begin_date=this.state.begin_date;var u=this.state.begin_date.replace(/-/g,"/"),h=new Date(u);this.numIsNan(h.getTime())||(c=!0,i.ajax_params["condition_"+a++]=u+":date_taken:gte")}c||this.setState({begin_date:""})}if(""!=this.state.end_date){var d=!1;if(/^([0-9]{4})-([0-9][0-9]??)-([0-9][0-9]??)$/.test(this.state.end_date)){i.cookie_params.end_date=this.state.end_date;var p=this.state.end_date.replace(/-/g,"/"),f=new Date(p),m=new Date(f.setDate(f.getDate()+1));if(!this.numIsNan(m.getTime())){d=!0;var g=m.getFullYear()+"-"+(m.getMonth()+1)+"-"+m.getDate();i.ajax_params["condition_"+a++]=g+":date_taken:lt"}}d||this.setState({end_date:""})}if(""!=this.state.begin_sol){var v=parseInt(this.state.begin_sol);0<=v?(i.ajax_params["condition_"+a++]=v+":sol:gte",i.cookie_params.begin_sol=v):(this.setState({begin_sol:""}),console.log("SOL values must be greater than or equal to 0"))}if(""!=this.state.end_sol){var y=parseInt(this.state.end_sol);0<=y?(i.ajax_params["condition_"+a++]=y+":sol:lte",i.cookie_params.end_sol=y):(this.setState({end_sol:""}),console.log("SOL values must be greater than or equal to 0"))}}$.each(this.state.filter_sections,function(e,i){var t=n.state.active_facets[n.state.mission+"_"+i.name];$.each(t,function(e,t){"extended"==i.field?(o+=0<o.length?",":"",o+=t):(s+=0<s.length?"|":"",s+=t)}),r+=0<r.length?","+t:t}),0<r.length&&(i.cookie_params.af=r);var _=this.props.filters.findIndex(function(e){return e.name==n.state.mission});return""==o&&this.props.filters[_].extended_default&&(o=this.props.filters[_].extended_default),i.ajax_params.search=s,i.ajax_params.extended=o,i},getData:function(i,e){var o,t=this,r=this,n=this.getParams(e);mb_utils.createCookie("raw_images_filter",$.param(n.cookie_params),365),window.history.replaceState(n,null,this.props.url+"/?"+$.param(n.cookie_params)),this.state.first_load&&(o=undefined,o=t.props.mission?t.props.mission:t.state.mission,$.ajax({url:"/api/v1/raw_image_items/"+o+"/latest",data:{sol:t.state.sol},method:"GET",dataType:"json",success:function(e){console.log("Got latest data successfully.... ");var t=e.latest_data,i={latest:t.latest,latest_sol:t.latest_sol,latest_sols:t.latest_sols?t.latest_sols:[],latest_sols_selected:t.latest_sols?t.latest_sols.slice():[],sol_count:t.sol_count,new_count:t.new_count},n=$.extend({},this.state.header_counts),s=$.extend({},this.state.latest_by_mission);"all"==o?(n={all:{total:t.total,new_count:t.new_count},msl:{total:t.msl.total,new_count:t.msl.new_count},mera:{total:t.mera.total,new_count:t.mera.new_count},merb:{total:t.merb.total,new_count:t.merb.new_count},insight:{total:t.insight.total,new_count:t.insight.new_count}},s={all:t.latest,msl:t.msl.latest,mera:t.mera.latest,merb:t.merb.latest,insight:t.insight.latest}):(n[o]={total:t.total,new_count:t.new_count},s[o]=t.latest),i=$.extend(i,{header_counts:n,latest_by_mission:s}),r.setState(i)}.bind(t),error:function(e,t,i){console.error(t,i.toString())}.bind(t)})),$.ajax({url:"/api/v1/raw_image_items",data:n.ajax_params,method:"GET",dataType:"json",success:function(e){console.log("Got items successfully.... ");var t=$.extend(e,{first_load:!1,current_detail:null});r.setState(t),this.updateIndices(),"function"==typeof i&&i.call()}.bind(this),error:function(e,t,i){console.error(t,i.toString())}.bind(this)})},updateIndices:function(){var e=this.state.page*this.state.per_page,t=Math.min(this.state.total,e+this.state.per_page),i=Math.ceil(this.state.total/this.state.per_page);this.setState({start_index:e,end_index:t,page_count:i})},closeDownloadStatus:function(e){$(e.target).parents(".download_status").slideUp()},toggleSection:function(e){$(e.target).parents(".form_section").toggleClass("open")},selectForDownload:function(e){if(this.state.selected_items.length>=this.state.selected_max)this.setState({is_max_selected_modal_open:!0});else{var t=$(e.target).parents(".raw_image_container").find(".raw_list_image").data("external-id");this.addRemoveImageFromCurrentSelection(t)}},addRemoveImageFromCurrentSelection:function(e){var t=this.state.selected_items,i=t.indexOf(e.toString());-1<i?t.splice(i,1):t.push(e.toString()),this.setState({selected_items:t},function(){mb_utils.createCookie("raw_images_selection",this.state.selected_items.join("%2C"),365,!1)})},clearSelected:function(){$(".raw_image_container").removeClass("selected"),mb_utils.createCookie("raw_images_selection","",365,!1),this.setState({selected_items:[]})},clearFilters:function(){var e=$.extend(!0,{},this.blank_facets);this.setState({begin_date:"",end_date:"",begin_date_input:"",end_date_input:"",begin_sol:"",end_sol:"",begin_sol_input:"",end_sol_input:"",active_facets:e,latest_sols_selected:[]},this.getData),ReactGA.event({category:"Raw Images",action:"Cleared all filters"})},removeFilter:function(e){var t=e.target.getAttribute("data-filter-name");if(console.log("remove filter",t),t){if(/^latest_sol/i.test(t)){var i=t.match(/latest_sol_(\d+)/)[1],n=this.state.latest_sols_selected.slice();n.splice(n.indexOf(parseInt(i)),1),this.setState({latest_sols_selected:n},this.getData)}else if(/^(date|sol)/i.test(t))this.setState({begin_date:"",end_date:"",begin_date_input:"",end_date_input:"",begin_sol:"",begin_sol_input:"",end_sol:"",end_sol_input:""},this.getData);else{var s=$.extend(!0,{},this.state.active_facets),o=t.split("_"),r=o[0]+"_"+o[1],a=s[r].indexOf(o[2]);s[r].splice(a,1),this.setState({active_facets:s},this.getData)}ReactGA.event({category:"Raw Images",action:"Removed a Filter",label:t})}},hasActiveFilters:function(){var i=!1;return $.each(this.state.active_facets,function(e,t){0<t.length&&(i=!0)}),""!=this.state.begin_date||""!=this.state.end_date||""!=this.state.begin_sol||""!=this.state.end_sol||""!=this.state.begin_date_input||""!=this.state.end_date_input||null!=this.state.begin_min_date||0!=this.state.begin_max_date||null!=this.state.end_min_date||0!=this.state.end_max_date||i},scrollToTop:function(e){var t=document.getElementById("article_title");t&&t.scrollIntoView&&(e.preventDefault(),t.scrollIntoView())},downloadImageSet:function(t){if(console.log("RawImages.downloadImageSet: ",t),0==t.length)return this.closeDownloadModal(),null;var e="/raw_images_download",i=this;$.ajax({url:e,data:{ids:t},method:"POST",dataType:"json",success:function(e){$(".download_status p").html(e.message).parent().slideDown(),$("html,body").animate({scrollTop:$(".download_status").offset().top-120}),i.closeDownloadModal(),ReactGA.event({category:"Raw Images",action:"Download Selected",label:t.length.toString()})},fail:function(){$(".errors").append("<p> Error: We were unable to process your request. Please try again. </p> "),i.closeDownloadModal()}})},submitDownloadRequest:function(){var r=this;if(!this.state.sending_download_request){var e=function(){r.setState({sending_download_request:!0});var e=$("#email_for_download").val(),t=e.indexOf("@"),i=e.lastIndexOf(".");if(t<1||i<t+2||i+2>=e.length)return $("#email_for_download").css({border:"1px solid #f2162a"}),$("#email_validation_error").show(),{v:!1};$("#email_for_download").css({border:"1px solid #777777"}),$("#email_validation_error").hide(),console.log("submitDownloadRequest");var n="/raw_images_download?email="+$("#email_for_download").val()+"&",s=r,o=mb_utils.readCookie("raw_images_filter");$.ajax({url:n+o,method:"GET",dataType:"json",success:function(e){console.log("success! data: "+e.message),s.setState({sending_download_request:!1}),$(".download_status p").html(e.message).parent().slideDown(),s.closeDownloadRequest(),s.closeDownloadModal(),$("html,body").animate({scrollTop:$(".download_status").offset().top-120}),ReactGA.event({category:"Raw Images",action:"Download Requested",label:o})},fail:function(){console.log("failure!"),$(".errors").append("<p> Error: We were unable to process your request. Please try again. </p> "),s.closeDownloadRequest(),s.closeDownloadModal()}})}();if("object"==typeof e)return e.v}},downloadFiltered:function(){var t,e=this;if(!(0<this.state.total))return null;if(console.log("RawImages.downloadFiltered"),this.setState({is_download_modal_open:!0}),0==this.hasActiveFilters())this.downloadFullSet();else{if(this.state.total>this.props.max_download)return this.closeDownloadModal(),this.openDownloadRequest(),null;t=[],console.log("Items: "+t),e.state.items.map(function(e){t.push(e.feiimageid)}),e.downloadImageSet(t)}},downloadSelected:function(){console.log("RawImages.downloadSelected"),this.downloadImageSet(this.state.selected_items)},downloadFullSet:function(){console.log("RawImages.downloadFullSet");var e="Download full image set below: <br />";e+="<ul>",e+='  <li><a href="/download_all/all_raw_images_0.zip">all_raw_images_0.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_1.zip">all_raw_images_1.zip (1.2 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_2.zip">all_raw_images_2.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_3.zip">all_raw_images_3.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_4.zip">all_raw_images_4.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_5.zip">all_raw_images_5.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_6.zip">all_raw_images_6.zip (1.3 GB)</a></li>',e+='  <li><a href="/download_all/all_raw_images_7.zip">all_raw_images_7.zip (1.2 GB)</a></li>',e+="</ul>",$(".download_status p").html(e).parent().slideDown(),$("html,body").animate({scrollTop:$(".download_status").offset().top-120}),this.closeDownloadModal(),ReactGA.event({category:"Raw Images",action:"Download All"})},numIsNan:function(e){return e.toString()!=e},formatNumber:function(e){if(this.numIsNan(e))return"";for(var t=e.toString(),i="",n=0;n<t.length;n++)(t.length-n)%3==0&&0<n&&(i+=","),i+=t.charAt(n);return i},changeDates:function(){var e=$("input[name=begin_date]").val(),t=$("input[name=end_date]").val(),i={begin_date:e,begin_date_input:e,end_date:t,end_date_input:t};""!=e&&(i.begin_sol=""),""!=t&&(i.end_sol=""),this.setState(i,function(){this.getData(),""!=this.state.begin_date&&this.setBeginSolPerDate(),""!=this.state.end_date&&this.setEndSolPerDate()}),ReactGA.event({category:"Raw Images",action:"Changed date range",label:(e||"Mission launch")+" - "+(t||"present")})},openDownloadModal:function(){this.downloadSelected(),this.setState({is_download_modal_open:!0})},openDownloadRequest:function(){this.setState({is_download_request_open:!0})},closeDownloadModal:function(){this.setState({is_download_modal_open:!1})},closeDownloadRequest:function(){this.setState({is_download_request_open:!1})},changePageIndex:function(e,t,i){this.changePageNumber(e+1,t,i)},changePageNumber:function(e,t,i){if(console.log("raw_images.changePageNumber page, maintain_scroll_position",e,i),this.numIsNan(e))console.log("changePageNumber: page is NaN"),this.setState({page:e});else{var n=e-1;if(console.log("page",e,n),this.setState({page:n},function(){this.getData(t,!0)}),!i)if((document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)>$(".raw_images_form").offset().top){var s=mb_utils.getIEVersion();0<s.major&&s.major<12?document.documentElement.scrollTop=$(".raw_images_form").offset().top:window.scrollTo(0,$(".raw_images_form").offset().top)}}ReactGA.event({category:"Raw Images",action:"Changed page",label:e.toString(),value:e})},changeOrder:function(e){console.log("ri: change order",e),this.setState({order:e},this.getData),ReactGA.event({category:"Raw Images",action:"Changed sort order",label:e})},changePerPage:function(e){console.log("ri: change pp",e),this.setState({per_page:e},this.getData),ReactGA.event({category:"Raw Images",action:"Changed per page",label:e,value:parseInt(e)})},onCheckBoxChange:function(e){var t=e.target,i=t.name.split("_")[0],n=/^\d+$/g.test(t.value)?parseInt(t.value):t.value;this.addRemoveCheckboxItemFromActiveFacets(i,n,t.checked)},addRemoveCheckboxItemFromActiveFacets:function(e,t){var i=$.extend(this.state.active_facets,{}),n=i[this.state.mission+"_"+e].indexOf(t);-1<n?i[this.state.mission+"_"+e].splice(n,1):i[this.state.mission+"_"+e].push(t),this.setState({active_facets:i},this.getData)},activeFilters:function(){var n=[],s=this;if(this.state.filter_by_latest){var e=this.state.latest_sols_selected.map(function(e){return{id:"latest_sol_"+e,text:"Sol: "+e}});n=n.concat(e)}else if(""!=this.state.begin_sol||""!=this.state.end_sol){var t=""==this.state.begin_sol?"Landing":this.state.begin_sol,i=""==this.state.end_sol?"Latest Sol":this.state.end_sol;n.push({id:"sol",text:"Sol: "+t+" to "+i})}else if(""!=this.state.begin_date||""!=this.state.end_date){var o=""==this.state.begin_date?"Mission start":this.state.begin_date,r=""==this.state.end_date?"Present":this.state.end_date;n.push({id:"date",text:"Date: "+o+" to "+r})}return $.each(this.state.active_facets,function(e,t){var i=s.getActiveFacetsArray(e,t);n=n.concat(i)}),n},getActiveFacetsArray:function(t,i){var e=this.state.filter_sections,n=this,s=e.filter(function(e){return n.state.mission+"_"+e.name==t})[0];if(s&&s.checkboxes)var o=s.checkboxes.filter(function(e){return-1<i.indexOf(e.value)}).map(function(e){return{id:n.state.mission+"_"+s.name+"_"+e.value,text:titleize(t.split("_")[1])+": "+e.label}});return o&&0<o.length?o:[]},itemIsSelected:function(e){return-1<this.state.selected_items.indexOf(e.toString())},changeBeginDateValue:function(e){console.log("changeBeginDateValue",e.target.value),this.setState({begin_date_input:e.target.value}),ReactGA.event({category:"Raw Images",action:"Changed begin date",label:e.target.value.toString()})},changeOnEnter:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&(console.log("changeOnEnter: enter pressed in date field"),this.changeDates())},addDaysToMinDate:function(e,t){var i=new Date(e);return i.setDate(e.getDate()+t),i},beginDatePickerClose:function(e,t,i){if(""!=e){console.log(e,t,i);var n=new Date(e);n.setDate(n.getDate()+1),this.setState({end_min_date:n,begin_date_input:e},this.changeDates)}},endDatePickerClose:function(e,t,i){""!=e&&(console.log(e,t,i),this.setState({begin_max_date:new Date(e),end_date_input:e},this.changeDates))},clearBeginDate:function(){this.setState({begin_min_date:null,begin_date_input:"",end_min_date:null},this.changeDates),ReactGA.event({category:"Raw Images",action:"Cleared begin date"})},clearEndDate:function(){this.setState({end_max_date:0,end_date_input:"",begin_max_date:0},this.changeDates),ReactGA.event({category:"Raw Images",action:"Cleared end date"})},changeEndDateValue:function(e){console.log(e),this.setState({end_date_input:e.target.value}),ReactGA.event({category:"Raw Images",action:"Changed end date",label:e.target.value.toString()})},setBeginSolPerDate:function(){if(""!=this.state.begin_date){console.log("SetBeginSolPerDate:",this.state.begin_date);var e=this.getSolForDate(this.state.begin_date);0<=e&&this.setState({begin_sol_input:e,begin_sol:""})}},setEndSolPerDate:function(){if(""!=this.state.end_date){console.log("SetEndSolPerDate:",this.state.end_date);var e=this.getSolForDate(this.state.end_date);0<=e&&this.setState({end_sol_input:e,end_sol:""})}},cancelMaxSelectedModal:function(){this.setState({is_max_selected_modal_open:!1})},closeMaxSelectedAndCloseModal:function(){this.downloadSelected(),this.setState({is_max_selected_modal_open:!1})},viewFirstDetail:function(){this.viewDetail("FIRST_ITEM","right")},viewLastDetail:function(){this.viewDetail("LAST_ITEM","left")},viewDetail:function(e,t){"PREV_PAGE"==e?this.changePageIndex(this.state.page-1,this.viewLastDetail,!0):"NEXT_PAGE"==e?this.changePageIndex(this.state.page+1,this.viewFirstDetail,!0):"FIRST_ITEM"==e?this.setState({current_detail:this.state.items[0].id,detail_enter_from:t},this.scrollToDetail):"LAST_ITEM"==e?this.setState({current_detail:this.state.items[this.state.items.length-1].id,detail_enter_from:t},this.scrollToDetail):this.setState({current_detail:e,detail_enter_from:t},this.scrollToDetail)},scrollToDetail:function(){var e=$(".raw_image_detail").parents(".raw_image_container");if(0<e.length){var t=$("header.site_header").outerHeight(),i=e.next(),n=e.prev(),s=600<=window.innerWidth?e.offset().top-t-5:e.offset().top,o=undefined,r=undefined;if(o=0<i.length?600<=window.innerWidth?e.offset().top+i.height()-t-1:i.offset().top:0,r=0<n.length?600<=window.innerWidth?n.offset().top-t-5:n.offset().top:0,Math.abs(s-window.scrollY)<5||Math.abs(o-window.scrollY)<5||Math.abs(r-window.scrollY)<5){var a=mb_utils.getIEVersion();0<a.major&&a.major<12?document.documentElement.scrollTop=s:window.scrollTo(0,s)}else $("html,body").animate({scrollTop:s},200)}},closeDetail:function(){this.setState({current_detail:null})},filtersApplied:function(){return""==this.state.min_distance&&""==this.state.max_distance&&""==this.state.begin_date&&""==this.state.end_date},setDefaultInfoOpen:function(e){this.setState({detail_info_open:e})},logPagePrevNext:function(e,t){console.log("Logging page change event: "+e),ReactGA.event({category:"Raw Images",action:"Changed page",label:e,value:t})},changeBeginSolValue:function(e){this.setState({begin_sol_input:e.currentTarget.value})},changeEndSolValue:function(e){this.setState({end_sol_input:e.currentTarget.value})},changeBeginSol:function(e){var t=this,i={begin_sol:e.currentTarget.value,end_sol:this.state.end_sol_input};""!=e.currentTarget.value&&(i.begin_date=""),this.setState(i,function(){t.getData(),t.setBeginDatePerSol()})},changeEndSol:function(e){var t=this,i={end_sol:e.currentTarget.value,begin_sol:this.state.begin_sol_input};""!=e.currentTarget.value&&(i.end_date=""),this.setState(i,function(){t.getData(),t.setEndDatePerSol()})},setBeginSolOnEnter:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&this.changeBeginSol(e)},setEndSolOnEnter:function(e){e||(e=window.event),"13"==(e.keyCode||e.which)&&this.changeEndSol(e)},setBeginDatePerSol:function(){""!=this.state.begin_sol&&(console.log("SetBeginDatePerSol:",this.state.begin_sol),this.setState({begin_date_input:this.getDateForSol(this.state.begin_sol),begin_date:""}))},setEndDatePerSol:function(){""!=this.state.end_sol&&(console.log("SetEndDatePerSol:",this.state.end_sol),this.setState({end_date_input:this.getDateForSol(this.state.end_sol),end_date:""}))},getSolForDate:function(e){var t=this.mission_info[this.state.mission].sol_0,i=this.mission_info[this.state.mission].deg_east,n=e.split("-"),s=new Date(Date.UTC(n[0],parseInt(n[1])-1,n[2])),o=utcToMsd(s);return Math.floor(o-(360-i)/360-parseInt(t))},getDateForSol:function(e){var t=this.mission_info[this.state.mission].sol_0,i=this.mission_info[this.state.mission].deg_east,n=parseInt(t)+parseInt(e)+(360-i)/360,s=msdToUtc(n);return s.getUTCFullYear()+"-"+(s.getUTCMonth()+1)+"-"+s.getUTCDate()},changeMission:function(e){var t=e.currentTarget.dataset.mission,i=this.props.filters.filter(function(e){return e.name==t})[0],n=undefined;n=this.mission_info[t]&&this.mission_info[t].sort_options?this.mission_info[t].sort_options[0].value:this.default_sort_options[0].value,this.setState({mission:t,filter_sections:i.sections,begin_date:"",begin_date_input:"",end_date:"",end_date_input:"",begin_sol:"",begin_sol_input:"",end_sol:"",end_sol_input:"",order:n,filters_open:"all"!=t,filter_by_latest:!1,latest_sols:[],latest_sols_selected:[],first_load:!0},this.getData)},isCurrentMission:function(e){return this.state.mission==e?"current":""},toggleMissionSelector:function(){this.setState({mission_selector_open:!this.state.mission_selector_open})},getSortOptions:function(){return this.mission_info[this.state.mission]&&this.mission_info[this.state.mission].sort_options?this.mission_info[this.state.mission].sort_options:this.default_sort_options},getLatestSolInfo:function(){if("all"==this.state.mission){var e=new Date,t=["January","February","March","April","May","June","July","August","September","October","November","December"];return React.createElement("span",null,t[e.getUTCMonth()]+" "+e.getUTCDate()+", "+e.getUTCFullYear())}if(this.state.latest_sol&&this.state.sol_count)return React.createElement("span",null,React.createElement("strong",null,this.state.sol_count)," total ",1==this.state.sol_count?"image":"images"," for Sol ",this.state.latest_sol)},isLatest:function(e){if(e.date_received&&this.state.latest_by_mission[e.mission]){var t=new Date(e.date_received),i=new Date(this.state.latest_by_mission[e.mission]);return i.setUTCDate(i.getUTCDate()-1),t.valueOf()>=i.valueOf()}return!1},toggleFilters:function(){this.setState({filters_open:!this.state.filters_open})},setFiltersByDate:function(){this.setState({filter_by_latest:!1},this.getData)},setFiltersByLatest:function(){this.setState({filter_by_latest:!0},this.getData)},onLatestSolsCheckboxChange:function(e){var t=this.state.latest_sols_selected.slice(),i=t.indexOf(parseInt(e.target.value));-1==i?(t.push(parseInt(e.target.value)),t.sort()):t.splice(i,1),this.setState({latest_sols_selected:t},this.getData)},renderLatestInfo:function(){if(this.state.new_count)return React.createElement("div",{className:"latest_info"},React.createElement("h4",null,React.createElement("span",{className:"new_raw_images_count"},React.createElement("strong",null,this.state.new_count)," new ",1==this.state.new_count?"image":"images"),this.getLatestSolInfo()))},renderGrid:function(){var n=this,e=[{label:"25",value:25},{label:"50",value:50},{label:"100",value:100}],t=this.getSortOptions();return React.createElement("div",null,0<n.activeFilters().length?React.createElement("div",{className:"filtering_results"},"Filtering:",React.createElement("span",{className:"applied_filters"},n.activeFilters().map(function(e){return React.createElement("div",{key:e.id,className:"applied_filter"},React.createElement("a",{className:"filter_remove",href:"javascript:void(0)","data-filter-name":e.id,onClick:n.removeFilter}),e.text)})),React.createElement("a",{className:"clear_filter",onClick:n.clearFilters},"Clear filters")):this.renderLatestInfo(),React.createElement("hr",null),React.createElement("div",{id:"primary_column",className:"all"==this.state.mission?"full_width_grid":""},React.createElement(PaginationCount,{count:this.state.total,start_index:this.state.start_index,end_index:this.state.end_index,item_type:"images",formatNumber:this.formatNumber,first_load:this.state.first_load}),React.createElement(PageSort,{per_page_options:e,initial_pp:this.state.per_page,sort_options:t,initial_sort:this.state.order,page:this.state.page+1,count:this.state.total,changeSort:this.changeOrder,changePage:this.changePageNumber,changePerPage:this.changePerPage,page_count:this.state.page_count,formatNumber:this.formatNumber,logGaEvent:this.logPagePrevNext}),React.createElement("div",{className:"mobile_filter_btn"},0<n.activeFilters().length?React.createElement("a",{className:"mobile_clear_filters",onClick:n.clearFilters},"Clear all filters"):"","all"==this.state.mission?null:React.createElement("a",{className:"button",onClick:this.toggleFilters},"Show Filters"),React.createElement("hr",null)),React.createElement("section",{className:"raw_image_gallery grid_gallery"},React.createElement("ul",{className:"raw_images_list"},n.state.items.map(function(e){var t=e.url;"msl"==e.mission&&(t=e.url.replace(/\.jpg/i,"-thm.jpg"));var i="/raw_images/"+e.id+(n.props.mission?"?site="+n.props.mission:"");return React.createElement("li",{key:e.id,className:"raw_image_container "+(n.itemIsSelected(e.imageid)?" selected":"raw_image_container")+" "+(e.is_thumbnail?"thumbnail":"")},React.createElement("div",{className:"raw_list_image "+(n.isLatest(e)?"latest":""),"data-external-id":e.imageid},React.createElement("div",{className:"raw_list_image_inner",onClick:function(){n.viewDetail(e.id)}},React.createElement("a",{className:"fancybox_slideshow",href:i,"data-fancybox-group":"images","data-fancybox-href":e.url,"data-title":e.title,"data-sharedescription":"","data-thumbnail":t,"data-link":i,"data-id":e.id,"data-external-id":e.imageid}),React.createElement("img",{src:/staging/.test(t)?"https://placekitten.com/g/300/300":t}))),n.renderDetail(e))}))),React.createElement("div",{className:"errors"},React.createElement("div",{className:"date_error",style:{display:"none"}},"ERROR: Incorrect date format - please enter date as 'YYYY-MM-DD'.")),React.createElement("footer",{className:"search_footer"},React.createElement("div",{className:"pagination_options"},React.createElement(PageSortPagination,{initial_pp:n.state.per_page,page:this.state.page+1,changePage:n.changePageNumber,page_count:this.state.page_count,formatNumber:this.formatNumber,logGaEvent:this.logPagePrevNext}),React.createElement("span",{className:"scroll_to_top"},React.createElement("a",{href:"#",onClick:this.scrollToTop},"Back to top"))))),this.renderSidebar())},renderSidebar:function(){var i=this,e=this.state.latest_sols.map(function(e){return{label:"Sol "+e.toString(),value:e}});if(this.state.filters_open)return React.createElement("div",{id:"secondary_column"},React.createElement("aside",{className:"boxed raw_images_sidebar"},React.createElement("header",null,React.createElement("h2",null,"Filters"),React.createElement("div",{className:"mobile_filter_controls"},React.createElement("a",{className:"clear_filter",href:"javascript:void(0)","data-submit-form":"true",onClick:i.clearFilters},"Clear all"),React.createElement("a",{className:"button done",href:"javascript:void(0)",onClick:i.toggleFilters},"Done"))),React.createElement("hr",null),React.createElement("div",{className:"date_filters"},React.createElement("fieldset",{className:"latest_toggle"},React.createElement("input",{id:"by_date",className:"by_date",name:"by_date",type:"radio",onChange:this.setFiltersByDate,checked:!this.state.filter_by_latest,value:"by_date"}),React.createElement("label",{htmlFor:"by_date"},"Dates"),React.createElement("input",{id:"by_latest",className:"by_latest",name:"by_latest",type:"radio",onChange:this.setFiltersByLatest,checked:this.state.filter_by_latest,value:"by_latest"}),React.createElement("label",{htmlFor:"by_latest"},"Latest Images")),this.state.filter_by_latest?React.createElement(CheckboxList,{items:e,checked_items:this.state.latest_sols_selected,checkbox_class:"ri_checkbox",when_clicked:this.onLatestSolsCheckboxChange}):React.createElement("fieldset",{className:"observation_time"},React.createElement("div",{className:"filter_row"},React.createElement(DateFilter,{clear:this.clearBeginDate,min_date:this.state.begin_min_date,max_date:this.state.begin_max_date,closeDatePicker:this.beginDatePickerClose,placeholder:"yyyy-mm-dd",preposition:"From",preposition_small:"START",datepicker_class:"begin_date",input_name:"begin_date",date_value:this.state.begin_date_input,changeValue:this.changeBeginDateValue,onKeyPress:this.changeOnEnter}),React.createElement("input",{className:"begin_sol",type:"number",placeholder:"Sol",name:"begin_sol",value:this.state.begin_sol_input,onChange:this.changeBeginSolValue,onBlur:this.changeBeginSol,onKeyPress:this.setBeginSolOnEnter})),React.createElement("div",{className:"filter_row"},React.createElement(DateFilter,{clear:this.clearEndDate,min_date:this.state.end_min_date,max_date:this.state.end_max_date,closeDatePicker:this.endDatePickerClose,placeholder:"yyyy-mm-dd",preposition:"to",preposition_small:"END",datepicker_class:"end_date",input_name:"end_date",date_value:this.state.end_date_input,changeValue:this.changeEndDateValue,onKeyPress:this.changeOnEnter}),React.createElement("input",{className:"end_sol",type:"number",placeholder:"Sol",name:"end_sol",value:this.state.end_sol_input,onChange:this.changeEndSolValue,onBlur:this.changeEndSol,onKeyPress:this.setEndSolOnEnter})))),this.state.filter_sections.map(function(e,t){return React.createElement("div",{className:"form_section",key:t},React.createElement("hr",null),React.createElement("div",{className:"form_section_header",onClick:i.toggleSection},e.super_title?React.createElement("h3",null,e.super_title):null,React.createElement("h4",null,e.name),e.about_text?React.createElement("p",null,e.about_text):null,React.createElement("div",{className:"expand_section"},React.createElement("div",{className:"arrow_down"}))),React.createElement(CheckboxList,{items:e.checkboxes,checked_items:i.state.active_facets[i.state.mission+"_"+e.name]?i.state.active_facets[i.state.mission+"_"+e.name]:[],checkbox_class:"ri_checkbox",when_clicked:i.onCheckBoxChange,show_count:e.show_count,show_min:e.show_min,filterable:e.filterable,placeholder:e.placeholder,formatNumber:i.formatNumber,more_less:e.more_less,form_section:e.name,show_all:e.show_all,clear_items:i.clearItems,text_format:"none",delimiter:"_"}))})))},renderDetail:function(e){var t,i,n,s,o=this;if(this.state.current_detail==e.id){var r=(t=o.state.items.indexOf(e),i=undefined,n=undefined,s=undefined,0==t&&0<o.state.page?(i="PREV_PAGE",n=t<o.state.items.length-1?o.state.items[t+1].id:e.id):t==o.state.items.length-1&&o.state.page<o.state.page_count-1?(i=0<t?o.state.items[t-1].id:e.id,n="NEXT_PAGE"):(i=0<t?o.state.items[t-1].id:e.id,n=t<o.state.items.length-1?o.state.items[t+1].id:e.id),s=90==window.orientation||-90==window.orientation?isMobile.iOS()?screen.width:screen.height:window.innerWidth,{v:React.createElement(RawImageDetail,{item:e,item_link:"/raw_images/"+e.id+(o.props.mission?"?site="+o.props.mission:""),short_name:o.mission_info[e.mission].short_name,prevFn:function(){this.viewDetail(i,"left")}.bind(o),prev_disabled:i==e.id,nextFn:function(){this.viewDetail(n,"right")}.bind(o),next_disabled:n==e.id,closeFn:function(){this.closeDetail()}.bind(o),portrait_width:s,enter_from:o.state.detail_enter_from,setDefaultInfoOpen:o.setDefaultInfoOpen,info_open_default:o.state.detail_info_open,faq_link:"insight"==o.props.mission?"/insight/faq/#images":"/faq/#raw_images"})});if("object"==typeof r)return r.v}},renderMissionSelector:function(){var t=this;if(this.state.mission_selector_open
)return this.props.header_missions?React.createElement("div",{className:"missions"},this.props.header_missions.map(function(e){return React.createElement("div",{key:e.title,className:"mission "+("all"==e.raw_mission?"all_missions":e.raw_mission)+" "+t.isCurrentMission(e.raw_mission),"data-mission":e.raw_mission,onClick:t.changeMission},React.createElement("div",{className:"circle",style:{backgroundImage:"url("+e.image+")"}},React.createElement("div",{className:"mission_counts"},t.state.header_counts[e.raw_mission].new_count," New",React.createElement("br",null),t.state.header_counts[e.raw_mission].total," Total"),React.createElement("div",{className:"mission_title"},e.title)))})):React.createElement("div",{className:"missions"},React.createElement("div",{className:"mission all_missions "+this.isCurrentMission("all"),"data-mission":"all",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.all.new_count," New",React.createElement("br",null),this.state.header_counts.all.total," Total"),React.createElement("div",{className:"mission_title"},"All Missions"))),React.createElement("div",{className:"mission msl "+this.isCurrentMission("msl"),"data-mission":"msl",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.msl.new_count," New",React.createElement("br",null),this.state.header_counts.msl.total," Total"),React.createElement("div",{className:"mission_title"},"Curiosity"))),React.createElement("div",{className:"mission merb "+this.isCurrentMission("merb"),"data-mission":"merb",onClick:this.changeMission},React.createElement("div",{className:"circle "},React.createElement("div",{className:"mission_counts"},this.state.header_counts.merb.new_count," New",React.createElement("br",null),this.state.header_counts.merb.total," Total"),React.createElement("div",{className:"mission_title"},"Opportunity"))),React.createElement("div",{className:"mission mera "+this.isCurrentMission("mera"),"data-mission":"mera",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.mera.new_count," New",React.createElement("br",null),this.state.header_counts.mera.total," Total"),React.createElement("div",{className:"mission_title"},"Spirit"))),React.createElement("div",{className:"mission insight "+this.isCurrentMission("insight"),"data-mission":"insight",onClick:this.changeMission},React.createElement("div",{className:"circle"},React.createElement("div",{className:"mission_counts"},this.state.header_counts.insight.new_count," New",React.createElement("br",null),this.state.header_counts.insight.total," Total"),React.createElement("div",{className:"mission_title"},"InSight"))))},render:function(){var e=this,t={background:"#000"},i={lines:9,length:6,width:4,radius:7,scale:1,corners:1,color:"#FFF",opacity:.2,rotate:0,direction:1,speed:1,trail:60,fps:20,zIndex:2e9,className:"spinner",left:"50%",shadow:!1,hwaccel:!1,position:"relative"};undefined;this.filtersApplied(),this.formatNumber(this.state.total);var n=undefined;return n="all"==this.state.mission?"All raw images":this.mission_info[this.state.mission].title,React.createElement("div",{className:"grid_layout"},React.createElement("article",null,React.createElement("div",{className:"raw_images_form "+(0<this.state.items.length?"":"no_results")+" "+(this.state.filters_open?"":"faceted_search_hidden_filters")},React.createElement("header",{id:"page_header"},React.createElement("h1",{id:"article_title",className:"article_title"},"Raw Images"),this.props.mission?null:React.createElement("div",{className:"mission_selector"},React.createElement("div",{className:"active_mission_image "+this.state.mission}),React.createElement("div",{className:"active_mission_header"},React.createElement("h2",{className:"category_title"},"NOW VIEWING"),React.createElement("h2",{className:"mission_header_text"},n),"all"!==this.state.mission&&this.mission_info[this.state.mission].link?React.createElement("a",{href:this.mission_info[this.state.mission].link},"About ",this.mission_info[this.state.mission].short_name," \u203a"):null),React.createElement("div",{className:"mission_selector_toggle"+(this.state.mission_selector_open?" open":""),onClick:this.toggleMissionSelector},"SELECT A MISSION",React.createElement("div",{className:"mission_selector_arrow"})),this.renderMissionSelector())),React.createElement("div",{id:"modals"},React.createElement(Modal,{isOpen:this.state.is_download_modal_open,onClose:e.closeDownloadModal,className:"modal download_modal",width:"200",height:"170",style:t},React.createElement("p",null,"Your download will begin shortly"),React.createElement(Loader,{loaded:!1,options:i,className:"spinner"})),React.createElement(Modal,{isOpen:this.state.is_download_request_open,onClose:e.closeDownloadRequest,className:"modal download_request",width:"350"},React.createElement("a",{className:"close_button",onClick:e.closeDownloadRequest},React.createElement("div",{className:"close_icon"})),React.createElement("h1",null,"Download Request"),React.createElement("p",null,"Our system requires time to process requests of over ",e.props.max_download," images. Please submit your email and we will send you a link when your download is ready. Depending on size, your request could take up to 24 hours."),React.createElement("input",{type:"text",placeholder:"Enter email",required:!0,name:"email",id:"email_for_download"}),React.createElement("span",{id:"email_validation_error",style:{display:"none"}},"Please enter a valid email."),React.createElement("footer",null,React.createElement("a",{className:"button"+(this.state.sending_download_request?" disabled":""),onClick:e.submitDownloadRequest},"SUBMIT"),React.createElement("a",{className:"button gray_background",onClick:e.closeDownloadRequest},"CANCEL"),this.state.sending_download_request?React.createElement(Loader,{loaded:!1,options:this.download_spinner_opts,className:"spinner"}):"",React.createElement("a",{href:"http://www.jpl.nasa.gov/copyrights.php",target:"_blank"},"JPL Privacy Policy"))),React.createElement(Modal,{isOpen:this.state.is_max_selected_modal_open,onClose:e.cancelMaxSelectedModal,className:"modal download_modal",width:"350",style:t},React.createElement("p",null,this.state.selected_max," images max.",React.createElement("br",null),"Please download your selections and clear all to select more images."),React.createElement("footer",null,React.createElement("a",{className:"button",onClick:e.cancelMaxSelectedModal},"OK")))),this.renderGrid())))}}),RawImagesDashboard=React.createClass({displayName:"RawImagesDashboard",getInitialState:function(){return{new_count:null,total:null}},componentWillMount:function(){var i=this;$.getJSON("/api/v1/raw_image_items/"+this.props.mission+"/latest",function(e){var t=e.latest_data;i.setState({new_count:t.new_count,total:t.total})})},render:function(){return this.state.new_count&&this.state.total?React.createElement("div",{className:"value"},this.state.new_count," New ",React.createElement("span",{className:"sep"},"|")," ",this.state.total," Total"):null}}),SolsOnMars=React.createClass({displayName:"SolsOnMars",getInitialState:function(){return{sols:this.getSol()}},getSol:function(){var e=utcToMsd(new Date);return Math.floor(e-(360-this.props.deg_east)/360-this.props.sol_0)},componentWillMount:function(){var e=this;setInterval(function(){e.setState({sols:e.getSol()})},1e3)},render:function(){if(0<=this.state.sols){var e=1==this.state.sols?"SOL":"SOLS";return React.createElement("div",{className:"subtitle"},this.state.sols," ",e," ON MARS")}return null}}),ToggleUnits=React.createClass({displayName:"ToggleUnits",getInitialState:function(){return{units:"standard"}},getToggleText:function(){return"view "+("standard"==this.state.units?"km":"miles")},toggleUnits:function(){var e="standard"==this.state.units?"metric":"standard";this.setState({units:e},this.sendToggleEvent)},sendToggleEvent:function(){$("body").trigger("toggle_units",this.state.units)},render:function(){return React.createElement("span",{className:"toggle_units"},React.createElement("a",{onClick:this.toggleUnits},this.getToggleText()))}}),Video=React.createClass({displayName:"Video",loadJwPlayer:function(){jwplayer.key="aUHw/vpMvlcbkzWba1bSGOhfZ5nefVNAZYIC037cIbg=",jwplayer(""+this.props.video_div).setup({flashplayer:"/assets/mbcms/vendor/jwplayer/jwplayer.flash.swf",sources:this.props.files,width:"100%",autostart:this.props.autostart,image:this.props.poster,aspectratio:"16:9",modes:[{type:"html5"},{type:"flash"},{type:"download"}]});try{new Blob}catch(e){}var t=this;jwplayer(""+this.props.video_div).addButton("/assets/download.svg","Download Video",function(){var e=document.createElement("a");e.setAttribute("href",jwplayer(""+t.props.video_div).getPlaylistItem().file),e.setAttribute("download",t.props.files[0].file),e.style.display="none",document.body.appendChild(e),e.click(),document.body.removeChild(e)},"download")},checkAndPlayVideoInView:function(e){0<$("#"+e+":in-viewport").length&&"IDLE"==jwplayer(e).getState()?jwplayer(e).play(!0):0==$("#"+e+":in-viewport").length&&jwplayer(e).stop()},componentDidMount:function(){if("true"!=this.props.vrview&&(this.loadJwPlayer(),this.props.autostart&&"false"!=this.props.autostart)){var e,t=this;$(window).on("scroll",function(){clearTimeout(e),e=setTimeout(function(){t.checkAndPlayVideoInView(""+t.props.video_div)},50)})}},render:function(){var e,t;if(e=""!=this.props.caption?React.createElement("figcaption",{dangerouslySetInnerHTML:{__html:this.props.caption}}):"",this.props.vrview&&"true"==this.props.vrview&&0<this.props.files.length){var i="/vrview?video="+this.props.files[0].file+"&is_stereo="+this.props.vrview_stereo+"&image="+this.props.poster;t=React.createElement("iframe",{frameBorder:"0",allowFullScreen:!0,height:"600px",src:i,width:"100%"})}else t=React.createElement("div",{id:this.props.video_div,className:"video_player"});return React.createElement("figure",null,t,e)}});MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_PATH_="../images/m",MarkerClusterer.prototype.MARKER_CLUSTER_IMAGE_EXTENSION_="png",MarkerClusterer.prototype.extend=function(e,t){return function(e){for(var t in e.prototype)this.prototype[t]=e.prototype[t];return this}.apply(e,[t])},MarkerClusterer.prototype.onAdd=function(){this.setReady_(!0)},MarkerClusterer.prototype.draw=function(){},MarkerClusterer.prototype.setupStyles_=function(){if(!this.styles_.length)for(var e,t=0;e=this.sizes[t];t++)this.styles_.push({url:this.imagePath_+(t+1)+"."+this.imageExtension_,height:e,width:e})},MarkerClusterer.prototype.fitMapToMarkers=function(){for(var e,t=this.getMarkers(),i=new google.maps.LatLngBounds,n=0;e=t[n];n++)i.extend(e.getPosition());this.map_.fitBounds(i)},MarkerClusterer.prototype.setStyles=function(e){this.styles_=e},MarkerClusterer.prototype.getStyles=function(){return this.styles_},MarkerClusterer.prototype.isZoomOnClick=function(){return this.zoomOnClick_},MarkerClusterer.prototype.isAverageCenter=function(){return this.averageCenter_},MarkerClusterer.prototype.getMarkers=function(){return this.markers_},MarkerClusterer.prototype.getTotalMarkers=function(){return this.markers_.length},MarkerClusterer.prototype.setMaxZoom=function(e){this.maxZoom_=e},MarkerClusterer.prototype.getMaxZoom=function(){return this.maxZoom_},MarkerClusterer.prototype.calculator_=function(e,t){for(var i=0,n=e.length,s=n;0!==s;)s=parseInt(s/10,10),i++;return{text:n,index:i=Math.min(i,t)}},MarkerClusterer.prototype.setCalculator=function(e){this.calculator_=e},MarkerClusterer.prototype.getCalculator=function(){return this.calculator_},MarkerClusterer.prototype.addMarkers=function(e,t){if(e.length)for(var i=0;n=e[i];i++)this.pushMarkerTo_(n);else if(Object.keys(e).length)for(var n in e)this.pushMarkerTo_(e[n]);t||this.redraw()},MarkerClusterer.prototype.pushMarkerTo_=function(e){if(e.isAdded=!1,e.draggable){var t=this;google.maps.event.addListener(e,"dragend",function(){e.isAdded=!1,t.repaint()})}this.markers_.push(e)},MarkerClusterer.prototype.addMarker=function(e,t){this.pushMarkerTo_(e),t||this.redraw()},MarkerClusterer.prototype.removeMarker_=function(e){var t=-1;if(this.markers_.indexOf)t=this.markers_.indexOf(e);else for(var i,n=0;i=this.markers_[n];n++)if(i==e){t=n;break}return-1!=t&&(e.setMap(null),this.markers_.splice(t,1),!0)},MarkerClusterer.prototype.removeMarker=function(e,t){var i=this.removeMarker_(e);return!(t||!i)&&(this.resetViewport(),this.redraw(),!0)},MarkerClusterer.prototype.removeMarkers=function(e,t){for(var i,n=e===this.getMarkers()?e.slice():e,s=!1,o=0;i=n[o];o++){var r=this.removeMarker_(i);s=s||r}if(!t&&s)return this.resetViewport(),this.redraw(),!0},MarkerClusterer.prototype.setReady_=function(e){this.ready_||(this.ready_=e,this.createClusters_())},MarkerClusterer.prototype.getTotalClusters=function(){return this.clusters_.length},MarkerClusterer.prototype.getMap=function(){return this.map_},MarkerClusterer.prototype.setMap=function(e){this.map_=e},MarkerClusterer.prototype.getGridSize=function(){return this.gridSize_},MarkerClusterer.prototype.setGridSize=function(e){this.gridSize_=e},MarkerClusterer.prototype.getMinClusterSize=function(){return this.minClusterSize_},MarkerClusterer.prototype.setMinClusterSize=function(e){this.minClusterSize_=e},MarkerClusterer.prototype.getExtendedBounds=function(e){var t=this.getProjection(),i=new google.maps.LatLng(e.getNorthEast().lat(),e.getNorthEast().lng()),n=new google.maps.LatLng(e.getSouthWest().lat(),e.getSouthWest().lng()),s=t.fromLatLngToDivPixel(i);s.x+=this.gridSize_,s.y-=this.gridSize_;var o=t.fromLatLngToDivPixel(n);o.x-=this.gridSize_,o.y+=this.gridSize_;var r=t.fromDivPixelToLatLng(s),a=t.fromDivPixelToLatLng(o);return e.extend(r),e.extend(a),e},MarkerClusterer.prototype.isMarkerInBounds_=function(e,t){return t.contains(e.getPosition())},MarkerClusterer.prototype.clearMarkers=function(){this.resetViewport(!0),this.markers_=[]},MarkerClusterer.prototype.resetViewport=function(e){for(var t,i=0;t=this.clusters_[i];i++)t.remove();var n;for(i=0;n=this.markers_[i];i++)n.isAdded=!1,e&&n.setMap(null);this.clusters_=[]},MarkerClusterer.prototype.repaint=function(){var i=this.clusters_.slice();this.clusters_.length=0,this.resetViewport(),this.redraw(),window.setTimeout(function(){for(var e,t=0;e=i[t];t++)e.remove()},0)},MarkerClusterer.prototype.redraw=function(){this.createClusters_()},MarkerClusterer.prototype.distanceBetweenPoints_=function(e,t){if(!e||!t)return 0;var i=6371,n=(t.lat()-e.lat())*Math.PI/180,s=(t.lng()-e.lng())*Math.PI/180,o=Math.sin(n/2)*Math.sin(n/2)+Math.cos(e.lat()*Math.PI/180)*Math.cos(t.lat()*Math.PI/180)*Math.sin(s/2)*Math.sin(s/2);return i*(2*Math.atan2(Math.sqrt(o),Math.sqrt(1-o)))},MarkerClusterer.prototype.addToClosestCluster_=function(e){for(var t,i=4e4,n=null,s=(e.getPosition(),0);t=this.clusters_[s];s++){var o=t.getCenter();if(o){var r=this.distanceBetweenPoints_(o,e.getPosition());r<i&&(i=r,n=t)}}n&&n.isMarkerInClusterBounds(e)?n.addMarker(e):((t=new Cluster(this)).addMarker(e),this.clusters_.push(t))},MarkerClusterer.prototype.createClusters_=function(){if(this.ready_)for(var e,t=new google.maps.LatLngBounds(this.map_.getBounds().getSouthWest(),this.map_.getBounds().getNorthEast()),i=this.getExtendedBounds(t),n=0;e=this.markers_[n];n++)!e.isAdded&&this.isMarkerInBounds_(e,i)&&this.addToClosestCluster_(e)},Cluster.prototype.isMarkerAlreadyAdded=function(e){if(this.markers_.indexOf)return-1!=this.markers_.indexOf(e);for(var t,i=0;t=this.markers_[i];i++)if(t==e)return!0;return!1},Cluster.prototype.addMarker=function(e){if(this.isMarkerAlreadyAdded(e))return!1;if(this.center_){if(this.averageCenter_){var t=this.markers_.length+1,i=(this.center_.lat()*(t-1)+e.getPosition().lat())/t,n=(this.center_.lng()*(t-1)+e.getPosition().lng())/t;this.center_=new google.maps.LatLng(i,n),this.calculateBounds_()}}else this.center_=e.getPosition(),this.calculateBounds_();e.isAdded=!0,this.markers_.push(e);var s=this.markers_.length;if(s<this.minClusterSize_&&e.getMap()!=this.map_&&e.setMap(this.map_),s==this.minClusterSize_)for(var o=0;o<s;o++)this.markers_[o].setMap(null);return s>=this.minClusterSize_&&e.setMap(null),this.updateIcon(),!0},Cluster.prototype.getMarkerClusterer=function(){return this.markerClusterer_},Cluster.prototype.getBounds=function(){for(var e,t=new google.maps.LatLngBounds(this.center_,this.center_),i=this.getMarkers(),n=0;e=i[n];n++)t.extend(e.getPosition());return t},Cluster.prototype.remove=function(){this.clusterIcon_.remove(),this.markers_.length=0,delete this.markers_},Cluster.prototype.getSize=function(){return this.markers_.length},Cluster.prototype.getMarkers=function(){return this.markers_},Cluster.prototype.getCenter=function(){return this.center_},Cluster.prototype.calculateBounds_=function(){var e=new google.maps.LatLngBounds(this.center_,this.center_);this.bounds_=this.markerClusterer_.getExtendedBounds(e)},Cluster.prototype.isMarkerInClusterBounds=function(e){return this.bounds_.contains(e.getPosition())},Cluster.prototype.getMap=function(){return this.map_},Cluster.prototype.updateIcon=function(){var e=this.map_.getZoom(),t=this.markerClusterer_.getMaxZoom();if(t&&t<e)for(var i,n=0;i=this.markers_[n];n++)i.setMap(this.map_);else if(this.markers_.length<this.minClusterSize_)this.clusterIcon_.hide();else{var s=this.markerClusterer_.getStyles().length,o=this.markerClusterer_.getCalculator()(this.markers_,s);this.clusterIcon_.setCenter(this.center_),this.clusterIcon_.setSums(o),this.clusterIcon_.show()}},ClusterIcon.prototype.triggerClusterClick=function(){var e=this.cluster_.getMarkerClusterer();google.maps.event.trigger(e.map_,"clusterclick",this.cluster_),e.isZoomOnClick()&&this.map_.fitBounds(this.cluster_.getBounds())},ClusterIcon.prototype.onAdd=function(){if(this.div_=document.createElement("DIV"),this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.innerHTML=this.sums_.text}this.getPanes().overlayMouseTarget.appendChild(this.div_);var t=this;google.maps.event.addDomListener(this.div_,"click",function(){t.triggerClusterClick()})},ClusterIcon.prototype.getPosFromLatLng_=function(e){var t=this.getProjection().fromLatLngToDivPixel(e);return t.x-=parseInt(this.width_/2,10),t.y-=parseInt(this.height_/2,10),t},ClusterIcon.prototype.draw=function(){if(this.visible_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.top=e.y+"px",this.div_.style.left=e.x+"px",this.div_.style.zIndex=google.maps.Marker.MAX_ZINDEX+1}},ClusterIcon.prototype.hide=function(){this.div_&&(this.div_.style.display="none"),this.visible_=!1},ClusterIcon.prototype.show=function(){if(this.div_){var e=this.getPosFromLatLng_(this.center_);this.div_.style.cssText=this.createCss(e),this.div_.style.display=""}this.visible_=!0},ClusterIcon.prototype.remove=function(){this.setMap(null)},ClusterIcon.prototype.onRemove=function(){this.div_&&this.div_.parentNode&&(this.hide(),this.div_.parentNode.removeChild(this.div_),this.div_=null)},ClusterIcon.prototype.setSums=function(e){this.sums_=e,this.text_=e.text,this.index_=e.index,this.div_&&(this.div_.innerHTML=e.text),this.useStyle()},ClusterIcon.prototype.useStyle=function(){var e=Math.max(0,this.sums_.index-1);e=Math.min(this.styles_.length-1,e);var t=this.styles_[e];this.url_=t.url,this.height_=t.height,this.width_=t.width,this.textColor_=t.textColor,this.anchor_=t.anchor,this.textSize_=t.textSize,this.backgroundPosition_=t.backgroundPosition},ClusterIcon.prototype.setCenter=function(e){this.center_=e},ClusterIcon.prototype.createCss=function(e){var t=[];t.push("background-image:url("+this.url_+");");var i=this.backgroundPosition_?this.backgroundPosition_:"0 0";t.push("background-position:"+i+";"),"object"==typeof this.anchor_?("number"==typeof this.anchor_[0]&&0<this.anchor_[0]&&this.anchor_[0]<this.height_?t.push("height:"+(this.height_-this.anchor_[0])+"px; padding-top:"+this.anchor_[0]+"px;"):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px;"),"number"==typeof this.anchor_[1]&&0<this.anchor_[1]&&this.anchor_[1]<this.width_?t.push("width:"+(this.width_-this.anchor_[1])+"px; padding-left:"+this.anchor_[1]+"px;"):t.push("width:"+this.width_+"px; text-align:center;")):t.push("height:"+this.height_+"px; line-height:"+this.height_+"px; width:"+this.width_+"px; text-align:center;");var n=this.textColor_?this.textColor_:"black",s=this.textSize_?this.textSize_:11;return t.push("cursor:pointer; top:"+e.y+"px; left:"+e.x+"px; color:"+n+"; position:absolute; font-size:"+s+"px; font-family:Arial,sans-serif; font-weight:bold"),t.join("")},window.MarkerClusterer=MarkerClusterer,MarkerClusterer.prototype.addMarker=MarkerClusterer.prototype.addMarker,MarkerClusterer.prototype.addMarkers=MarkerClusterer.prototype.addMarkers,MarkerClusterer.prototype.clearMarkers=MarkerClusterer.prototype.clearMarkers,MarkerClusterer.prototype.fitMapToMarkers=MarkerClusterer.prototype.fitMapToMarkers,MarkerClusterer.prototype.getCalculator=MarkerClusterer.prototype.getCalculator,MarkerClusterer.prototype.getGridSize=MarkerClusterer.prototype.getGridSize,MarkerClusterer.prototype.getExtendedBounds=MarkerClusterer.prototype.getExtendedBounds,MarkerClusterer.prototype.getMap=MarkerClusterer.prototype.getMap,MarkerClusterer.prototype.getMarkers=MarkerClusterer.prototype.getMarkers,MarkerClusterer.prototype.getMaxZoom=MarkerClusterer.prototype.getMaxZoom,MarkerClusterer.prototype.getStyles=MarkerClusterer.prototype.getStyles,MarkerClusterer.prototype.getTotalClusters=MarkerClusterer.prototype.getTotalClusters,MarkerClusterer.prototype.getTotalMarkers=MarkerClusterer.prototype.getTotalMarkers,MarkerClusterer.prototype.redraw=MarkerClusterer.prototype.redraw,MarkerClusterer.prototype.removeMarker=MarkerClusterer.prototype.removeMarker,MarkerClusterer.prototype.removeMarkers=MarkerClusterer.prototype.removeMarkers,MarkerClusterer.prototype.resetViewport=MarkerClusterer.prototype.resetViewport,MarkerClusterer.prototype.repaint=MarkerClusterer.prototype.repaint,MarkerClusterer.prototype.setCalculator=MarkerClusterer.prototype.setCalculator,MarkerClusterer.prototype.setGridSize=MarkerClusterer.prototype.setGridSize,MarkerClusterer.prototype.setMaxZoom=MarkerClusterer.prototype.setMaxZoom,MarkerClusterer.prototype.onAdd=MarkerClusterer.prototype.onAdd,MarkerClusterer.prototype.draw=MarkerClusterer.prototype.draw,Cluster.prototype.getCenter=Cluster.prototype.getCenter,Cluster.prototype.getSize=Cluster.prototype.getSize,Cluster.prototype.getMarkers=Cluster.prototype.getMarkers,ClusterIcon.prototype.onAdd=ClusterIcon.prototype.onAdd,ClusterIcon.prototype.draw=ClusterIcon.prototype.draw,ClusterIcon.prototype.onRemove=ClusterIcon.prototype.onRemove,Object.keys=Object.keys||function(e){var t=[];for(var i in e)e.hasOwnProperty(i)&&t.push(i);return t};